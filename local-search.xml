<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Anacondaçš„ä½¿ç”¨</title>
    <link href="/2022/09/08/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/Anaconda%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <url>/2022/09/08/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/Anaconda%E7%9A%84%E4%BD%BF%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h3 id="Anacondaçš„ä½¿ç”¨"><a href="#Anacondaçš„ä½¿ç”¨" class="headerlink" title="Anacondaçš„ä½¿ç”¨"></a>Anacondaçš„ä½¿ç”¨</h3><ul><li><p>åˆ›å»ºç¯å¢ƒ</p><p>conda create -n envname python=3.8</p></li><li><p>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</p><ul><li>linuxï¼š source activate envname </li><li>windowsï¼šactivate envname </li></ul></li><li><p>æŸ¥çœ‹å·²æœ‰çš„è™šæ‹Ÿç¯å¢ƒ</p><p>conda env list</p></li><li><p>å®‰è£…ç¬¬ä¸‰æ–¹åº“</p><ul><li>pip install XXX</li><li>pip install XXX.whlï¼ˆå®˜ç½‘ä¸‹è½½whlæ–‡ä»¶ï¼‰</li></ul></li><li><p>é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</p><ul><li>Linuxï¼šsource deactivate envname </li><li>Windowsï¼šdeactivate envnameï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ activate root åˆ‡å› root ç¯å¢ƒ</li></ul></li><li><p>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</p><p>conda remove -n envname â€“all</p></li><li><p>æ‰§è¡ŒPythonç¨‹åº</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> test.<span class="hljs-keyword">py</span><br></code></pre></td></tr></table></figure></li><li><p>å®‰è£… requirement ä¾èµ–</p></li></ul><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">pip <span class="hljs-keyword">install</span> -r requirement.txt<br></code></pre></td></tr></table></figure><br><h3 id="Linuxä¸‹é…ç½®Anacondaç¯å¢ƒï¼š"><a href="#Linuxä¸‹é…ç½®Anacondaç¯å¢ƒï¼š" class="headerlink" title="Linuxä¸‹é…ç½®Anacondaç¯å¢ƒï¼š"></a>Linuxä¸‹é…ç½®Anacondaç¯å¢ƒï¼š</h3><ul><li>ä¸‹è½½anacondaåŒ…</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">wget</span> https://repo.continuum.io/archive/Anaconda<span class="hljs-number">3</span>-<span class="hljs-number">2021</span>.<span class="hljs-number">05</span>-Linux-x<span class="hljs-number">86</span>_<span class="hljs-number">64</span>.sh<br></code></pre></td></tr></table></figure><ul><li>å®‰è£…anaconda</li></ul><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">bash</span> Anaconda<span class="hljs-number">3</span>-<span class="hljs-number">2021</span>.<span class="hljs-number">05</span>-Linux-x<span class="hljs-number">86</span>_<span class="hljs-number">64</span>.sh<br></code></pre></td></tr></table></figure><p>(ä¸€ç›´å›è½¦ï¼Œéœ€è¦è¾“å…¥çš„è¾“â€œyesâ€å†å›è½¦ã€‚)</p><ul><li>æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">conda</span> <span class="hljs-literal">info</span><br></code></pre></td></tr></table></figure><ul><li><p><strong>è‹¥æ˜¾ç¤ºæ— æ³•æ‰¾åˆ°å‘½ä»¤ï¼š</strong></p><p>è¿™æ˜¯ç¯å¢ƒå˜é‡æ²¡æœ‰å¯¼å…¥æ›´æ–°ã€‚</p><ul><li>è¾“å…¥å‘½ä»¤æ‰“å¼€é…ç½®æ–‡ä»¶</li></ul><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">vim ~<span class="hljs-string">/.bashrc</span><br></code></pre></td></tr></table></figure><ul><li>åœ¨æœ€åæ·»åŠ è¯­å¥</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk">export PATH=<span class="hljs-regexp">/home/</span>XXX<span class="hljs-regexp">/anaconda3/</span>bin:<span class="hljs-variable">$PATH</span><br>XXXä¸ºä½ çš„ç”¨æˆ·åï¼Œå¯ä»¥æŸ¥çœ‹åˆ°çš„ã€‚<br><br>å†™å¥½åï¼Œå…ˆæŒ‰escï¼Œå†shift+<span class="hljs-string">&quot; : &quot;</span>ï¼Œè¾“å…¥wqï¼Œå›è½¦ï¼Œè¿™æ ·ä¿å­˜åé€€å‡º<br></code></pre></td></tr></table></figure><ul><li>æœ€åæ›´æ–°é…ç½®æ–‡ä»¶</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span> ~/.bashrc<br></code></pre></td></tr></table></figure><ul><li>è¾“å…¥å‘½ä»¤æŸ¥çœ‹condaè·¯å¾„æ˜¯å¦é…ç½®æˆåŠŸ</li></ul><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">conda</span> <span class="hljs-literal">info</span><br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>å¸¸ç”¨å·¥å…·</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Gitæ“ä½œ</title>
    <link href="/2022/09/08/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/Git%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/09/08/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/Git%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<h3 id="æœ¬åœ°é¡¹ç›®-æ¨é€åˆ°-è¿œç¨‹åˆ†æ”¯-ä»“åº“"><a href="#æœ¬åœ°é¡¹ç›®-æ¨é€åˆ°-è¿œç¨‹åˆ†æ”¯-ä»“åº“" class="headerlink" title="æœ¬åœ°é¡¹ç›® æ¨é€åˆ° è¿œç¨‹åˆ†æ”¯/ä»“åº“"></a>æœ¬åœ°é¡¹ç›® æ¨é€åˆ° è¿œç¨‹åˆ†æ”¯/ä»“åº“</h3><p>1ã€ä½¿ç”¨git å®¢æˆ·ç«¯è¿›å…¥é¡¹ç›®ç›®å½•</p><p>2ã€åˆå§‹åŒ–é¡¹ç›® </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git init <br></code></pre></td></tr></table></figure><p>3ã€æ·»åŠ åˆ°æš‚å­˜åŒº</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git add -A <br></code></pre></td></tr></table></figure><p>4ã€å°†æš‚å­˜åŒºå†…å®¹æ·»åŠ åˆ°æœ¬åœ°ä»“åº“ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git commit -m <span class="hljs-string">&quot;æ³¨é‡Š&quot;</span><br>git commit -m <span class="hljs-string">&quot;commit&quot;</span><br></code></pre></td></tr></table></figure><p>5ã€è¿œç¨‹ github å»ºç«‹å¥½é¡¹ç›® </p><p><img src="/.io//image-20220416153329029.png" alt="image-20220416153329029"></p><p>6ã€é…ç½®è¿œç¨‹ä»“åº“ origin æ˜¯è¿œç¨‹ä»“åº“çš„åˆ«å ä»£æ›¿xxx.gitçš„åœ°å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">git remote add origin https://github.com/wangkr0127/Text-Sentiment-Classification.git<br></code></pre></td></tr></table></figure><p>7ã€è¿›è¡Œ push æ¨é€ </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">git branch -M main<br>git push -u origin main<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å¸¸ç”¨å·¥å…·</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Linuxå¸¸ç”¨æŒ‡ä»¤</title>
    <link href="/2022/09/08/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"/>
    <url>/2022/09/08/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h3 id="Linuxå¸¸ç”¨æŒ‡ä»¤"><a href="#Linuxå¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="Linuxå¸¸ç”¨æŒ‡ä»¤"></a>Linuxå¸¸ç”¨æŒ‡ä»¤</h3><ul><li><p>Tab : è¡¥å…¨</p></li><li><p>cd : æ”¹å˜ç›®å½•</p></li><li><p>cd . . å›é€€åˆ°ä¸Šä¸€ä¸ªç›®å½•ï¼Œç›´æ¥cdè¿›å…¥é»˜è®¤ç›®å½•</p></li><li><p>pwd : æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•è·¯å¾„ã€‚</p></li><li><p>ls: åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p><ul><li>ls -l å¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„è¯¦ç»†å±æ€§</li><li>Windowså¯ä½¿ç”¨ dir æŒ‡ä»¤</li></ul></li><li><p>touch : æ–°å»ºä¸€ä¸ªæ–‡ä»¶ å¦‚ touch index.js å°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ã€‚</p></li><li><p>rm: åˆ é™¤ä¸€ä¸ªæ–‡ä»¶, rm index.js å°±ä¼šæŠŠindex.jsæ–‡ä»¶åˆ é™¤ã€‚</p><ul><li>rm -r : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹, rm -r src åˆ é™¤srcç›®å½•</li></ul></li><li><p>mkdir: æ–°å»ºä¸€ä¸ªç›®å½•,å°±æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚</p><ul><li>mkdir wangkr  â€”â€”  æ–°å»ºä¸€ä¸ªwangkræ–‡ä»¶å¤¹</li></ul></li><li><p>mv ç§»åŠ¨æ–‡ä»¶, <code>mv index.html src </code>   </p></li><li><p>reset é‡æ–°åˆå§‹åŒ–ç»ˆç«¯/æ¸…å±ã€‚</p></li><li><p>clear æ¸…å±ã€‚</p></li><li><p>history æŸ¥çœ‹å‘½ä»¤å†å²ã€‚</p></li><li><p>help å¸®åŠ©ã€‚</p></li><li><p>exit é€€å‡ºã€‚</p></li><li><p>æµ‹è¯•è¿æ¥æ˜¯å¦æˆåŠŸ <code>ping www.baidu.com</code></p></li><li><p>#è¡¨ç¤ºæ³¨é‡Š</p></li><li><p>wgetï¼šä¸‹è½½æ–‡ä»¶çš„å·¥å…·</p></li><li><p>Vim æ‰“å¼€æ–‡ä»¶ï¼š<code>vim /test/vi.txt</code></p></li><li><p>æ‰§è¡Œshellè„šæœ¬</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">chmod +x ./test.sh  #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™<br>./test.sh  #æ‰§è¡Œè„šæœ¬<br></code></pre></td></tr></table></figure></li></ul><ul><li><p>æ‰§è¡Œpythonè„šæœ¬</p><p><code>python test.py</code></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>å¸¸ç”¨å·¥å…·</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/Swagger/Swagger/"/>
    <url>/2022/09/08/Swagger/Swagger/</url>
    
    <content type="html"><![CDATA[<h1 id="Swagger"><a href="#Swagger" class="headerlink" title="Swagger"></a>Swagger</h1><p>å­¦ä¹ ç›®æ ‡ï¼š</p><ul><li>äº†è§£Swaggerçš„ä½œç”¨å’Œæ¦‚å¿µ</li><li>äº†è§£å‰åç«¯åˆ†ç¦»</li><li>åœ¨SpringBootä¸­é›†æˆSwagger</li></ul><h2 id="Swaggerç®€ä»‹"><a href="#Swaggerç®€ä»‹" class="headerlink" title="Swaggerç®€ä»‹"></a>Swaggerç®€ä»‹</h2><p>å‰åç«¯åˆ†ç¦»æ—¶ä»£ï¼š</p><ul><li>åç«¯ï¼šåç«¯æ§åˆ¶å±‚ï¼ŒæœåŠ¡å±‚ï¼Œæ•°æ®è®¿é—®å±‚ã€åç«¯å›¢é˜Ÿã€‘</li><li>å‰ç«¯ï¼šå‰ç«¯æ§åˆ¶å±‚ï¼Œè§†å›¾å±‚ã€å‰ç«¯å›¢é˜Ÿã€‘<ul><li>ä¼ªé€ åç«¯æ•°æ®ï¼Œjsonã€‚å·²ç»å­˜åœ¨äº†ï¼Œä¸éœ€è¦åç«¯ï¼Œå‰ç«¯å·¥ç¨‹ä¾æ—§èƒ½å¤Ÿè·‘èµ·æ¥ã€‚</li></ul></li><li>å‰åç«¯å¦‚ä½•äº¤äº’ï¼Ÿ ===&gt; API</li><li>å‰åç«¯ç›¸å¯¹ç‹¬ç«‹ï¼Œæ¾è€¦åˆï¼›</li><li>å‰åç«¯ç”šè‡³å¯ä»¥éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼›</li></ul><p>äº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼š</p><ul><li>å‰åç«¯é›†æˆè”è°ƒï¼Œå‰ç«¯äººå‘˜æ— æ³•å’Œåç«¯äººå‘˜æ— æ³•åšåˆ°ï¼Œâ€œåŠæ—¶åå•†ï¼Œå°½æ—©è§£å†³â€ï¼Œæœ€ç»ˆå¯¼è‡´é—®é¢˜é›†ä¸­çˆ†å‘ï¼›</li></ul><p>è§£å†³æ–¹æ¡ˆï¼š</p><ul><li>é¦–å…ˆæŒ‡å®šschema[è®¡åˆ’çš„æçº²]ï¼Œå®æ—¶æ›´æ–°æœ€æ–°APIï¼Œé™ä½é›†æˆçš„é£é™©ï¼›</li><li>æ—©äº›å¹´ï¼šåˆ¶å®šwordè®¡åˆ’æ–‡æ¡£ï¼›</li><li>å‰åç«¯åˆ†ç¦»ï¼š<ul><li>å‰ç«¯æµ‹è¯•åç«¯æ¥å£ï¼špostman</li><li>åç«¯æä¾›æ¥å£ï¼Œéœ€è¦å®æ—¶æ›´æ–°æœ€æ–°çš„æ¶ˆæ¯åŠæ”¹åŠ¨ï¼</li></ul></li></ul><h3 id="Swagger-1"><a href="#Swagger-1" class="headerlink" title="Swagger"></a>Swagger</h3><ul><li>å·ç§°ä¸–ç•Œä¸Šæœ€æµè¡Œçš„Apiæ¡†æ¶</li><li>RestFul Api æ–‡æ¡£åœ¨çº¿è‡ªåŠ¨ç”Ÿæˆå·¥å…· =&gt; Apiæ–‡æ¡£ä¸Apiå®šä¹‰åŒæ­¥æ›´æ–°</li><li>ç›´æ¥è¿è¡Œï¼Œå¯ä»¥åœ¨çº¿æµ‹è¯•APIæ¥å£ï¼›</li><li>æ”¯æŒå¤šç§è¯­è¨€ï¼šï¼ˆJavaã€Phpâ€¦ï¼‰</li></ul><p>å®˜ç½‘ï¼š<a href="https://swagger.io/">https://swagger.io/</a></p><p>åœ¨é¡¹ç›®ä¸­ä½¿ç”¨swaggeréœ€è¦springfoxï¼›</p><ul><li>swagger2</li><li>ui</li></ul><h2 id="SpringBooté›†æˆSwagger"><a href="#SpringBooté›†æˆSwagger" class="headerlink" title="SpringBooté›†æˆSwagger"></a>SpringBooté›†æˆSwagger</h2><ol><li>æ–°å»ºä¸€ä¸ªSpringBoot-webé¡¹ç›®</li><li>å¯¼å…¥ç›¸å…³ä¾èµ–</li></ol><img src="/.io//image-20220707221418366.png" alt="image-20220707221418366" style="zoom: 33%;"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.springfox<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springfox-swagger-ui<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="3"><li>ç¼–å†™ä¸€ä¸ªHelloå·¥ç¨‹</li></ol><p>æ–°å»º com.wang.swagger.controller ä¸‹çš„ HelloController.javaï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.swagger.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;<br>    <span class="hljs-meta">@RequestMapping(value = &quot;/hello&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>é…ç½®Swagger ==&gt; Config</li></ol><p>æ–°å»º com.wang.swagger.configä¸‹çš„ SwaggerConfig.javaï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.swagger.config;<br><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableSwagger2</span>     <span class="hljs-comment">//å¼€å¯Swagger2</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwaggerConfig</span> </span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="5"><li>æµ‹è¯•è¿è¡Œ <a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a></li></ol><p><img src="/.io//image-20220707223935089.png" alt="image-20220707223935089"></p><p><strong>é¡¹ç›®ç»“æ„ï¼š</strong></p><img src="/.io//image-20220707224037970.png" alt="image-20220707224037970" style="zoom:50%;"><h2 id="é…ç½®Swagger"><a href="#é…ç½®Swagger" class="headerlink" title="é…ç½®Swagger"></a>é…ç½®Swagger</h2><p>swaggerçš„beanå®ä¾‹Docketï¼ˆåœ¨ä¸Šé¢çš„ SwaggerConfig ç±»ä¸­æ·»åŠ ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.swagger.config;<br><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> springfox.documentation.service.ApiInfo;<br><span class="hljs-keyword">import</span> springfox.documentation.service.Contact;<br><span class="hljs-keyword">import</span> springfox.documentation.spi.DocumentationType;<br><span class="hljs-keyword">import</span> springfox.documentation.spring.web.plugins.Docket;<br><span class="hljs-keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableSwagger2</span>     <span class="hljs-comment">//å¼€å¯Swagger2</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwaggerConfig</span> </span>&#123;<br>    <span class="hljs-comment">//é…ç½®äº†swaggerçš„Docket çš„ bean å®ä¾‹</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Docket <span class="hljs-title">docket</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Docket(DocumentationType.SWAGGER_2)<br>                .apiInfo(apiInfo());<br>    &#125;<br>    <span class="hljs-comment">//é…ç½® swagger ä¿¡æ¯ = apiInfo</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> ApiInfo <span class="hljs-title">apiInfo</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ä½œè€…ä¿¡æ¯</span><br>        Contact contact = <span class="hljs-keyword">new</span> Contact(<span class="hljs-string">&quot;Luka&quot;</span>, <span class="hljs-string">&quot;https://321.com/&quot;</span>, <span class="hljs-string">&quot;654321@qq.com&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ApiInfo(<span class="hljs-string">&quot;Lukaçš„SwaggerAPIæ–‡æ¡£&quot;</span>,<br>                <span class="hljs-string">&quot;æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ&quot;</span>,<br>                <span class="hljs-string">&quot;v1.0&quot;</span>,<br>                <span class="hljs-string">&quot;https://321.com/&quot;</span>,<br>                contact,<br>                <span class="hljs-string">&quot;Apache 2.0&quot;</span>,<br>                <span class="hljs-string">&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;</span>,<br>                <span class="hljs-keyword">new</span> ArrayList()<br>        );<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/.io//image-20220708105354630.png" alt="image-20220708105354630"></p><h2 id="Swaggeré…ç½®æ‰«ææ¥å£"><a href="#Swaggeré…ç½®æ‰«ææ¥å£" class="headerlink" title="Swaggeré…ç½®æ‰«ææ¥å£"></a>Swaggeré…ç½®æ‰«ææ¥å£</h2><p>Docket.select()<br>æ¥ç€ä¸Šé¢çš„docket() </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.swagger.config;<br><br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br><span class="hljs-keyword">import</span> springfox.documentation.builders.PathSelectors;<br><span class="hljs-keyword">import</span> springfox.documentation.builders.RequestHandlerSelectors;<br><span class="hljs-keyword">import</span> springfox.documentation.service.ApiInfo;<br><span class="hljs-keyword">import</span> springfox.documentation.service.Contact;<br><span class="hljs-keyword">import</span> springfox.documentation.spi.DocumentationType;<br><span class="hljs-keyword">import</span> springfox.documentation.spring.web.plugins.Docket;<br><span class="hljs-keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@EnableSwagger2</span>     <span class="hljs-comment">//å¼€å¯Swagger2</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SwaggerConfig</span> </span>&#123;<br>    <span class="hljs-comment">//é…ç½®äº†swaggerçš„Docket çš„ bean å®ä¾‹</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Docket <span class="hljs-title">docket</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Docket(DocumentationType.SWAGGER_2)<br>                .apiInfo(apiInfo())<br>                .select()<br>                <span class="hljs-comment">// RequestHandlerSelectors, é…ç½®è¦æ‰«æçš„åŒ…</span><br>                <span class="hljs-comment">// basePackage(): æŒ‡å®šè¦æ‰«æçš„åŒ…</span><br>                <span class="hljs-comment">// any(): æ‰«æå…¨éƒ¨</span><br>                <span class="hljs-comment">// none(): éƒ½ä¸æ‰«æ</span><br>                <span class="hljs-comment">// withClassAnnotation : æ‰«æç±»ä¸Šçš„æ³¨è§£, å‚æ•°æ˜¯ä¸€ä¸ªæ³¨è§£çš„åå°„å¯¹è±¡</span><br>                <span class="hljs-comment">// ä¾‹å¦‚ï¼šwithClassAnnotation(RestController.class) åªæ‰«æç±»ä¸Šæœ‰@RestControllerçš„ç”Ÿæˆæ–‡æ¡£</span><br>                <span class="hljs-comment">// withMethodAnnotation: æ‰«ææ–¹æ³•ä¸Šçš„æ³¨è§£, å‚æ•°æ˜¯ä¸€ä¸ªæ³¨è§£çš„åå°„å¯¹è±¡</span><br>                .apis(RequestHandlerSelectors.basePackage(<span class="hljs-string">&quot;com.wang.swagger.controller&quot;</span>))<br>                <span class="hljs-comment">// paths(): è¿‡æ»¤ä»€ä¹ˆè·¯å¾„</span><br>                .paths(PathSelectors.ant(<span class="hljs-string">&quot;/hello/**&quot;</span>))<br>                .build();  <span class="hljs-comment">//build</span><br>    &#125;<br><br>    <span class="hljs-comment">//é…ç½® swagger ä¿¡æ¯ = apiInfo</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> ApiInfo <span class="hljs-title">apiInfo</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ä½œè€…ä¿¡æ¯</span><br>        Contact contact = <span class="hljs-keyword">new</span> Contact(<span class="hljs-string">&quot;Luka&quot;</span>, <span class="hljs-string">&quot;https://321.com/&quot;</span>, <span class="hljs-string">&quot;654321@qq.com&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ApiInfo(<span class="hljs-string">&quot;Lukaçš„SwaggerAPIæ–‡æ¡£&quot;</span>,<br>                <span class="hljs-string">&quot;æ¯ä¸€ä¸ªä¸æ›¾èµ·èˆçš„æ—¥å­ï¼Œéƒ½æ˜¯å¯¹ç”Ÿå‘½çš„è¾œè´Ÿ&quot;</span>,<br>                <span class="hljs-string">&quot;v1.0&quot;</span>,<br>                <span class="hljs-string">&quot;https://321.com/&quot;</span>,<br>                contact,<br>                <span class="hljs-string">&quot;Apache 2.0&quot;</span>,<br>                <span class="hljs-string">&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;</span>,<br>                <span class="hljs-keyword">new</span> ArrayList()<br>        );<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é…ç½®æ˜¯å¦å¯åŠ¨Swaggerï¼ˆ<strong>enable æ˜¯å¦å¯åŠ¨Swaggerï¼Œ å¦‚æœä¸ºfalseï¼Œ åˆ™Swagger ä¸èƒ½å†æµè§ˆå™¨ä¸­è®¿é—®</strong>ï¼‰</p><p>é—®é¢˜ï¼šæˆ‘åªå¸Œæœ›æˆ‘çš„Swaggeråœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œåœ¨å‘å¸ƒçš„æ—¶å€™ä¸ä½¿ç”¨ï¼Ÿ<br>è§£é¢˜æ€è·¯ï¼š</p><ul><li>åˆ¤æ–­æ˜¯ä¸æ˜¯ç”Ÿäº§ç¯å¢ƒ flag = false</li><li>æ³¨å…¥enable(flag)</li></ul><p>è§£é¢˜æ­¥éª¤ï¼š<br>1.å…ˆåœ¨resourcesç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªpropertiesæ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾</p><img src="/.io//image-20220708112847925.png" alt="image-20220708112847925" style="zoom:50%;"><p>æ¥ä¸‹æ¥åœ¨application.propertiesæ–‡ä»¶ä¸­æ¿€æ´»ç¯å¢ƒ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">spring.profiles.active=dev<br></code></pre></td></tr></table></figure><p>åœ¨application-dev.propertiesä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">server.port=8081<br></code></pre></td></tr></table></figure><p>åœ¨application-pro.propertiesä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">server.port=<span class="hljs-number">8082</span><br></code></pre></td></tr></table></figure><p>2.æ¥ç€ä¸Šé¢çš„docket()ï¼Œåœ¨æ–¹æ³•ä¸­åŠ å…¥å½¢å‚Environmentè·å–application.propertiesä¸­çš„è®¾ç½®çš„ç¯å¢ƒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-meta">@Bean</span><br> <span class="hljs-function"><span class="hljs-keyword">public</span> Docket <span class="hljs-title">docket</span><span class="hljs-params">(Environment environment)</span></span>&#123;<br>     <span class="hljs-comment">// è®¾ç½®è¦æ˜¾ç¤ºçš„Swaggerç¯å¢ƒ</span><br>     Profiles profiles = Profiles.of(<span class="hljs-string">&quot;dev&quot;</span>, <span class="hljs-string">&quot;test&quot;</span>);<br>     <span class="hljs-comment">// é€šè¿‡ environment.acceptsProfiles(profiles) åˆ¤æ–­æ˜¯å¦å¤„åœ¨è‡ªå·±è®¾å®šçš„ç¯å¢ƒå½“ä¸­</span><br>     <span class="hljs-keyword">boolean</span> flag = environment.acceptsProfiles(profiles);<br><br><br>     <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Docket(DocumentationType.SWAGGER_2)<br>             .apiInfo(apiInfo())<br>             <span class="hljs-comment">//æ­¤å¤„åˆ¤æ–­æ˜¯ç”Ÿäº§ç¯å¢ƒ flag å°±æ˜¯ä¸ºtrue å°±å¯ä»¥è®¿é—®Swagger</span><br>             .enable(flag)<br>             <br>             .select()<br>             .apis(RequestHandlerSelectors.basePackage(<span class="hljs-string">&quot;com.kuang.swagger.controller&quot;</span>))<br><span class="hljs-comment">//                .paths(PathSelectors.ant(&quot;/kuang/**&quot;))</span><br>             .build();  <span class="hljs-comment">//build</span><br> &#125;<br></code></pre></td></tr></table></figure><p>3.åœ¨æµè§ˆå™¨ä¸Šè¯·æ±‚ <a href="http://localhost:8081/swagger-ui.html#/">http://localhost:8081/swagger-ui.html#/</a> å°±å¯ä»¥è®¿é—®Swaggerï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹spring.profiles.activeä¸ºpro</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">spring.profiles.active=pro<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨æµè§ˆå™¨ä¸Šè¯·æ±‚ <a href="http://localhost:8082/swagger-ui.html#/">http://localhost:8082/swagger-ui.html#/</a> ä¼šå‡ºç°ğŸ˜± Could not rendere, see the console.</p><h2 id="é…ç½®APIæ–‡æ¡£çš„åˆ†ç»„"><a href="#é…ç½®APIæ–‡æ¡£çš„åˆ†ç»„" class="headerlink" title="é…ç½®APIæ–‡æ¡£çš„åˆ†ç»„"></a>é…ç½®APIæ–‡æ¡£çš„åˆ†ç»„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">.groupName(<span class="hljs-string">&quot;Luka&quot;</span>)<br></code></pre></td></tr></table></figure><p>é…ç½®<strong>å¤šä¸ªåˆ†ç»„</strong>ï¼Œ<strong>å¤šä¸ªDocketå®ä¾‹</strong>å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Bean</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> Docket <span class="hljs-title">docket1</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="hljs-string">&quot;A&quot;</span>);<br>&#125;<br><span class="hljs-meta">@Bean</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> Docket <span class="hljs-title">docket2</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="hljs-string">&quot;B&quot;</span>);<br>&#125;<br><span class="hljs-meta">@Bean</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> Docket <span class="hljs-title">docket3</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Docket(DocumentationType.SWAGGER_2).groupName(<span class="hljs-string">&quot;C&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>Swaggerä¸­å°±ä¼šå‡ºç°å¤šä¸ªåˆ†ç»„ï¼š</p><img src="/.io//image-20220709121446678.png" alt="image-20220709121446678" style="zoom: 50%;"><p><strong>æ·»åŠ å®ä½“ç±»ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.swagger.pojo;<br><br><span class="hljs-keyword">import</span> io.swagger.annotations.ApiModel;<br><span class="hljs-keyword">import</span> io.swagger.annotations.ApiModelProperty;<br><br><span class="hljs-meta">@ApiModel(&quot;ç”¨æˆ·å®ä½“ç±»&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br><br>    <span class="hljs-meta">@ApiModelProperty(&quot;ç”¨æˆ·å&quot;)</span><br>    <span class="hljs-keyword">public</span> String username;<br>    <span class="hljs-meta">@ApiModelProperty(&quot;å¯†ç &quot;)</span><br>    <span class="hljs-keyword">public</span> String password;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>controllerï¼š</strong></p><p>ï¼ˆ@ApiOperationæ·»åŠ æ³¨é‡Šï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.swagger.controller;<br><br><span class="hljs-keyword">import</span> com.wang.swagger.pojo.User;<br><span class="hljs-keyword">import</span> io.swagger.annotations.ApiOperation;<br><span class="hljs-keyword">import</span> io.swagger.annotations.ApiParam;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.PostMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;<br><br>    <span class="hljs-meta">@GetMapping(value = &quot;/hello&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// åªè¦æˆ‘ä»¬çš„æ¥å£ä¸­ï¼Œè¿”å›å€¼ä¸­å­˜åœ¨å®ä½“ç±», ä»–å°±ä¼šæ‰«æåˆ°Swaggerä¸­</span><br>    <span class="hljs-meta">@PostMapping(value = &quot;/user&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">user</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> User();<br>    &#125;<br><br>    <span class="hljs-meta">@ApiOperation(&quot;helloæ§åˆ¶ç±»&quot;)</span><br>    <span class="hljs-meta">@GetMapping(value = &quot;/hello2&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello2</span><span class="hljs-params">(<span class="hljs-meta">@ApiParam(&quot;ç”¨æˆ·å&quot;)</span> String username)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello &quot;</span> + username;<br>    &#125;<br>    <span class="hljs-meta">@ApiOperation(&quot;Postæµ‹è¯•ç±»&quot;)</span><br>    <span class="hljs-meta">@GetMapping(value = &quot;/post2&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">post2</span><span class="hljs-params">(<span class="hljs-meta">@ApiParam(&quot;ç”¨æˆ·å&quot;)</span> User user)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> user;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•è¿è¡Œï¼š <a href="http://localhost:8080/swagger-ui.html">http://localhost:8080/swagger-ui.html</a></p><p>æ•ˆæœï¼šï¼ˆè®°å¾— <strong>åˆ†ç»„</strong> æˆ–è€… <strong>å–æ¶ˆè·¯å¾„è¿‡æ»¤</strong> ç­‰ï¼‰</p><p><img src="/.io//image-20220709123624224.png" alt="image-20220709123624224"></p><p><strong>æ€»ç»“ï¼š</strong></p><ol><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡Swaggerç»™ä¸€äº›æ¯”è¾ƒæ¯”è¾ƒéš¾ç†è§£çš„å±æ€§åæ¥å£ï¼Œå¢åŠ æ³¨é‡Šä¿¡æ¯</li><li>æ¥å£æ–‡æ¡£å®æ—¶æ›´æ–°</li><li>å¯ä»¥åœ¨çº¿æµ‹è¯•</li></ol><p>Swaggeræ˜¯ä¸€ä¸ªä¼˜ç§€çš„å·¥å…·ï¼Œå‡ ä¹æ‰€æœ‰å¤§å…¬å¸éƒ½æœ‰ä½¿ç”¨å®ƒ</p><p>[æ³¨æ„ç‚¹] åœ¨æ­£å¼å‘å¸ƒçš„æ—¶å€™ï¼Œå…³é—­Swagger! ! !å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œè€Œä¸”èŠ‚çœè¿è¡Œçš„å†…å­˜ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/Mybatis-Plus/Mybatis-Plus/"/>
    <url>/2022/09/08/Mybatis-Plus/Mybatis-Plus/</url>
    
    <content type="html"><![CDATA[<h1 id="1ã€äº†è§£-Mybatis-Plus"><a href="#1ã€äº†è§£-Mybatis-Plus" class="headerlink" title="1ã€äº†è§£ Mybatis-Plus"></a>1ã€äº†è§£ Mybatis-Plus</h1><h2 id="1-1ã€Mybatis-Plusä»‹ç»"><a href="#1-1ã€Mybatis-Plusä»‹ç»" class="headerlink" title="1.1ã€Mybatis-Plusä»‹ç»"></a>1.1ã€Mybatis-Plusä»‹ç»</h2><p>MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatis çš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸ºç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p><p>å®˜ç½‘ï¼š <a href="https://baomidou.com/">https://baomidou.com</a></p><h2 id="1-2ã€ä»£ç ä»¥åŠæ–‡æ¡£"><a href="#1-2ã€ä»£ç ä»¥åŠæ–‡æ¡£" class="headerlink" title="1.2ã€ä»£ç ä»¥åŠæ–‡æ¡£"></a>1.2ã€ä»£ç ä»¥åŠæ–‡æ¡£</h2><p>æ–‡æ¡£åœ°å€ï¼š<a href="https://baomidou.com/">https://baomidou.com</a><br>æºç åœ°å€ï¼š<a href="https://github.com/baomidou/mybatis-plus">https://github.com/baomidou/mybatis-plus</a></p><h2 id="1-3ã€ç‰¹æ€§"><a href="#1-3ã€ç‰¹æ€§" class="headerlink" title="1.3ã€ç‰¹æ€§"></a>1.3ã€ç‰¹æ€§</h2><ul><li><strong>æ— ä¾µå…¥</strong>ï¼šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li><li><strong>æŸè€—å°</strong>ï¼šå¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œ</li><li><strong>å¼ºå¤§çš„ CRUD æ“ä½œ</strong>ï¼šå†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œ<br>æ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚</li><li><strong>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</strong>ï¼šé€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</li><li><strong>æ”¯æŒå¤šç§æ•°æ®åº“</strong>ï¼šæ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€<br>SQLServer2005ã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li><li><strong>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šæ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£<br>å†³ä¸»é”®é—®é¢˜</li><li><strong>æ”¯æŒ XML çƒ­åŠ è½½</strong>ï¼šMapper å¯¹åº”çš„ XML æ”¯æŒçƒ­åŠ è½½ï¼Œå¯¹äºç®€å•çš„ CRUD æ“ä½œï¼Œç”šè‡³å¯ä»¥æ—  XML å¯åŠ¨</li><li><strong>æ”¯æŒ ActiveRecord æ¨¡å¼</strong>ï¼šæ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</li><li><strong>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</strong>ï¼šæ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</li><li><strong>æ”¯æŒå…³é”®è¯è‡ªåŠ¨è½¬ä¹‰</strong>ï¼šæ”¯æŒæ•°æ®åº“å…³é”®è¯ï¼ˆorderã€keyâ€¦â€¦ï¼‰è‡ªåŠ¨è½¬ä¹‰ï¼Œè¿˜å¯è‡ªå®šä¹‰å…³é”®è¯</li><li><strong>å†…ç½®ä»£ç ç”Ÿæˆå™¨</strong>ï¼šé‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨</li><li><strong>å†…ç½®åˆ†é¡µæ’ä»¶</strong>ï¼šåŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List<br>æŸ¥è¯¢</li><li><strong>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</strong>ï¼šå¯è¾“å‡º Sql è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</li><li><strong>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</strong>ï¼šæä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</li><li><strong>å†…ç½® Sql æ³¨å…¥å‰¥ç¦»å™¨</strong>ï¼šæ”¯æŒ Sql æ³¨å…¥å‰¥ç¦»ï¼Œæœ‰æ•ˆé¢„é˜² Sql æ³¨å…¥æ”»å‡»</li></ul><h2 id="1-4ã€æ¶æ„"><a href="#1-4ã€æ¶æ„" class="headerlink" title="1.4ã€æ¶æ„"></a>1.4ã€æ¶æ„</h2><img src="/.io//image-20220509164305090.png" alt="image-20220509164305090" style="zoom: 50%;"><h2 id="1-5ã€ä½œè€…"><a href="#1-5ã€ä½œè€…" class="headerlink" title="1.5ã€ä½œè€…"></a>1.5ã€ä½œè€…</h2><p>Mybatis-Plusæ˜¯ç”±baomidouï¼ˆè‹ç±³è±†ï¼‰ç»„ç»‡å¼€å‘å¹¶ä¸”å¼€æºçš„ï¼Œç›®å‰è¯¥ç»„ç»‡å¤§æ¦‚æœ‰30äººå·¦å³ã€‚<br>ç äº‘åœ°å€ï¼š<a href="https://gitee.com/organizations/baomidou">https://gitee.com/organizations/baomidou</a></p><br><br><h1 id="2ã€å¿«é€Ÿå¼€å§‹"><a href="#2ã€å¿«é€Ÿå¼€å§‹" class="headerlink" title="2ã€å¿«é€Ÿå¼€å§‹"></a>2ã€å¿«é€Ÿå¼€å§‹</h1><p>å¯¹äºMybatisæ•´åˆMPæœ‰å¸¸å¸¸æœ‰ä¸‰ç§ç”¨æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š</p><p>Mybatis+MPã€Spring+Mybatis+MPã€SpringBoot+Mybatis+MPã€‚</p><h2 id="2-1ã€åˆ›å»ºæ•°æ®åº“ä»¥åŠè¡¨"><a href="#2-1ã€åˆ›å»ºæ•°æ®åº“ä»¥åŠè¡¨" class="headerlink" title="2.1ã€åˆ›å»ºæ•°æ®åº“ä»¥åŠè¡¨"></a>2.1ã€åˆ›å»ºæ•°æ®åº“ä»¥åŠè¡¨</h2><p>åˆ›å»ºæ•°æ®åº“ mpï¼Œåˆ›å»ºæ•°æ®è¡¨å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs mysql">CREATE TABLE `tb_user`  (<br>  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#x27;ä¸»é”®ID&#x27;,<br>  `user_name` varchar(20) NOT NULL COMMENT &#x27;ç”¨æˆ·å&#x27;,<br>  `password` varchar(20) NOT NULL COMMENT &#x27;å¯†ç &#x27;,<br>  `name` varchar(30) DEFAULT NULL COMMENT &#x27;å§“å&#x27;,<br>  `age` int(11) DEFAULT NULL COMMENT &#x27;å¹´é¾„&#x27;,<br>  `email` varchar(50) DEFAULT NULL COMMENT &#x27;é‚®ç®±&#x27;,<br>  PRIMARY KEY (`id`)<br>) ENGINE = InnoDB AUTO_INCREMENT = 1 CHARACTER SET = utf8;<br><br>INSERT INTO `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) VALUES (1, &#x27;zhangsan&#x27;, &#x27;123456&#x27;, &#x27;å¼ ä¸‰&#x27;, 20, &#x27;111111 @qq.com&#x27;);<br>INSERT INTO `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) VALUES (2, &#x27;lisi&#x27;, &#x27;135246&#x27;, &#x27;æå››&#x27;, 21, &#x27;222222 @qq.com&#x27;);<br>INSERT INTO `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) VALUES (3, &#x27;wangwu&#x27;, &#x27;234451&#x27;, &#x27;ç‹äº”&#x27;, 22, &#x27;333333 @qq.com&#x27;);<br>INSERT INTO `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) VALUES (4, &#x27;zhaoliu&#x27;, &#x27;3413412&#x27;, &#x27;èµµå…­&#x27;, 23, &#x27;444444 @qq.com&#x27;);<br>INSERT INTO `tb_user` (`id`, `user_name`, `password`, `name`, `age`, `email`) VALUES (&#x27;5&#x27;, &#x27;sunqi&#x27;, &#x27;123456&#x27;, &#x27;å­™ä¸ƒ&#x27;, &#x27;24&#x27;, &#x27;test5@itcast.cn&#x27;);<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><p>æ‰§è¡Œ SQL è¯­å¥æ—¶ï¼Œä¸è¦ä¸€ä¸‹å…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¸€æ¡ä¸€æ¡æ‰§è¡Œ</p><p>ï¼ˆå®¹æ˜“æŠ¥é”™â€”â€”å…ˆæ‰§è¡Œäº†åé¢çš„æŒ‡ä»¤å‘ç°è¿˜æ²¡æœ‰å»ºè¡¨ï¼‰</p><h2 id="2-2ã€åˆ›å»ºå·¥ç¨‹"><a href="#2-2ã€åˆ›å»ºå·¥ç¨‹" class="headerlink" title="2.2ã€åˆ›å»ºå·¥ç¨‹"></a>2.2ã€åˆ›å»ºå·¥ç¨‹</h2><p>é¡¹ç›®åç§°ï¼šMybatis-Plus</p><p>å¯¼å…¥ä¾èµ– pom.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- mybatis-plusæ’ä»¶ä¾èµ– --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- MySql --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- è¿æ¥æ±  --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.11<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--ç®€åŒ–beanä»£ç çš„å·¥å…·åŒ…--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-log4j12<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.6.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="2-3ã€Mybatis-MP"><a href="#2-3ã€Mybatis-MP" class="headerlink" title="2.3ã€Mybatis + MP"></a>2.3ã€Mybatis + MP</h2><p>é€šè¿‡çº¯Mybatisä¸Mybatis-Plusæ•´åˆã€‚</p><h3 id="2-3-1ã€åˆ›å»ºå­Module"><a href="#2-3-1ã€åˆ›å»ºå­Module" class="headerlink" title="2.3.1ã€åˆ›å»ºå­Module"></a>2.3.1ã€åˆ›å»ºå­Module</h3><p>åˆ é™¤çˆ¶Moduleçš„srcæ–‡ä»¶å¤¹ï¼Œåˆ›å»ºå­Moduleï¼šmybatis-plus-simple ï¼ˆä½œç”¨ï¼šä¸ç”¨é‡å¤å¯¼åŒ…ï¼‰</p><p>æ·»åŠ log4jé…ç½®â€”â€”<strong>å¼€å¯æ—¥å¿—</strong></p><p>log4j.propertiesï¼šï¼ˆå­Moduleä¸‹çš„resourceså†…ï¼‰</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">log4j.rootLogger</span>=DEBUG,A1<br> <br><span class="hljs-attr">log4j.appender.A1</span>=org.apache.log4j.ConsoleAppender<br><span class="hljs-attr">log4j.appender.A1.layout</span>=org.apache.log4j.PatternLayout<br><span class="hljs-attr">log4j.appender.A1.layout.ConversionPattern</span>=[%t] [%c]-[%p] %m%n<br></code></pre></td></tr></table></figure><h3 id="2-3-2-Mybatiså®ç°æŸ¥è¯¢User"><a href="#2-3-2-Mybatiså®ç°æŸ¥è¯¢User" class="headerlink" title="2.3.2 Mybatiså®ç°æŸ¥è¯¢User"></a>2.3.2 Mybatiså®ç°æŸ¥è¯¢User</h3><p>ç¬¬ä¸€æ­¥ï¼Œç¼–å†™ mybatis-config.xml æ–‡ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span></span><br><span class="hljs-tag">                          <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/mp?useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8<span class="hljs-symbol">&amp;amp;</span>autoReconnect=true<span class="hljs-symbol">&amp;amp;</span>allowMultiQueries=true<span class="hljs-symbol">&amp;amp;</span>useSSL=false&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/wang/mapper/UserMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼Œç¼–å†™Userå®ä½“å¯¹è±¡ï¼šï¼ˆè¿™é‡Œä½¿ç”¨lombokè¿›è¡Œäº†è¿›åŒ–beanæ“ä½œï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@TableName(&quot;tb_user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br> <br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String userName;<br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-keyword">private</span> String email;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸‰æ­¥ï¼Œç¼–å†™UserMapperæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.mapper;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;<br><br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬å››æ­¥ï¼Œç¼–å†™UserMapper.xmlæ–‡ä»¶ï¼š</p><p>ï¼ˆMapperé…ç½®æ–‡ä»¶å®ç°æ¥å£ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span> <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> &gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wang.mapper.UserMapper&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;findAll&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        select * from mp.tb_user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç¬¬äº”æ­¥ï¼Œç¼–å†™TestMybatisæµ‹è¯•ç”¨ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.test;<br><br><span class="hljs-keyword">import</span> com.wang.mapper.UserMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestMybatis</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFindAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;<br><br>        String config = <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>        InputStream inputStream = Resources.getResourceAsStream(config);<br>        SqlSessionFactory sqlSessionFactory = <span class="hljs-keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);<br><br>        SqlSession sqlSession = sqlSessionFactory.openSession();<br>        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);<br><br>        <span class="hljs-comment">//æµ‹è¯•æŸ¥è¯¢</span><br>        List&lt;User&gt; users = userMapper.findAll();<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ‰æ—¶éœ€è¦æ·»åŠ èµ„æºè¿‡æ»¤é…ç½®ï¼ˆresourceä¸‹çš„é…ç½®æ–‡ä»¶åŠ è½½ä¸åˆ°targetæ–‡ä»¶å¤¹ï¼‰ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•æˆåŠŸï¼</p><h3 id="2-3-3-Mybatis-MPå®ç°æŸ¥è¯¢User"><a href="#2-3-3-Mybatis-MPå®ç°æŸ¥è¯¢User" class="headerlink" title="2.3.3 Mybatis+MPå®ç°æŸ¥è¯¢User"></a>2.3.3 Mybatis+MPå®ç°æŸ¥è¯¢User</h3><p>ç¬¬ä¸€æ­¥ï¼Œå°† UserMapper ç»§æ‰¿ BaseMapper ï¼Œä½¿å…¶æ‹¥æœ‰ BaseMapper ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.mapper;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;<br><br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨ MP ä¸­çš„ MybatisSqlSessionFactoryBuilder è¿›ç¨‹æ„å»ºï¼š</p><p><strong>ä¸ç”¨å†™é…ç½®æ–‡ä»¶å®ç°SQLè¯­å¥æŸ¥è¯¢ï¼Œç”¨å·²æœ‰ç»§æ‰¿çš„æ–¹æ³•å®ç°æŸ¥è¯¢åŠŸèƒ½</strong></p><ul><li>éœ€è¦åœ¨å®ä½“ç±»ä¸­æŒ‡å®šè¡¨åï¼ˆæ•°æ®åº“ä¸­çš„table_nameï¼‰</li></ul><img src="/.io//image-20220510001153426.png" alt="image-20220510001153426" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.test;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.MybatisSqlSessionFactoryBuilder;<br><span class="hljs-keyword">import</span> com.wang.mapper.UserMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestMybatisPlus</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFindAll</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;<br><br>        String config = <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>        InputStream inputStream = Resources.getResourceAsStream(config);<br><br>        <span class="hljs-comment">// è¿™é‡Œä½¿ç”¨çš„æ˜¯MPä¸­çš„MybatisSqlSessionFactoryBuilder</span><br>        SqlSessionFactory sqlSessionFactory = <span class="hljs-keyword">new</span> MybatisSqlSessionFactoryBuilder().build(inputStream);<br><br>        SqlSession sqlSession = sqlSessionFactory.openSession();<br>        UserMapper userMapper = sqlSession.getMapper(UserMapper.class);<br><br>        <span class="hljs-comment">// å¯ä»¥è°ƒç”¨BaseMapperä¸­å®šä¹‰çš„æ–¹æ³•</span><br>        List&lt;User&gt; users = userMapper.selectList(<span class="hljs-keyword">null</span>);<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ul><li>selectList æ˜¯ BaseMapper ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œå‚æ•° null è¡¨ç¤ºæ— æ¡ä»¶æŸ¥è¯¢æ‰€æœ‰æ•°æ®</li><li>ä½¿ç”¨ MP ä¸­çš„ MybatisSqlSessionFactoryBuilder</li><li>ç”±äºä½¿ç”¨äº†MybatisSqlSessionFactoryBuilderè¿›è¡Œäº†æ„å»ºï¼Œç»§æ‰¿çš„BaseMapperä¸­çš„æ–¹æ³•å°±è½½å…¥åˆ°äº†<br>SqlSessionä¸­ï¼Œæ‰€ä»¥å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ç›¸å…³çš„æ–¹æ³•ï¼›</li></ul><p>â€‹        <img src="/.io//image-20220510002650758.png" alt="image-20220510002650758" style="zoom:40%;"></p><h3 id="2-3-4-é¡¹ç›®ç»“æ„ï¼š"><a href="#2-3-4-é¡¹ç›®ç»“æ„ï¼š" class="headerlink" title="2.3.4  é¡¹ç›®ç»“æ„ï¼š"></a>2.3.4  é¡¹ç›®ç»“æ„ï¼š</h3><img src="/.io//image-20220510004327679.png" alt="image-20220510004327679" style="zoom:50%;"><h2 id="2-4ã€Spring-Mybatis-MP"><a href="#2-4ã€Spring-Mybatis-MP" class="headerlink" title="2.4ã€Spring + Mybatis + MP"></a>2.4ã€Spring + Mybatis + MP</h2><p><strong>å¼•å…¥äº† Spring æ¡†æ¶ï¼Œæ•°æ®æºã€æ„å»ºç­‰å·¥ä½œå°±äº¤ç»™äº† Spring ç®¡ç†ã€‚</strong></p><h3 id="2-4-1ã€åˆ›å»ºå­Module"><a href="#2-4-1ã€åˆ›å»ºå­Module" class="headerlink" title="2.4.1ã€åˆ›å»ºå­Module"></a>2.4.1ã€åˆ›å»ºå­Module</h3><p>åˆ›å»ºå­Moduleï¼šmybatis-plus-springï¼ˆä½œç”¨ï¼šä¸ç”¨é‡å¤å¯¼åŒ…ï¼‰</p><ul><li>åœ¨çˆ¶Moduleçš„ pom.xml æ·»åŠ  Spring ä¾èµ–</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.6.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-4-2ã€å®ç°æŸ¥è¯¢User"><a href="#2-4-2ã€å®ç°æŸ¥è¯¢User" class="headerlink" title="2.4.2ã€å®ç°æŸ¥è¯¢User"></a>2.4.2ã€å®ç°æŸ¥è¯¢User</h3><p>ç¬¬ä¸€æ­¥ï¼Œç¼–å†™ jdbc.propertiesï¼ˆå­Moduleä¸‹çš„resourceså†…ï¼‰</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">jdbc.driver</span>=com.mysql.cj.jdbc.Driver<br><span class="hljs-attr">jdbc.url</span>=jdbc:mysql://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">3306</span>/mp?useUnicode=<span class="hljs-literal">true</span>&amp;amp<span class="hljs-comment">;characterEncoding=utf8&amp;amp;autoReconnect=true&amp;amp;allowMultiQueries=true&amp;amp;useSSL=false</span><br><span class="hljs-attr">jdbc.username</span>=root<br><span class="hljs-attr">jdbc.password</span>=<span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>ç¬¬äºŒæ­¥ï¼Œç¼–å†™ applicationContext.xml ï¼ˆSpringæ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼‰ï¼ˆå­Moduleä¸‹çš„resourceså†…ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- å®šä¹‰æ•°æ®æº --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">&quot;close&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://127.0.0.1:3306/mp?useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8<span class="hljs-symbol">&amp;amp;</span>autoReconnect=true<span class="hljs-symbol">&amp;amp;</span>allowMultiQueries=true<span class="hljs-symbol">&amp;amp;</span>useSSL=false&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxActive&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;minIdle&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;5&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--è¿™é‡Œä½¿ç”¨MPæä¾›çš„sqlSessionFactoryï¼Œå®Œæˆäº†Springä¸MPçš„æ•´åˆ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;globalConfig&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.baomidou.mybatisplus.core.config.GlobalConfig&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dbConfig&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.baomidou.mybatisplus.core.config.GlobalConfig$DbConfig&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;idType&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;AUTO&quot;</span>/&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ‰«æmapperæ¥å£ï¼Œä½¿ç”¨çš„ä¾ç„¶æ˜¯MybatisåŸç”Ÿçš„æ‰«æå™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.wang.mapper&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è®°å¾—æ·»åŠ å®¹å™¨ï¼š</p><p><img src="/.io//image-20220510005922879.png" alt="image-20220510005922879"></p><p>ç¬¬ä¸‰æ­¥ï¼Œç¼–å†™ User å¯¹è±¡ä»¥åŠ UserMapper æ¥å£ï¼š<br>ä¸ä¸Šç›¸åŒï¼š</p><img src="/.io//image-20220510005625044.png" alt="image-20220510005625044" style="zoom:50%;"><p>Userå®ä½“å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@TableName(&quot;tb_user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br> <br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String userName;<br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-keyword">private</span> String email;<br>&#125;<br></code></pre></td></tr></table></figure><p>UserMapperæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.mapper;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;<br><br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">findAll</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¬¬å››æ­¥ï¼Œç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.test;<br><br><span class="hljs-keyword">import</span> com.wang.mapper.UserMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.test.context.ContextConfiguration;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="hljs-meta">@ContextConfiguration(locations = &quot;classpath:applicationContext.xml&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestMybatisSpring</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectList</span><span class="hljs-params">()</span></span>&#123;<br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(<span class="hljs-keyword">null</span>);<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š</p><p><img src="/.io//image-20220510012708489.png" alt="image-20220510012708489"></p><p>åŸå› ï¼š</p><p>applicationContext.xml ä¸­æœªè¯»åˆ° jdbc.properties</p><img src="/.io//image-20220510012848271.png" alt="image-20220510012848271" style="zoom: 67%;"><p>è§£å†³ï¼š</p><p>åœ¨ applicationContext.xml é‡Œç›´æ¥å°†æ•°æ®åº“é…ç½®å†™æ­»ï¼š</p><img src="/.io//image-20220510014559254.png" alt="image-20220510014559254" style="zoom:50%;"><h3 id="2-4-3-é¡¹ç›®ç»“æ„ï¼š"><a href="#2-4-3-é¡¹ç›®ç»“æ„ï¼š" class="headerlink" title="2.4.3  é¡¹ç›®ç»“æ„ï¼š"></a>2.4.3  é¡¹ç›®ç»“æ„ï¼š</h3><img src="/.io//image-20220510015022205.png" alt="image-20220510015022205" style="zoom:50%;"><h2 id="2-5ã€Springboot-Mybatis-Plus"><a href="#2-5ã€Springboot-Mybatis-Plus" class="headerlink" title="2.5ã€Springboot + Mybatis-Plus"></a>2.5ã€Springboot + Mybatis-Plus</h2><p>ä½¿ç”¨SpringBootå°†è¿›ä¸€æ­¥çš„ç®€åŒ–MPçš„æ•´åˆï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºä½¿ç”¨SpringBootéœ€è¦ç»§æ‰¿parentï¼Œæ‰€ä»¥éœ€è¦é‡æ–°åˆ›å»ºå·¥ç¨‹ï¼Œå¹¶ä¸æ˜¯åˆ›å»ºå­Moduleã€‚</p><h3 id="2-5-1ã€åˆ›å»ºå·¥ç¨‹"><a href="#2-5-1ã€åˆ›å»ºå·¥ç¨‹" class="headerlink" title="2.5.1ã€åˆ›å»ºå·¥ç¨‹"></a>2.5.1ã€åˆ›å»ºå·¥ç¨‹</h3><p>éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„springbootå·¥ç¨‹ï¼Œå¯é€šè¿‡é˜¿é‡Œäº‘æ·»åŠ è‹ç±³è±†mybatis-plusä¾èµ–</p><h3 id="2-5-2ã€å¯¼å…¥ä¾èµ–"><a href="#2-5-2ã€å¯¼å…¥ä¾èµ–" class="headerlink" title="2.5.2ã€å¯¼å…¥ä¾èµ–"></a>2.5.2ã€å¯¼å…¥ä¾èµ–</h3><img src="/.io//image-20220701113021429.png" alt="image-20220701113021429" style="zoom:50%;"><h3 id="2-5-3ã€ç¼–å†™application-properties"><a href="#2-5-3ã€ç¼–å†™application-properties" class="headerlink" title="2.5.3ã€ç¼–å†™application.properties"></a>2.5.3ã€ç¼–å†™application.properties</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">spring.application.name</span> = itcast-mp-springboot<br><span class="hljs-attr">spring.datasource.driver-class-name</span>=com.mysql.jdbc.Driver<br><span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">3306</span>/mp? useUnicode=<span class="hljs-literal">true</span>&amp;characterEncoding=utf8&amp;autoReconnect=<span class="hljs-literal">true</span>&amp;allowMultiQueries=<span class="hljs-literal">true</span>&amp;useSSL =<span class="hljs-literal">false</span><br><span class="hljs-attr">spring.datasource.username</span>=root<br><span class="hljs-attr">spring.datasource.password</span>=root<br></code></pre></td></tr></table></figure><h3 id="2-5-4ã€ç¼–å†™pojo"><a href="#2-5-4ã€ç¼–å†™pojo" class="headerlink" title="2.5.4ã€ç¼–å†™pojo"></a>2.5.4ã€ç¼–å†™pojo</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp.pojo;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;<br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@TableName(&quot;tb_user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> Long id;<br>    <span class="hljs-keyword">private</span> String userName;<br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br>    <span class="hljs-keyword">private</span> String mail;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-5-5ã€ç¼–å†™mapper"><a href="#2-5-5ã€ç¼–å†™mapper" class="headerlink" title="2.5.5ã€ç¼–å†™mapper"></a>2.5.5ã€ç¼–å†™mapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp.mapper;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-5-6ã€ç¼–å†™å¯åŠ¨ç±»"><a href="#2-5-6ã€ç¼–å†™å¯åŠ¨ç±»" class="headerlink" title="2.5.6ã€ç¼–å†™å¯åŠ¨ç±»"></a>2.5.6ã€ç¼–å†™å¯åŠ¨ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> org.springframework.boot.SpringApplication;<br><span class="hljs-keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;<br><br><br><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApplication</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SpringApplication.run(MyApplication.class, args);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-5-7ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><a href="#2-5-7ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="2.5.7ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹"></a>2.5.7ã€ç¼–å†™æµ‹è¯•ç”¨ä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectById</span><span class="hljs-params">()</span> </span>&#123;<br>        User user = <span class="hljs-keyword">this</span>.userMapper.selectById(<span class="hljs-number">2L</span>);<br>        System.out.println(user);<br>    &#125;<br><br><br>&#125;<br><br></code></pre></td></tr></table></figure><br><br><h1 id="3ã€é€šç”¨CRUD"><a href="#3ã€é€šç”¨CRUD" class="headerlink" title="3ã€é€šç”¨CRUD"></a>3ã€é€šç”¨CRUD</h1><p>é€šè¿‡ç»§æ‰¿BaseMapperå°±å¯ä»¥è·å–åˆ°å„ç§å„æ ·çš„å•è¡¨æ“ä½œï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†å°è¯•è¿™äº›æ“ä½œã€‚</p><img src="/.io//image-20220701170742985.png" alt="image-20220701170742985" style="zoom: 50%;"><h2 id="3-1ã€æ’å…¥æ“ä½œ"><a href="#3-1ã€æ’å…¥æ“ä½œ" class="headerlink" title="3.1ã€æ’å…¥æ“ä½œ"></a>3.1ã€æ’å…¥æ“ä½œ</h2><h3 id="3-1-1ã€æ’å…¥æµ‹è¯•"><a href="#3-1-1ã€æ’å…¥æµ‹è¯•" class="headerlink" title="3.1.1ã€æ’å…¥æµ‹è¯•"></a>3.1.1ã€æ’å…¥æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-meta">@SpringBootTest</span><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br>    <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testInsert</span><span class="hljs-params">()</span> </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        user.setMail(<span class="hljs-string">&quot;2@itcast.cn&quot;</span>);<br>        user.setAge(<span class="hljs-number">301</span>);<br>        user.setUserName(<span class="hljs-string">&quot;caocao1&quot;</span>);<br>        user.setName(<span class="hljs-string">&quot;æ›¹æ“1&quot;</span>);<br>        user.setPassword(<span class="hljs-string">&quot;123456&quot;</span>);<br>        user.setAddress(<span class="hljs-string">&quot;åŒ—äº¬&quot;</span>);<br><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.insert(user); <span class="hljs-comment">//resultæ•°æ®åº“å—å½±å“çš„è¡Œæ•°</span><br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result); <span class="hljs-comment">//æ’å…¥ä¸€æ¡æ•°æ®ï¼Œè¾“å‡ºä½1</span><br><br>        <span class="hljs-comment">//è·å–è‡ªå¢é•¿åçš„idå€¼, è‡ªå¢é•¿åçš„idå€¼ä¼šå›å¡«åˆ°userå¯¹è±¡ä¸­</span><br>        System.out.println(<span class="hljs-string">&quot;id =&gt; &quot;</span> + user.getId());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®å·²ç»å†™å…¥åˆ°äº†æ•°æ®åº“ï¼Œä½†æ˜¯ï¼Œidçš„å€¼ä¸æ­£ç¡®ï¼Œæˆ‘ä»¬æœŸæœ›çš„æ˜¯æ•°æ®åº“è‡ªå¢é•¿ï¼Œå®é™…æ˜¯MPç”Ÿæˆäº†idçš„å€¼å†™å…¥åˆ°äº†æ•°æ®åº“ã€‚</p><h5 id="ä¸»é”®ç”Ÿæˆç­–ç•¥"><a href="#ä¸»é”®ç”Ÿæˆç­–ç•¥" class="headerlink" title="ä¸»é”®ç”Ÿæˆç­–ç•¥"></a>ä¸»é”®ç”Ÿæˆç­–ç•¥</h5><p>MPæ”¯æŒçš„idç­–ç•¥ï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p><img src="/.io//image-20220701172726840.png" alt="image-20220701172726840" style="zoom:50%;"><p>ä¿®æ”¹Userå¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp.pojo;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;<br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@TableName(&quot;tb_user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br><br>    <span class="hljs-meta">@TableId(type = IdType.AUTO)</span> <span class="hljs-comment">//æŒ‡å®šidç±»å‹ä¸ºè‡ªå¢é•¿</span><br>    <span class="hljs-keyword">private</span> Long id;<br>    <span class="hljs-keyword">private</span> String userName;<br><br>    <span class="hljs-meta">@TableField(select = false)</span> <span class="hljs-comment">//æŸ¥è¯¢æ—¶ä¸è¿”å›è¯¥å­—æ®µçš„å€¼</span><br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br><br>    <span class="hljs-meta">@TableField(value = &quot;email&quot;)</span> <span class="hljs-comment">//æŒ‡å®šæ•°æ®è¡¨ä¸­å­—æ®µå</span><br>    <span class="hljs-keyword">private</span> String mail;<br><br>    <span class="hljs-meta">@TableField(exist = false)</span><br>    <span class="hljs-keyword">private</span> String address; <span class="hljs-comment">//åœ¨æ•°æ®åº“è¡¨ä¸­æ˜¯ä¸å­˜åœ¨çš„</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æ•°æ®æ’å…¥å³å¯æˆåŠŸ</p><h3 id="3-1-2ã€-TableField"><a href="#3-1-2ã€-TableField" class="headerlink" title="3.1.2ã€@TableField"></a>3.1.2ã€@TableField</h3><p>åœ¨MPä¸­é€šè¿‡ <strong>@TableField</strong> æ³¨è§£å¯ä»¥æŒ‡å®šå­—æ®µçš„ä¸€äº›å±æ€§ï¼Œå¸¸å¸¸è§£å†³çš„é—®é¢˜æœ‰2ä¸ªï¼š</p><ul><li><p>å¯¹è±¡ä¸­çš„å±æ€§åå’Œè¡¨ä¸­<strong>åç§°ä¸ä¸€è‡´</strong>çš„é—®é¢˜ï¼ˆéé©¼å³°ï¼‰</p></li><li><p>å¯¹è±¡ä¸­çš„å±æ€§å­—æ®µåœ¨è¡¨ä¸­<strong>ä¸å­˜åœ¨</strong>çš„é—®é¢˜</p></li></ul><p>åœ¨å®ä½“ç±»ä¸­ä½¿ç”¨ï¼š</p><img src="/.io//image-20220701223425268.png" alt="image-20220701223425268" style="zoom: 33%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp.pojo;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableField;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableId;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.TableName;<br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@TableName(&quot;tb_user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> Long id;<br>    <span class="hljs-keyword">private</span> String userName;<br><br>    <span class="hljs-meta">@TableField(select = false)</span> <span class="hljs-comment">//æŸ¥è¯¢æ—¶ä¸è¿”å›è¯¥å­—æ®µçš„å€¼</span><br>    <span class="hljs-keyword">private</span> String password;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Integer age;<br><br>    <span class="hljs-meta">@TableField(value = &quot;email&quot;)</span> <span class="hljs-comment">//æŒ‡å®šæ•°æ®åº“è¡¨ä¸­çš„å­—æ®µå</span><br>    <span class="hljs-keyword">private</span> String mail;<br><br>    <span class="hljs-meta">@TableField(exist = false)</span><br>    <span class="hljs-keyword">private</span> String address; <span class="hljs-comment">//åœ¨æ•°æ®åº“è¡¨ä¸­æ˜¯ä¸å­˜åœ¨çš„</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-2ã€æ›´æ–°æ“ä½œ"><a href="#3-2ã€æ›´æ–°æ“ä½œ" class="headerlink" title="3.2ã€æ›´æ–°æ“ä½œ"></a>3.2ã€æ›´æ–°æ“ä½œ</h2><p>åœ¨MPä¸­ï¼Œæ›´æ–°æ“ä½œæœ‰2ç§ï¼Œä¸€ç§æ˜¯æ ¹æ®idæ›´æ–°ï¼Œå¦ä¸€ç§æ˜¯æ ¹æ®æ¡ä»¶æ›´æ–°ã€‚</p><h3 id="3-2-1ã€æ ¹æ®idæ›´æ–°"><a href="#3-2-1ã€æ ¹æ®idæ›´æ–°" class="headerlink" title="3.2.1ã€æ ¹æ®idæ›´æ–°"></a>3.2.1ã€æ ¹æ®idæ›´æ–°</h3><p>ä½¿ç”¨æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testUpdateById</span><span class="hljs-params">()</span> </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        user.setId(<span class="hljs-number">1L</span>); <span class="hljs-comment">//æ¡ä»¶ï¼Œæ ¹æ®idæ›´æ–°</span><br>        user.setAge(<span class="hljs-number">19</span>); <span class="hljs-comment">//æ›´æ–°çš„å­—æ®µ</span><br>        user.setPassword(<span class="hljs-string">&quot;666666&quot;</span>);<br><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.updateById(user);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-2-2ã€æ ¹æ®æ¡ä»¶æ›´æ–°"><a href="#3-2-2ã€æ ¹æ®æ¡ä»¶æ›´æ–°" class="headerlink" title="3.2.2ã€æ ¹æ®æ¡ä»¶æ›´æ–°"></a>3.2.2ã€æ ¹æ®æ¡ä»¶æ›´æ–°</h3><p>å¯ä»¥é€šè¿‡ <strong>QueryWrapper</strong> è¿›è¡Œæ¡ä»¶æŸ¥è¯¢ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testUpdate</span><span class="hljs-params">()</span> </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        user.setAge(<span class="hljs-number">20</span>); <span class="hljs-comment">//æ›´æ–°çš„å­—æ®µ</span><br>        user.setPassword(<span class="hljs-string">&quot;8888888&quot;</span>);<br><br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br>        wrapper.eq(<span class="hljs-string">&quot;user_name&quot;</span>, <span class="hljs-string">&quot;zhangsan&quot;</span>); <span class="hljs-comment">//åŒ¹é…user_name = zhangsan çš„ç”¨æˆ·æ•°æ®</span><br><br>        <span class="hljs-comment">//æ ¹æ®æ¡ä»¶åšæ›´æ–°</span><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.update(user, wrapper);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡ <strong>UpdateWrapper</strong> è¿›è¡Œæ›´æ–°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testUpdate2</span><span class="hljs-params">()</span> </span>&#123;<br><br>        UpdateWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> UpdateWrapper&lt;&gt;();<br>        wrapper.set(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">21</span>).set(<span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;999999&quot;</span>) <span class="hljs-comment">//æ›´æ–°çš„å­—æ®µ</span><br>        .eq(<span class="hljs-string">&quot;user_name&quot;</span>, <span class="hljs-string">&quot;zhangsan&quot;</span>); <span class="hljs-comment">//æ›´æ–°çš„æ¡ä»¶</span><br><br>        <span class="hljs-comment">//æ ¹æ®æ¡ä»¶åšæ›´æ–°</span><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.update(<span class="hljs-keyword">null</span>, wrapper);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-3ã€åˆ é™¤æ“ä½œ"><a href="#3-3ã€åˆ é™¤æ“ä½œ" class="headerlink" title="3.3ã€åˆ é™¤æ“ä½œ"></a>3.3ã€åˆ é™¤æ“ä½œ</h2><h3 id="3-3-1ã€deleteById"><a href="#3-3-1ã€deleteById" class="headerlink" title="3.3.1ã€deleteById"></a>3.3.1ã€deleteById</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testDeleteById</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// æ ¹æ®idåˆ é™¤æ•°æ®</span><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.deleteById(<span class="hljs-number">9L</span>);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-3-2ã€deleteByMap"><a href="#3-3-2ã€deleteByMap" class="headerlink" title="3.3.2ã€deleteByMap"></a>3.3.2ã€deleteByMap</h3><p>æ³¨ï¼šå¤šæ¡ä»¶ä¹‹é—´æ˜¯andå…³ç³»ï¼Œå³éœ€è¦åŒæ—¶æ»¡è¶³</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testDeleteByMap</span><span class="hljs-params">()</span></span>&#123;<br><br>        Map&lt;String,Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        map.put(<span class="hljs-string">&quot;user_name&quot;</span>, <span class="hljs-string">&quot;zhangsan&quot;</span>);<br>        map.put(<span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;999999&quot;</span>);<br><br>        <span class="hljs-comment">// æ ¹æ®mapåˆ é™¤æ•°æ®ï¼Œå¤šæ¡ä»¶ä¹‹é—´æ˜¯andå…³ç³»</span><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.deleteByMap(map);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-3-3ã€delete"><a href="#3-3-3ã€delete" class="headerlink" title="3.3.3ã€delete"></a>3.3.3ã€delete</h3><p>æ¨èç”¨æ³•2</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testDelete</span><span class="hljs-params">()</span></span>&#123;<br><br>        <span class="hljs-comment">//ç”¨æ³•ä¸€ï¼š</span><br><span class="hljs-comment">//        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();</span><br><span class="hljs-comment">//        wrapper.eq(&quot;user_name&quot;, &quot;caocao1&quot;)</span><br><span class="hljs-comment">//                .eq(&quot;password&quot;, &quot;123456&quot;);</span><br><br>        <span class="hljs-comment">//ç”¨æ³•äºŒï¼š</span><br>        User user = <span class="hljs-keyword">new</span> User();<br>        user.setPassword(<span class="hljs-string">&quot;123456&quot;</span>);<br>        user.setUserName(<span class="hljs-string">&quot;caocao&quot;</span>);<br><br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;(user);<br><br>        <span class="hljs-comment">// æ ¹æ®åŒ…è£…æ¡ä»¶åšåˆ é™¤</span><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.delete(wrapper);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-3-4ã€deleteBatchIds"><a href="#3-3-4ã€deleteBatchIds" class="headerlink" title="3.3.4ã€deleteBatchIds"></a>3.3.4ã€deleteBatchIds</h3><p>æ ¹æ®idæ‰¹é‡åˆ é™¤æ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span>  <span class="hljs-title">testDeleteBatchIds</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// æ ¹æ®idæ‰¹é‡åˆ é™¤æ•°æ®</span><br>        <span class="hljs-keyword">int</span> result = <span class="hljs-keyword">this</span>.userMapper.deleteBatchIds(Arrays.asList(<span class="hljs-number">10L</span>, <span class="hljs-number">11L</span>));<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-4ã€æŸ¥è¯¢æ“ä½œ"><a href="#3-4ã€æŸ¥è¯¢æ“ä½œ" class="headerlink" title="3.4ã€æŸ¥è¯¢æ“ä½œ"></a>3.4ã€æŸ¥è¯¢æ“ä½œ</h2><p>MPæä¾›äº†å¤šç§æŸ¥è¯¢æ“ä½œï¼ŒåŒ…æ‹¬æ ¹æ®idæŸ¥è¯¢ã€æ‰¹é‡æŸ¥è¯¢ã€æŸ¥è¯¢å•æ¡æ•°æ®ã€æŸ¥è¯¢åˆ—è¡¨ã€åˆ†é¡µæŸ¥è¯¢ç­‰æ“ä½œã€‚</p><h3 id="3-4-1ã€selectById"><a href="#3-4-1ã€selectById" class="headerlink" title="3.4.1ã€selectById"></a>3.4.1ã€selectById</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span>  <span class="hljs-title">testSelectById</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// æ ¹æ®idæŸ¥è¯¢æ•°æ®</span><br>        User user = <span class="hljs-keyword">this</span>.userMapper.selectById(<span class="hljs-number">2L</span>);<br>        System.out.println(<span class="hljs-string">&quot;result =&gt; &quot;</span> + result);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-4-2ã€selectBatchIds"><a href="#3-4-2ã€selectBatchIds" class="headerlink" title="3.4.2ã€selectBatchIds"></a>3.4.2ã€selectBatchIds</h3><p><strong>æ ¹æ®idæ‰¹é‡æŸ¥è¯¢æ•°æ®</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectBatchIds</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// æ ¹æ®idæ‰¹é‡æŸ¥è¯¢æ•°æ®</span><br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectBatchIds(Arrays.asList(<span class="hljs-number">2L</span>,<span class="hljs-number">100L</span>));<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-4-3ã€selectOne"><a href="#3-4-3ã€selectOne" class="headerlink" title="3.4.3ã€selectOne"></a>3.4.3ã€selectOne</h3><p><strong>æŸ¥è¯¢ä¸€æ¡æ•°æ®</strong>ï¼ˆå¦‚æœè¶…è¿‡ä¸€æ¡ä¼šæŠ¥å¼‚å¸¸ï¼‰</p><p>æ–¹æ³•å®šä¹‰ï¼š</p><img src="/.io//image-20220704211535305.png" alt="image-20220704211535305" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectOne</span><span class="hljs-params">()</span></span>&#123;<br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br>        <span class="hljs-comment">//æŸ¥è¯¢æ¡ä»¶</span><br>        wrapper.eq(<span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>);<br>        <span class="hljs-comment">// æŸ¥è¯¢çš„æ•°æ®è¶…è¿‡ä¸€æ¡æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸</span><br>        User user = <span class="hljs-keyword">this</span>.userMapper.selectOne(wrapper);<br>        System.out.println(user);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-4-4ã€selectCount"><a href="#3-4-4ã€selectCount" class="headerlink" title="3.4.4ã€selectCount"></a>3.4.4ã€selectCount</h3><p><strong>æŸ¥è¯¢æ€»æ•°æ®æ¡æ•°</strong></p><p>æ–¹æ³•å®šä¹‰ï¼š</p><img src="/.io//image-20220704212411728.png" alt="image-20220704212411728" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectCount</span><span class="hljs-params">()</span></span>&#123;<br><br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br>        wrapper.gt(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">20</span>); <span class="hljs-comment">// æ¡ä»¶ï¼šå¹´é¾„å¤§äº20å²çš„ç”¨æˆ·</span><br><br>        <span class="hljs-comment">// æ ¹æ®æ¡ä»¶æŸ¥è¯¢æ•°æ®æ¡æ•°</span><br>        Integer count = <span class="hljs-keyword">this</span>.userMapper.selectCount(wrapper);<br>        System.out.println(<span class="hljs-string">&quot;count =&gt; &quot;</span> + count);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-4-5ã€selectList"><a href="#3-4-5ã€selectList" class="headerlink" title="3.4.5ã€selectList"></a>3.4.5ã€selectList</h3><p><strong>æŸ¥è¯¢å…¨éƒ¨æ•°æ®</strong></p><p>æ–¹æ³•å®šä¹‰ï¼š</p><img src="/.io//image-20220704212712157.png" alt="image-20220704212712157" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> cn.itcast.mp;<br><br><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestUserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectList</span><span class="hljs-params">()</span></span>&#123;<br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br>        <span class="hljs-comment">//è®¾ç½®æŸ¥è¯¢æ¡ä»¶</span><br>        wrapper.like(<span class="hljs-string">&quot;email&quot;</span>, <span class="hljs-string">&quot;itcast&quot;</span>);<br><br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-4-6ã€selectPage"><a href="#3-4-6ã€selectPage" class="headerlink" title="3.4.6ã€selectPage"></a>3.4.6ã€selectPage</h3><p><strong>åˆ†é¡µæŸ¥è¯¢</strong></p><p>æ–¹æ³•å®šä¹‰ï¼š</p><img src="/.io//image-20220704214431042.png" alt="image-20220704214431042" style="zoom:50%;"><p>é…ç½®åˆ†é¡µæ’ä»¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.PaginationInterceptor;<br><span class="hljs-keyword">import</span> org.mybatis.spring.annotation.MapperScan;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;<br><span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;<br> <br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@MapperScan(&quot;cn.itcast.mp.mapper&quot;)</span> <span class="hljs-comment">//è®¾ç½®mapperæ¥å£çš„æ‰«æåŒ…</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MybatisPlusConfig</span> </span>&#123;<br> <br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">    * åˆ†é¡µæ’ä»¶</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> PaginationInterceptor <span class="hljs-title">paginationInterceptor</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> PaginationInterceptor();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿›è¡Œåˆ†é¡µæŸ¥è¯¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><span class="hljs-keyword">import</span> java.util.List;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br> <br>     <span class="hljs-comment">// æµ‹è¯•åˆ†é¡µæŸ¥è¯¢</span><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSelectPage</span><span class="hljs-params">()</span></span>&#123;<br> <br>        Page&lt;User&gt; page = <span class="hljs-keyword">new</span> Page&lt;&gt;(<span class="hljs-number">3</span>,<span class="hljs-number">1</span>); <span class="hljs-comment">//æŸ¥è¯¢ç¬¬ä¸€é¡µï¼ŒæŸ¥è¯¢1æ¡æ•°æ®</span><br> <br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br>        <span class="hljs-comment">//è®¾ç½®æŸ¥è¯¢æ¡ä»¶</span><br>        wrapper.like(<span class="hljs-string">&quot;email&quot;</span>, <span class="hljs-string">&quot;itcast&quot;</span>);<br> <br>        IPage&lt;User&gt; iPage = <span class="hljs-keyword">this</span>.userMapper.selectPage(page, wrapper);<br>        System.out.println(<span class="hljs-string">&quot;æ•°æ®æ€»æ¡æ•°ï¼š &quot;</span> + iPage.getTotal());<br>        System.out.println(<span class="hljs-string">&quot;æ•°æ®æ€»é¡µæ•°ï¼š &quot;</span> + iPage.getPages());<br>        System.out.println(<span class="hljs-string">&quot;å½“å‰é¡µæ•°ï¼š &quot;</span> + iPage.getCurrent());<br> <br>        List&lt;User&gt; records = iPage.getRecords();<br>        <span class="hljs-keyword">for</span> (User record : records) &#123;<br>            System.out.println(record);<br>        &#125;<br> <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-5ã€SQLæ³¨å…¥çš„åŸç†"><a href="#3-5ã€SQLæ³¨å…¥çš„åŸç†" class="headerlink" title="3.5ã€SQLæ³¨å…¥çš„åŸç†"></a>3.5ã€SQLæ³¨å…¥çš„åŸç†</h2><p>åœ¨MPä¸­ï¼ŒISqlInjectorè´Ÿè´£SQLçš„æ³¨å…¥å·¥ä½œï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼ŒAbstractSqlInjectoræ˜¯å®ƒçš„å®ç°ç±»ï¼Œå®ç°å…³ç³»å¦‚ä¸‹ï¼š</p><img src="/.io//image-20220705111137414.png" alt="image-20220705111137414" style="zoom:50%;"><p>åœ¨AbstractSqlInjectorä¸­ï¼Œä¸»è¦æ˜¯ç”±inspectInject()æ–¹æ³•è¿›è¡Œæ³¨å…¥çš„ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inspectInject</span><span class="hljs-params">(MapperBuilderAssistant builderAssistant, Class&lt;?&gt;</span></span><br><span class="hljs-params"><span class="hljs-function">mapperClass)</span> </span>&#123;<br>    Class&lt;?&gt; modelClass = extractModelClass(mapperClass);<br>    <span class="hljs-keyword">if</span> (modelClass != <span class="hljs-keyword">null</span>) &#123;<br>        String className = mapperClass.toString();<br>        Set&lt;String&gt; mapperRegistryCache =<br>GlobalConfigUtils.getMapperRegistryCache(builderAssistant.getConfiguration());<br>    <span class="hljs-keyword">if</span> (!mapperRegistryCache.contains(className)) &#123;<br>        List&lt;AbstractMethod&gt; methodList = <span class="hljs-keyword">this</span>.getMethodList();<br>        <span class="hljs-keyword">if</span> (CollectionUtils.isNotEmpty(methodList)) &#123;<br>            TableInfo tableInfo = TableInfoHelper.initTableInfo(builderAssistant,<br>modelClass);<br>            <span class="hljs-comment">// å¾ªç¯æ³¨å…¥è‡ªå®šä¹‰æ–¹æ³•</span><br>            methodList.forEach(m -&gt; m.inject(builderAssistant, mapperClass,modelClass, tableInfo));<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>            logger.debug(mapperClass.toString() + <span class="hljs-string">&quot;, No effective injection method was found.&quot;</span>);<br>        &#125;<br>        mapperRegistryCache.add(className);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    åœ¨å®ç°æ–¹æ³•ä¸­ï¼Œ methodList.forEach(m -&gt; m.inject(builderAssistant, mapperClass, modelClass, tableInfo)); æ˜¯å…³é”®ï¼Œå¾ªç¯éå†æ–¹æ³•ï¼Œè¿›è¡Œæ³¨å…¥ã€‚</p><p>æœ€ç»ˆè°ƒç”¨æŠ½è±¡æ–¹æ³•injectMappedStatementè¿›è¡ŒçœŸæ­£çš„æ³¨å…¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">* æ³¨å…¥è‡ªå®šä¹‰ MappedStatement</span><br><span class="hljs-comment">*</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> mapperClass mapper æ¥å£</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> modelClass mapper æ³›å‹</span><br><span class="hljs-comment">* <span class="hljs-doctag">@param</span> tableInfo æ•°æ®åº“è¡¨åå°„ä¿¡æ¯</span><br><span class="hljs-comment">* <span class="hljs-doctag">@return</span> MappedStatement</span><br><span class="hljs-comment">*/</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> MappedStatement <span class="hljs-title">injectMappedStatement</span><span class="hljs-params">(Class&lt;?&gt; mapperClass, Class&lt;?&gt; modelClass, TableInfo tableInfo)</span></span>;<br></code></pre></td></tr></table></figure><p>æŸ¥çœ‹è¯¥æ–¹æ³•çš„å®ç°ï¼š</p><img src="/.io//image-20220705111304746.png" alt="image-20220705111304746" style="zoom:40%;"><p> ä»¥SelectByIdä¸ºä¾‹æŸ¥çœ‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SelectById</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractMethod</span> </span>&#123;<br> <br><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> MappedStatement <span class="hljs-title">injectMappedStatement</span><span class="hljs-params">(Class&lt;?&gt; mapperClass, Class&lt;?&gt; modelClass, TableInfo tableInfo)</span> </span>&#123;<br>    SqlMethod sqlMethod = SqlMethod.LOGIC_SELECT_BY_ID;<br>    SqlSource sqlSource = <span class="hljs-keyword">new</span> RawSqlSource(configuration,<br>String.format(sqlMethod.getSql(),<br>    sqlSelectColumns(tableInfo, <span class="hljs-keyword">false</span>),<br>    tableInfo.getTableName(), tableInfo.getKeyColumn(),tableInfo.getKeyProperty(),<br>tableInfo.getLogicDeleteSql(<span class="hljs-keyword">true</span>, <span class="hljs-keyword">false</span>)), Object.class);<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addSelectMappedStatement(mapperClass, sqlMethod.getMethod(),sqlSource, modelClass, tableInfo);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆäº†SqlSourceå¯¹è±¡ï¼Œå†å°†SQLé€šè¿‡addSelectMappedStatementæ–¹æ³•æ·»åŠ åˆ°meppedStatementsä¸­ã€‚</p><h1 id="4ã€é…ç½®"><a href="#4ã€é…ç½®" class="headerlink" title="4ã€é…ç½®"></a>4ã€é…ç½®</h1><p>åœ¨MPä¸­æœ‰å¤§é‡çš„é…ç½®ï¼Œå…¶ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯MybatisåŸç”Ÿçš„é…ç½®ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯MPçš„é…ç½®ï¼Œ</p><p>è¯¦æƒ…å¯è§å®˜ç½‘ï¼š<a href="https://mybatis.plus/config/">https://mybatis.plus/config/</a></p><h2 id="4-1ã€åŸºæœ¬é…ç½®"><a href="#4-1ã€åŸºæœ¬é…ç½®" class="headerlink" title="4.1ã€åŸºæœ¬é…ç½®"></a>4.1ã€åŸºæœ¬é…ç½®</h2><h3 id="4-1-1ã€configLocation"><a href="#4-1-1ã€configLocation" class="headerlink" title="4.1.1ã€configLocation"></a>4.1.1ã€configLocation</h3><p>MyBatis é…ç½®æ–‡ä»¶ä½ç½®ï¼Œå¦‚æœæ‚¨æœ‰å•ç‹¬çš„ MyBatis é…ç½®ï¼Œè¯·å°†å…¶è·¯å¾„é…ç½®åˆ° configLocation ä¸­ã€‚ MyBatis<br>Configuration çš„å…·ä½“å†…å®¹è¯·å‚è€ƒMyBatis å®˜æ–¹æ–‡æ¡£</p><p>Spring Bootï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">mybatis-plus.config-location = classpath:mybatis-config.xml<br></code></pre></td></tr></table></figure><p>Spring MVCï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-1-2ã€mapperLocations"><a href="#4-1-2ã€mapperLocations" class="headerlink" title="4.1.2ã€mapperLocations"></a>4.1.2ã€mapperLocations</h3><p>MyBatis Mapper æ‰€å¯¹åº”çš„ XML æ–‡ä»¶ä½ç½®ï¼Œå¦‚æœæ‚¨åœ¨ Mapper ä¸­æœ‰<strong>è‡ªå®šä¹‰æ–¹æ³•</strong>ï¼ˆ<strong>XML ä¸­æœ‰è‡ªå®šä¹‰å®ç°</strong>ï¼‰ï¼Œéœ€è¦è¿›è¡Œè¯¥é…ç½®ï¼Œå‘Šè¯‰ Mapper æ‰€å¯¹åº”çš„ XML æ–‡ä»¶ä½ç½®ã€‚</p><p>Spring Bootï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">mybatis-plus.mapper-locations = classpath*:mybatis/*.xml<br></code></pre></td></tr></table></figure><p>Spring MVCï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapperLocations&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath*:mybatis/*.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4-1-3ã€typeAliasesPackage"><a href="#4-1-3ã€typeAliasesPackage" class="headerlink" title="4.1.3ã€typeAliasesPackage"></a>4.1.3ã€typeAliasesPackage</h3><p>MyBaits åˆ«ååŒ…æ‰«æè·¯å¾„ï¼Œé€šè¿‡è¯¥å±æ€§å¯ä»¥ç»™åŒ…ä¸­çš„ç±»æ³¨å†Œåˆ«åï¼Œæ³¨å†Œååœ¨ Mapper å¯¹åº”çš„ XML æ–‡ä»¶ä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ç±»åï¼Œè€Œä¸ç”¨ä½¿ç”¨å…¨é™å®šçš„ç±»åï¼ˆå³ XML ä¸­è°ƒç”¨çš„æ—¶å€™ä¸ç”¨åŒ…å«åŒ…åï¼‰ã€‚</p><p>Spring Bootï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">mybatis-plus.type-aliases-package = cn.itcast.mp.pojo<br></code></pre></td></tr></table></figure><h2 id="4-2ã€è¿›é˜¶é…ç½®"><a href="#4-2ã€è¿›é˜¶é…ç½®" class="headerlink" title="4.2ã€è¿›é˜¶é…ç½®"></a>4.2ã€è¿›é˜¶é…ç½®</h2><p>æœ¬éƒ¨åˆ†ï¼ˆConfigurationï¼‰çš„é…ç½®å¤§éƒ½ä¸º MyBatis åŸç”Ÿæ”¯æŒçš„é…ç½®ï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥é€šè¿‡ MyBatis XML é…ç½®æ–‡ä»¶çš„å½¢å¼è¿›è¡Œé…ç½®ã€‚</p><h3 id="4-2-1ã€mapUnderscoreToCamelCase"><a href="#4-2-1ã€mapUnderscoreToCamelCase" class="headerlink" title="4.2.1ã€mapUnderscoreToCamelCase"></a>4.2.1ã€mapUnderscoreToCamelCase</h3><p><strong>é…ç½®æ˜¯å¦å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™æ˜ å°„</strong></p><ul><li>ç±»å‹ï¼š boolean</li><li>é»˜è®¤å€¼ï¼š true</li></ul><p>æ˜¯å¦å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åè§„åˆ™ï¼ˆcamel caseï¼‰æ˜ å°„ï¼Œå³ä»ç»å…¸æ•°æ®åº“åˆ—å <strong>A_COLUMN</strong>ï¼ˆ<strong>ä¸‹åˆ’çº¿å‘½å</strong>ï¼‰ åˆ°ç»å…¸ Java å± æ€§å <strong>aColumn</strong>ï¼ˆ<strong>é©¼å³°å‘½å</strong>ï¼‰ çš„ç±»ä¼¼æ˜ å°„ã€‚ </p><p>æ³¨æ„ï¼š æ­¤å±æ€§åœ¨ MyBatis ä¸­åŸé»˜è®¤å€¼ä¸º falseï¼Œåœ¨ MyBatis-Plus ä¸­ï¼Œæ­¤å±æ€§ä¹Ÿå°†ç”¨äºç”Ÿæˆæœ€ç»ˆçš„ SQL çš„ select body å¦‚æœæ‚¨çš„æ•°æ®åº“å‘½åç¬¦åˆè§„åˆ™æ— éœ€ä½¿ç”¨ @TableField æ³¨è§£æŒ‡å®šæ•°æ®åº“å­—æ®µåã€‚</p><p>SpringBootï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">#å…³é—­è‡ªåŠ¨é©¼å³°æ˜ å°„ï¼Œè¯¥å‚æ•°ä¸èƒ½å’Œmybatis-plus.config-locationåŒæ—¶å­˜åœ¨<br>mybatis-plus.configuration.map-underscore-to-camel-case=false<br></code></pre></td></tr></table></figure><h3 id="4-2-2ã€cacheEnabled"><a href="#4-2-2ã€cacheEnabled" class="headerlink" title="4.2.2ã€cacheEnabled"></a>4.2.2ã€cacheEnabled</h3><p>å…¨å±€åœ°å¼€å¯æˆ–å…³é—­é…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ˜ å°„å™¨å·²ç»é…ç½®çš„ä»»ä½•ç¼“å­˜ï¼Œé»˜è®¤ä¸º trueã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">mybatis-plus.configuration.cache-enabled=false<br></code></pre></td></tr></table></figure><h2 id="4-3ã€DB-ç­–ç•¥é…ç½®"><a href="#4-3ã€DB-ç­–ç•¥é…ç½®" class="headerlink" title="4.3ã€DB ç­–ç•¥é…ç½®"></a>4.3ã€DB ç­–ç•¥é…ç½®</h2><h3 id="4-3-1ã€idType"><a href="#4-3-1ã€idType" class="headerlink" title="4.3.1ã€idType"></a>4.3.1ã€idType</h3><ul><li>ç±»å‹ï¼š com.baomidou.mybatisplus.annotation.IdType</li><li>é»˜è®¤å€¼ï¼š ID_WORKER</li></ul><p>å…¨å±€é»˜è®¤ä¸»é”®ç±»å‹ï¼Œè®¾ç½®åï¼Œå³å¯çœç•¥å®ä½“å¯¹è±¡ä¸­çš„@TableId(type = IdType.AUTO)é…ç½®ã€‚</p><p>SpringBoot:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">mybatis-plus.global-config.db-config.id-type=auto<br></code></pre></td></tr></table></figure><h3 id="4-3-2ã€tablePrefix"><a href="#4-3-2ã€tablePrefix" class="headerlink" title="4.3.2ã€tablePrefix"></a>4.3.2ã€tablePrefix</h3><ul><li>ç±»å‹ï¼š String</li><li>é»˜è®¤å€¼ï¼š null</li></ul><p>è¡¨åå‰ç¼€ï¼Œå…¨å±€é…ç½®åå¯çœç•¥@TableName()é…ç½®</p><p>ï¼ˆMPé»˜è®¤æŸ¥æ‰¾å®ä½“ç±»ç±»åå¯¹åº”çš„æ•°æ®åº“è¡¨ï¼‰</p><p> SpringBootï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">mybatis-plus.global-config.db-config.table-prefix=tb_<br></code></pre></td></tr></table></figure><h1 id="5ã€æ¡ä»¶æ„é€ å™¨"><a href="#5ã€æ¡ä»¶æ„é€ å™¨" class="headerlink" title="5ã€æ¡ä»¶æ„é€ å™¨"></a>5ã€æ¡ä»¶æ„é€ å™¨</h1><p>åœ¨MPä¸­ï¼ŒWrapperæ¥å£çš„å®ç°ç±»å…³ç³»å¦‚ä¸‹ï¼š</p><img src="/.io//image-20220706114456833.png" alt="image-20220706114456833" style="zoom:50%;"><p>è¯´æ˜: QueryWrapper(LambdaQueryWrapper) å’Œ UpdateWrapper(LambdaUpdateWrapper) çš„çˆ¶ç±»ç”¨äºç”Ÿæˆ sql çš„ where æ¡ä»¶, entity å±æ€§ä¹Ÿç”¨äºç”Ÿæˆ sql çš„ where æ¡ä»¶ æ³¨æ„: entity ç”Ÿæˆçš„ where æ¡ä»¶ä¸ ä½¿ç”¨å„ä¸ª api ç”Ÿæˆ çš„ where æ¡ä»¶æ²¡æœ‰ä»»ä½•å…³è”è¡Œä¸ºã€‚</p><h2 id="5-1ã€allEq"><a href="#5-1ã€allEq" class="headerlink" title="5.1ã€allEq"></a>5.1ã€allEq</h2><p><strong>è¯´æ˜</strong></p><ul><li>allEq(Map params)</li><li>allEq(Map params, boolean null2IsNull)</li><li>allEq(boolean condition, Map params, boolean null2IsNull)</li></ul><p>å‚æ•°è¯´æ˜:   </p><p>params : key ä¸ºæ•°æ®åº“å­—æ®µå, value ä¸ºå­—æ®µå€¼ </p><p>null2IsNull : ä¸º true åˆ™åœ¨ map çš„ value ä¸º null æ—¶è°ƒç”¨ isNull æ–¹æ³•ï¼Œä¸º false æ—¶åˆ™å¿½ç•¥ value ä¸º null çš„</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xquery">ä¾‹<span class="hljs-number">1</span>:  allEq(<span class="hljs-built_in">&#123;id</span>:<span class="hljs-number">1</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;è€ç‹&quot;</span>,age:null&#125;) ---&gt;<span class="hljs-built_in"> id</span> = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span><span class="hljs-built_in"> name</span> = <span class="hljs-string">&#x27;è€ç‹&#x27;</span> <span class="hljs-keyword">and</span> age <span class="hljs-literal">is</span> null<br>ä¾‹<span class="hljs-number">2</span>:  allEq(<span class="hljs-built_in">&#123;id</span>:<span class="hljs-number">1</span><span class="hljs-built_in">,name</span>:<span class="hljs-string">&quot;è€ç‹&quot;</span>,age:null&#125;,<span class="hljs-built_in"> false</span>) ---&gt;<span class="hljs-built_in"> id</span> = <span class="hljs-number">1</span> <span class="hljs-keyword">and</span><span class="hljs-built_in"> name</span> = <span class="hljs-string">&#x27;è€ç‹&#x27;</span><br></code></pre></td></tr></table></figure><ul><li>allEq(BiPredicate filter, Map params)</li><li>allEq(BiPredicate filter, Map params, boolean null2IsNull)</li><li>allEq(boolean condition, BiPredicate filter, Map params, boolean null2IsNull)</li></ul><p>å‚æ•°è¯´æ˜: filter : è¿‡æ»¤å‡½æ•°,æ˜¯å¦å…è®¸å­—æ®µä¼ å…¥æ¯”å¯¹æ¡ä»¶ä¸­ params ä¸ null2IsNull : åŒä¸Š</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livescript">ä¾‹<span class="hljs-number">1</span>: allEq<span class="hljs-function"><span class="hljs-params">((k,v) -&gt; k.indexOf(<span class="hljs-string">&quot;a&quot;</span>) &gt; <span class="hljs-number">0</span>, &#123;id:<span class="hljs-number">1</span>,name:<span class="hljs-string">&quot;è€ç‹&quot;</span>,age:<span class="hljs-literal">null</span>&#125;)</span> ---&gt;</span> name = <span class="hljs-string">&#x27;è€ç‹&#x27;</span> <span class="hljs-keyword">and</span> age <span class="hljs-keyword">is</span> <span class="hljs-literal">null</span> <br><br>ä¾‹<span class="hljs-number">2</span>: allEq<span class="hljs-function"><span class="hljs-params">((k,v) -&gt; k.indexOf(<span class="hljs-string">&quot;a&quot;</span>) &gt; <span class="hljs-number">0</span>, &#123;id:<span class="hljs-number">1</span>,name:<span class="hljs-string">&quot;è€ç‹&quot;</span>,age:<span class="hljs-literal">null</span>&#125;, <span class="hljs-literal">false</span>)</span> ---&gt;</span> name = <span class="hljs-string">&#x27;è€ç‹&#x27;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testWrapper</span><span class="hljs-params">()</span> </span>&#123;<br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br> <br>        <span class="hljs-comment">//è®¾ç½®æ¡ä»¶</span><br>        Map&lt;String,Object&gt; params = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        params.put(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;æ›¹æ“&quot;</span>);<br>        params.put(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-string">&quot;20&quot;</span>);<br>        params.put(<span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-keyword">null</span>);<br> <br>        <span class="hljs-comment">// wrapper.allEq(params);//SELECT * FROM tb_user WHERE password IS NULL AND name = ? AND age = ?</span><br> <br>        <span class="hljs-comment">// wrapper.allEq(params,false); //SELECT * FROM tb_user WHERE name = ? AND age = ?</span><br> <br>        <span class="hljs-comment">// wrapper.allEq((k, v) -&gt; (k.equals(&quot;name&quot;) || k.equals(&quot;age&quot;)) ,params);//SELECT * FROM tb_user WHERE name = ? AND age = ?</span><br> <br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>        System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-2ã€åŸºæœ¬æ¯”è¾ƒæ“ä½œ"><a href="#5-2ã€åŸºæœ¬æ¯”è¾ƒæ“ä½œ" class="headerlink" title="5.2ã€åŸºæœ¬æ¯”è¾ƒæ“ä½œ"></a>5.2ã€åŸºæœ¬æ¯”è¾ƒæ“ä½œ</h2><ul><li>eq                 ç­‰äº =</li><li>ne                 ä¸ç­‰äº &lt;&gt;</li><li>gt                  å¤§äº &gt;</li><li>ge                 å¤§äºç­‰äº &gt;=</li><li>lt                   å°äº &lt;</li><li>le                  å°äºç­‰äº &lt;=</li><li>between        BETWEEN å€¼1 AND å€¼2</li><li>notBetween  NOT BETWEEN å€¼1 AND å€¼2</li><li>in                 å­—æ®µ IN (value.get(0), value.get(1), â€¦)</li><li>notIn            å­—æ®µ NOT IN (v0, v1, â€¦)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><span class="hljs-keyword">import</span> java.util.List;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testEq</span><span class="hljs-params">()</span> </span>&#123;<br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br> <br>        <span class="hljs-comment">//SELECT id,user_name,password,name,age,email FROM tb_user WHERE password = ? AND age &gt;= ? AND name IN (?,?,?)</span><br> <br>wrapper.eq(<span class="hljs-string">&quot;password&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>).ge(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">20</span>).in(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;æå››&quot;</span>, <span class="hljs-string">&quot;ç‹äº”&quot;</span>, <span class="hljs-string">&quot;èµµå…­&quot;</span>);<br> <br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>            <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-3ã€æ¨¡ç³ŠæŸ¥è¯¢"><a href="#5-3ã€æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="5.3ã€æ¨¡ç³ŠæŸ¥è¯¢"></a>5.3ã€æ¨¡ç³ŠæŸ¥è¯¢</h2><ul><li>like<ul><li>LIKE â€˜%å€¼%â€™</li><li>ä¾‹: like(â€œnameâ€, â€œç‹â€) â€”&gt; name like â€˜%ç‹%â€™</li></ul></li><li>notLike<ul><li>NOT LIKE â€˜%å€¼%â€™</li><li>ä¾‹: notLike(â€œnameâ€, â€œç‹â€) â€”&gt; name not like â€˜%ç‹%â€™</li></ul></li><li>likeLeft<ul><li>LIKE â€˜%å€¼â€™</li><li>ä¾‹: likeLeft(â€œnameâ€, â€œç‹â€) â€”&gt; name like â€˜%ç‹â€™</li></ul></li><li>likeRight<ul><li>LIKE â€˜å€¼%â€™</li><li>ä¾‹: likeRight(â€œnameâ€, â€œç‹â€) â€”&gt; name like â€˜ç‹%â€™</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><span class="hljs-keyword">import</span> java.util.List;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testWrapper</span><span class="hljs-params">()</span> </span>&#123;<br> <br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br> <br>        <span class="hljs-comment">//SELECT id,user_name,password,name,age,email FROM tb_user WHERE name LIKE ?</span><br>        <span class="hljs-comment">//Parameters: %æ›¹%(String)</span><br> <br>        wrapper.like(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;æ›¹&quot;</span>);<br>        <br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>            <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-4ã€æ’åº"><a href="#5-4ã€æ’åº" class="headerlink" title="5.4ã€æ’åº"></a>5.4ã€æ’åº</h2><ul><li>orderBy<ul><li>æ’åºï¼šORDER BY å­—æ®µ, â€¦</li><li>ä¾‹: orderBy(true, true, â€œidâ€, â€œnameâ€) â€”&gt; order by id ASC,name ASC</li></ul></li><li>orderByAsc<ul><li>æ’åºï¼šORDER BY å­—æ®µ, â€¦ ASC</li><li>ä¾‹: orderByAsc(â€œidâ€, â€œnameâ€) â€”&gt; order by id ASC,name ASC</li></ul></li><li>orderByDesc<ul><li>æ’åºï¼šORDER BY å­—æ®µ, â€¦ DESC</li><li>ä¾‹: orderByDesc(â€œidâ€, â€œnameâ€) â€”&gt; order by id DESC,name DESC</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><span class="hljs-keyword">import</span> java.util.List;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testWrapper</span><span class="hljs-params">()</span> </span>&#123;<br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br> <br>        <span class="hljs-comment">//SELECT id,user_name,password,name,age,email FROM tb_user ORDER BY age DESC</span><br> <br>        wrapper.orderByDesc(<span class="hljs-string">&quot;age&quot;</span>);<br> <br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>            <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-5ã€é€»è¾‘æŸ¥è¯¢"><a href="#5-5ã€é€»è¾‘æŸ¥è¯¢" class="headerlink" title="5.5ã€é€»è¾‘æŸ¥è¯¢"></a>5.5ã€é€»è¾‘æŸ¥è¯¢</h2><ul><li>or ï¼ˆä½†æ˜¯ or æ“ä½œä¸èµ°ç´¢å¼•ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼‰<ul><li>æ‹¼æ¥ OR</li><li>ä¸»åŠ¨è°ƒç”¨ or è¡¨ç¤ºç´§æ¥ç€ä¸‹ä¸€ä¸ªæ–¹æ³•ä¸æ˜¯ç”¨ and è¿æ¥!(ä¸è°ƒç”¨ or åˆ™é»˜è®¤ä¸ºä½¿ç”¨ and è¿æ¥)</li></ul></li><li>and<ul><li>AND åµŒå¥—</li><li>ä¾‹: and(i -&gt; i.eq(â€œnameâ€, â€œæç™½â€).ne(â€œstatusâ€, â€œæ´»ç€â€)) â€”&gt; and (name = â€˜æç™½â€™ and status &lt;&gt; â€˜æ´»ç€â€™)</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br><span class="hljs-keyword">import</span> java.util.List;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testWrapper</span><span class="hljs-params">()</span> </span>&#123;<br> <br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br> <br>        <span class="hljs-comment">//SELECT id,user_name,password,name,age,email FROM tb_user WHERE name = ? OR age = ?</span><br> <br>        wrapper.eq(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;æå››&quot;</span>).or().eq(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">24</span>);<br> <br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>            <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="5-6ã€select"><a href="#5-6ã€select" class="headerlink" title="5.6ã€select"></a>5.6ã€select</h2><p>åœ¨MPæŸ¥è¯¢ä¸­ï¼Œé»˜è®¤æŸ¥è¯¢æ‰€æœ‰çš„å­—æ®µï¼Œå¦‚æœæœ‰éœ€è¦ä¹Ÿå¯ä»¥é€šè¿‡selectæ–¹æ³•è¿›è¡ŒæŒ‡å®šå­—æ®µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> cn.itcast.mp.mapper.UserMapper;<br><span class="hljs-keyword">import</span> cn.itcast.mp.pojo.User;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> org.junit.runner.RunWith;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><span class="hljs-keyword">import</span> org.springframework.test.context.junit4.SpringRunner;<br> <br><span class="hljs-keyword">import</span> java.util.List;<br> <br><span class="hljs-meta">@RunWith(SpringRunner.class)</span><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperTest</span> </span>&#123;<br> <br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> UserMapper userMapper;<br> <br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testWrapper</span><span class="hljs-params">()</span> </span>&#123;<br>        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br> <br>        <span class="hljs-comment">//SELECT id,name,age FROM tb_user WHERE name = ? OR age = ?</span><br> <br>        wrapper.eq(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;æå››&quot;</span>).or().eq(<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">24</span>).select(<span class="hljs-string">&quot;id&quot;</span>, <span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;age&quot;</span>);<br> <br>        List&lt;User&gt; users = <span class="hljs-keyword">this</span>.userMapper.selectList(wrapper);<br>        <span class="hljs-keyword">for</span> (User user : users) &#123;<br>            System.out.println(user);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="6ã€ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨"><a href="#6ã€ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨" class="headerlink" title="6ã€ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨"></a>6ã€ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨</h1><p>daoã€pojoã€conrtrollerã€serviceè‡ªåŠ¨ç”Ÿæˆ</p><p>AutoGenerator æ˜¯ MyBatis-Plus çš„ä»£ç ç”Ÿæˆå™¨ï¼Œé€šè¿‡ AutoGenerator å¯ä»¥å¿«é€Ÿç”Ÿæˆ Entityã€ Mapperã€Mapper XMLã€Serviceã€Controller ç­‰å„ä¸ªæ¨¡å—çš„ä»£ç ï¼Œæå¤§çš„æå‡äº†å¼€å‘æ•ˆç‡ã€‚</p><p><strong>å‰æ</strong>ï¼šæ¯ä¸ªè¡¨éƒ½è¦æœ‰å­—æ®µï¼š</p><p>deleted é€»è¾‘åˆ é™¤å­—æ®µ<br>version ä¹è§‚é”æ›´æ–°ç‰ˆæœ¬å­—æ®µ<br>gmt_create åˆ›å»ºæ—¶é—´å­—æ®µ<br>gmt_modified ä¿®æ”¹æ—¶é—´å­—æ®µ</p><p>å¯¼åŒ…ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-comment">&lt;!-- æ•°æ®åº“é©±åŠ¨ --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- lombok --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- mybatis-plus --&gt;</span><br>       <span class="hljs-comment">&lt;!-- mybatis-plus æ˜¯è‡ªå·±å¼€å‘ï¼Œå¹¶éå®˜æ–¹çš„ï¼ --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--3.0.7ç‰ˆæœ¬ç§»é™¤ å¯¹ mybatis-plus-generator åŒ…çš„ä¾èµ–,è‡ªå·±æŒ‰éœ€å¼•å…¥ï¼Œå°½åœ¨è¿˜éœ€è¦å¯¼å…¥æ¨¡æ¿ä¾èµ–ï¼Œ--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.velocity<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>velocity-engine-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><br>           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/io.swagger/swagger-annotations --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.swagger<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>swagger-annotations<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.5.22<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä»£ç è‡ªåŠ¨ç”Ÿæˆï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.lj.demo;<br><br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.AutoGenerator;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.DataSourceConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.GlobalConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.PackageConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.StrategyConfig;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.po.TableFill;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.DateType;<br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;<br><br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> lijie</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Date</span>: 2020/8/9 13:12</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@Description</span>: ä»£ç ç”Ÿæˆå™¨</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AutoGenerator1</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">// éœ€è¦æ„å»ºä¸€ä¸ª ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨ å¯¹è±¡</span><br>        AutoGenerator mpg = <span class="hljs-keyword">new</span> AutoGenerator();<br>        <span class="hljs-comment">// é…ç½®ç­–ç•¥</span><br>        GlobalConfig gc = <span class="hljs-keyword">new</span> GlobalConfig();<br>        String projectPath = System.getProperty(<span class="hljs-string">&quot;user.dir&quot;</span>);<br>        gc.setOutputDir(projectPath+<span class="hljs-string">&quot;/src/main/java&quot;</span>);<br>        gc.setAuthor(<span class="hljs-string">&quot;å°æ°æ°&quot;</span>);<br>        gc.setOpen(<span class="hljs-keyword">false</span>);<br>        gc.setFileOverride(<span class="hljs-keyword">false</span>);  <span class="hljs-comment">// æ˜¯å¦è¦†ç›–</span><br>        gc.setServiceName(<span class="hljs-string">&quot;%sService&quot;</span>); <span class="hljs-comment">// å»Serviceçš„Iå‰ç¼€</span><br>        gc.setIdType(IdType.ID_WORKER);  <span class="hljs-comment">//ä¸»é”®ç­–ç•¥</span><br>        gc.setDateType(DateType.ONLY_DATE);   <span class="hljs-comment">//æ—¥æœŸç±»å‹</span><br>        gc.setSwagger2(<span class="hljs-keyword">true</span>);<br>        mpg.setGlobalConfig(gc);<br><br>        <span class="hljs-comment">//2ã€è®¾ç½®æ•°æ®æº</span><br>        DataSourceConfig dsc = <span class="hljs-keyword">new</span> DataSourceConfig();<br>        dsc.setUrl(<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/student? useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT%2B8&quot;</span>);<br>        dsc.setDriverName(<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);<br>        dsc.setUsername(<span class="hljs-string">&quot;root&quot;</span>);<br>        dsc.setPassword(<span class="hljs-string">&quot;123456&quot;</span>);<br>        dsc.setDbType(DbType.MYSQL);<br>        mpg.setDataSource(dsc);<br><br>        <span class="hljs-comment">//3ã€åŒ…çš„é…ç½®</span><br>        PackageConfig pc = <span class="hljs-keyword">new</span> PackageConfig();<br>        pc.setModuleName(<span class="hljs-string">&quot;demo&quot;</span>);<br>        pc.setParent(<span class="hljs-string">&quot;com.lj&quot;</span>);<br>        pc.setEntity(<span class="hljs-string">&quot;entity&quot;</span>);<br>        pc.setMapper(<span class="hljs-string">&quot;mapper&quot;</span>);<br>        pc.setService(<span class="hljs-string">&quot;service&quot;</span>);<br>        pc.setController(<span class="hljs-string">&quot;controller&quot;</span>);<br>        mpg.setPackageInfo(pc);<br><br>        <span class="hljs-comment">//4ã€ç­–ç•¥é…ç½®</span><br>        StrategyConfig strategy = <span class="hljs-keyword">new</span> StrategyConfig();<br>        strategy.setInclude(<span class="hljs-string">&quot;t_record&quot;</span>,<span class="hljs-string">&quot;t_student&quot;</span>,<span class="hljs-string">&quot;t_user&quot;</span>); <span class="hljs-comment">// è®¾ç½®è¦æ˜ å°„çš„è¡¨å</span><br>        strategy.setNaming(NamingStrategy.underline_to_camel);<br>        strategy.setColumnNaming(NamingStrategy.underline_to_camel);<br>        <span class="hljs-comment">// è‡ªåŠ¨lombok</span><br>        strategy.setEntityLombokModel(<span class="hljs-keyword">true</span>);<br>        <span class="hljs-comment">//é€»è¾‘åˆ é™¤å­—æ®µ  deletedæ˜¯æ•°æ®åº“çš„å­—æ®µ æ¯ä¸ªè¡¨éƒ½æœ‰çš„å­—æ®µ ç”¨æ¥åˆ¤æ–­åˆ é™¤  0ä¸ºå­˜åœ¨ï¼Œ1ä¸ºåˆ é™¤</span><br>        strategy.setLogicDeleteFieldName(<span class="hljs-string">&quot;deleted&quot;</span>);<br>        <span class="hljs-comment">// è‡ªåŠ¨å¡«å……é…ç½®</span><br>        TableFill gmtCreate = <span class="hljs-keyword">new</span> TableFill(<span class="hljs-string">&quot;gmt_create&quot;</span>, FieldFill.INSERT);  <span class="hljs-comment">//åˆ›å»ºæ—¶é—´</span><br>        TableFill gmtModified = <span class="hljs-keyword">new</span> TableFill(<span class="hljs-string">&quot;gmt_modified&quot;</span>, FieldFill.INSERT_UPDATE); <span class="hljs-comment">//ä¿®æ”¹æ—¶é—´</span><br>        ArrayList&lt;TableFill&gt; tableFills = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>        tableFills.add(gmtCreate);<br>        tableFills.add(gmtModified);<br>        strategy.setTableFillList(tableFills);<br><br>        <span class="hljs-comment">// ä¹è§‚é”  versionæ˜¯æ•°æ®åº“çš„å­—æ®µ ç”¨æ¥è®¾ç½®ä¹è§‚é”çš„ç‰ˆæœ¬  é»˜è®¤1 ç‰ˆæœ¬æ›´æ–°ä¸€æ¬¡ ç‰ˆæœ¬åŠ 1ä¸€æ¬¡</span><br>        strategy.setVersionFieldName(<span class="hljs-string">&quot;version&quot;</span>);<br>        <span class="hljs-comment">//å¼€å¯é©¼å³°å‘½åæ ¼å¼</span><br>        strategy.setRestControllerStyle(<span class="hljs-keyword">true</span>);<br>        <span class="hljs-comment">//controllerçš„è®¾ç½®ï¼Œå¦‚:localhost:8080/hello_id_2</span><br>        strategy.setControllerMappingHyphenStyle(<span class="hljs-keyword">true</span>);<br>        <span class="hljs-comment">// localhost:8080/hello_id_2</span><br>        mpg.setStrategy(strategy);<br>        mpg.execute();<br>        <span class="hljs-comment">//æ‰§è¡Œ</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/java/SpringBoot/SpringBoot%E5%BC%80%E5%8F%91%E5%AE%9E%E7%94%A8%E7%AF%87/"/>
    <url>/2022/09/08/java/SpringBoot/SpringBoot%E5%BC%80%E5%8F%91%E5%AE%9E%E7%94%A8%E7%AF%87/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/java/SpringBoot/%E5%90%8E%E7%AB%AF%E5%9B%9B%E5%B1%82/"/>
    <url>/2022/09/08/java/SpringBoot/%E5%90%8E%E7%AB%AF%E5%9B%9B%E5%B1%82/</url>
    
    <content type="html"><![CDATA[<h4 id="1ã€æ•°æ®è®¿é—®å±‚ï¼ˆDao-å±‚ï¼‰â€”â€”-è®¿é—®æ•°æ®åº“"><a href="#1ã€æ•°æ®è®¿é—®å±‚ï¼ˆDao-å±‚ï¼‰â€”â€”-è®¿é—®æ•°æ®åº“" class="headerlink" title="1ã€æ•°æ®è®¿é—®å±‚ï¼ˆDao å±‚ï¼‰â€”â€” è®¿é—®æ•°æ®åº“"></a>1ã€æ•°æ®è®¿é—®å±‚ï¼ˆDao å±‚ï¼‰â€”â€” è®¿é—®æ•°æ®åº“</h4><h4 id="2ã€æœåŠ¡å±‚ï¼ˆService-å±‚ï¼‰â€”â€”-è°ƒç”¨æ•°æ®å±‚å®Œæˆä¸šåŠ¡åŠŸèƒ½ï¼ŒAOP"><a href="#2ã€æœåŠ¡å±‚ï¼ˆService-å±‚ï¼‰â€”â€”-è°ƒç”¨æ•°æ®å±‚å®Œæˆä¸šåŠ¡åŠŸèƒ½ï¼ŒAOP" class="headerlink" title="2ã€æœåŠ¡å±‚ï¼ˆService å±‚ï¼‰â€”â€” è°ƒç”¨æ•°æ®å±‚å®Œæˆä¸šåŠ¡åŠŸèƒ½ï¼ŒAOP"></a>2ã€æœåŠ¡å±‚ï¼ˆService å±‚ï¼‰â€”â€” è°ƒç”¨æ•°æ®å±‚å®Œæˆä¸šåŠ¡åŠŸèƒ½ï¼ŒAOP</h4><h4 id="3ã€æ§åˆ¶å±‚ï¼ˆController-å±‚ï¼‰"><a href="#3ã€æ§åˆ¶å±‚ï¼ˆController-å±‚ï¼‰" class="headerlink" title="3ã€æ§åˆ¶å±‚ï¼ˆController å±‚ï¼‰"></a>3ã€æ§åˆ¶å±‚ï¼ˆController å±‚ï¼‰</h4><h4 id="4ã€è¡¨ç°å±‚ï¼ˆä¹Ÿå¯ä»¥ç®—ä½œå‰ç«¯èŒƒç•´ï¼‰â€”â€”-ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’"><a href="#4ã€è¡¨ç°å±‚ï¼ˆä¹Ÿå¯ä»¥ç®—ä½œå‰ç«¯èŒƒç•´ï¼‰â€”â€”-ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’" class="headerlink" title="4ã€è¡¨ç°å±‚ï¼ˆä¹Ÿå¯ä»¥ç®—ä½œå‰ç«¯èŒƒç•´ï¼‰â€”â€” ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’"></a>4ã€è¡¨ç°å±‚ï¼ˆä¹Ÿå¯ä»¥ç®—ä½œå‰ç«¯èŒƒç•´ï¼‰â€”â€” ä¸ç”¨æˆ·è¿›è¡Œäº¤äº’</h4>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/java/SpringBoot/%E5%86%85%E5%AE%B9%E6%A8%A1%E5%9D%97%E5%88%92%E5%88%86/"/>
    <url>/2022/09/08/java/SpringBoot/%E5%86%85%E5%AE%B9%E6%A8%A1%E5%9D%97%E5%88%92%E5%88%86/</url>
    
    <content type="html"><![CDATA[<table><thead><tr><th align="center">è¯¾ç¨‹å•å…ƒ</th><th align="left">å­¦ä¹ ç›®æ ‡</th></tr></thead><tbody><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td align="left">èƒ½å¤Ÿåˆ›å»ºSpringBootå·¥ç¨‹<br>åŸºäºSpringBootå®ç°ssm/ssmpæ•´åˆ</td></tr><tr><td align="center"><strong>åº”ç”¨ç¯‡</strong></td><td align="left">èƒ½å¤ŸæŒæ¡SpringBootç¨‹åºå¤šç¯å¢ƒå¼€å‘<br>èƒ½å¤ŸåŸºäºLinuxç³»ç»Ÿå‘å¸ƒSpringBootå·¥ç¨‹<br>èƒ½å¤Ÿè§£å†³çº¿ä¸Šçµæ´»é…ç½®SpringBootå·¥ç¨‹çš„éœ€æ±‚<br>èƒ½å¤ŸåŸºäºSpringBootæ•´åˆä»»æ„ç¬¬ä¸‰æ–¹æŠ€æœ¯</td></tr><tr><td align="center"><strong>åŸç†ç¯‡</strong></td><td align="left">æŒæ¡SpringBootå†…éƒ¨å·¥ä½œæµç¨‹<br>ç†è§£SpringBootæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯çš„åŸç†<br>å®ç°è‡ªå®šä¹‰å¼€å‘æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯çš„ç»„ä»¶</td></tr><tr><td align="center"><strong>ç•ªå¤–ç¯‡</strong></td><td align="left">æŒæ¡SpringBootæ•´åˆéå¸¸è§çš„ç¬¬ä¸‰æ–¹æŠ€æœ¯<br>æŒæ¡ç›¸åŒé¢†åŸŸçš„æ›´å¤šçš„è§£å†³æ–¹æ¡ˆï¼Œå¹¶æå‡åŒé¢†åŸŸæ–¹æ¡ˆè®¾è®¡èƒ½åŠ›</td></tr></tbody></table><p><strong>è¯¾ç¨‹å‰ç½®çŸ¥è¯†</strong>ï¼š</p><table><thead><tr><th align="center">è¯¾ç¨‹å•å…ƒ</th><th>å‰ç½®çŸ¥è¯†</th><th>è¦æ±‚</th></tr></thead><tbody><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>JavaåŸºç¡€è¯­æ³•</td><td>é¢å‘å¯¹è±¡ï¼Œå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼Œç±»ä¸æ¥å£ï¼Œé›†åˆï¼ŒIOï¼Œç½‘ç»œç¼–ç¨‹ç­‰</td></tr><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>Springä¸SpringMVC</td><td>çŸ¥é“Springæ˜¯ç”¨æ¥ç®¡ç†beanï¼Œèƒ½å¤ŸåŸºäºRestfulå®ç°é¡µé¢è¯·æ±‚äº¤äº’åŠŸèƒ½</td></tr><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>Mybatisä¸Mybatis-Plus</td><td>åŸºäºMybatiså’ŒMybatisPlusèƒ½å¤Ÿå¼€å‘å‡ºåŒ…å«åŸºç¡€CRUDåŠŸèƒ½çš„æ ‡å‡†Daoæ¨¡å—</td></tr><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>æ•°æ®åº“MySQL</td><td>èƒ½å¤Ÿè¯»æ‡‚åŸºç¡€CRUDåŠŸèƒ½çš„SQLè¯­å¥</td></tr><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>æœåŠ¡å™¨</td><td>çŸ¥é“æœåŠ¡å™¨ä¸webå·¥ç¨‹çš„å…³ç³»ï¼Œç†Ÿæ‚‰webæœåŠ¡å™¨çš„åŸºç¡€é…ç½®</td></tr><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>maven</td><td>çŸ¥é“mavençš„ä¾èµ–å…³ç³»ï¼ŒçŸ¥é“ä»€ä¹ˆæ˜¯ä¾èµ–èŒƒå›´ï¼Œä¾èµ–ä¼ é€’ï¼Œæ’é™¤ä¾èµ–ï¼Œå¯é€‰ä¾èµ–ï¼Œç»§æ‰¿</td></tr><tr><td align="center"><strong>åŸºç¡€ç¯‡</strong></td><td>webæŠ€æœ¯ï¼ˆå«vueï¼ŒElementUI)</td><td>çŸ¥é“vueå¦‚ä½•å‘é€ajaxè¯·æ±‚ï¼Œå¦‚ä½•è·å–å“åº”æ•°æ®ï¼Œå¦‚ä½•è¿›è¡Œæ•°æ®æ¨¡å‹åŒå‘ç»‘å®š</td></tr><tr><td align="center"><strong>åº”ç”¨ç¯‡</strong></td><td>Linuxï¼ˆCenterOS7ï¼‰</td><td>ç†Ÿæ‚‰å¸¸ç”¨çš„LinuxåŸºç¡€æŒ‡ä»¤ï¼Œç†Ÿæ‚‰Linuxç³»ç»Ÿç›®å½•ç»“æ„</td></tr><tr><td align="center"><strong>åº”ç”¨ç¯‡</strong></td><td>å®ç”¨å¼€å‘æŠ€æœ¯</td><td>ç¼“å­˜ï¼šRedisã€MongoDBã€â€¦â€¦ <br>æ¶ˆæ¯ä¸­é—´ä»¶:RocketMqã€RabbitMqã€â€¦â€¦</td></tr><tr><td align="center"><strong>åŸç†ç¯‡</strong></td><td>Spring</td><td>äº†è§£SpringåŠ è½½beançš„å„ç§æ–¹å¼<br>çŸ¥é“Springå®¹å™¨åº•å±‚å·¥ä½œåŸç†ï¼Œèƒ½å¤Ÿé˜…è¯»ç®€å•çš„Springåº•å±‚æºç </td></tr></tbody></table>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/java/SpringBoot/SpringBoot%E5%9F%BA%E7%A1%80%E7%AF%87/"/>
    <url>/2022/09/08/java/SpringBoot/SpringBoot%E5%9F%BA%E7%A1%80%E7%AF%87/</url>
    
    <content type="html"><![CDATA[<h1 id="SpringBootåŸºç¡€ç¯‡"><a href="#SpringBootåŸºç¡€ç¯‡" class="headerlink" title="SpringBootåŸºç¡€ç¯‡"></a>SpringBootåŸºç¡€ç¯‡</h1><p>åœ¨åŸºç¡€ç¯‡ä¸­ï¼Œæˆ‘ç»™å­¦ä¹ è€…çš„å®šä½æ˜¯å…ˆä¸Šæ‰‹ï¼Œèƒ½å¤Ÿä½¿ç”¨SpringBootæ­å»ºåŸºäºSpringBootçš„webé¡¹ç›®å¼€å‘ï¼Œæ‰€ä»¥å†…å®¹è®¾ç½®è¾ƒå°‘ï¼Œä¸»è¦åŒ…å«å¦‚ä¸‹å†…å®¹ï¼š</p><ul><li>SpringBootå¿«é€Ÿå…¥é—¨</li><li>SpringBootåŸºç¡€é…ç½®</li><li>åŸºäºSpringBootæ•´åˆSSMP</li></ul><h2 id="1-å¿«é€Ÿä¸Šæ‰‹SpringBoot"><a href="#1-å¿«é€Ÿä¸Šæ‰‹SpringBoot" class="headerlink" title="1.å¿«é€Ÿä¸Šæ‰‹SpringBoot"></a>1.å¿«é€Ÿä¸Šæ‰‹SpringBoot</h2><p>å­¦ä¹ ä»»æ„ä¸€é¡¹æŠ€æœ¯ï¼Œé¦–å…ˆè¦çŸ¥é“è¿™ä¸ªæŠ€æœ¯çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œä¸ç„¶å­¦å®Œä»¥åï¼Œä½ éƒ½ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä½¿ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯æŠ€æœ¯å¯¹åº”çš„åº”ç”¨åœºæ™¯ã€‚SpringBootæŠ€æœ¯ç”±Pivotalå›¢é˜Ÿç ”å‘åˆ¶ä½œï¼ŒåŠŸèƒ½çš„è¯ç®€å•æ¦‚æ‹¬å°±æ˜¯åŠ é€ŸSpringç¨‹åºçš„å¼€å‘ï¼Œè¿™ä¸ªåŠ é€Ÿè¦ä»å¦‚ä¸‹ä¸¤ä¸ªæ–¹é¢æ¥è¯´</p><ul><li>Springç¨‹åºåˆå§‹æ­å»ºè¿‡ç¨‹</li><li>Springç¨‹åºçš„å¼€å‘è¿‡ç¨‹</li></ul><p>â€‹    é€šè¿‡ä¸Šé¢ä¸¤ä¸ªæ–¹é¢çš„å®šä½ï¼Œæˆ‘ä»¬å¯ä»¥äº§ç”Ÿä¸¤ä¸ªæ¨¡ç³Šçš„æ¦‚å¿µï¼š</p><ol><li>SpringBootå¼€å‘å›¢é˜Ÿè®¤ä¸ºåŸå§‹çš„Springç¨‹åºåˆå§‹æ­å»ºçš„æ—¶å€™å¯èƒ½æœ‰äº›ç¹çï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¯ä»¥ç®€åŒ–çš„ï¼Œé‚£åŸå§‹çš„Springç¨‹åºåˆå§‹æ­å»ºè¿‡ç¨‹éƒ½åŒ…å«å“ªäº›ä¸œè¥¿äº†å‘¢ï¼Ÿä¸ºä»€ä¹ˆè§‰å¾—ç¹çå‘¢ï¼Ÿæœ€åŸºæœ¬çš„Springç¨‹åºè‡³å°‘æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶æˆ–é…ç½®ç±»ï¼Œç”¨æ¥æè¿°Springçš„é…ç½®ä¿¡æ¯ï¼Œè«éè¿™ä¸ªæ–‡ä»¶éƒ½å¯ä»¥ä¸å†™ï¼Ÿæ­¤å¤–ç°åœ¨ä¼ä¸šçº§å¼€å‘ä½¿ç”¨Springå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯åšwebå¼€å‘ï¼Œå¦‚æœåšwebå¼€å‘çš„è¯ï¼Œè¿˜è¦åœ¨åŠ è½½webç¯å¢ƒæ—¶åŠ è½½æ—¶åŠ è½½æŒ‡å®šçš„springé…ç½®ï¼Œè¿™éƒ½æ˜¯æœ€åŸºæœ¬çš„éœ€æ±‚äº†ï¼Œä¸å†™çš„è¯æ€ä¹ˆçŸ¥é“åŠ è½½å“ªä¸ªé…ç½®æ–‡ä»¶/é…ç½®ç±»å‘¢ï¼Ÿé‚£æ¢äº†SpringBootæŠ€æœ¯ä»¥åå‘¢ï¼Œè¿™äº›è¿˜è¦å†™å—ï¼Ÿè°œåº•ç¨åæ­æ™“ï¼Œå…ˆå–ä¸ªå…³å­</li><li>SpringBootå¼€å‘å›¢é˜Ÿè®¤ä¸ºåŸå§‹çš„Springç¨‹åºå¼€å‘çš„è¿‡ç¨‹ä¹Ÿæœ‰äº›ç¹çï¼Œè¿™ä¸ªè¿‡ç¨‹ä»ç„¶å¯ä»¥ç®€åŒ–ã€‚å¼€å‘è¿‡ç¨‹æ— å¤–ä¹ä½¿ç”¨ä»€ä¹ˆæŠ€æœ¯ï¼Œå¯¼å…¥å¯¹åº”çš„jaråŒ…ï¼ˆæˆ–åæ ‡ï¼‰ç„¶åå°†è¿™ä¸ªæŠ€æœ¯çš„æ ¸å¿ƒå¯¹è±¡äº¤ç»™Springå®¹å™¨ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯é…ç½®æˆSpringå®¹å™¨ç®¡æ§çš„beanå°±å¯ä»¥äº†ã€‚è¿™éƒ½æ˜¯åŸºæœ¬æ“ä½œå•Šï¼Œéš¾é“è¿™äº›ä¸œè¥¿SpringBootä¹Ÿèƒ½å¸®æˆ‘ä»¬ç®€åŒ–ï¼Ÿ</li></ol><p>â€‹    å¸¦ç€ä¸Šé¢è¿™äº›ç–‘é—®æˆ‘ä»¬å°±ç€æ‰‹ç¬¬ä¸€ä¸ªSpringBootç¨‹åºçš„å¼€å‘äº†ï¼Œçœ‹çœ‹åˆ°åº•ä½¿ç”¨SpringBootæŠ€æœ¯èƒ½ç®€åŒ–å¼€å‘åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚</p><h3 id="1-1-SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆä¸€ï¼‰"><a href="#1-1-SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆä¸€ï¼‰" class="headerlink" title="1-1.SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆä¸€ï¼‰"></a>1-1.SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆä¸€ï¼‰</h3><p>ä¸‹é¢ä½¿ç”¨SpringBootæŠ€æœ¯å¿«é€Ÿæ„å»ºä¸€ä¸ªSpringMVCçš„ç¨‹åºï¼Œé€šè¿‡è¿™ä¸ªè¿‡ç¨‹ä½“ä¼š<font color="#ff0000"><b>ç®€åŒ–</b></font>äºŒå­—çš„å«ä¹‰</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šåˆ›å»ºæ–°æ¨¡å—ï¼Œé€‰æ‹©Spring Initializrï¼Œå¹¶é…ç½®æ¨¡å—ç›¸å…³åŸºç¡€ä¿¡æ¯</p><p><img src="/.io//img%5Cimage-20211116125259385.png" alt="image-20211116125259385"></p><p>â€‹    <font color="#ff0000"><b>ç‰¹åˆ«å…³æ³¨</b></font>ï¼šç¬¬3æ­¥ç‚¹å‡»Nextæ—¶ï¼ŒIdeaéœ€è¦è”ç½‘çŠ¶æ€æ‰å¯ä»¥è¿›å…¥åˆ°åé¢é‚£ä¸€é¡µï¼Œå¦‚æœä¸èƒ½æ­£å¸¸è”ç½‘ï¼Œå°±æ— æ³•æ­£ç¡®åˆ°è¾¾å³é¢é‚£ä¸ªè®¾ç½®é¡µäº†ï¼Œä¼šä¸€ç›´<font color="#ff0000"><b>è”ç½‘</b></font>è½¬è½¬è½¬</p><p>â€‹    <font color="#ff0000"><b>ç‰¹åˆ«å…³æ³¨</b></font>ï¼šç¬¬5æ­¥é€‰æ‹©javaç‰ˆæœ¬å’Œä½ è®¡ç®—æœºä¸Šå®‰è£…çš„JDKç‰ˆæœ¬åŒ¹é…å³å¯ï¼Œä½†æ˜¯æœ€ä½è¦æ±‚ä¸ºJDK8æˆ–ä»¥ä¸Šç‰ˆæœ¬ï¼Œæ¨èä½¿ç”¨8æˆ–11</p><p>Mineï¼š</p><img src="/.io//image-20220512004243909.png" alt="image-20220512004243909" style="zoom:33%;"><p><strong>æ­¥éª¤â‘¡</strong>ï¼šé€‰æ‹©å½“å‰æ¨¡å—éœ€è¦ä½¿ç”¨çš„æŠ€æœ¯é›†</p><p><img src="/.io//img%5Cimage-20211116125615728.png" alt="image-20211116125615728"></p><p>æŒ‰ç…§è¦æ±‚ï¼Œå·¦ä¾§é€‰æ‹©webï¼Œç„¶ååœ¨ä¸­é—´é€‰æ‹©Spring Webå³å¯ï¼Œé€‰å®Œå³ä¾§å°±å‡ºç°äº†æ–°çš„å†…å®¹é¡¹ï¼Œè¿™å°±è¡¨ç¤ºå‹¾é€‰æˆåŠŸ</p><p><font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šæ­¤å¤„é€‰æ‹©çš„SpringBootçš„ç‰ˆæœ¬ä½¿ç”¨é»˜è®¤çš„å°±å¯ä»¥äº†ï¼Œéœ€è¦è¯´ä¸€ç‚¹ï¼ŒSpringBootçš„ç‰ˆæœ¬å‡çº§é€Ÿåº¦å¾ˆå¿«ï¼Œå¯èƒ½æ˜¨å¤©åˆ›å»ºå·¥ç¨‹çš„æ—¶å€™é»˜è®¤ç‰ˆæœ¬æ˜¯<strong>2.5.4</strong>ï¼Œä»Šå¤©å†åˆ›å»ºå·¥ç¨‹é»˜è®¤ç‰ˆæœ¬å°±å˜æˆ2.5.5äº†ï¼Œå·®åˆ«ä¸å¤§ï¼Œæ— éœ€è¿‡äºçº ç»“ï¼Œå›å¤´å¯ä»¥åˆ°é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å¯¹åº”çš„ç‰ˆæœ¬</p><p>Mineï¼š</p><img src="/.io//image-20220512003351823.png" alt="image-20220512003351823" style="zoom:33%;"><p><strong>æ­¥éª¤â‘¢</strong>ï¼šå¼€å‘æ§åˆ¶å™¨ç±»</p><img src="/.io//image-20220512005618483.png" alt="image-20220512005618483" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">//Restæ¨¡å¼</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookController</span> </span>&#123;<br>    <span class="hljs-meta">@GetMapping(&quot;/books&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getById</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;springboot is running...&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;springboot is running...&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    å…¥é—¨æ¡ˆä¾‹åˆ¶ä½œçš„SpringMVCçš„æ§åˆ¶å™¨åŸºäºResté£æ ¼å¼€å‘ï¼Œå½“ç„¶æ­¤å¤„ä½¿ç”¨åŸå§‹æ ¼å¼åˆ¶ä½œSpringMVCçš„ç¨‹åºä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä¸Šä¾‹ä¸­çš„@RestControllerä¸@GetMappingæ³¨è§£æ˜¯åŸºäºRestfulå¼€å‘çš„å…¸å‹æ³¨è§£</p><p>â€‹    <font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šåšåˆ°è¿™é‡ŒSpringBootç¨‹åºçš„æœ€åŸºç¡€çš„å¼€å‘å·²ç»åšå®Œäº†ï¼Œç°åœ¨å°±å¯ä»¥æ­£å¸¸çš„è¿è¡ŒSpringç¨‹åºäº†ã€‚å¯èƒ½æœ‰äº›å°ä¼™ä¼´ä¼šæœ‰ç–‘æƒ‘ï¼ŒTomcatæœåŠ¡å™¨æ²¡æœ‰é…ç½®ï¼ŒSpringä¹Ÿæ²¡æœ‰é…ç½®ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰é…ç½®è¿™å°±èƒ½ç”¨å—ï¼Ÿè¿™å°±æ˜¯SpringBootæŠ€æœ¯çš„å¼ºå¤§ä¹‹å¤„ã€‚ï¼ˆSpringbootå·²ç»å†…ç½®äº†Tomcatï¼‰</p><p><strong>æ­¥éª¤â‘£</strong>ï¼šè¿è¡Œè‡ªåŠ¨ç”Ÿæˆçš„Applicationç±»</p><p><img src="/.io//img%5Cimage-20211116130152452.png" alt="image-20211116130152452"></p><p>ä½¿ç”¨å¸¦mainæ–¹æ³•çš„javaç¨‹åºçš„è¿è¡Œå½¢å¼æ¥è¿è¡Œç¨‹åºï¼Œè¿è¡Œå®Œæ¯•åï¼Œæ§åˆ¶å°è¾“å‡ºä¸Šè¿°ä¿¡æ¯ã€‚</p><p>ä¸éš¾çœ‹å‡ºï¼Œè¿è¡Œçš„ä¿¡æ¯ä¸­åŒ…å«äº†8080çš„ç«¯å£ï¼ŒTomcatè¿™ç§ç†Ÿæ‚‰çš„å­—æ ·ï¼Œéš¾é“è¿™é‡Œå¯åŠ¨äº†TomcatæœåŠ¡å™¨ï¼Ÿæ˜¯çš„ï¼Œè¿™é‡Œå·²ç»å¯åŠ¨äº†ã€‚é‚£æœåŠ¡å™¨æ²¡æœ‰é…ç½®ï¼Œå“ªé‡Œæ¥çš„å‘¢ï¼Ÿåé¢å†è¯´ã€‚ç°åœ¨ä½ å°±å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®è¯·æ±‚çš„è·¯å¾„ï¼Œæµ‹è¯•åŠŸèƒ½æ˜¯å¦å·¥ä½œæ­£å¸¸äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">è®¿é—®è·¯å¾„ï¼šhttp:<span class="hljs-comment">//localhost:8080/books</span><br></code></pre></td></tr></table></figure><p>æ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆç¥å¥‡ï¼Ÿç›®å‰çš„æ•ˆæœå…¶å®ä¾èµ–çš„åº•å±‚é€»è¾‘è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œä½†æ˜¯ä»å¼€å‘è€…è§’åº¦æ¥çœ‹ï¼Œç›®å‰åªæœ‰ä¸¤ä¸ªæ–‡ä»¶å±•ç°åˆ°äº†å¼€å‘è€…é¢å‰</p><ul><li><p>pom.xml</p><p>â€‹    è¿™æ˜¯mavençš„é…ç½®æ–‡ä»¶ï¼Œæè¿°äº†å½“å‰å·¥ç¨‹æ„å»ºæ—¶ç›¸åº”çš„é…ç½®ä¿¡æ¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.itheima<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springboot_01_01_quickstart<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é…ç½®ä¸­æœ‰ä¸¤ä¸ªä¿¡æ¯éœ€è¦å…³æ³¨ï¼Œä¸€ä¸ªæ˜¯parentï¼Œä¹Ÿå°±æ˜¯å½“å‰å·¥ç¨‹ç»§æ‰¿äº†å¦å¤–ä¸€ä¸ªå·¥ç¨‹ï¼Œå¹²ä»€ä¹ˆç”¨çš„åé¢å†è¯´ï¼Œè¿˜æœ‰ä¾èµ–åæ ‡ï¼Œå¹²ä»€ä¹ˆç”¨çš„åé¢å†è¯´</p></li><li><p>Applicationç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SpringApplication.run(Application.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç±»åŠŸèƒ½å¾ˆç®€å•ï¼Œå°±ä¸€å¥ä»£ç ï¼Œå‰é¢è¿è¡Œç¨‹åºå°±æ˜¯è¿è¡Œçš„è¿™ä¸ªç±»</p></li></ul><p>â€‹    åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¤§èƒ†æ¨æµ‹ä¸€ä¸‹ï¼Œå¦‚æœä¸Šé¢è¿™ä¸¤ä¸ªæ–‡ä»¶æ²¡æœ‰çš„è¯ï¼ŒSpringBootè‚¯å®šæ²¡æ³•ç©ï¼Œçœ‹æ¥æ ¸å¿ƒå°±æ˜¯è¿™ä¸¤ä¸ªæ–‡ä»¶äº†ã€‚ç”±äºæ˜¯åˆ¶ä½œç¬¬ä¸€ä¸ªSpringBootç¨‹åºï¼Œå…ˆä¸è¦å…³æ³¨è¿™ä¸¤ä¸ªæ–‡ä»¶çš„åŠŸèƒ½ï¼Œåé¢è¯¦ç»†è®²è§£å†…éƒ¨å·¥ä½œæµç¨‹ã€‚</p><p>â€‹    é€šè¿‡ä¸Šé¢çš„åˆ¶ä½œï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼ŒSpringBootç¨‹åºç®€ç›´å¤ªå¥½å†™äº†ï¼Œå‡ ä¹ä»€ä¹ˆéƒ½æ²¡å†™ï¼ŒåŠŸèƒ½å°±æœ‰äº†ï¼Œè¿™ä¹Ÿæ˜¯SpringBootæŠ€æœ¯ä¸ºä»€ä¹ˆç°åœ¨è¿™ä¹ˆç«çš„åŸå› ï¼Œå’ŒSpirngç¨‹åºç›¸æ¯”ï¼ŒSpringBootç¨‹åºåœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­å„ä¸ªå±‚é¢å‡å…·æœ‰ä¼˜åŠ¿</p><table><thead><tr><th><strong>ç±»é…ç½®æ–‡ä»¶</strong></th><th><strong>Spring</strong></th><th><strong>SpringBoot</strong></th></tr></thead><tbody><tr><td>pomæ–‡ä»¶ä¸­çš„åæ ‡</td><td><strong>æ‰‹å·¥æ·»åŠ </strong></td><td><strong>å‹¾é€‰æ·»åŠ </strong></td></tr><tr><td>web3.0é…ç½®ç±»</td><td><strong>æ‰‹å·¥åˆ¶ä½œ</strong></td><td><strong>æ— </strong></td></tr><tr><td>Spring/SpringMVCé…ç½®ç±»</td><td><strong>æ‰‹å·¥åˆ¶ä½œ</strong></td><td><strong>æ— </strong></td></tr><tr><td>æ§åˆ¶å™¨</td><td><strong>æ‰‹å·¥åˆ¶ä½œ</strong></td><td><strong>æ‰‹å·¥åˆ¶ä½œ</strong></td></tr></tbody></table><p>â€‹    ä¸€å¥è¯æ€»ç»“ä¸€ä¸‹å°±æ˜¯<font color="#ff0000"><b>èƒ½å°‘å†™å°±å°‘å†™</b></font>ï¼Œ<font color="#ff0000"><b>èƒ½ä¸å†™å°±ä¸å†™</b></font>ï¼Œè¿™å°±æ˜¯SpringBootæŠ€æœ¯ç»™æˆ‘ä»¬å¸¦æ¥çš„å¥½å¤„ï¼Œè¡Œäº†ï¼Œç°åœ¨ä½ å°±å¯ä»¥åŠ¨æ‰‹åšä¸€åšSpringBootç¨‹åºäº†ï¼Œçœ‹çœ‹æ•ˆæœå¦‚ä½•ï¼Œæ˜¯å¦çœŸçš„å¸®åŠ©ä½ ç®€åŒ–å¼€å‘äº†</p><p><strong>æ€»ç»“</strong></p><ol><li>å¼€å‘SpringBootç¨‹åºå¯ä»¥æ ¹æ®å‘å¯¼è¿›è¡Œè”ç½‘å¿«é€Ÿåˆ¶ä½œ</li><li>SpringBootç¨‹åºéœ€è¦åŸºäºJDK8ä»¥ä¸Šç‰ˆæœ¬è¿›è¡Œåˆ¶ä½œ</li><li>SpringBootç¨‹åºä¸­éœ€è¦ä½¿ç”¨ä½•ç§åŠŸèƒ½é€šè¿‡å‹¾é€‰é€‰æ‹©æŠ€æœ¯ï¼Œä¹Ÿå¯ä»¥æ‰‹å·¥æ·»åŠ å¯¹åº”çš„è¦ä½¿ç”¨çš„æŠ€æœ¯ï¼ˆåæœŸè®²è§£ï¼‰</li><li>è¿è¡ŒSpringBootç¨‹åºé€šè¿‡è¿è¡ŒApplicationç¨‹åºå…¥å£è¿›è¡Œ</li></ol><p><strong>æ€è€ƒ</strong></p><p>â€‹    å‰é¢åˆ¶ä½œçš„æ—¶å€™è¯´è¿‡ï¼Œè¿™ä¸ªè¿‡ç¨‹å¿…é¡»è”ç½‘æ‰å¯ä»¥è¿›è¡Œï¼Œä½†æ˜¯æœ‰äº›æ—¶å€™ä½ ä¼šé‡åˆ°ä¸€äº›è«åå…¶å¦™çš„é—®é¢˜ï¼Œæ¯”å¦‚åŸºäºIdeaå¼€å‘æ—¶ï¼Œä½ ä¼šå‘ç°ä½ é…ç½®äº†ä¸€äº›åæ ‡ï¼Œç„¶åMavenä¸‹è½½å¯¹åº”ä¸œè¥¿çš„æ—¶å€™æ­»æ…¢æ­»æ…¢çš„ï¼Œç”šè‡³è¿˜ä¼šå¤±è´¥ã€‚å…¶å®è¿™å’ŒIdeaè¿™æ¬¾IDEå·¥å…·æœ‰å…³ï¼Œä¸‡ä¸€Ideaä¸èƒ½æ­£å¸¸è®¿é—®ç½‘ç»œçš„è¯ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å°±æ— æ³•åˆ¶ä½œSpringBootç¨‹åºäº†å‘¢ï¼Ÿå’±ä»¬ä¸‹ä¸€èŠ‚å†è¯´</p><h3 id="1-2-SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆäºŒï¼‰"><a href="#1-2-SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆäºŒï¼‰" class="headerlink" title="1-2.SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆäºŒï¼‰"></a>1-2.SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆäºŒï¼‰</h3><p>â€‹    <strong>å¦‚æœIdeaä¸èƒ½æ­£å¸¸è”ç½‘</strong>ï¼Œè¿™ä¸ªSpringBootç¨‹åºå°±æ— æ³•åˆ¶ä½œäº†å—ï¼Ÿå¼€ä»€ä¹ˆç©ç¬‘ï¼Œä¸–ä¸ŠIDEå·¥å…·åƒåƒä¸‡ï¼Œéš¾é“SpringBootæŠ€æœ¯è¿˜å¿…é¡»åŸºäºIdeaæ¥åšäº†ï¼Ÿè¿™æ˜¯ä¸å¯èƒ½çš„ã€‚å¼€å‘SpringBootç¨‹åºï¼Œå¯ä»¥ä¸åŸºäºä»»æ„çš„IDEå·¥å…·è¿›è¡Œï¼Œå…¶å®åœ¨SpringBootçš„å®˜ç½‘é‡Œé¢å°±å¯ä»¥ç›´æ¥åˆ›å»ºSpringBootç¨‹åº</p><p>â€‹    SpringBootå®˜ç½‘å’ŒSpringçš„å®˜ç½‘æ˜¯åœ¨ä¸€èµ·çš„ï¼Œéƒ½æ˜¯  spring.ioã€‚ä½ å¯ä»¥é€šè¿‡é¡¹ç›®ä¸€çº§ä¸€çº§çš„æ‰¾åˆ°SpringBootæŠ€æœ¯çš„ä»‹ç»é¡µï¼Œç„¶ååœ¨é¡µé¢ä¸­é—´éƒ¨ä½æ‰¾åˆ°å¦‚ä¸‹å†…å®¹</p><img src="/.io//image-20211122150444816.png" alt="image-20211122150444816" style="zoom: 67%;"><p><strong>æ­¥éª¤â‘ </strong>ï¼šç‚¹å‡»Spring Initializråè¿›å…¥åˆ°åˆ›å»ºSpringBootç¨‹åºçš„ç•Œé¢ä¸Šï¼Œä¸‹é¢æ˜¯è¾“å…¥ä¿¡æ¯çš„è¿‡ç¨‹ï¼Œå’Œå‰é¢çš„ä¸€æ ·ï¼Œåªæ˜¯ç•Œé¢å˜äº†è€Œå·²ï¼Œæ ¹æ®è‡ªå·±çš„è¦æ±‚ï¼Œåœ¨å·¦ä¾§é€‰æ‹©å¯¹åº”ä¿¡æ¯å’Œè¾“å…¥å¯¹åº”çš„ä¿¡æ¯å³å¯</p><img src="/.io//image-20211122150608039.png" alt="image-20211122150608039"><p><strong>æ­¥éª¤â‘¡</strong>ï¼šå³ä¾§çš„ADD DEPENDENCIESç”¨äºé€‰æ‹©ä½¿ç”¨ä½•ç§æŠ€æœ¯ï¼Œå’Œä¹‹å‰å‹¾é€‰çš„Spring WEBæ˜¯åœ¨åšåŒä¸€ä»¶äº‹ï¼Œä»…ä»…æ˜¯ç•Œé¢ä¸åŒè€Œå·²ï¼Œç‚¹å‡»åæ‰“å¼€ç½‘é¡µç‰ˆçš„æŠ€æœ¯é€‰æ‹©ç•Œé¢</p><img src="/.io//image-20211122161257361.png" alt="image-20211122161257361" style="zoom:50%;"><p><strong>æ­¥éª¤â‘¢</strong>ï¼šæ‰€æœ‰ä¿¡æ¯è®¾ç½®å®Œæ¯•åï¼Œç‚¹å‡»ä¸‹é¢å·¦ä¾§æŒ‰é’®ï¼Œç”Ÿæˆä¸€ä¸ªæ–‡ä»¶åŒ…</p><p><strong>æ­¥éª¤â‘£</strong>ï¼šä¿å­˜åå¾—åˆ°ä¸€ä¸ªå‹ç¼©æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ‰“å¼€åå°±æ˜¯åˆ›å»ºçš„SpringBootå·¥ç¨‹æ–‡ä»¶å¤¹äº†        </p><p><strong>æ­¥éª¤â‘¤</strong>ï¼šè§£å‹ç¼©æ­¤æ–‡ä»¶åï¼Œå¾—åˆ°å·¥ç¨‹ç›®å½•ï¼Œåœ¨Ideaä¸­å¯¼å…¥å³å¯ä½¿ç”¨ï¼Œå’Œä¹‹å‰åˆ›å»ºçš„ä¸œè¥¿å®Œå…¨ä¸€æ ·ã€‚ä¸‹é¢å°±å¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªControlleræµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½ç”¨äº†ã€‚</p><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹    åšåˆ°è¿™é‡Œå…¶å®å¯ä»¥é€æ¼ä¸€ä¸ªå°ç§˜å¯†ï¼ŒIdeaå·¥å…·ä¸­åˆ›å»ºSpringBootå·¥ç¨‹å…¶å®è¿æ¥çš„å°±æ˜¯SpringBootçš„å®˜ç½‘ï¼Œèµ°çš„å°±æ˜¯è¿™ä¸ªè¿‡ç¨‹ï¼Œåªä¸è¿‡IdeaæŠŠç•Œé¢ç»™æ•´åˆäº†ä¸€ä¸‹ï¼Œè¯»å–åˆ°äº†Springå®˜ç½‘ç»™çš„ä¿¡æ¯ï¼Œç„¶åå±•ç¤ºåˆ°äº†Ideaçš„ç•Œé¢ä¸­è€Œå·²ï¼Œä¸ä¿¡ä½ å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™ä¸ªæ­¥éª¤</p><img src="/.io//image-20211122162443035.png" alt="image-20211122162443035" style="zoom: 67%;"><p>â€‹    ä¸Šé¢æè¿°äº†è¿æ¥çš„ç½‘å€ï¼Œå†çœ‹çœ‹SpringBootå®˜ç½‘åˆ›å»ºå·¥ç¨‹çš„URLåœ°å€ï¼Œæ˜¯ä¸æ˜¯ä¸€æ ·ï¼Ÿ</p><p><strong>æ€»ç»“</strong></p><ol><li><p>æ‰“å¼€SpringBootå®˜ç½‘ï¼Œé€‰æ‹©Quickstart Your Project</p><img src="/.io//image-20211122150444816.png" alt="image-20211122150444816" style="zoom: 67%;"></li><li><p>åˆ›å»ºå·¥ç¨‹</p><img src="/.io//image-20211122150608039.png" alt="image-20211122150608039"><p>å¹¶ä¿å­˜é¡¹ç›®</p></li><li><p>è§£å‹é¡¹ç›®ï¼Œé€šè¿‡IDEå¯¼å…¥é¡¹ç›®</p></li></ol><p><strong>æ€è€ƒ</strong></p><p>â€‹    ç°åœ¨åˆ›å»ºå·¥ç¨‹é çš„æ˜¯è®¿é—®å›½å¤–çš„Springä¸»ç«™ï¼Œä½†æ˜¯äº’è”ç½‘è®¿é—®æ˜¯å¯ä»¥æ§åˆ¶çš„ï¼Œå¦‚æœä¸€å¤©è¿™ä¸ªç½‘ç«™ä½ åœ¨å›½å†…éƒ½æ— æ³•è®¿é—®äº†ï¼Œé‚£å‰é¢è¿™ä¸¤ç§æ–¹å¼éƒ½æ— æ³•åˆ›å»ºSpringBootå·¥ç¨‹äº†ï¼Œè¿™æ—¶å€™åˆè¯¥æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå’±ä»¬ä¸‹ä¸€èŠ‚å†è¯´</p><h3 id="1-3-SpringBootç¨‹åºåˆ¶ä½œï¼ˆä¸‰ï¼‰ï¼ˆé˜¿é‡Œäº‘ï¼‰"><a href="#1-3-SpringBootç¨‹åºåˆ¶ä½œï¼ˆä¸‰ï¼‰ï¼ˆé˜¿é‡Œäº‘ï¼‰" class="headerlink" title="1-3.SpringBootç¨‹åºåˆ¶ä½œï¼ˆä¸‰ï¼‰ï¼ˆé˜¿é‡Œäº‘ï¼‰"></a>1-3.SpringBootç¨‹åºåˆ¶ä½œï¼ˆä¸‰ï¼‰ï¼ˆé˜¿é‡Œäº‘ï¼‰</h3><p>â€‹    å‰é¢æåˆ°ç½‘ç«™å¦‚æœè¢«é™åˆ¶è®¿é—®äº†ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿå¼€åŠ¨è„‘ç­‹æƒ³ä¸€æƒ³ï¼Œä¸ç®¡æ˜¯æ–¹å¼ä¸€è¿˜æ˜¯æ–¹å¼äºŒå…¶å®éƒ½æ˜¯èµ°çš„åŒä¸€ä¸ªåœ°æ–¹ï¼Œä¹Ÿå°±æ˜¯SpringBootçš„å®˜ç½‘åˆ›å»ºçš„SpringBootå·¥ç¨‹ï¼Œé‚£å¦‚æœæˆ‘ä»¬å›½å†…æœ‰è¿™ä¹ˆä¸€ä¸ªç½‘ç«™èƒ½æä¾›è¿™æ ·çš„åŠŸèƒ½ï¼Œæ˜¯ä¸æ˜¯å°±è§£å†³äº†å‘¢ï¼Ÿå¿…ç„¶çš„å˜›ï¼Œæ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œè¿™ä¸ªå›½å†…çš„ç½‘ç«™æœ‰å—ï¼Ÿè¿˜çœŸæœ‰ï¼Œé˜¿é‡Œæä¾›äº†ä¸€ä¸ªï¼Œä¸‹é¢é—®é¢˜å°±ç®€å•äº†ï¼Œç½‘å€å‘Šè¯‰æˆ‘ä»¬å°±OKäº†ï¼Œæ²¡é”™ï¼Œå°±æ˜¯è¿™æ ·</p><p>â€‹    åˆ›å»ºå·¥ç¨‹æ—¶ï¼Œåˆ‡æ¢é€‰æ‹©starteræœåŠ¡è·¯å¾„ï¼Œç„¶åæ‰‹å·¥æ”¶å…¥é˜¿é‡Œäº‘æä¾›ç»™æˆ‘ä»¬çš„ä½¿ç”¨åœ°å€å³å¯ã€‚åœ°å€ï¼š<a href="http://start.aliyun.comæˆ–https//start.aliyun.com">http://start.aliyun.comæˆ–https://start.aliyun.com</a></p><p><img src="/.io//img%5Cimage-20211122163605950.png" alt="image-20211122163605950"></p><p>â€‹    é˜¿é‡Œä¸ºäº†ä¾¿äºè‡ªå·±å¼€å‘ä½¿ç”¨ï¼Œå› æ­¤åœ¨ä¾èµ–åæ ‡ä¸­æ·»åŠ äº†ä¸€äº›é˜¿é‡Œç›¸å…³çš„æŠ€æœ¯ï¼Œä¹Ÿæ˜¯ä¸ºäº†æ¨å¹¿è‡ªå·±çš„æŠ€æœ¯å§ï¼Œæ‰€ä»¥åœ¨ä¾èµ–é€‰æ‹©åˆ—è¡¨ä¸­ï¼Œä½ æœ‰äº†æ›´å¤šçš„é€‰æ‹©ã€‚ä¸è¿‡æœ‰ä¸€ç‚¹éœ€è¦è¯´æ¸…æ¥šï¼Œé˜¿é‡Œäº‘åœ°å€é»˜è®¤åˆ›å»ºçš„SpringBootå·¥ç¨‹ç‰ˆæœ¬æ˜¯<font color="#ff0000"><b>2.4.1</b></font>ï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³æ›´æ¢å…¶ä»–çš„ç‰ˆæœ¬ï¼Œåˆ›å»ºé¡¹ç›®åæ‰‹å·¥ä¿®æ”¹å³å¯ï¼Œåˆ«å¿˜äº†åˆ·æ–°ä¸€ä¸‹ï¼ŒåŠ è½½æ–°ç‰ˆæœ¬ä¿¡æ¯</p><p><img src="/.io//img%5Cimage-20211122163937408.png" alt="image-20211122163937408"></p><img src="/.io//image-20220512095744293.png" alt="image-20220512095744293" style="zoom: 33%;"><p>â€‹    é˜¿é‡Œäº‘æä¾›çš„åœ°å€æ›´ç¬¦åˆå›½å†…å¼€å‘è€…çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œé‡Œé¢æœ‰ä¸€äº›SpringBootå®˜ç½‘ä¸Šæ²¡æœ‰ç»™å‡ºçš„åæ ‡ï¼Œå¤§å®¶å¯ä»¥å¥½å¥½çœ‹ä¸€çœ‹ã€‚</p><p>â€‹    <font color="#ff0000"><b>æ³¨æ„</b></font>ï¼šé˜¿é‡Œäº‘æä¾›çš„å·¥ç¨‹åˆ›å»ºåœ°å€åˆå§‹åŒ–å®Œæ¯•åå’Œå®ç”¨SpringBootå®˜ç½‘åˆ›å»ºå‡ºæ¥çš„å·¥ç¨‹ç•¥æœ‰åŒºåˆ«ã€‚ä¸»è¦æ˜¯åœ¨é…ç½®æ–‡ä»¶çš„å½¢å¼ä¸Šæœ‰åŒºåˆ«ã€‚è¿™ä¸ªä¿¡æ¯åœ¨åé¢è®²è§£Bootç¨‹åºçš„æ‰§è¡Œæµç¨‹æ—¶ç»™å¤§å®¶æ­æ™“</p><p><strong>æ€»ç»“</strong></p><ol><li>é€‰æ‹©startæ¥æºä¸ºè‡ªå®šä¹‰URL</li><li>è¾“å…¥é˜¿é‡Œäº‘startåœ°å€</li><li>åˆ›å»ºé¡¹ç›®</li></ol><p><strong>æ€è€ƒ</strong></p><p>â€‹    åšåˆ°è¿™é‡Œæˆ‘ä»¬å·²ç»æœ‰äº†ä¸‰ç§æ–¹å¼åˆ›å»ºSpringBootå·¥ç¨‹ï¼Œä½†æ˜¯æ¯ç§æ–¹å¼éƒ½è¦æ±‚ä½ å¿…é¡»èƒ½ä¸Šç½‘æ‰èƒ½åˆ›å»ºå·¥ç¨‹ã€‚å‡å¦‚æœ‰ä¸€å¤©ï¼Œä½ åŠ å…¥äº†ä¸€ä¸ªä¿å¯†çº§åˆ«æ¯”è¾ƒé«˜çš„é¡¹ç›®ç»„ï¼Œæ•´ä¸ªé¡¹ç›®ç»„æ²¡æœ‰å¤–ç½‘ï¼Œæ•´ä¸ªäº‹æƒ…æ˜¯ä¸æ˜¯å°±ä¸èƒ½åšäº†å‘¢ï¼Ÿå’±ä»¬ä¸‹ä¸€èŠ‚å†è¯´</p><h3 id="1-4-SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆå››ï¼‰"><a href="#1-4-SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆå››ï¼‰" class="headerlink" title="1-4.SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆå››ï¼‰"></a>1-4.SpringBootå…¥é—¨ç¨‹åºåˆ¶ä½œï¼ˆå››ï¼‰</h3><p>â€‹    ä¸èƒ½ä¸Šç½‘ï¼Œè¿˜æƒ³åˆ›å»ºSpringBootå·¥ç¨‹ï¼Œèƒ½ä¸èƒ½åšå‘¢ï¼Ÿèƒ½åšï¼Œä½†æ˜¯ä½ è¦å…ˆé—®é—®è‡ªå·±è”ç½‘å’Œä¸è”ç½‘åˆ°åº•å·®åˆ«æ˜¯ä»€ä¹ˆï¼Ÿè¿™ä¸ªä¿¡æ¯æ‰¾åˆ°ä»¥åï¼Œä½ å°±å‘ç°ï¼Œä½ æŠŠè”ç½‘è¦å¹²çš„äº‹æƒ…éƒ½æå‰å‡†å¤‡å¥½ï¼Œå°±æ— éœ€è”ç½‘äº†ã€‚</p><p>â€‹    è”ç½‘åšä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆSpringBootå·¥ç¨‹ä¹Ÿæ˜¯åŸºäºMavenæ„å»ºçš„ï¼Œè€ŒMavenå·¥ç¨‹å½“ä½¿ç”¨äº†ä¸€äº›è‡ªå·±éœ€è¦ä½¿ç”¨åˆä¸å­˜åœ¨çš„ä¸œè¥¿æ—¶ï¼Œå°±è¦å»ä¸‹è½½ã€‚å…¶å®SpringBootå·¥ç¨‹åˆ›å»ºçš„æ—¶å€™å°±æ˜¯å»ä¸‹è½½ä¸€äº›å¿…è¦çš„ç»„ä»¶çš„ã€‚ä½ æŠŠè¿™äº›ä¸œè¥¿ç»™æå‰å‡†å¤‡å¥½å°±å¯ä»¥äº†å—ï¼Ÿæ˜¯çš„ï¼Œå°±æ˜¯è¿™æ ·ã€‚</p><p>â€‹    ä¸‹é¢å’±ä»¬å°±ä¸€èµ·æ‰‹å·¥åˆ›å»ºä¸€ä¸ªSpringBootå·¥ç¨‹</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šåˆ›å»ºå·¥ç¨‹æ—¶ï¼Œé€‰æ‹©æ‰‹å·¥åˆ›å»ºMavenå·¥ç¨‹</p><img src="/.io//image-20211122165341684.png" alt="image-20211122165341684" style="zoom:50%;"><p><strong>æ­¥éª¤â‘¡</strong>ï¼šå‚ç…§æ ‡å‡†SpringBootå·¥ç¨‹çš„pomæ–‡ä»¶ï¼Œä¹¦å†™è‡ªå·±çš„pomæ–‡ä»¶å³å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.itheima<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>springboot_01_04_quickstart<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>8<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    ç”¨ä»€ä¹ˆå†™ä»€ä¹ˆï¼Œä¸ç”¨çš„éƒ½å¯ä»¥ä¸å†™ã€‚å½“ç„¶ï¼Œç°åœ¨å°ä¼™ä¼´ä»¬å¯èƒ½è¿˜ä¸çŸ¥é“ç”¨ä»€ä¹ˆå’Œä¸ç”¨ä»€ä¹ˆï¼Œæœ€ç®€å•çš„å°±æ˜¯å¤åˆ¶ç²˜è´´äº†ï¼Œéšç€åé¢çš„å­¦ä¹ ï¼Œä½ å°±çŸ¥é“å“ªäº›å¯ä»¥çœç•¥äº†ã€‚æ­¤å¤„æˆ‘åˆ å‡äº†ä¸€äº›ç›®å‰ä¸æ˜¯å¿…é¡»çš„ä¸œè¥¿ï¼Œä¸€æ ·èƒ½ç”¨</p><p><strong>æ­¥éª¤â‘¢</strong>ï¼šä¹‹å‰è¿è¡ŒSpringBootå·¥ç¨‹éœ€è¦ä¸€ä¸ªç±»ï¼Œè¿™ä¸ªç¼ºä¸äº†ï¼Œè‡ªå·±æ‰‹å†™ä¸€ä¸ªå°±è¡Œäº†ï¼Œå»ºè®®æŒ‰ç…§ä¹‹å‰çš„ç›®å½•ç»“æ„æ¥åˆ›å»ºï¼Œå…ˆåˆ«ç©èŠ±æ ·ï¼Œå…ˆå­¦èµ°åå­¦è·‘ã€‚ç±»åå¯ä»¥è‡ªå®šä¹‰ï¼Œå…³è”çš„åç§°ä¸€åˆ‡ä¿®æ”¹å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Application</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        SpringApplication.run(&lt;Application.class);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    <font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šç±»ä¸Šé¢çš„æ³¨è§£@SpringBootApplicationåƒä¸‡åˆ«ä¸¢äº†ï¼Œè¿™ä¸ªæ˜¯æ ¸å¿ƒï¼Œåé¢å†ä»‹ç»</p><p>â€‹    <font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šç±»åå¯ä»¥è‡ªå®šä¹‰ï¼Œåªè¦ä¿éšœä¸‹é¢ä»£ç ä¸­ä½¿ç”¨çš„ç±»åå’Œä½ è‡ªå·±å®šä¹‰çš„åç§°ä¸€æ ·å³å¯ï¼Œä¹Ÿå°±æ˜¯runæ–¹æ³•ä¸­çš„é‚£ä¸ªclasså¯¹åº”çš„åç§°</p><p><strong>æ­¥éª¤â‘£</strong>ï¼šä¸‹é¢å°±å¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªControlleræµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½ç”¨äº†ï¼Œå’Œä¹‹å‰æ²¡æœ‰å·®åˆ«äº†</p><p>â€‹    çœ‹åˆ°è¿™é‡Œå…¶å®åº”è¯¥èƒ½å¤Ÿæƒ³æ˜ç™½äº†ï¼Œé€šè¿‡å‘å¯¼æˆ–è€…ç½‘ç«™åˆ›å»ºçš„SpringBootå·¥ç¨‹å…¶å®å°±æ˜¯å¸®ä½ å†™äº†ä¸€äº›ä»£ç ï¼Œè€Œç°åœ¨æ˜¯è‡ªå·±æ‰‹å†™ï¼Œå†™çš„å†…å®¹éƒ½ä¸€æ ·ï¼Œä»…æ­¤è€Œå·²ã€‚</p><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹    å¦‚æœä½ çš„è®¡ç®—æœºä¸Šä»æ¥æ²¡æœ‰åˆ›å»ºæˆåŠŸè¿‡SpringBootå·¥ç¨‹ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰ä¸‹è½½è¿‡SpringBootå¯¹åº”çš„åæ ‡ï¼Œé‚£ç”¨æ‰‹å†™åˆ›å»ºçš„æ–¹å¼åœ¨ä¸è”ç½‘çš„æƒ…å†µä¸‹è‚¯å®šè¯¥æ˜¯ä¸èƒ½ç”¨çš„ã€‚æ‰€è°“æ‰‹å†™ï¼Œå…¶å®å°±æ˜¯è‡ªå·±å†™åˆ«äººå¸®ä½ ç”Ÿæˆçš„ä¸œè¥¿ï¼Œä½†æ˜¯å¼•ç”¨çš„åæ ‡å¯¹åº”çš„èµ„æºå¿…é¡»ä¿éšœmavenä»“åº“é‡Œé¢æœ‰æ‰è¡Œï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿˜æ˜¯è¦å»ä¸‹è½½çš„</p><p><strong>æ€»ç»“</strong></p><ol><li>åˆ›å»ºæ™®é€šMavenå·¥ç¨‹</li><li>ç»§æ‰¿spring-boot-starter-parent</li><li>æ·»åŠ ä¾èµ–spring-boot-starter-web</li><li>åˆ¶ä½œå¼•å¯¼ç±»Application</li></ol><p>åˆ°è¿™é‡Œå…¶å®å­¦ä¹ äº†4ç§åˆ›å»ºSpringBootå·¥ç¨‹çš„æ–¹å¼ï¼Œå…¶å®æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œå°±æ˜¯æ ¹æ®SpringBootå·¥ç¨‹çš„æ–‡ä»¶æ ¼å¼è¦æ±‚ï¼Œé€šè¿‡ä¸åŒæ—¶æ–¹å¼ç”Ÿæˆæˆ–è€…æ‰‹å†™å¾—åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œæ•ˆæœå®Œå…¨ä¸€æ ·ã€‚</p><h3 id="Skillï¼šåœ¨Ideaä¸­éšè—æŒ‡å®šæ–‡ä»¶-æ–‡ä»¶å¤¹"><a href="#Skillï¼šåœ¨Ideaä¸­éšè—æŒ‡å®šæ–‡ä»¶-æ–‡ä»¶å¤¹" class="headerlink" title="Skillï¼šåœ¨Ideaä¸­éšè—æŒ‡å®šæ–‡ä»¶/æ–‡ä»¶å¤¹"></a>Skillï¼šåœ¨Ideaä¸­éšè—æŒ‡å®šæ–‡ä»¶/æ–‡ä»¶å¤¹</h3><p>â€‹    åˆ›å»ºSpringBootå·¥ç¨‹æ—¶ï¼Œä½¿ç”¨SpringBootå‘å¯¼ä¹Ÿå¥½ï¼Œé˜¿é‡Œäº‘ä¹Ÿç½¢ï¼Œå…¶å®éƒ½æ˜¯ä¸ºäº†ä¸€ä¸ªç›®çš„ï¼Œå¾—åˆ°ä¸€ä¸ªæ ‡å‡†çš„SpringBootå·¥ç¨‹æ–‡ä»¶ç»“æ„ã€‚è¿™ä¸ªæ—¶å€™å°±æœ‰æ–°çš„é—®é¢˜å‡ºç°äº†ï¼Œæ ‡å‡†çš„å·¥ç¨‹ç»“æ„ä¸­åŒ…å«äº†ä¸€äº›æœªçŸ¥çš„æ–‡ä»¶å¤¹ï¼Œåœ¨å¼€å‘çš„æ—¶å€™çœ‹èµ·æ¥ç‰¹åˆ«åˆ«æ‰­ï¼Œè¿™ä¸€èŠ‚å°±æ¥è¯´è¯´è¿™äº›æ–‡ä»¶æ€ä¹ˆå¤„ç†ã€‚</p><p>â€‹    å¤„ç†æ–¹æ¡ˆæ— å¤–ä¹ä¸¤ç§ï¼Œå¦‚æœä½ å¯¹æ¯ä¸€ä¸ªæ–‡ä»¶/ç›®å½•è¶³å¤Ÿäº†è§£ï¼Œæ²¡æœ‰ç”¨çš„å®Œå…¨å¯ä»¥åˆ é™¤æ‰ï¼Œæˆ–è€…ä¸åˆ é™¤ï¼Œä½†æ˜¯çœ‹ç€åˆ«æ‰­ï¼Œå°±è®¾ç½®æ–‡ä»¶ä¸ºçœ‹ä¸åˆ°å°±è¡Œäº†ã€‚åˆ é™¤ä¸è¯´äº†ï¼Œç›´æ¥Deleteæ‰å°±å¥½äº†ï¼Œè¿™ä¸€èŠ‚è¯´è¯´å¦‚ä½•éšè—æŒ‡å®šçš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ä¿¡æ¯ã€‚</p><p>â€‹    æ—¢ç„¶æ˜¯åœ¨Ideaä¸‹åš<strong>éšè—</strong>åŠŸèƒ½ï¼Œè‚¯å®šéš¶å±äºIdeaçš„è®¾ç½®ï¼Œè®¾ç½®æ–¹å¼å¦‚ä¸‹ã€‚</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šæ‰“å¼€è®¾ç½®ï¼Œã€Filesã€‘â†’ã€Settingsã€‘</p><img src="/.io//image-20211122173835517.png" alt="image-20211122173835517" style="zoom:80%;"><p><strong>æ­¥éª¤â‘¡</strong>ï¼šæ‰“å¼€æ–‡ä»¶ç±»å‹è®¾ç½®ç•Œé¢ï¼Œã€Editorã€‘â†’ã€File Typesã€‘â†’ã€Ignored Files and Foldersã€‘ï¼Œå¿½ç•¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æ˜¾ç¤º</p><img src="/.io//image-20211122174020028.png" alt="image-20211122174020028" style="zoom: 67%;"><p><strong>æ­¥éª¤â‘¢</strong>ï¼šæ·»åŠ ä½ è¦éšè—çš„æ–‡ä»¶åç§°æˆ–æ–‡ä»¶å¤¹åç§°ï¼Œå¯ä»¥ä½¿ç”¨*å·é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„ï¼Œè®¾ç½®å®Œæ¯•å³å¯</p><p>â€‹    åˆ°è¿™é‡Œå°±åšå®Œäº†ï¼Œå…¶å®å°±æ˜¯Ideaçš„ä¸€ä¸ªå°åŠŸèƒ½</p><p><strong>æ€»ç»“</strong></p><ol><li>Ideaä¸­éšè—æŒ‡å®šæ–‡ä»¶æˆ–æŒ‡å®šç±»å‹æ–‡ä»¶<ol><li>ã€Filesã€‘â†’ã€Settingsã€‘</li><li>ã€Editorã€‘â†’ã€File Typesã€‘â†’ã€Ignored Files and Foldersã€‘</li><li>è¾“å…¥è¦éšè—çš„åç§°ï¼Œæ”¯æŒ*å·é€šé…ç¬¦</li><li>å›è½¦ç¡®è®¤æ·»åŠ </li></ol></li></ol><h3 id="1-5-SpringBootç®€ä»‹"><a href="#1-5-SpringBootç®€ä»‹" class="headerlink" title="1-5.SpringBootç®€ä»‹"></a>1-5.SpringBootç®€ä»‹</h3><p>SpringBootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥<font color="#ff0000"><b>ç®€åŒ–Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹</b></font>ã€‚</p><p>éƒ½ç®€åŒ–äº†äº†å“ªäº›ä¸œè¥¿å‘¢ï¼Ÿå…¶å®å°±æ˜¯é’ˆå¯¹åŸå§‹çš„Springç¨‹åºåˆ¶ä½œçš„ä¸¤ä¸ªæ–¹é¢è¿›è¡Œäº†ç®€åŒ–ï¼š</p><p><strong>Springç¨‹åºç¼ºç‚¹ï¼š</strong></p><ul><li>ä¾èµ–è®¾ç½®ç¹ç<ul><li>ä»¥å‰å†™Springç¨‹åºï¼Œä½¿ç”¨çš„æŠ€æœ¯éƒ½è¦è‡ªå·±ä¸€ä¸ªä¸€ä¸ªçš„å†™ï¼Œç°åœ¨ä¸éœ€è¦äº†ï¼Œå¦‚æœåšè¿‡åŸå§‹SpringMVCç¨‹åºçš„å°ä¼™ä¼´åº”è¯¥çŸ¥é“ï¼Œå†™SpringMVCç¨‹åºï¼Œæœ€åŸºç¡€çš„spring-webå’Œspring-webmvcè¿™ä¸¤ä¸ªåæ ‡æ—¶å¿…é¡»çš„ï¼Œå°±è¿™è¿˜ä¸åŒ…å«ä½ ç”¨jsonå•Šç­‰ç­‰è¿™äº›åæ ‡ï¼Œç°åœ¨å‘¢ï¼Ÿä¸€ä¸ªåæ ‡æå®šé¢</li></ul></li><li>é…ç½®ç¹ç<ul><li>ä»¥å‰å†™é…ç½®ç±»æˆ–è€…é…ç½®æ–‡ä»¶ï¼Œç„¶åç”¨ä»€ä¹ˆä¸œè¥¿å°±è¦è‡ªå·±å†™åŠ è½½beanè¿™äº›ä¸œè¥¿ï¼Œç°åœ¨å‘¢ï¼Ÿä»€ä¹ˆéƒ½æ²¡å†™ï¼Œç…§æ ·èƒ½ç”¨</li></ul></li></ul><p><strong>SpringBootç¨‹åºçš„æ ¸å¿ƒåŠŸèƒ½åŠä¼˜ç‚¹ï¼š</strong></p><ul><li>èµ·æ­¥ä¾èµ–ï¼ˆç®€åŒ–ä¾èµ–é…ç½®ï¼‰<ul><li>ä¾èµ–é…ç½®çš„ä¹¦å†™ç®€åŒ–å°±æ˜¯é è¿™ä¸ªèµ·æ­¥ä¾èµ–è¾¾æˆçš„</li></ul></li><li>è‡ªåŠ¨é…ç½®ï¼ˆç®€åŒ–å¸¸ç”¨å·¥ç¨‹ç›¸å…³é…ç½®ï¼‰<ul><li>é…ç½®è¿‡äºç¹çï¼Œä½¿ç”¨è‡ªåŠ¨é…ç½®å°±å¯ä»¥åšå“åº”çš„ç®€åŒ–ï¼Œä½†æ˜¯å†…éƒ¨è¿˜æ˜¯å¾ˆå¤æ‚çš„ï¼Œåé¢å…·ä½“å±•å¼€è¯´</li></ul></li><li>è¾…åŠ©åŠŸèƒ½ï¼ˆå†…ç½®æœåŠ¡å™¨ï¼Œâ€¦â€¦ï¼‰<ul><li>é™¤äº†ä¸Šé¢çš„åŠŸèƒ½ï¼Œå…¶å®SpringBootç¨‹åºè¿˜æœ‰å…¶ä»–çš„ä¸€äº›ä¼˜åŠ¿ï¼Œæ¯”å¦‚æˆ‘ä»¬æ²¡æœ‰é…ç½®TomcatæœåŠ¡å™¨ï¼Œä½†æ˜¯èƒ½æ­£å¸¸è¿è¡Œï¼Œè¿™æ˜¯SpringBootç¨‹åºçš„ä¸€ä¸ªå¯ä»¥æ„ŸçŸ¥åˆ°çš„åŠŸèƒ½ï¼Œä¹Ÿæ˜¯SpringBootçš„è¾…åŠ©åŠŸèƒ½ä¹‹ä¸€ã€‚ä¸€ä¸ªè¾…åŠ©åŠŸèƒ½éƒ½èƒ½åšçš„è¿™ä¹ˆ6ï¼Œå¤ªç‰›äº†</li></ul></li></ul><p>â€‹    ä¸‹é¢ç»“åˆå…¥é—¨ç¨‹åºæ¥è¯´è¯´è¿™äº›ç®€åŒ–æ“ä½œéƒ½åœ¨å“ªäº›æ–¹é¢è¿›è¡Œä½“ç°çš„ï¼Œä¸€å…±åˆ†ä¸º4ä¸ªæ–¹é¢</p><ul><li>parent</li><li>starter</li><li>å¼•å¯¼ç±»</li><li>å†…åµŒtomcat</li></ul><h4 id="parent"><a href="#parent" class="headerlink" title="parent"></a>parent</h4><p>â€‹    SpringBootå…³æ³¨åˆ°å¼€å‘è€…åœ¨è¿›è¡Œå¼€å‘æ—¶ï¼Œå¾€å¾€å¯¹ä¾èµ–ç‰ˆæœ¬çš„é€‰æ‹©å…·æœ‰å›ºå®šçš„æ­é…æ ¼å¼ï¼Œå¹¶ä¸”è¿™äº›ä¾èµ–ç‰ˆæœ¬çš„é€‰æ‹©è¿˜ä¸èƒ½ä¹±æ­é…ã€‚æ¯”å¦‚AæŠ€æœ¯çš„2.0ç‰ˆä¸BæŠ€æœ¯çš„3.5ç‰ˆå¯ä»¥åˆä½œåœ¨ä¸€èµ·ï¼Œä½†æ˜¯å’ŒBæŠ€æœ¯çš„3.7ç‰ˆåˆå¹¶ä½¿ç”¨æ—¶å°±æœ‰å†²çªã€‚å…¶å®å¾ˆå¤šå¼€å‘è€…éƒ½ä¸€ç›´æƒ³åšä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯å°†å„ç§å„æ ·çš„æŠ€æœ¯é…åˆä½¿ç”¨çš„å¸¸è§ä¾èµ–ç‰ˆæœ¬è¿›è¡Œæ”¶é›†æ•´ç†ï¼Œåˆ¶ä½œå‡ºäº†æœ€åˆç†çš„ä¾èµ–ç‰ˆæœ¬é…ç½®æ–¹æ¡ˆï¼Œè¿™æ ·ä½¿ç”¨èµ·æ¥å°±æ–¹ä¾¿å¤šäº†ã€‚</p><p>â€‹    SpringBootä¸€çœ‹è¿™ç§æƒ…å†µso easyå•Šï¼Œäºæ˜¯å°†æ‰€æœ‰çš„æŠ€æœ¯ç‰ˆæœ¬çš„å¸¸è§ä½¿ç”¨æ–¹æ¡ˆéƒ½ç»™å¼€å‘è€…æ•´ç†äº†å‡ºæ¥ï¼Œä»¥åå¼€å‘è€…ä½¿ç”¨æ—¶ç›´æ¥ç”¨å®ƒæä¾›çš„ç‰ˆæœ¬æ–¹æ¡ˆï¼Œå°±ä¸ç”¨æ‹…å¿ƒå†²çªé—®é¢˜äº†ï¼Œç›¸å½“äºSpringBootåšäº†æ— æ•°ä¸ªæŠ€æœ¯ç‰ˆæœ¬æ­é…çš„åˆ—è¡¨ï¼Œè¿™ä¸ªæŠ€æœ¯æ­é…åˆ—è¡¨çš„åå­—å«åš<font color="#ff0000"><b>parent</b></font>ã€‚</p><p>â€‹    <font color="#ff0000"><b>parent</b></font>è‡ªèº«å…·æœ‰å¾ˆå¤šä¸ªç‰ˆæœ¬ï¼Œæ¯ä¸ª<font color="#ff0000"><b>parent</b></font>ç‰ˆæœ¬ä¸­åŒ…å«æœ‰å‡ ç™¾ä¸ªå…¶ä»–æŠ€æœ¯çš„ç‰ˆæœ¬å·ï¼Œä¸åŒçš„parenté—´ä½¿ç”¨çš„å„ç§æŠ€æœ¯çš„ç‰ˆæœ¬å·æœ‰å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚å½“å¼€å‘è€…ä½¿ç”¨æŸäº›æŠ€æœ¯æ—¶ï¼Œç›´æ¥ä½¿ç”¨SpringBootæä¾›çš„<font color="#ff0000"><b>parent</b></font>å°±è¡Œäº†ï¼Œç”±<font color="#ff0000"><b>parent</b></font>å¸®åŠ©å¼€å‘è€…ç»Ÿä¸€çš„è¿›è¡Œå„ç§æŠ€æœ¯çš„ç‰ˆæœ¬ç®¡ç†</p><p>â€‹    æ¯”å¦‚ä½ ç°åœ¨è¦ä½¿ç”¨Springé…åˆMyBatiså¼€å‘ï¼Œæ²¡æœ‰parentä¹‹å‰æ€ä¹ˆåšå‘¢ï¼Ÿé€‰ä¸ªSpringçš„ç‰ˆæœ¬ï¼Œå†é€‰ä¸ªMyBatisçš„ç‰ˆæœ¬ï¼Œå†æŠŠè¿™äº›æŠ€æœ¯ä½¿ç”¨æ—¶å…³è”çš„å…¶ä»–æŠ€æœ¯çš„ç‰ˆæœ¬é€ä¸€ç¡®å®šä¸‹æ¥ã€‚å½“ä½ Springçš„ç‰ˆæœ¬å‘ç”Ÿå˜åŒ–éœ€è¦åˆ‡æ¢æ—¶ï¼Œä½ çš„MyBatisç‰ˆæœ¬æœ‰å¯èƒ½ä¹Ÿè¦è·Ÿç€åˆ‡æ¢ï¼Œå…³è”æŠ€æœ¯å‘¢ï¼Ÿå¯èƒ½éƒ½è¦åˆ‡æ¢ï¼Œè€Œä¸”åˆ‡æ¢åè¿˜å¯èƒ½å‡ºç°é—®é¢˜ã€‚ç°åœ¨è¿™ä¸€åˆ‡å·¥ä½œéƒ½å¯ä»¥äº¤ç»™parentæ¥åšäº†ã€‚ä½ æ— éœ€å…³æ³¨è¿™äº›æŠ€æœ¯é—´çš„ç‰ˆæœ¬å†²çªé—®é¢˜ï¼Œä½ åªéœ€è¦å…³æ³¨ä½ ç”¨ä»€ä¹ˆæŠ€æœ¯å°±è¡Œäº†ï¼Œå†²çªé—®é¢˜ç”±<font color="#ff0000"><b>parent</b></font>è´Ÿè´£å¤„ç†ã€‚</p><p>â€‹    æœ‰äººå¯èƒ½ä¼šæå‡ºæ¥ï¼Œä¸‡ä¸€<font color="#ff0000"><b>parent</b></font>ç»™æˆ‘å¯¼å…¥äº†ä¸€äº›æˆ‘ä¸æƒ³ä½¿ç”¨çš„ä¾èµ–æ€ä¹ˆåŠï¼Ÿè®°æ¸…æ¥šï¼Œè¿™ä¸€ç‚¹å¾ˆå…³é”®ï¼Œ<font color="#ff0000"><b>parent</b></font>ä»…ä»…å¸®æˆ‘ä»¬è¿›è¡Œç‰ˆæœ¬ç®¡ç†ï¼Œå®ƒä¸è´Ÿè´£å¸®ä½ å¯¼å…¥åæ ‡ï¼Œè¯´ç™½äº†<strong>ç”¨ä»€ä¹ˆè¿˜æ˜¯ä½ è‡ªå·±å®šï¼Œåªä¸è¿‡ç‰ˆæœ¬ä¸éœ€è¦ä½ ç®¡ç†äº†</strong>ã€‚æ•´ä½“ä¸Šæ¥è¯´ï¼Œ<font color="#ff0000"><b>ä½¿ç”¨parentå¯ä»¥å¸®åŠ©å¼€å‘è€…è¿›è¡Œç‰ˆæœ¬çš„ç»Ÿä¸€ç®¡ç†</b></font>ï¼ˆä¸ç”¨è‡ªå·±å†™å…·ä½“çš„ç‰ˆæœ¬å·ï¼‰</p><p>â€‹    <font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šparentå®šä¹‰å‡ºæ¥ä»¥åï¼Œå¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨çš„ï¼Œä»…ä»…ç»™äº†å¼€å‘è€…ä¸€ä¸ªè¯´æ˜ä¹¦ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®é™…ä½¿ç”¨ã€‚</p><p>â€‹    é‚£SpringBootåˆæ˜¯å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹çš„å‘¢ï¼Ÿå¯ä»¥æŸ¥é˜…SpringBootçš„é…ç½®æºç ï¼Œçœ‹åˆ°è¿™äº›å®šä¹‰</p><ul><li>é¡¹ç›®ä¸­çš„pom.xmlä¸­ç»§æ‰¿äº†ä¸€ä¸ªåæ ‡ï¼ˆgavï¼‰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>æ‰“å¼€åå¯ä»¥æŸ¥é˜…åˆ°å…¶ä¸­åˆç»§æ‰¿äº†ä¸€ä¸ªåæ ‡</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>è¿™ä¸ªåæ ‡ä¸­å®šä¹‰äº†ä¸¤ç»„ä¿¡æ¯ï¼Œç¬¬ä¸€ç»„æ˜¯å„å¼å„æ ·çš„ä¾èµ–ç‰ˆæœ¬å·å±æ€§ï¼Œä¸‹é¢åˆ—å‡ºä¾èµ–ç‰ˆæœ¬å±æ€§çš„å±€éƒ¨ï¼Œå¯ä»¥çœ‹çš„å‡ºæ¥ï¼Œå®šä¹‰äº†è‹¥å¹²ä¸ªæŠ€æœ¯çš„ä¾èµ–ç‰ˆæœ¬å·</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">activemq.version</span>&gt;</span>5.16.3<span class="hljs-tag">&lt;/<span class="hljs-name">activemq.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aspectj.version</span>&gt;</span>1.9.7<span class="hljs-tag">&lt;/<span class="hljs-name">aspectj.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">assertj.version</span>&gt;</span>3.19.0<span class="hljs-tag">&lt;/<span class="hljs-name">assertj.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-codec.version</span>&gt;</span>1.15<span class="hljs-tag">&lt;/<span class="hljs-name">commons-codec.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-dbcp2.version</span>&gt;</span>2.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">commons-dbcp2.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-lang3.version</span>&gt;</span>3.12.0<span class="hljs-tag">&lt;/<span class="hljs-name">commons-lang3.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-pool.version</span>&gt;</span>1.6<span class="hljs-tag">&lt;/<span class="hljs-name">commons-pool.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-pool2.version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">commons-pool2.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2.version</span>&gt;</span>1.4.200<span class="hljs-tag">&lt;/<span class="hljs-name">h2.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hibernate.version</span>&gt;</span>5.4.32.Final<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hibernate-validator.version</span>&gt;</span>6.2.0.Final<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-validator.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">httpclient.version</span>&gt;</span>4.5.13<span class="hljs-tag">&lt;/<span class="hljs-name">httpclient.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jackson-bom.version</span>&gt;</span>2.12.4<span class="hljs-tag">&lt;/<span class="hljs-name">jackson-bom.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">javax-jms.version</span>&gt;</span>2.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">javax-jms.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">javax-json.version</span>&gt;</span>1.1.4<span class="hljs-tag">&lt;/<span class="hljs-name">javax-json.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">javax-websocket.version</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">javax-websocket.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jetty-el.version</span>&gt;</span>9.0.48<span class="hljs-tag">&lt;/<span class="hljs-name">jetty-el.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">junit.version</span>&gt;</span>4.13.2<span class="hljs-tag">&lt;/<span class="hljs-name">junit.version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    ç¬¬äºŒç»„æ˜¯å„å¼å„æ ·çš„çš„ä¾èµ–åæ ‡ä¿¡æ¯ï¼Œå¯ä»¥çœ‹å‡ºä¾èµ–åæ ‡å®šä¹‰ä¸­æ²¡æœ‰å…·ä½“çš„ä¾èµ–ç‰ˆæœ¬å·ï¼Œè€Œæ˜¯å¼•ç”¨äº†ç¬¬ä¸€ç»„ä¿¡æ¯ä¸­å®šä¹‰çš„ä¾èµ–ç‰ˆæœ¬å±æ€§å€¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.hibernate<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hibernate-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;hibernate.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;junit.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span><br></code></pre></td></tr></table></figure><p><font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šä¸Šé¢çš„ä¾èµ–åæ ‡å®šä¹‰æ˜¯å‡ºç°åœ¨<dependencyManagement>æ ‡ç­¾ä¸­çš„ï¼Œå…¶å®æ˜¯å¯¹å¼•ç”¨åæ ‡çš„ä¾èµ–ç®¡ç†ï¼Œå¹¶ä¸æ˜¯å®é™…ä½¿ç”¨çš„åæ ‡ã€‚å› æ­¤å½“ä½ çš„é¡¹ç›®ä¸­ç»§æ‰¿äº†è¿™ç»„parentä¿¡æ¯åï¼Œåœ¨ä¸ä½¿ç”¨å¯¹åº”åæ ‡çš„æƒ…å†µä¸‹ï¼Œå‰é¢çš„è¿™ç»„å®šä¹‰æ˜¯ä¸ä¼šå…·ä½“å¯¼å…¥æŸä¸ªä¾èµ–çš„</dependencyManagement></p><p><font color="#ff0000"><b>å…³æ³¨</b></font>ï¼šå› ä¸ºåœ¨mavenä¸­ç»§æ‰¿æœºä¼šåªæœ‰ä¸€æ¬¡ï¼Œä¸Šè¿°ç»§æ‰¿çš„æ ¼å¼è¿˜å¯ä»¥åˆ‡æ¢æˆå¯¼å…¥çš„å½¢å¼è¿›è¡Œï¼Œå¹¶ä¸”åœ¨é˜¿é‡Œäº‘çš„starteråˆ›å»ºå·¥ç¨‹æ—¶å°±ä½¿ç”¨äº†æ­¤ç§å½¢å¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencyManagement</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-dependencies<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>$&#123;spring-boot.version&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>pom<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>import<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencyManagement</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>å¼€å‘SpringBootç¨‹åºè¦ç»§æ‰¿spring-boot-starter-parent</li><li>spring-boot-starter-parentä¸­å®šä¹‰äº†è‹¥å¹²ä¸ªä¾èµ–ç®¡ç†</li><li>ç»§æ‰¿parentæ¨¡å—å¯ä»¥é¿å…å¤šä¸ªä¾èµ–ä½¿ç”¨ç›¸åŒæŠ€æœ¯æ—¶å‡ºç°ä¾èµ–ç‰ˆæœ¬å†²çª</li><li>ç»§æ‰¿parentçš„å½¢å¼ä¹Ÿå¯ä»¥é‡‡ç”¨å¼•å…¥ä¾èµ–çš„å½¢å¼å®ç°æ•ˆæœ</li></ol><p><strong>æ€è€ƒ</strong></p><p>â€‹    parentä¸­å®šä¹‰äº†è‹¥å¹²ä¸ªä¾èµ–ç‰ˆæœ¬ç®¡ç†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰ä½¿ç”¨ï¼Œé‚£è¿™ä¸ªè®¾å®šä¹Ÿå°±ä¸ç”Ÿæ•ˆå•Šï¼Œç©¶ç«Ÿè°åœ¨ä½¿ç”¨è¿™äº›å®šä¹‰å‘¢ï¼Ÿ</p><h4 id="starter"><a href="#starter" class="headerlink" title="starter"></a>starter</h4><p>â€‹    SpringBootå…³æ³¨åˆ°å¼€å‘è€…åœ¨å®é™…å¼€å‘æ—¶ï¼Œå¯¹äºä¾èµ–åæ ‡çš„ä½¿ç”¨å¾€å¾€éƒ½æœ‰ä¸€äº›<u>å›ºå®šçš„ç»„åˆæ–¹å¼</u>ï¼Œæ¯”å¦‚ä½¿ç”¨spring-webmvcå°±ä¸€å®šè¦ä½¿ç”¨spring-webã€‚æ¯æ¬¡éƒ½è¦å›ºå®šæ­é…ç€å†™ï¼Œéå¸¸ç¹çï¼Œè€Œä¸”æ ¼å¼å›ºå®šï¼Œæ²¡æœ‰ä»»ä½•æŠ€æœ¯å«é‡ã€‚</p><p>â€‹    SpringBootä¸€çœ‹è¿™ç§æƒ…å†µï¼Œçœ‹æ¥éœ€è¦ç»™å¼€å‘è€…å¸¦æ¥ä¸€äº›å¸®åŠ©äº†ã€‚å®‰æ’ï¼ŒæŠŠæ‰€æœ‰çš„æŠ€æœ¯ä½¿ç”¨çš„å›ºå®šæ­é…æ ¼å¼éƒ½ç»™å¼€å‘å‡ºæ¥ï¼Œä»¥åä½ ç”¨æŸä¸ªæŠ€æœ¯ï¼Œå°±ä¸ç”¨ä¸€æ¬¡å†™ä¸€å †ä¾èµ–äº†ï¼Œè¿˜å®¹æ˜“å†™é”™ï¼Œæˆ‘ç»™ä½ åšä¸€ä¸ªä¸œè¥¿ï¼Œä»£è¡¨ä¸€å †ä¸œè¥¿ï¼Œå¼€å‘è€…ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥ç”¨æˆ‘åšå¥½çš„è¿™ä¸ªä¸œè¥¿å°±å¥½äº†ï¼Œå¯¹äºè¿™æ ·çš„å›ºå®šæŠ€æœ¯æ­é…ï¼ŒSpringBootç»™å®ƒèµ·äº†ä¸ªåå­—å«åš<font color="#ff0000"><b>starter</b></font>ã€‚</p><p>â€‹    starterå®šä¹‰äº†ä½¿ç”¨æŸç§æŠ€æœ¯æ—¶å¯¹äºä¾èµ–çš„å›ºå®šæ­é…æ ¼å¼ï¼Œä¹Ÿæ˜¯ä¸€ç§æœ€ä½³è§£å†³æ–¹æ¡ˆï¼Œ<font color="#ff0000"><b>ä½¿ç”¨starterå¯ä»¥å¸®åŠ©å¼€å‘è€…å‡å°‘ä¾èµ–é…ç½®</b></font></p><ul><li>é¡¹ç›®ä¸­çš„pom.xmlå®šä¹‰äº†ä½¿ç”¨SpringMVCæŠ€æœ¯ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å†™SpringMVCçš„åæ ‡ï¼Œè€Œæ˜¯æ·»åŠ äº†ä¸€ä¸ªåå­—ä¸­åŒ…å«starterçš„ä¾èµ–</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>åœ¨spring-boot-starter-webä¸­åˆå®šä¹‰äº†è‹¥å¹²ä¸ªå…·ä½“ä¾èµ–çš„åæ ‡</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-json<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    ä¹‹å‰æåˆ°è¿‡å¼€å‘SpringMVCç¨‹åºéœ€è¦å¯¼å…¥spring-webmvcçš„åæ ‡å’Œspringæ•´åˆwebå¼€å‘çš„åæ ‡ï¼Œå°±æ˜¯ä¸Šé¢è¿™ç»„åæ ‡ä¸­çš„æœ€åä¸¤ä¸ªäº†ã€‚</p><p>â€‹    ä½†æ˜¯æˆ‘ä»¬å‘ç°é™¤äº†è¿™ä¸¤ä¸ªè¿˜æœ‰å…¶ä»–çš„ï¼Œæ¯”å¦‚ç¬¬äºŒä¸ªï¼Œå«åšspring-boot-starter-jsonã€‚çœ‹åç§°å°±çŸ¥é“ï¼Œè¿™ä¸ªæ˜¯ä¸jsonæœ‰å…³çš„åæ ‡äº†ï¼Œä½†æ˜¯çœ‹åå­—å‘ç°å’Œæœ€åä¸¤ä¸ªåˆä¸å¤ªä¸€æ ·ï¼Œå®ƒçš„åå­—ä¸­ä¹Ÿæœ‰starterï¼Œæ‰“å¼€çœ‹çœ‹é‡Œé¢æœ‰ä»€ä¹ˆï¼Ÿ</p><p>ï¼ˆä¾èµ–ä¼ é€’ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.12.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.datatype<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-datatype-jdk8<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.12.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.datatype<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-datatype-jsr310<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.12.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.module<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-module-parameter-names<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.12.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªstarterä¸­åˆåŒ…å«äº†è‹¥å¹²ä¸ªåæ ‡ï¼Œå…¶å®å°±æ˜¯ä½¿ç”¨SpringMVCå¼€å‘é€šå¸¸éƒ½ä¼šä½¿ç”¨åˆ°Jsonï¼Œä½¿ç”¨jsonåˆç¦»ä¸å¼€è¿™é‡Œé¢å®šä¹‰çš„è¿™äº›åæ ‡ï¼Œçœ‹æ¥è¿˜çœŸæ˜¯æ–¹ä¾¿ï¼ŒSpringBootæŠŠæˆ‘ä»¬å¼€å‘ä¸­ä½¿ç”¨çš„ä¸œè¥¿èƒ½ç”¨åˆ°çš„éƒ½ç»™æå‰åšå¥½äº†ã€‚</p><p>â€‹    å› æ­¤ï¼Œä½¿ç”¨starterå¯ä»¥å¸®å¼€å‘è€…å¿«é€Ÿé…ç½®ä¾èµ–å…³ç³»ã€‚ä»¥å‰å†™ä¾èµ–3ä¸ªåæ ‡çš„ï¼Œç°åœ¨å†™å¯¼å…¥ä¸€ä¸ªå°±æå®šäº†ï¼Œå°±æ˜¯åŠ é€Ÿä¾èµ–é…ç½®çš„ã€‚</p><p><strong>starterä¸parentçš„åŒºåˆ«</strong> â€”â€” éƒ½èƒ½å¸®åŠ©æˆ‘ä»¬ç®€åŒ–é…ç½®</p><p>â€‹    <font color="#ff0000"><b>starter</b></font>æ˜¯ä¸€ä¸ªåæ ‡ä¸­å®šäº†è‹¥å¹²ä¸ªåæ ‡ï¼Œä»¥å‰å†™å¤šä¸ªçš„ï¼Œç°åœ¨å†™ä¸€ä¸ªï¼Œ<font color="#ff0000"><b>æ˜¯ç”¨æ¥å‡å°‘ä¾èµ–é…ç½®çš„ä¹¦å†™é‡çš„</b></font></p><p>â€‹    <font color="#ff0000"><b>parent</b></font>æ˜¯å®šä¹‰äº†å‡ ç™¾ä¸ªä¾èµ–ç‰ˆæœ¬å·ï¼Œä»¥å‰å†™ä¾èµ–éœ€è¦è‡ªå·±æ‰‹å·¥æ§åˆ¶ç‰ˆæœ¬ï¼Œç°åœ¨ç”±SpringBootç»Ÿä¸€ç®¡ç†ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨ç‰ˆæœ¬å†²çªäº†ï¼Œ<font color="#ff0000"><b>æ˜¯ç”¨æ¥å‡å°‘ä¾èµ–å†²çªçš„</b></font></p><p><strong>å®é™…å¼€å‘åº”ç”¨æ–¹å¼</strong></p><ul><li><p>å®é™…å¼€å‘ä¸­å¦‚æœéœ€è¦ç”¨ä»€ä¹ˆæŠ€æœ¯ï¼Œå…ˆå»æ‰¾æœ‰æ²¡æœ‰è¿™ä¸ªæŠ€æœ¯å¯¹åº”çš„starter</p><ul><li>å¦‚æœæœ‰å¯¹åº”çš„starterï¼Œç›´æ¥å†™starterï¼Œè€Œä¸”æ— éœ€æŒ‡å®šç‰ˆæœ¬ï¼Œç‰ˆæœ¬ç”±parentæä¾›</li><li>å¦‚æœæ²¡æœ‰å¯¹åº”çš„starterï¼Œæ‰‹å†™åæ ‡å³å¯</li></ul></li><li><p>å®é™…å¼€å‘ä¸­å¦‚æœå‘ç°åæ ‡å‡ºç°äº†å†²çªç°è±¡ï¼Œç¡®è®¤ä½ è¦ä½¿ç”¨çš„å¯è¡Œçš„ç‰ˆæœ¬å·ï¼Œä½¿ç”¨æ‰‹å·¥ä¹¦å†™çš„æ–¹å¼æ·»åŠ å¯¹åº”ä¾èµ–ï¼Œè¦†ç›–SpringBootæä¾›ç»™æˆ‘ä»¬çš„é…ç½®ç®¡ç†</p><ul><li>æ–¹å¼ä¸€ï¼šç›´æ¥å†™åæ ‡</li><li>æ–¹å¼äºŒï¼šè¦†ç›–<properties>ä¸­å®šä¹‰çš„ç‰ˆæœ¬å·ï¼Œå°±æ˜¯ä¸‹é¢è¿™å †ä¸œè¥¿äº†ï¼Œå“ªä¸ªå†²çªäº†è¦†ç›–å“ªä¸ªå°±OKäº†</properties></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">activemq.version</span>&gt;</span>5.16.3<span class="hljs-tag">&lt;/<span class="hljs-name">activemq.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aspectj.version</span>&gt;</span>1.9.7<span class="hljs-tag">&lt;/<span class="hljs-name">aspectj.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">assertj.version</span>&gt;</span>3.19.0<span class="hljs-tag">&lt;/<span class="hljs-name">assertj.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-codec.version</span>&gt;</span>1.15<span class="hljs-tag">&lt;/<span class="hljs-name">commons-codec.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-dbcp2.version</span>&gt;</span>2.8.0<span class="hljs-tag">&lt;/<span class="hljs-name">commons-dbcp2.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-lang3.version</span>&gt;</span>3.12.0<span class="hljs-tag">&lt;/<span class="hljs-name">commons-lang3.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-pool.version</span>&gt;</span>1.6<span class="hljs-tag">&lt;/<span class="hljs-name">commons-pool.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">commons-pool2.version</span>&gt;</span>2.9.0<span class="hljs-tag">&lt;/<span class="hljs-name">commons-pool2.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2.version</span>&gt;</span>1.4.200<span class="hljs-tag">&lt;/<span class="hljs-name">h2.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hibernate.version</span>&gt;</span>5.4.32.Final<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">hibernate-validator.version</span>&gt;</span>6.2.0.Final<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-validator.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">httpclient.version</span>&gt;</span>4.5.13<span class="hljs-tag">&lt;/<span class="hljs-name">httpclient.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jackson-bom.version</span>&gt;</span>2.12.4<span class="hljs-tag">&lt;/<span class="hljs-name">jackson-bom.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">javax-jms.version</span>&gt;</span>2.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">javax-jms.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">javax-json.version</span>&gt;</span>1.1.4<span class="hljs-tag">&lt;/<span class="hljs-name">javax-json.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">javax-websocket.version</span>&gt;</span>1.1<span class="hljs-tag">&lt;/<span class="hljs-name">javax-websocket.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">jetty-el.version</span>&gt;</span>9.0.48<span class="hljs-tag">&lt;/<span class="hljs-name">jetty-el.version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">junit.version</span>&gt;</span>4.13.2<span class="hljs-tag">&lt;/<span class="hljs-name">junit.version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹    SpringBootå®˜æ–¹ç»™å‡ºäº†å¥½å¤šä¸ªstarterçš„å®šä¹‰ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ï¼Œè€Œä¸”åç§°éƒ½æ˜¯å¦‚ä¸‹æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">å‘½åè§„åˆ™ï¼šspring-boot-starter-æŠ€æœ¯åç§°<br></code></pre></td></tr></table></figure><p>â€‹    æ‰€ä»¥ä»¥åè§äº†spring-boot-starter-aaaè¿™æ ·çš„åå­—ï¼Œè¿™å°±æ˜¯SpringBootå®˜æ–¹ç»™å‡ºçš„starterå®šä¹‰ã€‚é‚£éå®˜æ–¹å®šä¹‰çš„ä¹Ÿæœ‰å—ï¼Ÿæœ‰çš„ï¼Œå…·ä½“å‘½åæ–¹å¼åˆ°æ•´åˆç« èŠ‚å†è¯´</p><p><strong>æ€»ç»“</strong></p><ol><li>å¼€å‘SpringBootç¨‹åºéœ€è¦å¯¼å…¥åæ ‡æ—¶é€šå¸¸å¯¼å…¥å¯¹åº”çš„starter</li><li>æ¯ä¸ªä¸åŒçš„starteræ ¹æ®åŠŸèƒ½ä¸åŒï¼Œé€šå¸¸åŒ…å«å¤šä¸ªä¾èµ–åæ ‡ï¼ˆgroupId + artifactId + versionï¼‰</li><li>ä½¿ç”¨starterå¯ä»¥å®ç°å¿«é€Ÿé…ç½®çš„æ•ˆæœï¼Œè¾¾åˆ°ç®€åŒ–é…ç½®çš„ç›®çš„</li></ol><h4 id="å¼•å¯¼ç±»"><a href="#å¼•å¯¼ç±»" class="headerlink" title="å¼•å¯¼ç±»"></a>å¼•å¯¼ç±»</h4><p>â€‹    é…ç½®è¯´å®Œäº†ï¼Œæˆ‘ä»¬å‘ç°SpringBootç¡®å®å¸®åŠ©æˆ‘ä»¬å‡å°‘äº†å¾ˆå¤šé…ç½®å·¥ä½œï¼Œä¸‹é¢è¯´ä¸€ä¸‹ç¨‹åºæ˜¯å¦‚ä½•è¿è¡Œçš„ã€‚ç›®å‰ç¨‹åºè¿è¡Œçš„å…¥å£å°±æ˜¯SpringBootå·¥ç¨‹åˆ›å»ºæ—¶è‡ªå¸¦çš„é‚£ä¸ªç±»äº†ï¼Œå¸¦æœ‰mainæ–¹æ³•çš„é‚£ä¸ªç±»ï¼Œè¿è¡Œè¿™ä¸ªç±»å°±å¯ä»¥å¯åŠ¨SpringBootå·¥ç¨‹çš„è¿è¡Œ</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot0101QuickstartApplication</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">void</span> <span class="hljs-function"><span class="hljs-title">main</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>[] args</span>)</span> &#123;<br>        SpringApplication.run(Springboot0101QuickstartApplication.class, args);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    SpringBootæœ¬èº«æ˜¯ä¸ºäº†åŠ é€ŸSpringç¨‹åºçš„å¼€å‘çš„ï¼Œè€ŒSpringç¨‹åºè¿è¡Œçš„åŸºç¡€æ˜¯éœ€è¦åˆ›å»ºè‡ªå·±çš„Springå®¹å™¨å¯¹è±¡ï¼ˆIoCå®¹å™¨ï¼‰å¹¶å°†æ‰€æœ‰çš„å¯¹è±¡äº¤ç»™Springçš„å®¹å™¨ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„Beanã€‚å½“å‰è¿™ä¸ªç±»è¿è¡Œåå°±ä¼šäº§ç”Ÿä¸€ä¸ªSpringå®¹å™¨å¯¹è±¡ï¼Œå¹¶ä¸”å¯ä»¥å°†è¿™ä¸ªå¯¹è±¡ä¿å­˜èµ·æ¥ï¼Œé€šè¿‡å®¹å™¨å¯¹è±¡ç›´æ¥æ“ä½œBeanã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootApplication</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot0101QuickstartApplication</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ConfigurableApplicationContext ctx = SpringApplication.run(Springboot0101QuickstartApplication.class, args);<br>        BookController bean = ctx.getBean(BookController.class);<br>        System.out.println(<span class="hljs-string">&quot;bean======&gt;&quot;</span> + bean);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    é€šè¿‡ä¸Šè¿°æ“ä½œä¸éš¾çœ‹å‡ºï¼Œå…¶å®SpringBootç¨‹åºå¯åŠ¨è¿˜æ˜¯åˆ›å»ºäº†ä¸€ä¸ª<u>Springå®¹å™¨å¯¹è±¡</u>ã€‚è¿™ä¸ªç±»åœ¨SpringBootç¨‹åºä¸­æ˜¯æ‰€æœ‰åŠŸèƒ½çš„å…¥å£ï¼Œç§°è¿™ä¸ªç±»ä¸º<font color="#ff0000"><b>å¼•å¯¼ç±»</b></font>ã€‚</p><p>â€‹    ä½œä¸ºä¸€ä¸ªå¼•å¯¼ç±»æœ€å…¸å‹çš„ç‰¹å¾å°±æ˜¯å½“å‰ç±»ä¸Šæ–¹å£°æ˜äº†ä¸€ä¸ªæ³¨è§£<font color="#ff0000"><b>@SpringBootApplication</b></font></p><p><strong>ï¼ˆåŒä¸€æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰ bean éƒ½ä¼šè¢«è£…åˆ°å®¹å™¨ä¸­ï¼‰</strong></p><p><strong>æ€»ç»“</strong></p><ol><li>SpringBootå·¥ç¨‹æä¾›å¼•å¯¼ç±»ç”¨æ¥å¯åŠ¨ç¨‹åº</li><li>SpringBootå·¥ç¨‹å¯åŠ¨ååˆ›å»ºå¹¶åˆå§‹åŒ–Springå®¹å™¨</li></ol><h4 id="å†…åµŒtomcat"><a href="#å†…åµŒtomcat" class="headerlink" title="å†…åµŒtomcat"></a>å†…åµŒtomcat</h4><p>â€‹    å½“å‰æˆ‘ä»¬åšçš„SpringBootå…¥é—¨æ¡ˆä¾‹å‹¾é€‰äº†Spirng-webçš„åŠŸèƒ½ï¼Œå¹¶ä¸”å¯¼å…¥äº†å¯¹åº”çš„starterã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    SpringBootå‘ç°ï¼Œæ—¢ç„¶ä½ è¦åšwebç¨‹åºï¼Œè‚¯å®šç¦»ä¸å¼€ä½¿ç”¨webæœåŠ¡å™¨ï¼Œè¿™æ ·å§ï¼Œå¸®äººå¸®åˆ°åº•ï¼Œé€ä½›é€åˆ°è¥¿ã€‚æˆ‘å¸®ä½ æä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œä½ è¦æ„¿æ„ç”¨çš„ï¼Œç›´æ¥ä½¿ç”¨å°±å¥½äº†ï¼Œå¹²è„†æˆ‘å†å¤šç»™ä½ å‡ ç§é€‰æ‹©ï¼Œä½ éšä¾¿åˆ‡æ¢ã€‚ä¸‡ä¸€ä½ ä¸æƒ³ç”¨æˆ‘ç»™ä½ æä¾›çš„ï¼Œä¹Ÿè¡Œï¼Œä½ å¯ä»¥è‡ªå·±æã€‚</p><p>â€‹    ç”±äºè¿™ä¸ªåŠŸèƒ½ä¸å±äºç¨‹åºçš„ä¸»ä½“åŠŸèƒ½ï¼Œå¯ç”¨å¯ä¸ç”¨ï¼Œäºæ˜¯ä¹SpringBootå°†å…¶å®šä½æˆè¾…åŠ©åŠŸèƒ½ï¼Œåˆ«å°çœ‹è¿™ä¹ˆä¸€ä¸ªè¾…åŠ©åŠŸèƒ½ï¼Œå®ƒå¯æ˜¯å¸®æˆ‘ä»¬å¼€å‘è€…åˆå‡å°‘äº†å¥½å¤šçš„è®¾ç½®æ€§å·¥ä½œã€‚</p><p>â€‹    ä¸‹é¢å°±å›´ç»•ç€è¿™ä¸ªå†…ç½®çš„webæœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å†…ç½®çš„tomcatæœåŠ¡å™¨æ¥ç ”ç©¶å‡ ä¸ªé—®é¢˜</p><ol><li>è¿™ä¸ªæœåŠ¡å™¨åœ¨ä»€ä¹ˆä½ç½®å®šä¹‰çš„</li><li>è¿™ä¸ªæœåŠ¡å™¨æ˜¯æ€ä¹ˆè¿è¡Œçš„</li><li>è¿™ä¸ªæœåŠ¡å™¨å¦‚æœæƒ³æ¢æ€ä¹ˆæ¢ï¼Ÿè™½ç„¶è¿™ä¸ªéœ€æ±‚å¾ˆåƒåœ¾ï¼Œæå¾—å¼€å‘è€…ä¼šå¥½å¤šwebæœåŠ¡å™¨ä¸€æ ·ï¼Œç”¨åˆ«äººæä¾›å¥½çš„ä¸é¦™ä¹ˆï¼Ÿéè¦è‡ªå·±æŠ˜è…¾</li></ol><p><strong>å†…åµŒTomcatå®šä¹‰ä½ç½®</strong></p><p>â€‹    è¯´åˆ°å®šä¹‰çš„ä½ç½®ï¼Œæˆ‘ä»¬å°±æƒ³ï¼Œå¦‚æœæˆ‘ä»¬ä¸å¼€å‘webç¨‹åºï¼Œç”¨çš„ç€webæœåŠ¡å™¨å—ï¼Ÿè‚¯å®šç”¨ä¸ç€å•Šã€‚é‚£å¦‚æœè¿™ä¸ªä¸œè¥¿è¢«åŠ å…¥åˆ°ä½ çš„ç¨‹åºä¸­ï¼Œä¼´éšç€ä»€ä¹ˆæŠ€æœ¯è¿›æ¥çš„å‘¢ï¼Ÿè‚¯å®šæ˜¯webç›¸å…³çš„åŠŸèƒ½å•Šï¼Œæ²¡é”™ï¼Œå°±æ˜¯å‰é¢å¯¼å…¥çš„webç›¸å…³çš„starteråšçš„è¿™ä»¶äº‹ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    æ‰“å¼€æŸ¥çœ‹webçš„starterå¯¼å…¥äº†å“ªäº›ä¸œè¥¿</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-json<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    ç¬¬ä¸‰ä¸ªä¾èµ–å°±æ˜¯è¿™ä¸ªtomcatå¯¹åº”çš„ä¸œè¥¿äº†ï¼Œå±…ç„¶ä¹Ÿæ˜¯ä¸€ä¸ªstarterï¼Œå†æ‰“å¼€çœ‹çœ‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>jakarta.annotation<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jakarta.annotation-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.52<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-annotations-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-el<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.52<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-websocket<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.52<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-annotations-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    è¿™é‡Œé¢æœ‰ä¸€ä¸ªæ ¸å¿ƒçš„åæ ‡ï¼Œtomcat-embed-coreï¼Œå«åštomcatå†…åµŒæ ¸å¿ƒã€‚å°±æ˜¯è¿™ä¸ªä¸œè¥¿æŠŠtomcatåŠŸèƒ½å¼•å…¥åˆ°äº†æˆ‘ä»¬çš„ç¨‹åºä¸­ã€‚ç›®å‰è§£å†³äº†ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œæ‰¾åˆ°æ ¹å„¿äº†ï¼Œè°æŠŠtomcatå¼•å…¥åˆ°ç¨‹åºä¸­çš„ï¼Ÿspring-boot-starter-webä¸­çš„spring-boot-starter-tomcatåšçš„ã€‚ä¹‹æ‰€ä»¥ä½ æ„Ÿè§‰å¾ˆå¥‡å¦™çš„åŸå› å°±æ˜¯ï¼Œè¿™ä¸ªä¸œè¥¿æ˜¯é»˜è®¤åŠ å…¥åˆ°ç¨‹åºä¸­äº†ï¼Œæ‰€ä»¥æ„Ÿè§‰å¾ˆç¥å¥‡ï¼Œå±…ç„¶ä»€ä¹ˆéƒ½ä¸åšï¼Œå°±æœ‰äº†webæœåŠ¡å™¨å¯¹åº”çš„åŠŸèƒ½ï¼Œå†æ¥è¯´ç¬¬äºŒä¸ªé—®é¢˜ï¼Œè¿™ä¸ªæœåŠ¡å™¨æ˜¯æ€ä¹ˆè¿è¡Œçš„</p><p><strong>å†…åµŒTomcatè¿è¡ŒåŸç†</strong></p><p>â€‹    TomcatæœåŠ¡å™¨æ˜¯ä¸€æ¬¾è½¯ä»¶ï¼Œè€Œä¸”æ˜¯ä¸€æ¬¾ä½¿ç”¨javaè¯­è¨€å¼€å‘çš„è½¯ä»¶ï¼Œç†Ÿæ‚‰çš„å°ä¼™ä¼´å¯èƒ½æœ‰å°è±¡ï¼Œtomcatå®‰è£…ç›®å½•ä¸­ä¿å­˜æœ‰jarï¼Œå¥½å¤šä¸ªjarã€‚</p><p>â€‹    ä¸‹é¢çš„é—®é¢˜æ¥äº†ï¼Œæ—¢ç„¶æ˜¯ä½¿ç”¨javaè¯­è¨€å¼€å‘çš„ï¼Œè¿è¡Œçš„æ—¶å€™è‚¯å®šç¬¦åˆjavaç¨‹åºè¿è¡Œçš„åŸç†ï¼Œjavaç¨‹åºè¿è¡Œé çš„æ˜¯ä»€ä¹ˆï¼Ÿå¯¹è±¡å‘€ï¼Œä¸€åˆ‡çš†å¯¹è±¡ï¼Œä¸‡ç‰©çš†å¯¹è±¡ã€‚é‚£tomcatè¿è¡Œèµ·æ¥å‘¢ï¼Ÿä¹Ÿæ˜¯å¯¹è±¡ã€‚</p><p>â€‹    å¦‚æœæ˜¯å¯¹è±¡ï¼Œé‚£Springå®¹å™¨æ˜¯ç”¨æ¥ç®¡ç†å¯¹è±¡çš„ï¼Œè¿™ä¸ªå¯¹è±¡èƒ½ä¸èƒ½äº¤ç»™Springå®¹å™¨ç®¡ç†å‘¢ï¼ŸæŠŠå—å»æ‰ï¼Œæ˜¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥äº¤ç»™Springå®¹å™¨ç®¡ç†ï¼Œè¡Œäº†ï¼Œè¿™ä¸‹é€šäº†ã€‚tomcatæœåŠ¡å™¨è¿è¡Œå…¶å®æ˜¯ä»¥å¯¹è±¡çš„å½¢å¼åœ¨Springå®¹å™¨ä¸­è¿è¡Œçš„ï¼Œæ€ªä¸å¾—æˆ‘ä»¬æ²¡æœ‰å®‰è£…è¿™ä¸ªtomcatï¼Œè€Œä¸”è¿˜èƒ½ç”¨ã€‚é—¹äº†ç™½å¤©è¿™ä¸œè¥¿æœ€åæ˜¯ä»¥ä¸€ä¸ªå¯¹è±¡çš„å½¢å¼å­˜åœ¨ï¼Œä¿å­˜åœ¨Springå®¹å™¨ä¸­æ‚„æ‚„è¿è¡Œçš„ã€‚å…·ä½“è¿è¡Œçš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®å°±æ˜¯ä¸Šå‰é¢æåˆ°çš„é‚£ä¸ªtomcatå†…åµŒæ ¸å¿ƒ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tomcat.embed<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tomcat-embed-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>9.0.52<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    é‚£æ—¢ç„¶æ˜¯ä¸ªå¯¹è±¡ï¼Œå¦‚æœæŠŠè¿™ä¸ªå¯¹è±¡ä»Springå®¹å™¨ä¸­å»æ‰æ˜¯ä¸æ˜¯å°±æ²¡æœ‰webæœåŠ¡å™¨çš„åŠŸèƒ½å‘¢ï¼Ÿæ˜¯è¿™æ ·çš„ï¼Œé€šè¿‡ä¾èµ–æ’é™¤å¯ä»¥å»æ‰è¿™ä¸ªwebæœåŠ¡å™¨åŠŸèƒ½</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    ä¸Šé¢å¯¹web-starteråšäº†ä¸€ä¸ªæ“ä½œï¼Œä½¿ç”¨mavençš„æ’é™¤ä¾èµ–å»æ‰äº†ä½¿ç”¨tomcatçš„starterã€‚è¿™ä¸‹å¥½äº†ï¼Œå®¹å™¨ä¸­è‚¯å®šæ²¡æœ‰è¿™ä¸ªå¯¹è±¡äº†ï¼Œé‡æ–°å¯åŠ¨ç¨‹åºå¯ä»¥è§‚å¯Ÿåˆ°ç¨‹åºè¿è¡Œäº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åƒä¹‹å‰é‚£æ ·è¿è¡Œåä¼šç­‰ç€ç”¨æˆ·å‘è¯·æ±‚ï¼Œè€Œæ˜¯ç›´æ¥åœæ‰äº†ï¼Œå°±æ˜¯è¿™ä¸ªåŸå› äº†ã€‚</p><p><strong>æ›´æ¢å†…åµŒTomcat</strong></p><p>â€‹    é‚£æ ¹æ®ä¸Šé¢çš„æ“ä½œæˆ‘ä»¬æ€è€ƒæ˜¯å¦å¯ä»¥æ¢ä¸ªæœåŠ¡å™¨å‘¢ï¼Ÿå¿…é¡»çš„å˜›ã€‚æ ¹æ®SpringBootçš„å·¥ä½œæœºåˆ¶ï¼Œç”¨ä»€ä¹ˆæŠ€æœ¯ï¼ŒåŠ å…¥ä»€ä¹ˆä¾èµ–å°±è¡Œäº†ã€‚SpringBootæä¾›äº†3æ¬¾å†…ç½®çš„æœåŠ¡å™¨</p><ul><li><p><strong>tomcat</strong>(é»˜è®¤)ï¼šapacheå‡ºå“ï¼Œç²‰ä¸å¤šï¼Œåº”ç”¨é¢å¹¿ï¼Œè´Ÿè½½äº†è‹¥å¹²è¾ƒé‡çš„ç»„ä»¶</p></li><li><p><strong>jetty</strong>ï¼šæ›´è½»é‡çº§ï¼Œè´Ÿè½½æ€§èƒ½è¿œä¸åŠtomcat</p></li><li><p><strong>undertow</strong>ï¼šè´Ÿè½½æ€§èƒ½å‹‰å¼ºè·‘èµ¢tomcat</p><p>æƒ³ç”¨å“ªä¸ªï¼ŒåŠ ä¸ªåæ ‡å°±OKã€‚å‰ææ˜¯æŠŠtomcatæ’é™¤æ‰ï¼Œå› ä¸ºtomcatæ˜¯é»˜è®¤åŠ è½½çš„ã€‚</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">exclusions</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">exclusion</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-tomcat<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">exclusion</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">exclusions</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-jetty<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>â€‹    ç°åœ¨å°±å·²ç»æˆåŠŸæ›¿æ¢äº†webæœåŠ¡å™¨ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯ç”¨ä»€ä¹ˆåŠ å…¥å¯¹åº”åæ ‡å°±å¯ä»¥äº†ã€‚å¦‚æœæœ‰starterï¼Œä¼˜å…ˆä½¿ç”¨starterã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>å†…åµŒTomcatæœåŠ¡å™¨æ˜¯SpringBootè¾…åŠ©åŠŸèƒ½ä¹‹ä¸€</li><li>å†…åµŒTomcatå·¥ä½œåŸç†æ˜¯å°†TomcatæœåŠ¡å™¨ä½œä¸ºå¯¹è±¡è¿è¡Œï¼Œå¹¶å°†è¯¥å¯¹è±¡äº¤ç»™Springå®¹å™¨ç®¡ç†</li><li>å˜æ›´å†…åµŒæœåŠ¡å™¨æ€æƒ³æ˜¯å»é™¤ç°æœ‰æœåŠ¡å™¨ï¼Œæ·»åŠ å…¨æ–°çš„æœåŠ¡å™¨</li></ol><p>â€‹    åˆ°è¿™é‡Œç¬¬ä¸€ç« å¿«é€Ÿä¸Šæ‰‹SpringBootå°±ç»“æŸäº†ï¼Œè¿™ä¸€ç« æˆ‘ä»¬å­¦ä¹ äº†ä¸¤å¤§å—çŸ¥è¯†</p><ol><li>ä½¿ç”¨äº†4ç§æ–¹å¼åˆ¶ä½œäº†SpringBootçš„å…¥é—¨ç¨‹åºï¼Œä¸ç®¡æ˜¯å“ªä¸€ç§ï¼Œå…¶å®å†…éƒ¨éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„</li><li>å­¦ä¹ äº†å…¥é—¨ç¨‹åºçš„å·¥ä½œæµç¨‹ï¼ŒçŸ¥é“ä»€ä¹ˆæ˜¯parentï¼Œä»€ä¹ˆæ˜¯starterï¼Œè¿™ä¸¤ä¸ªä¸œè¥¿æ˜¯æ€ä¹ˆé…åˆå·¥ä½œçš„ï¼Œä»¥åŠæˆ‘ä»¬çš„ç¨‹åºä¸ºä»€ä¹ˆå¯åŠ¨èµ·æ¥æ˜¯ä¸€ä¸ªtomcatæœåŠ¡å™¨ç­‰ç­‰</li></ol><p>â€‹    ç¬¬ä¸€ç« åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œå†å¾€ä¸‹å­¦ä¹ å°±è¦å»åŸºäºä¼šåˆ›å»ºSpringBootå·¥ç¨‹çš„åŸºç¡€ä¸Šï¼Œç ”ç©¶SpringBootå·¥ç¨‹çš„å…·ä½“ç»†èŠ‚äº†ã€‚</p><h3 id="1-6-çŸ¥è¯†è¡¥å……ï¼šRESTé£æ ¼"><a href="#1-6-çŸ¥è¯†è¡¥å……ï¼šRESTé£æ ¼" class="headerlink" title="1-6.çŸ¥è¯†è¡¥å……ï¼šRESTé£æ ¼"></a>1-6.çŸ¥è¯†è¡¥å……ï¼šRESTé£æ ¼</h3><img src="/.io//image-20220513013256800.png" alt="image-20220513013256800" style="zoom:50%;"><img src="/.io//image-20220513013323639.png" alt="image-20220513013323639" style="zoom:40%;"><img src="/.io//image-20220513013828407.png" alt="image-20220513013828407" style="zoom:40%;"><p><img src="/.io//image-20220513014844359.png" alt="image-20220513014844359"></p><p><img src="/.io//image-20220513015027468.png" alt="image-20220513015027468"></p><p><strong>è§£é‡Šï¼š</strong></p><p><img src="/.io//image-20220513015145027.png" alt="image-20220513015145027"></p><p><img src="/.io//image-20220513015202262.png" alt="image-20220513015202262"></p><p><strong>ç®€åŒ–ï¼š</strong></p><p><img src="/.io//image-20220513134450717.png" alt="image-20220513134450717"></p><p><img src="/.io//image-20220513134514886.png" alt="image-20220513134514886"></p><p><strong>åŒºåˆ«ï¼š</strong></p><p><img src="/.io//image-20220513015250858.png" alt="image-20220513015250858"></p><h2 id="2-SpringBootåŸºç¡€é…ç½®"><a href="#2-SpringBootåŸºç¡€é…ç½®" class="headerlink" title="2.SpringBootåŸºç¡€é…ç½®"></a>2.SpringBootåŸºç¡€é…ç½®</h2><p>â€‹    å…¥é—¨æ¡ˆä¾‹åšå®Œäº†ï¼Œä¸‹é¢å°±è¦ç ”ç©¶SpringBootçš„ç”¨æ³•äº†ã€‚é€šè¿‡å…¥é—¨æ¡ˆä¾‹ï¼Œå„ä½å°ä¼™ä¼´èƒ½å¤Ÿæ„ŸçŸ¥åˆ°ä¸€ä¸ªä¿¡æ¯ï¼ŒSpringBootæ²¡æœ‰å…·ä½“çš„åŠŸèƒ½ï¼Œå®ƒåœ¨è¾…åŠ©åŠ å¿«Springç¨‹åºçš„å¼€å‘æ•ˆç‡ã€‚æˆ‘ä»¬å‘ç°ç°åœ¨å‡ ä¹ä¸ç”¨åšä»»ä½•çš„é…ç½®ï¼ŒåŠŸèƒ½å°±æœ‰äº†ï¼Œç¡®å®å¾ˆå¥½ç”¨ã€‚ä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œæ²¡æœ‰åšé…ç½®æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€é…ç½®å·²ç»åšå¥½äº†ï¼Œä¸ç”¨ä½ è‡ªå·±å†™äº†ã€‚ä½†æ˜¯æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœä¸æƒ³ç”¨å·²ç»å†™å¥½çš„é»˜è®¤é…ç½®ï¼Œè¯¥å¦‚ä½•å¹²é¢„å‘¢ï¼Ÿè¿™å°±æ˜¯è¿™ä¸€ç« å’±ä»¬è¦ç ”ç©¶çš„é—®é¢˜ã€‚</p><p>â€‹    å¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹é»˜è®¤çš„é…ç½®iï¼Œè¿™ä¸ªä¿¡æ¯åº”è¯¥å†™åœ¨ä»€ä¹ˆä½ç½®å‘¢ï¼Ÿç›®å‰æˆ‘ä»¬æ¥è§¦çš„å…¥é—¨æ¡ˆä¾‹ä¸­ä¸€å…±æœ‰3ä¸ªæ–‡ä»¶ï¼Œç¬¬ä¸€æ˜¯pom.xmlæ–‡ä»¶ï¼Œè®¾ç½®é¡¹ç›®çš„ä¾èµ–çš„ï¼Œè¿™ä¸ªæ²¡ä»€ä¹ˆå¥½ç ”ç©¶çš„ï¼Œç›¸å…³çš„é«˜çº§å†…å®¹å’±ä»¬åˆ°åŸç†ç¯‡å†è¯´ï¼Œç¬¬äºŒæ˜¯å¼•å¯¼ç±»ï¼Œè¿™ä¸ªæ˜¯æ‰§è¡ŒSpringBootç¨‹åºçš„å…¥å£ï¼Œä¹Ÿä¸åƒæ˜¯åšé…ç½®çš„åœ°æ–¹ï¼Œå…¶å®è¿˜æœ‰ä¸€ä¸ªä¿¡æ¯ï¼Œå°±æ˜¯åœ¨resourcesç›®å½•ä¸‹é¢æœ‰ä¸€ä¸ªç©ºç™½çš„æ–‡ä»¶ï¼Œå«åšapplication.propertiesã€‚ä¸€çœ‹å°±æ˜¯ä¸ªé…ç½®æ–‡ä»¶ï¼Œå’±ä»¬è¿™ä¸€ç« å°±æ¥è¯´è¯´é…ç½®æ–‡ä»¶æ€ä¹ˆå†™ï¼Œèƒ½å†™ä»€ä¹ˆï¼Œæ€ä¹ˆå¹²é¢„SpringBootçš„é»˜è®¤é…ç½®ï¼Œä¿®æ”¹æˆè‡ªå·±çš„é…ç½®ã€‚</p><h3 id="2-0-Skillï¼šå¤åˆ¶æ¨¡å—ï¼ˆä½¿ç”¨æ¨¡æ¿Moduleï¼‰"><a href="#2-0-Skillï¼šå¤åˆ¶æ¨¡å—ï¼ˆä½¿ç”¨æ¨¡æ¿Moduleï¼‰" class="headerlink" title="2-0.Skillï¼šå¤åˆ¶æ¨¡å—ï¼ˆä½¿ç”¨æ¨¡æ¿Moduleï¼‰"></a>2-0.Skillï¼šå¤åˆ¶æ¨¡å—ï¼ˆä½¿ç”¨æ¨¡æ¿Moduleï¼‰</h3><p><a href="https://www.bilibili.com/video/BV15b4y1a7yG?p=15">https://www.bilibili.com/video/BV15b4y1a7yG?p=15</a></p><p><strong>åˆ›å»ºæ¨¡æ¿ Moduleï¼š</strong></p><p><img src="/.io//image-20220513141824364.png" alt="image-20220513141824364"></p><p><strong>åˆ‡è®°ä¿®æ”¹ pom.xml é‡Œçš„ artifactid ï¼</strong></p><p><strong>å¯¼å…¥æ¨¡æ¿ Moduleï¼š</strong></p><p><img src="/.io//image-20220513142210899.png" alt="image-20220513142210899"></p><p><img src="/.io//image-20220513143534029.png" alt="image-20220513143534029"></p><h3 id="2-1-å±æ€§é…ç½®"><a href="#2-1-å±æ€§é…ç½®" class="headerlink" title="2-1.å±æ€§é…ç½®"></a>2-1.å±æ€§é…ç½®</h3><p><strong>resources é‡Œçš„ application.properties</strong> </p><p>â€‹    SpringBooté€šè¿‡é…ç½®æ–‡ä»¶<strong>application.properties</strong>å°±å¯ä»¥ä¿®æ”¹é»˜è®¤çš„é…ç½®ï¼Œé‚£å’±ä»¬å°±å…ˆæ‰¾ä¸ªç®€å•çš„é…ç½®ä¸‹æ‰‹ï¼Œå½“å‰è®¿é—®tomcatçš„é»˜è®¤ç«¯å£æ˜¯8080ï¼Œå¥½ç†Ÿæ‚‰çš„å‘³é“ï¼Œä½†æ˜¯ä¸ä¾¿äºä¹¦å†™ï¼Œæˆ‘ä»¬å…ˆæ”¹æˆ80ï¼Œé€šè¿‡è¿™ä¸ªæ“ä½œæ¥ç†Ÿæ‚‰ä¸€ä¸‹SpringBootçš„é…ç½®æ ¼å¼æ˜¯ä»€ä¹ˆæ ·çš„</p><p><img src="/.io//img%5Cimage-20211123165428245.png" alt="image-20211123165428245"></p><p>propertiesæ ¼å¼çš„æ–‡ä»¶ä¹¦å†™è§„èŒƒæ˜¯key=value</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">name</span>=<span class="hljs-string">wangkr</span><br></code></pre></td></tr></table></figure><p>â€‹    è¿™ä¸ªæ ¼å¼è‚¯å®šæ˜¯ä¸èƒ½é¢ è¦†çš„ï¼Œé‚£å°±å°è¯•æ€§çš„å†™å°±è¡Œäº†ï¼Œæ”¹ç«¯å£ï¼Œå†™portã€‚å½“ä½ è¾“å…¥portåï¼Œç¥å¥‡çš„äº‹æƒ…å°±å‘ç”Ÿäº†ï¼Œè¿™ç©æ„å„¿å¸¦æç¤ºï¼Œå¤ªå¥½äº†</p><img src="/.io//image-20211123165719091.png" alt="image-20211123165719091" style="zoom:80%;"><p>â€‹    æ ¹æ®æç¤ºæ•²å›è½¦ï¼Œè¾“å…¥80ç«¯å£ï¼Œæå®š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">server.port</span>=<span class="hljs-string">80</span><br></code></pre></td></tr></table></figure><p>â€‹    ä¸‹é¢å°±å¯ä»¥ç›´æ¥è¿è¡Œç¨‹åºï¼Œæµ‹è¯•æ•ˆæœäº†ã€‚</p><p>â€‹    æˆ‘ä»¬æƒŠå¥‡çš„å‘ç°SpringBootè¿™ç©æ„å„¿ç‹ å•Šï¼Œä»¥å‰ä¿®æ”¹ç«¯å£åœ¨å“ªé‡Œæ”¹ï¼ŸtomcatæœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ä¸­æ”¹ï¼Œç°åœ¨å‘¢ï¼ŸSpringBootä¸“ç”¨çš„é…ç½®æ–‡ä»¶ä¸­æ”¹ï¼Œæ˜¯ä¸æ˜¯æ„å‘³ç€ä»¥åæ‰€æœ‰çš„é…ç½®éƒ½å¯ä»¥å†™åœ¨è¿™ä¸€ä¸ªæ–‡ä»¶ä¸­å‘¢ï¼Ÿæ˜¯çš„ï¼Œç®€åŒ–å¼€å‘è€…é…ç½®çš„ä¹¦å†™ä½ç½®ï¼Œé›†ä¸­ç®¡ç†ã€‚</p><p>â€‹    å…¶å®åˆ°è¿™é‡Œæˆ‘ä»¬åº”è¯¥å¾—åˆ°å¦‚ä¸‹ä¸‰ä¸ªä¿¡æ¯</p><ol><li>SpringBootç¨‹åºå¯ä»¥åœ¨application.propertiesæ–‡ä»¶ä¸­è¿›è¡Œå±æ€§é…ç½®</li><li>application.propertiesæ–‡ä»¶ä¸­åªè¦è¾“å…¥è¦é…ç½®çš„å±æ€§å…³é”®å­—å°±å¯ä»¥æ ¹æ®æç¤ºè¿›è¡Œè®¾ç½®</li><li>SpringBootå°†é…ç½®ä¿¡æ¯é›†ä¸­åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å†™ï¼Œä¸ç®¡ä½ æ˜¯æœåŠ¡å™¨çš„é…ç½®ï¼Œè¿˜æ˜¯æ•°æ®åº“çš„é…ç½®ï¼Œæ€»ä¹‹éƒ½å†™åœ¨ä¸€èµ·ï¼Œé€ƒç¦»ä¸€ä¸ªé¡¹ç›®åå‡ ç§é…ç½®æ–‡ä»¶æ ¼å¼çš„å°´å°¬å±€é¢</li></ol><p><strong>æ€»ç»“</strong>ï¼š</p><p>SpringBooté»˜è®¤é…ç½®æ–‡ä»¶æ˜¯application.properties</p><p>â€‹    åšå®Œäº†ç«¯å£çš„é…ç½®ï¼Œè¶çƒ­æ‰“é“ï¼Œå†åšå‡ ä¸ªé…ç½®ï¼Œç›®å‰é¡¹ç›®å¯åŠ¨æ—¶ä¼šæ˜¾ç¤ºä¸€äº›æ—¥å¿—ä¿¡æ¯ï¼Œå°±æ¥æ”¹ä¸€æ”¹è¿™é‡Œé¢çš„ä¸€äº›è®¾ç½®ã€‚</p><p><strong>å…³é—­è¿è¡Œæ—¥å¿—å›¾è¡¨ï¼ˆbanner)</strong></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">spring.main.banner-mode</span>=<span class="hljs-string">off</span><br></code></pre></td></tr></table></figure><p><strong>è®¾ç½®è¿è¡Œæ—¥å¿—çš„æ˜¾ç¤ºçº§åˆ«</strong></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">logging.level.root</span>=<span class="hljs-string">debug</span><br></code></pre></td></tr></table></figure><p>â€‹    ä½ ä¼šå‘ç°ï¼Œç°åœ¨è¿™ä¹ˆæé…ç½®å¤ªçˆ½äº†ï¼Œä»¥å‰ä½ åšé…ç½®æ€ä¹ˆåšï¼Ÿä¸åŒçš„æŠ€æœ¯æœ‰è‡ªå·±ä¸“ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸åŒæ ¼å¼ä¹Ÿä¸ç»Ÿä¸€ï¼Œç°åœ¨å‘¢ï¼Ÿä¸ç”¨ä¸œå¥”è¥¿èµ°çš„æ‰¾é…ç½®æ–‡ä»¶å†™é…ç½®äº†ï¼Œç»Ÿä¸€æ ¼å¼äº†ã€‚</p><p>â€‹    æˆ‘ä»¬ç°åœ¨é…ç½®äº†3ä¸ªä¿¡æ¯ï¼Œä½†æ˜¯åˆæœ‰æ–°çš„é—®é¢˜äº†ã€‚è¿™ä¸ªé…ç½®æ˜¯éšä¾¿å†™çš„å—ï¼Ÿä»€ä¹ˆéƒ½èƒ½é…ï¼Ÿæœ‰æ²¡æœ‰ä¸€ä¸ªä¸œè¥¿æ˜¾ç¤ºæ‰€æœ‰èƒ½é…ç½®çš„é¡¹å‘¢ï¼Ÿæ­¤å¤–è¿™ä¸ªé…ç½®å’Œä»€ä¹ˆä¸œè¥¿æœ‰å…³å‘¢ï¼Ÿä¼šä¸ä¼šå› ä¸ºæˆ‘å†™äº†ä»€ä¹ˆä¸œè¥¿ä»¥åæ‰å¯ä»¥å†™ä»€ä¹ˆé…ç½®å‘¢ï¼Ÿæ¯”å¦‚æˆ‘ç°åœ¨æ²¡æœ‰å†™æ•°æ®åº“ç›¸å…³çš„ä¸œè¥¿ï¼Œèƒ½å¦é…ç½®æ•°æ®å‘¢ï¼Ÿä¸€ä¸ªä¸€ä¸ªæ¥ï¼Œå…ˆè¯´ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œéƒ½èƒ½é…ç½®ä»€ä¹ˆã€‚</p><p>â€‹    æ‰“å¼€SpringBootçš„å®˜ç½‘ï¼Œæ‰¾åˆ°SpringBootå®˜æ–¹æ–‡æ¡£ï¼Œæ‰“å¼€æŸ¥çœ‹é™„å½•ä¸­çš„Application Propertieså°±å¯ä»¥è·å–åˆ°å¯¹åº”çš„é…ç½®é¡¹äº†ï¼Œç½‘å€å¥‰ä¸Šï¼š<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties</a></p><p>â€‹    èƒ½å†™ä»€ä¹ˆçš„é—®é¢˜è§£å†³äº†ï¼Œå†æ¥è¯´ç¬¬äºŒä¸ªé—®é¢˜ï¼Œè¿™ä¸ªé…ç½®é¡¹å’Œä»€ä¹ˆæœ‰å…³ã€‚åœ¨pomä¸­æ³¨é‡Šæ‰å¯¼å…¥çš„spring-boot-starter-webï¼Œç„¶ååˆ·æ–°å·¥ç¨‹ï¼Œä½ ä¼šå‘ç°é…ç½®çš„æç¤ºæ¶ˆå¤±äº†ã€‚é—¹äº†åŠå¤©æ˜¯è®¾å®šä½¿ç”¨äº†ä»€ä¹ˆæŠ€æœ¯æ‰èƒ½åšä»€ä¹ˆé…ç½®ã€‚ä¹Ÿåˆç†ï¼Œä¸ç„¶é…ç½®çš„ä¸œè¥¿éƒ½æ²¡æœ‰ä½¿ç”¨å¯¹åº”æŠ€æœ¯ï¼Œé…äº†ä¹Ÿæ˜¯ç™½é…ã€‚</p><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹    æ‰€æœ‰çš„starterä¸­éƒ½ä¼šä¾èµ–ä¸‹é¢è¿™ä¸ªstarterï¼Œå«åšspring-boot-starterã€‚è¿™ä¸ªstarteræ˜¯æ‰€æœ‰çš„SpringBootçš„starterçš„åŸºç¡€ä¾èµ–ï¼Œé‡Œé¢å®šä¹‰äº†SpringBootç›¸å…³çš„åŸºç¡€é…ç½®ï¼Œå…³äºè¿™ä¸ªstarteræˆ‘ä»¬åˆ°å¼€å‘åº”ç”¨ç¯‡å’ŒåŸç†ç¯‡ä¸­å†æ·±å…¥è®²è§£ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">&lt;dependency&gt;<br>    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br>    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;<br>    &lt;version&gt;<span class="hljs-number">2.5</span><span class="hljs-number">.4</span>&lt;/version&gt;<br>    &lt;scope&gt;compile&lt;/scope&gt;<br>&lt;/dependency&gt;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>SpringBootä¸­å¯¼å…¥å¯¹åº”starteråï¼Œæä¾›å¯¹åº”é…ç½®å±æ€§</li><li>ä¹¦å†™SpringBooté…ç½®é‡‡ç”¨å…³é”®å­—+æç¤ºå½¢å¼ä¹¦å†™</li></ol><h3 id="2-2-é…ç½®æ–‡ä»¶åˆ†ç±»"><a href="#2-2-é…ç½®æ–‡ä»¶åˆ†ç±»" class="headerlink" title="2-2.é…ç½®æ–‡ä»¶åˆ†ç±»"></a>2-2.é…ç½®æ–‡ä»¶åˆ†ç±»</h3><p>â€‹    ç°åœ¨å·²ç»èƒ½å¤Ÿè¿›è¡ŒSpringBootç›¸å…³çš„é…ç½®äº†ï¼Œä½†æ˜¯propertiesæ ¼å¼çš„é…ç½®å†™èµ·æ¥æ€»æ˜¯è§‰å¾—çœ‹ç€ä¸èˆ’æœï¼Œæ‰€ä»¥å°±æœŸæœ›å­˜åœ¨ä¸€ç§ä¹¦å†™èµ·æ¥æ›´ç®€ä¾¿çš„é…ç½®æ ¼å¼æä¾›ç»™å¼€å‘è€…ä½¿ç”¨ã€‚æœ‰å—ï¼Ÿè¿˜çœŸæœ‰ï¼ŒSpringBooté™¤äº†æ”¯æŒpropertiesæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œè¿˜æ”¯æŒå¦å¤–ä¸¤ç§æ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚åˆ†åˆ«å¦‚ä¸‹:</p><ul><li><p>propertiesæ ¼å¼</p></li><li><p>ymlæ ¼å¼ï¼ˆä¸»æµæ ¼å¼ï¼‰</p></li><li><p>yamlæ ¼å¼</p><p> ä¸‹é¢åˆ—ä¸¾ä¸‰ç§ä¸åŒæ–‡ä»¶æ ¼å¼é…ç½®ç›¸åŒçš„å±æ€§èŒƒä¾‹ï¼Œå…ˆäº†è§£ä¸€ä¸‹</p></li><li><p>application.propertiesï¼ˆpropertiesæ ¼å¼ï¼‰</p></li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">server.port</span>=<span class="hljs-string">80</span><br></code></pre></td></tr></table></figure><ul><li>application.ymlï¼ˆymlæ ¼å¼ï¼‰</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs YML"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">81</span><br></code></pre></td></tr></table></figure><ul><li>application.yamlï¼ˆyamlæ ¼å¼ï¼‰</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">82</span><br></code></pre></td></tr></table></figure><p>â€‹    ä»”ç»†çœ‹ä¼šå‘ç°ymlæ ¼å¼å’Œyamlæ ¼å¼é™¤äº†æ–‡ä»¶ååç¼€ä¸ä¸€æ ·ï¼Œæ ¼å¼å®Œå…¨ä¸€æ ·ï¼Œæ˜¯è¿™æ ·çš„ï¼Œymlå’Œyamlæ–‡ä»¶æ ¼å¼å°±æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªæ˜¯æ–‡ä»¶åç¼€ä¸åŒï¼Œæ‰€ä»¥å¯ä»¥åˆå¹¶æˆä¸€ç§æ ¼å¼æ¥çœ‹ã€‚é‚£å¯¹äºè¿™ä¸‰ç§æ ¼å¼æ¥è¯´ï¼Œä»¥åç”¨å“ªä¸€ç§æ¯”è¾ƒå¤šå‘¢ï¼Ÿè®°æ¸…æ¥šï¼Œä»¥ååŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨ymlæ ¼å¼çš„ï¼Œæœ¬è¯¾ç¨‹åé¢çš„æ‰€æœ‰çŸ¥è¯†éƒ½æ˜¯åŸºäºymlæ ¼å¼æ¥åˆ¶ä½œçš„ï¼Œä»¥ååœ¨ä¼ä¸šå¼€å‘è¿‡ç¨‹ä¸­ç”¨è¿™ä¸ªæ ¼å¼çš„æœºä¼šä¹Ÿæœ€å¤šï¼Œä¸€å®šè¦é‡ç‚¹æŒæ¡ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>SpringBootæä¾›äº†3ç§é…ç½®æ–‡ä»¶çš„æ ¼å¼<ul><li>propertiesï¼ˆä¼ ç»Ÿæ ¼å¼/é»˜è®¤æ ¼å¼ï¼‰</li><li><strong>yml</strong>ï¼ˆä¸»æµæ ¼å¼ï¼‰</li><li>yaml</li></ul></li></ol><h4 id="é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§"><a href="#é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§" class="headerlink" title="é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§"></a>é…ç½®æ–‡ä»¶ä¼˜å…ˆçº§</h4><p>â€‹    å…¶å®ä¸‰ä¸ªæ–‡ä»¶å¦‚æœå…±å­˜çš„è¯ï¼Œè°ç”Ÿæ•ˆè¯´çš„å°±æ˜¯é…ç½®æ–‡ä»¶åŠ è½½çš„ä¼˜å…ˆçº§åˆ«ã€‚å…ˆè¯´ä¸€ç‚¹ï¼Œè™½ç„¶ä»¥åè¿™ç§æƒ…å†µå¾ˆå°‘å‡ºç°ï¼Œä½†æ˜¯è¿™ä¸ªçŸ¥è¯†è¿˜æ˜¯å¯ä»¥å­¦ä¹ ä¸€ä¸‹çš„ã€‚æˆ‘ä»¬å°±è®©ä¸‰ä¸ªé…ç½®æ–‡ä»¶ä¹¦å†™åŒæ ·çš„ä¿¡æ¯ï¼Œæ¯”å¦‚éƒ½é…ç½®ç«¯å£ï¼Œç„¶åæˆ‘ä»¬è®©æ¯ä¸ªæ–‡ä»¶é…ç½®çš„ç«¯å£å·éƒ½ä¸ä¸€æ ·ï¼Œæœ€åå¯åŠ¨ç¨‹åºåçœ‹å¯åŠ¨ç«¯å£æ˜¯å¤šå°‘å°±çŸ¥é“è°çš„åŠ è½½ä¼˜å…ˆçº§æ¯”è¾ƒé«˜äº†ã€‚</p><ul><li>application.propertiesï¼ˆpropertiesæ ¼å¼ï¼‰</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">server.port</span>=<span class="hljs-string">80</span><br></code></pre></td></tr></table></figure><ul><li>application.ymlï¼ˆymlæ ¼å¼ï¼‰</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs YML"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">81</span><br></code></pre></td></tr></table></figure><ul><li>application.yamlï¼ˆyamlæ ¼å¼ï¼‰</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">82</span><br></code></pre></td></tr></table></figure><p>â€‹    å¯åŠ¨åå‘ç°ç›®å‰çš„å¯åŠ¨ç«¯å£ä¸º80ï¼ŒæŠŠ80å¯¹åº”çš„æ–‡ä»¶åˆ é™¤æ‰ï¼Œç„¶åå†å¯åŠ¨ï¼Œç°åœ¨ç«¯å£åˆæ”¹æˆäº†81ã€‚ç°åœ¨æˆ‘ä»¬å°±å·²ç»çŸ¥é“3ä¸ªæ–‡ä»¶çš„åŠ è½½ä¼˜å…ˆé¡ºåºæ˜¯ä»€ä¹ˆäº†</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs XML">application.properties  &gt;  application.yml  &gt;  application.yaml<br></code></pre></td></tr></table></figure><p>â€‹    è™½ç„¶å¾—åˆ°äº†ä¸€ä¸ªçŸ¥è¯†ç»“è®ºï¼Œä½†æ˜¯æˆ‘ä»¬å®é™…å¼€å‘çš„æ—¶å€™è¿˜æ˜¯è¦çœ‹æœ€ç»ˆçš„æ•ˆæœä¸ºå‡†ã€‚</p><p>â€‹    æœ€åæˆ‘ä»¬æŠŠé…ç½®æ–‡ä»¶å†…å®¹ç»™ä¿®æ”¹ä¸€ä¸‹</p><ul><li>application.propertiesï¼ˆpropertiesæ ¼å¼ï¼‰</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">server.port</span>=<span class="hljs-string">80</span><br><span class="hljs-meta">spring.main.banner-mode</span>=<span class="hljs-string">off</span><br></code></pre></td></tr></table></figure><ul><li>application.ymlï¼ˆymlæ ¼å¼ï¼‰</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs YML"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">81</span><br><span class="hljs-attr">logging:</span> <br>  <span class="hljs-attr">level:</span> <br>    <span class="hljs-attr">root:</span> <span class="hljs-string">debug</span><br></code></pre></td></tr></table></figure><ul><li>application.yamlï¼ˆyamlæ ¼å¼ï¼‰</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">82</span><br></code></pre></td></tr></table></figure><p>â€‹    æˆ‘ä»¬å‘ç°ä¸ä»…ç«¯å£ç”Ÿæ•ˆäº†ï¼Œæœ€ç»ˆæ˜¾ç¤º80ï¼ŒåŒæ—¶å…¶ä»–ä¸¤æ¡é…ç½®ä¹Ÿç”Ÿæ•ˆäº†ï¼Œçœ‹æ¥æ¯ä¸ªé…ç½®æ–‡ä»¶ä¸­çš„é¡¹éƒ½ä¼šç”Ÿæ•ˆï¼Œåªä¸è¿‡å¦‚æœå¤šä¸ªé…ç½®æ–‡ä»¶ä¸­æœ‰ç›¸åŒç±»å‹çš„é…ç½®ä¼šä¼˜å…ˆçº§é«˜çš„æ–‡ä»¶è¦†ç›–ä¼˜å…ˆçº§çš„æ–‡ä»¶ä¸­çš„é…ç½®ã€‚å¦‚æœé…ç½®é¡¹ä¸åŒçš„è¯ï¼Œé‚£æ‰€æœ‰çš„é…ç½®é¡¹éƒ½ä¼šç”Ÿæ•ˆã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>é…ç½®æ–‡ä»¶é—´çš„åŠ è½½ä¼˜å…ˆçº§    propertiesï¼ˆæœ€é«˜ï¼‰&gt;  yml  &gt;  yamlï¼ˆæœ€ä½ï¼‰</li><li>ä¸åŒé…ç½®æ–‡ä»¶ä¸­<strong>ç›¸åŒé…ç½®æŒ‰ç…§åŠ è½½ä¼˜å…ˆçº§ç›¸äº’è¦†ç›–</strong>ï¼Œä¸åŒé…ç½®æ–‡ä»¶ä¸­<strong>ä¸åŒé…ç½®å…¨éƒ¨ä¿ç•™</strong> </li></ol><h4 id="æ•™ä½ ä¸€æ‹›ï¼šè‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±è§£å†³æ–¹æ¡ˆ"><a href="#æ•™ä½ ä¸€æ‹›ï¼šè‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±è§£å†³æ–¹æ¡ˆ" class="headerlink" title="æ•™ä½ ä¸€æ‹›ï¼šè‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±è§£å†³æ–¹æ¡ˆ"></a>æ•™ä½ ä¸€æ‹›ï¼š<strong>è‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±è§£å†³æ–¹æ¡ˆ</strong></h4><p>â€‹    å¯èƒ½æœ‰äº›å°ä¼™ä¼´ä¼šåŸºäºå„ç§å„æ ·çš„åŸå› å¯¼è‡´é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰æç¤ºï¼Œè¿™ä¸ªç¡®å®å¾ˆè®©äººå¤´ç–¼ï¼Œæ‰€ä»¥ä¸‹é¢ç»™å¤§å®¶è¯´ä¸€ä¸‹å¦‚æœè‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±äº†æ€ä¹ˆè§£å†³ã€‚</p><p>â€‹    å…ˆè¦æ˜ç¡®ä¸€ä¸ªæ ¸å¿ƒï¼Œå°±æ˜¯è‡ªåŠ¨æç¤ºåŠŸèƒ½ä¸æ˜¯SpringBootæŠ€æœ¯ç»™æˆ‘ä»¬æä¾›çš„ï¼Œæ˜¯æˆ‘ä»¬åœ¨Ideaå·¥å…·ä¸‹ç¼–ç¨‹ï¼Œè¿™ä¸ªç¼–ç¨‹å·¥å…·ç»™æˆ‘ä»¬æä¾›çš„ã€‚æ˜ç™½äº†è¿™ä¸€ç‚¹åï¼Œå†æ¥è¯´ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§ç°è±¡ã€‚å…¶å®è¿™ä¸ªè‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±çš„åŸå› è¿˜æ˜¯è›®å¤šçš„ï¼Œå¦‚æœæƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±è¦çŸ¥é“ä¸ºä»€ä¹ˆä¼šæ¶ˆå¤±ï¼Œå¤§ä½“åŸå› æœ‰å¦‚ä¸‹3ç§ï¼š</p><ol><li><p>Ideaè®¤ä¸ºä½ ç°åœ¨å†™é…ç½®çš„æ–‡ä»¶ä¸æ˜¯ä¸ªé…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æ‹’ç»ç»™ä½ æä¾›æç¤ºåŠŸèƒ½</p></li><li><p>Ideaè®¤å®šä½ æ˜¯åˆç†çš„é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯IdeaåŠ è½½ä¸åˆ°å¯¹åº”çš„æç¤ºä¿¡æ¯</p><p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦è§£å†³ç¬¬ä¸€ä¸ªç°è±¡ï¼Œç¬¬äºŒç§ç°è±¡åˆ°åŸç†ç¯‡å†è®²è§£ã€‚ç¬¬ä¸€ç§ç°è±¡çš„è§£å†³æ–¹å¼å¦‚ä¸‹ï¼š</p></li></ol><p><strong>æ­¥éª¤â‘ </strong>ï¼šæ‰“å¼€è®¾ç½®ï¼Œã€Filesã€‘â†’ã€Project Structureâ€¦ã€‘</p><p><img src="/.io//img%5Cimage-20211126160548690.png" alt="image-20211126160548690"></p><p><strong>æ­¥éª¤â‘¡</strong>ï¼šåœ¨å¼¹å‡ºçª—å£ä¸­å·¦ä¾§é€‰æ‹©ã€Facetsã€‘ï¼Œå³ä¾§é€‰ä¸­Springè·¯å¾„ä¸‹å¯¹åº”çš„æ¨¡å—åç§°ï¼Œä¹Ÿå°±æ˜¯ä½ è‡ªåŠ¨æç¤ºåŠŸèƒ½æ¶ˆå¤±çš„é‚£ä¸ªæ¨¡å—</p><p><img src="/.io//img%5Cimage-20211126160726589.png" alt="image-20211126160726589"><img src="/.io//img%5Cimage-20211126160844372.png" alt="image-20211126160844372"></p><p><strong>æ­¥éª¤â‘¢</strong>ï¼šç‚¹å‡»Customize Spring BootæŒ‰é’®ï¼Œæ­¤æ—¶å¯ä»¥çœ‹åˆ°å½“å‰æ¨¡å—å¯¹åº”çš„é…ç½®æ–‡ä»¶æ˜¯å“ªäº›äº†ã€‚å¦‚æœæ²¡æœ‰ä½ æƒ³è¦ç§°ä¸ºé…ç½®æ–‡ä»¶çš„æ–‡ä»¶æ ¼å¼ï¼Œå°±æœ‰å¯èƒ½æ— æ³•å¼¹å‡ºæç¤º</p><p><img src="/.io//img%5Cimage-20211126160946448.png" alt="image-20211126160946448"><img src="/.io//img%5Cimage-20211126160954338.png" alt="image-20211126160954338"></p><p><strong>æ­¥éª¤â‘£</strong>ï¼šé€‰æ‹©æ·»åŠ é…ç½®æ–‡ä»¶ï¼Œç„¶åé€‰ä¸­è¦ä½œä¸ºé…ç½®æ–‡ä»¶çš„å…·ä½“æ–‡ä»¶å°±OKäº†</p><p><img src="/.io//img%5Cimage-20211126161145082.png" alt="image-20211126161145082"><img src="/.io//image-20211126161156324.png" alt="image-20211126161156324" style="zoom:80%;"></p><p>â€‹    åˆ°è¿™é‡Œå°±åšå®Œäº†ï¼Œå…¶å®å°±æ˜¯Ideaçš„ä¸€ä¸ªå°åŠŸèƒ½</p><p><img src="/.io//img%5Cimage-20211126161301699.png" alt="image-20211126161301699"></p><p><strong>æ€»ç»“</strong></p><ol><li><p>æŒ‡å®šSpringBooté…ç½®æ–‡ä»¶</p><ul><li>Setting â†’ Project Structure â†’ Facets</li><li>é€‰ä¸­å¯¹åº”é¡¹ç›®/å·¥ç¨‹</li><li>Customize Spring Boot</li><li>é€‰æ‹©é…ç½®æ–‡ä»¶</li></ul></li></ol><h3 id="2-3-yamlæ–‡ä»¶"><a href="#2-3-yamlæ–‡ä»¶" class="headerlink" title="2-3.yamlæ–‡ä»¶"></a>2-3.yamlæ–‡ä»¶</h3><p>â€‹    SpringBootçš„é…ç½®ä»¥åä¸»è¦ä½¿ç”¨ymlç»“å°¾çš„è¿™ç§æ–‡ä»¶æ ¼å¼ï¼Œå¹¶ä¸”åœ¨ä¹¦å†™æ—¶å¯ä»¥é€šè¿‡æç¤ºçš„å½¢å¼åŠ è½½æ­£ç¡®çš„æ ¼å¼ã€‚ä½†æ˜¯è¿™ç§æ–‡ä»¶è¿˜æ˜¯æœ‰ä¸¥æ ¼çš„ä¹¦å†™æ ¼å¼è¦æ±‚çš„ã€‚ä¸‹é¢å°±æ¥è¯´ä¸€ä¸‹å…·ä½“çš„è¯­æ³•æ ¼å¼ã€‚</p><p>â€‹    YAMLï¼ˆYAML Ainâ€™t Markup Languageï¼‰ï¼Œä¸€ç§æ•°æ®åºåˆ—åŒ–æ ¼å¼ã€‚å…·æœ‰å®¹æ˜“é˜…è¯»ã€å®¹æ˜“ä¸è„šæœ¬è¯­è¨€äº¤äº’ã€<strong>ä»¥æ•°æ®ä¸ºæ ¸å¿ƒï¼Œé‡æ•°æ®è½»æ ¼å¼</strong>çš„ç‰¹ç‚¹ã€‚</p><img src="/.io//image-20220513172247817.png" alt="image-20220513172247817" style="zoom: 33%;"><p>å¸¸è§çš„æ–‡ä»¶æ‰©å±•åæœ‰ä¸¤ç§ï¼š</p><ul><li><p><strong>.yml</strong> æ ¼å¼ï¼ˆä¸»æµï¼‰</p></li><li><p><strong>.yaml</strong> æ ¼å¼</p><p> å¯¹äºæ–‡ä»¶è‡ªèº«åœ¨ä¹¦å†™æ—¶ï¼Œå…·æœ‰ä¸¥æ ¼çš„è¯­æ³•æ ¼å¼è¦æ±‚ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p></li></ul><ol><li><p>å¤§å°å†™æ•æ„Ÿ</p></li><li><p>å±æ€§å±‚çº§å…³ç³»ä½¿ç”¨å¤šè¡Œæè¿°ï¼Œ<strong>æ¯è¡Œç»“å°¾ä½¿ç”¨å†’å·ç»“æŸ</strong></p></li><li><p>ä½¿ç”¨<strong>ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»</strong>ï¼ŒåŒå±‚çº§å·¦ä¾§å¯¹é½ï¼Œåªå…è®¸ä½¿ç”¨ç©ºæ ¼ï¼ˆä¸å…è®¸ä½¿ç”¨Tabé”®ï¼‰</p></li><li><p><strong>å±æ€§å€¼å‰é¢æ·»åŠ ç©ºæ ¼</strong>ï¼ˆå±æ€§åä¸å±æ€§å€¼ä¹‹é—´ä½¿ç”¨å†’å·+ç©ºæ ¼ä½œä¸ºåˆ†éš”ï¼‰</p></li><li><p>#å· è¡¨ç¤ºæ³¨é‡Š</p></li></ol><p>  ä¸Šè¿°è§„åˆ™ä¸è¦æ­»è®°ç¡¬èƒŒï¼ŒæŒ‰ç…§ä¹¦å†™ä¹ æƒ¯æ…¢æ…¢é€‚åº”ï¼Œå¹¶ä¸”åœ¨Ideaä¸‹ç”±äºå…·æœ‰æç¤ºåŠŸèƒ½ï¼Œæ…¢æ…¢é€‚åº”ç€å†™æ ¼å¼å°±è¡Œäº†ã€‚æ ¸å¿ƒçš„ä¸€æ¡è§„åˆ™è¦è®°ä½ï¼Œ<font color="#ff0000"><b>æ•°æ®å‰é¢è¦åŠ ç©ºæ ¼ä¸å†’å·éš”å¼€</b></font></p><p>â€‹    ä¸‹é¢åˆ—å‡ºå¸¸è§çš„æ•°æ®ä¹¦å†™æ ¼å¼ï¼Œç†Ÿæ‚‰ä¸€ä¸‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">boolean:</span> <span class="hljs-literal">TRUE</span>  <span class="hljs-comment">#TRUE,true,True,FALSE,falseï¼ŒFalseå‡å¯</span><br><span class="hljs-attr">float:</span> <span class="hljs-number">3.14</span>    <span class="hljs-comment">#6.8523015e+5  #æ”¯æŒç§‘å­¦è®¡æ•°æ³•</span><br><span class="hljs-attr">int:</span> <span class="hljs-number">123</span>       <span class="hljs-comment">#0b1010_0111_0100_1010_1110    #æ”¯æŒäºŒè¿›åˆ¶ã€å…«è¿›åˆ¶</span><br><span class="hljs-attr">null:</span> <span class="hljs-string">~</span>        <span class="hljs-comment">#ä½¿ç”¨~è¡¨ç¤ºnull</span><br><span class="hljs-attr">string:</span> <span class="hljs-string">HelloWorld</span>      <span class="hljs-comment">#å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥ä¹¦å†™</span><br><span class="hljs-attr">string2:</span> <span class="hljs-string">&quot;Hello World&quot;</span>  <span class="hljs-comment">#å¯ä»¥ä½¿ç”¨åŒå¼•å·åŒ…è£¹å¦‚ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2018-02-17</span>        <span class="hljs-comment">#æ—¥æœŸå¿…é¡»ä½¿ç”¨yyyy-MM-ddæ ¼å¼</span><br><span class="hljs-attr">datetime:</span> <span class="hljs-number">2018-02-17T15:02:31+08:00</span>  <span class="hljs-comment">#æ—¶é—´å’Œæ—¥æœŸä¹‹é—´ä½¿ç”¨Tè¿æ¥ï¼Œæœ€åä½¿ç”¨+ä»£è¡¨æ—¶åŒº</span><br></code></pre></td></tr></table></figure><p>â€‹    æ­¤å¤–ï¼Œyamlæ ¼å¼ä¸­ä¹Ÿå¯ä»¥è¡¨ç¤ºæ•°ç»„ï¼Œåœ¨å±æ€§åä¹¦å†™ä½ç½®çš„ä¸‹æ–¹ä½¿ç”¨å‡å·ä½œä¸ºæ•°æ®å¼€å§‹ç¬¦å·ï¼Œæ¯è¡Œä¹¦å†™ä¸€ä¸ªæ•°æ®ï¼Œå‡å·ä¸æ•°æ®é—´ç©ºæ ¼åˆ†éš”</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">subject:</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">Java</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">å‰ç«¯</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">å¤§æ•°æ®</span><br><span class="hljs-attr">enterprise:</span><br><span class="hljs-attr">name:</span> <span class="hljs-string">itcast</span><br>    <span class="hljs-attr">age:</span> <span class="hljs-number">16</span><br>    <span class="hljs-attr">subject:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-string">Java</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">å‰ç«¯</span><br>        <span class="hljs-bullet">-</span> <span class="hljs-string">å¤§æ•°æ®</span><br>        <br><span class="hljs-attr">likes:</span> [<span class="hljs-string">nba</span>,<span class="hljs-string">music</span>]<span class="hljs-comment">#æ•°ç»„ä¹¦å†™ç¼©ç•¥æ ¼å¼</span><br><br><span class="hljs-attr">users:</span> <span class="hljs-comment">#å¯¹è±¡æ•°ç»„æ ¼å¼ä¸€</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Tom</span><br>   <span class="hljs-attr">age:</span> <span class="hljs-number">4</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">Jerry</span><br>    <span class="hljs-attr">age:</span> <span class="hljs-number">5</span><br><span class="hljs-attr">users:</span> <span class="hljs-comment">#å¯¹è±¡æ•°ç»„æ ¼å¼äºŒ</span><br>  <span class="hljs-bullet">-</span>  <br>    <span class="hljs-attr">name:</span> <span class="hljs-string">Tom</span><br>    <span class="hljs-attr">age:</span> <span class="hljs-number">4</span><br>  <span class="hljs-bullet">-</span>   <br>    <span class="hljs-attr">name:</span> <span class="hljs-string">Jerry</span><br>    <span class="hljs-attr">age:</span> <span class="hljs-number">5</span><br>    <br><span class="hljs-attr">users2:</span> [ &#123; <span class="hljs-string">name:Tom</span> , <span class="hljs-string">age:4</span> &#125; , &#123; <span class="hljs-string">name:Jerry</span> , <span class="hljs-string">age:5</span> &#125; ]<span class="hljs-comment">#å¯¹è±¡æ•°ç»„ç¼©ç•¥æ ¼å¼</span><br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>yamlè¯­æ³•è§„åˆ™<ul><li>å¤§å°å†™æ•æ„Ÿ</li><li>å±æ€§å±‚çº§å…³ç³»ä½¿ç”¨å¤šè¡Œæè¿°ï¼Œæ¯è¡Œç»“å°¾ä½¿ç”¨å†’å·ç»“æŸ</li><li>ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼ŒåŒå±‚çº§å·¦ä¾§å¯¹é½ï¼Œåªå…è®¸ä½¿ç”¨ç©ºæ ¼ï¼ˆä¸å…è®¸ä½¿ç”¨Tabé”®ï¼‰</li><li>å±æ€§å€¼å‰é¢æ·»åŠ ç©ºæ ¼ï¼ˆå±æ€§åä¸å±æ€§å€¼ä¹‹é—´ä½¿ç”¨å†’å·+ç©ºæ ¼ä½œä¸ºåˆ†éš”ï¼‰</li><li>#å· è¡¨ç¤ºæ³¨é‡Š</li></ul></li><li>æ³¨æ„å±æ€§åå†’å·åé¢ä¸æ•°æ®ä¹‹é—´æœ‰ä¸€ä¸ª<strong>ç©ºæ ¼</strong></li><li>å­—é¢å€¼ã€å¯¹è±¡æ•°æ®æ ¼å¼ã€æ•°ç»„æ•°æ®æ ¼å¼</li></ol><p><strong>æ€è€ƒ</strong></p><p>â€‹    ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†yamlå…·æœ‰ä¸¥æ ¼çš„æ•°æ®æ ¼å¼è¦æ±‚ï¼Œå¹¶ä¸”å·²ç»å¯ä»¥æ­£ç¡®çš„ä¹¦å†™yamlæ–‡ä»¶äº†ï¼Œé‚£è¿™äº›æ–‡ä»¶ä¹¦å†™åå…¶å®æ˜¯åœ¨å®šä¹‰ä¸€äº›æ•°æ®ã€‚è¿™äº›æ•°æ®æ—¶ç»™è°ç”¨çš„å‘¢ï¼Ÿå¤§éƒ¨åˆ†æ˜¯SpringBootæ¡†æ¶å†…éƒ¨ä½¿ç”¨ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³é…ç½®ä¸€äº›æ•°æ®è‡ªå·±ä½¿ç”¨ï¼Œèƒ½ä¸èƒ½ç”¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ï¼Œé‚£å¦‚ä½•è¯»å–yamlæ–‡ä»¶ä¸­çš„æ•°æ®å‘¢ï¼Ÿå’±ä»¬ä¸‹ä¸€èŠ‚å†è¯´ã€‚</p><h3 id="2-4-yamlæ•°æ®è¯»å–"><a href="#2-4-yamlæ•°æ®è¯»å–" class="headerlink" title="2-4.yamlæ•°æ®è¯»å–"></a>2-4.yamlæ•°æ®è¯»å–</h3><p>â€‹    å¯¹äºyamlæ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œå…¶å®ä½ å°±å¯ä»¥æƒ³è±¡æˆè¿™å°±æ˜¯ä¸€ä¸ªå°å‹çš„æ•°æ®åº“ï¼Œé‡Œé¢ä¿å­˜æœ‰è‹¥å¹²æ•°æ®ï¼Œæ¯ä¸ªæ•°æ®éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„åå­—ï¼Œå¦‚æœä½ æƒ³è¯»å–é‡Œé¢çš„æ•°æ®ï¼Œè‚¯å®šæ˜¯æ”¯æŒçš„ï¼Œä¸‹é¢å°±ä»‹ç»3ç§è¯»å–æ•°æ®çš„æ–¹å¼</p><h4 id="è¯»å–å•ä¸€æ•°æ®"><a href="#è¯»å–å•ä¸€æ•°æ®" class="headerlink" title="è¯»å–å•ä¸€æ•°æ®"></a>è¯»å–å•ä¸€æ•°æ®</h4><p>â€‹    yamlä¸­ä¿å­˜çš„å•ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨Springä¸­çš„æ³¨è§£ç›´æ¥è¯»å–ï¼Œä½¿ç”¨**@Value**å¯ä»¥è¯»å–å•ä¸ªæ•°æ®ï¼Œå±æ€§åå¼•ç”¨æ–¹å¼ï¼š<font color="#ff0000"><b>${ä¸€çº§å±æ€§å.äºŒçº§å±æ€§åâ€¦â€¦}</b></font></p><img src="/.io//image-20211126180433356.png" alt="image-20211126180433356" style="zoom:80%;"><p>â€‹    è®°å¾—ä½¿ç”¨@Valueæ³¨è§£æ—¶ï¼Œè¦å°†è¯¥æ³¨å…¥å†™åœ¨æŸä¸€ä¸ªæŒ‡å®šçš„Springç®¡æ§çš„beançš„å±æ€§åä¸Šæ–¹ã€‚ç°åœ¨å°±å¯ä»¥è¯»å–åˆ°å¯¹åº”çš„å•ä¸€æ•°æ®è¡Œäº†</p><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨**@Value<strong>é…åˆSpringELè¡¨è¾¾å¼ï¼ˆ</strong>${}**ï¼‰è¯»å–å•ä¸ªæ•°æ®</li><li>å¦‚æœæ•°æ®å­˜åœ¨å¤šå±‚çº§ï¼Œä¾æ¬¡ä¹¦å†™å±‚çº§åç§°å³å¯</li></ol><h4 id="è¯»å–å…¨éƒ¨æ•°æ®"><a href="#è¯»å–å…¨éƒ¨æ•°æ®" class="headerlink" title="è¯»å–å…¨éƒ¨æ•°æ®"></a>è¯»å–å…¨éƒ¨æ•°æ®</h4><p>â€‹    è¯»å–å•ä¸€æ•°æ®å¯ä»¥è§£å†³è¯»å–æ•°æ®çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå®šä¹‰çš„æ•°æ®é‡è¿‡å¤§ï¼Œè¿™ä¹ˆä¸€ä¸ªä¸€ä¸ªä¹¦å†™è‚¯å®šä¼šç´¯æ­»äººçš„ï¼ŒSpringBootæä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œèƒ½å¤ŸæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½å°è£…åˆ°è¿™ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡å«åšEnvironmentï¼Œä½¿ç”¨è‡ªåŠ¨è£…é…æ³¨è§£å¯ä»¥å°†æ‰€æœ‰çš„yamlæ•°æ®å°è£…åˆ°è¿™ä¸ªå¯¹è±¡ä¸­</p><img src="/.io//image-20211126180738569.png" alt="image-20211126180738569" style="zoom:80%;"><p>â€‹    æ•°æ®å°è£…åˆ°äº†Environmentå¯¹è±¡ä¸­ï¼Œè·å–å±æ€§æ—¶ï¼Œé€šè¿‡Environmentçš„æ¥å£æ“ä½œè¿›è¡Œï¼Œå…·ä½“æ–¹æ³•æ—¶getPropertiesï¼ˆStringï¼‰ï¼Œå‚æ•°å¡«å†™å±æ€§åå³å¯</p><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨Environmentå¯¹è±¡å°è£…å…¨éƒ¨é…ç½®ä¿¡æ¯</li><li>ä½¿ç”¨@Autowiredè‡ªåŠ¨è£…é…æ•°æ®åˆ°Environmentå¯¹è±¡ä¸­</li></ol><h4 id="è¯»å–å¯¹è±¡æ•°æ®"><a href="#è¯»å–å¯¹è±¡æ•°æ®" class="headerlink" title="è¯»å–å¯¹è±¡æ•°æ®"></a>è¯»å–å¯¹è±¡æ•°æ®</h4><p>â€‹    å•ä¸€æ•°æ®è¯»å–ä¹¦å†™æ¯”è¾ƒç¹çï¼Œå…¨æ•°æ®å°è£…åˆå°è£…çš„å¤ªå‰å®³äº†ï¼Œæ¯æ¬¡æ‹¿æ•°æ®è¿˜è¦ä¸€ä¸ªä¸€ä¸ªçš„getPropertiesï¼ˆï¼‰,æ€»ä¹‹ç”¨èµ·æ¥éƒ½ä¸æ˜¯å¾ˆèˆ’æœã€‚ç”±äºJavaæ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†ä¸€ç»„æ•°æ®å°è£…æˆä¸€ä¸ªå¯¹è±¡ã€‚SpringBootä¹Ÿæä¾›äº†å¯ä»¥<strong>å°†ä¸€ç»„yamlå¯¹è±¡æ•°æ®å°è£…æˆä¸€ä¸ªJavaå¯¹è±¡çš„æ“ä½œ</strong></p><p>â€‹    é¦–å…ˆå®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶å°†è¯¥å¯¹è±¡çº³å…¥Springç®¡æ§çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰æˆä¸€ä¸ªbeanï¼Œç„¶åä½¿ç”¨æ³¨è§£@ConfigurationPropertiesæŒ‡å®šè¯¥å¯¹è±¡åŠ è½½å“ªä¸€ç»„yamlä¸­é…ç½®çš„ä¿¡æ¯ã€‚</p><img src="/.io//image-20211126181126382.png" alt="image-20211126181126382" style="zoom:80%;"><p>â€‹    è¿™ä¸ª@ConfigurationPropertieså¿…é¡»å‘Šè¯‰ä»–åŠ è½½çš„æ•°æ®å‰ç¼€æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·å½“å‰å‰ç¼€ä¸‹çš„æ‰€æœ‰å±æ€§å°±å°è£…åˆ°è¿™ä¸ªå¯¹è±¡ä¸­ã€‚è®°å¾—æ•°æ®å±æ€§åè¦ä¸å¯¹è±¡çš„å˜é‡åä¸€ä¸€å¯¹åº”å•Šï¼Œä¸ç„¶æ²¡æ³•å°è£…ã€‚å…¶å®ä»¥åå¦‚æœä½ è¦å®šä¹‰ä¸€ç»„æ•°æ®è‡ªå·±ä½¿ç”¨ï¼Œå°±å¯ä»¥å…ˆå†™ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå®šä¹‰å¥½å±æ€§ï¼Œä¸‹é¢åˆ°é…ç½®ä¸­æ ¹æ®è¿™ä¸ªæ ¼å¼ä¹¦å†™å³å¯ã€‚</p><p>â€‹    <img src="/.io//image-20211126181423432.png" alt="image-20211126181423432" style="zoom:80%;"></p><p>â€‹    <font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹        ç»†å¿ƒçš„å°ä¼™ä¼´ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè‡ªå®šä¹‰çš„è¿™ç§æ•°æ®åœ¨yamlæ–‡ä»¶ä¸­ä¹¦å†™æ—¶æ²¡æœ‰å¼¹å‡ºæç¤ºï¼Œæ˜¯è¿™æ ·çš„ï¼Œå’±ä»¬åˆ°åŸç†ç¯‡å†æ­ç§˜å¦‚ä½•å¼¹å‡ºæç¤ºã€‚</p><p><strong>ä¸¾ä¾‹ï¼š</strong></p><p>ymlï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">datasource:</span><br>  <span class="hljs-attr">username:</span> <span class="hljs-string">data</span><br>  <span class="hljs-attr">password:</span>  <span class="hljs-number">123</span><br></code></pre></td></tr></table></figure><p>åˆ›å»ºMyDatasourceå°è£…ymlä¸­çš„å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang;<br><br><span class="hljs-keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Component;<br><br><span class="hljs-meta">@Component</span><br><span class="hljs-meta">@ConfigurationProperties(prefix = &quot;datasource&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyDatasource</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String username;<br>    <span class="hljs-keyword">private</span> String password;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyDatasource</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyDatasource</span><span class="hljs-params">(String username, String password)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.username = username;<br>        <span class="hljs-keyword">this</span>.password = password;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getUsername</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> username;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUsername</span><span class="hljs-params">(String username)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.username = username;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPassword</span><span class="hljs-params">(String password)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.password = password;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPassword</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> password;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;MyDatasource&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;username=&#x27;&quot;</span> + username + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, password=&#x27;&quot;</span> + password + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>controlleré‡Œé¢è¿›è¡Œæ•°æ®è¯»å–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> com.wang.MyDatasource;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Value;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-comment">//Restæ¨¡å¼</span><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookController</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> MyDatasource mydata;<br><br>    <span class="hljs-meta">@GetMapping(&quot;/books&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getById</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;springboot is running...&quot;</span>);<br>        <span class="hljs-keyword">return</span> mydata.toString();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨**@ConfigurationProperties**æ³¨è§£ç»‘å®šé…ç½®ä¿¡æ¯åˆ°å°è£…ç±»ä¸­</li><li>å°è£…ç±»éœ€è¦å®šä¹‰ä¸ºSpringç®¡ç†çš„beanï¼Œå¦åˆ™æ— æ³•è¿›è¡Œå±æ€§æ³¨å…¥</li></ol><h4 id="yamlæ–‡ä»¶ä¸­çš„æ•°æ®å¼•ç”¨"><a href="#yamlæ–‡ä»¶ä¸­çš„æ•°æ®å¼•ç”¨" class="headerlink" title="yamlæ–‡ä»¶ä¸­çš„æ•°æ®å¼•ç”¨"></a>yamlæ–‡ä»¶ä¸­çš„æ•°æ®å¼•ç”¨</h4><p>â€‹    å¦‚æœä½ åœ¨ä¹¦å†™ymlæ•°æ®æ—¶ï¼Œç»å¸¸å‡ºç°å¦‚ä¸‹ç°è±¡ï¼Œæ¯”å¦‚å¾ˆå¤šä¸ªæ–‡ä»¶éƒ½å…·æœ‰ç›¸åŒçš„ç›®å½•å‰ç¼€</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">dataDir:</span> <span class="hljs-string">/usr/local/fire/data</span><br><span class="hljs-attr">tmpDir:</span> <span class="hljs-string">/usr/local/fire/tmp</span><br><span class="hljs-attr">logDir:</span> <span class="hljs-string">/usr/local/fire/log</span><br><span class="hljs-attr">msgDir:</span> <span class="hljs-string">/usr/local/fire/msgDir</span><br></code></pre></td></tr></table></figure><p>â€‹    è¿™ä¸ªæ—¶å€™ä½ å¯ä»¥ä½¿ç”¨å¼•ç”¨æ ¼å¼æ¥å®šä¹‰æ•°æ®ï¼Œå…¶å®å°±æ˜¯æäº†ä¸ªå˜é‡åï¼Œç„¶åå¼•ç”¨å˜é‡äº†ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">baseDir:</span> <span class="hljs-string">/usr/local/fire</span><br><br><span class="hljs-attr">dataDir:</span> <span class="hljs-string">$&#123;baseDir&#125;/data</span><br><span class="hljs-attr">tmpDir:</span> <span class="hljs-string">$&#123;baseDir&#125;/tmp</span><br><span class="hljs-attr">logDir:</span> <span class="hljs-string">$&#123;baseDir&#125;/log</span><br><span class="hljs-attr">msgDir:</span> <span class="hljs-string">$&#123;baseDir&#125;/msgDir</span><br></code></pre></td></tr></table></figure><p>controlleré‡Œé¢è¿›è¡Œæ•°æ®è¯»å–ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Value(&quot;$&#123;dataDir&#125;&quot;)</span><br><span class="hljs-keyword">private</span> String data;<br></code></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªæ³¨æ„äº‹é¡¹ï¼Œåœ¨ä¹¦å†™å­—ç¬¦ä¸²æ—¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦ï¼Œéœ€è¦å°†æ•°æ®å­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·åŒ…è£¹èµ·æ¥</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">lesson:</span> <span class="hljs-string">&quot;Spring\tboot\nlesson&quot;</span><br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>åœ¨é…ç½®æ–‡ä»¶ä¸­å¯ä»¥ä½¿ç”¨ <strong>${å±æ€§å}</strong> æ–¹å¼<strong>å¼•ç”¨</strong>å±æ€§å€¼</li><li>å¦‚æœå±æ€§ä¸­å‡ºç°ç‰¹æ®Šå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·åŒ…è£¹èµ·æ¥ä½œä¸ºå­—ç¬¦è§£æ</li></ol><p>â€‹    åˆ°è¿™é‡Œæœ‰å…³yamlæ–‡ä»¶çš„åŸºç¡€ä½¿ç”¨å°±å…ˆå‘Šä¸€æ®µè½ï¼Œåœ¨å®ç”¨ç¯‡ä¸­å†ç»§ç»­ç ”ç©¶æ›´æ·±å…¥çš„å†…å®¹ã€‚</p><h2 id="3-åŸºäºSpringBootå®ç°SSMPæ•´åˆ"><a href="#3-åŸºäºSpringBootå®ç°SSMPæ•´åˆ" class="headerlink" title="3.åŸºäºSpringBootå®ç°SSMPæ•´åˆ"></a>3.åŸºäºSpringBootå®ç°SSMPæ•´åˆ</h2><p>â€‹    é‡å¤´æˆæ¥äº†ï¼ŒSpringBootä¹‹æ‰€ä»¥å¥½ç”¨ï¼Œå°±æ˜¯å®ƒèƒ½æ–¹ä¾¿å¿«æ·çš„æ•´åˆå…¶ä»–æŠ€æœ¯ï¼Œè¿™ä¸€éƒ¨åˆ†å’±ä»¬å°±æ¥èŠèŠä¸€äº›æŠ€æœ¯çš„æ•´åˆæ–¹å¼ï¼Œé€šè¿‡è¿™ä¸€ç« çš„å­¦ä¹ ï¼Œå¤§å®¶èƒ½å¤Ÿæ„Ÿå—åˆ°SpringBootåˆ°åº•æœ‰å¤šé…·ç‚«ã€‚è¿™ä¸€ç« å’±ä»¬å­¦ä¹ å¦‚ä¸‹æŠ€æœ¯çš„æ•´åˆæ–¹å¼</p><ul><li><p>æ•´åˆJUnit</p></li><li><p>æ•´åˆMyBatis</p></li><li><p>æ•´åˆMyBatis-Plus</p></li><li><p>æ•´åˆDruid</p><p> ä¸Šé¢è¿™äº›æŠ€æœ¯éƒ½æ•´åˆå®Œæ¯•åï¼Œæˆ‘ä»¬åšä¸€ä¸ªå°æ¡ˆä¾‹ï¼Œä¹Ÿç®—æ˜¯å­¦æœ‰æ‰€ç”¨å§ã€‚æ¶‰åŠçš„æŠ€æœ¯æ¯”è¾ƒå¤šï¼Œç»¼åˆè¿ç”¨ä¸€ä¸‹ã€‚</p></li></ul><h3 id="3-1-æ•´åˆJUnit"><a href="#3-1-æ•´åˆJUnit" class="headerlink" title="3-1.æ•´åˆJUnit"></a>3-1.æ•´åˆJUnit</h3><p>æ–°å»º Moduleï¼šï¼ˆä¸åŠ  Web ä¾èµ–ï¼‰</p><img src="/.io//image-20220515202048906.png" alt="image-20220515202048906" style="zoom: 33%;"><p>â€‹    </p><p>SpringBootæŠ€æœ¯çš„å®šä½ç”¨äºç®€åŒ–å¼€å‘ï¼Œå†å…·ä½“ç‚¹æ˜¯ç®€åŒ–Springç¨‹åºçš„å¼€å‘ã€‚æ‰€ä»¥åœ¨æ•´åˆä»»æ„æŠ€æœ¯çš„æ—¶å€™ï¼Œå¦‚æœä½ æƒ³ç›´è§‚æ„Ÿè§¦åˆ°ç®€åŒ–çš„æ•ˆæœï¼Œä½ å¿…é¡»å…ˆçŸ¥é“ä½¿ç”¨éSpringBootæŠ€æœ¯æ—¶å¯¹åº”çš„æ•´åˆæ˜¯å¦‚ä½•åšçš„ï¼Œç„¶åå†çœ‹åŸºäºSpringBootçš„æ•´åˆæ˜¯å¦‚ä½•åšçš„ï¼Œæ‰èƒ½æ¯”å¯¹å‡ºæ¥ç®€åŒ–åœ¨äº†å“ªé‡Œã€‚</p><p>â€‹    æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¸ä½¿ç”¨SpringBootæŠ€æœ¯æ—¶ï¼ŒSpringæ•´åˆJUnitçš„åˆ¶ä½œæ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">//åŠ è½½springæ•´åˆjunitä¸“ç”¨çš„ç±»è¿è¡Œå™¨</span><br><span class="hljs-meta">@RunWith(SpringJUnit4ClassRunner.class)</span><br><span class="hljs-comment">//æŒ‡å®šå¯¹åº”çš„é…ç½®ä¿¡æ¯</span><br><span class="hljs-meta">@ContextConfiguration(classes = SpringConfig.class)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AccountServiceTestCase</span> </span>&#123;<br>    <span class="hljs-comment">//æ³¨å…¥ä½ è¦æµ‹è¯•çš„å¯¹è±¡</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> AccountService accountService;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testGetById</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//æ‰§è¡Œè¦æµ‹è¯•çš„å¯¹è±¡å¯¹åº”çš„æ–¹æ³•</span><br>        System.out.println(accountService.findById(<span class="hljs-number">2</span>));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>â€‹    å…¶ä¸­æ ¸å¿ƒä»£ç æ˜¯å‰ä¸¤ä¸ªæ³¨è§£ï¼Œç¬¬ä¸€ä¸ªæ³¨è§£@RunWithæ˜¯è®¾ç½®Springä¸“ç”¨äºæµ‹è¯•çš„ç±»è¿è¡Œå™¨ï¼Œç®€å•è¯´å°±æ˜¯Springç¨‹åºæ‰§è¡Œç¨‹åºæœ‰è‡ªå·±çš„ä¸€å¥—ç‹¬ç«‹çš„è¿è¡Œç¨‹åºçš„æ–¹å¼ï¼Œä¸èƒ½ä½¿ç”¨JUnitæä¾›çš„ç±»è¿è¡Œæ–¹å¼äº†ï¼Œå¿…é¡»æŒ‡å®šä¸€ä¸‹ï¼Œä½†æ˜¯æ ¼å¼æ˜¯å›ºå®šçš„ï¼Œç¢ç£¨ä¸€ä¸‹ï¼Œ<b>æ¯æ¬¡éƒ½æŒ‡å®šä¸€æ ·çš„ä¸œè¥¿ï¼Œè¿™ä¸ªä¸œè¥¿å†™èµ·æ¥æ²¡æœ‰æŠ€æœ¯å«é‡å•Š</b>ï¼›</p><p>ç¬¬äºŒä¸ªæ³¨è§£@ContextConfigurationæ˜¯ç”¨æ¥è®¾ç½®Springæ ¸å¿ƒé…ç½®æ–‡ä»¶æˆ–é…ç½®ç±»çš„ï¼Œç®€å•è¯´å°±æ˜¯åŠ è½½Springçš„ç¯å¢ƒä½ è¦å‘Šè¯‰Springå…·ä½“çš„ç¯å¢ƒé…ç½®æ˜¯åœ¨å“ªé‡Œå†™çš„ï¼Œè™½ç„¶æ¯æ¬¡åŠ è½½çš„æ–‡ä»¶éƒ½æœ‰å¯èƒ½ä¸åŒï¼Œä½†æ˜¯ä»”ç»†æƒ³æƒ³ï¼Œå¦‚æœæ–‡ä»¶åæ˜¯å›ºå®šçš„ï¼Œè¿™ä¸ªè²Œä¼¼ä¹Ÿæ˜¯ä¸€ä¸ªå›ºå®šæ ¼å¼ã€‚ä¼¼ç„¶<b>æœ‰å¯èƒ½æ˜¯å›ºå®šæ ¼å¼ï¼Œé‚£å°±æœ‰å¯èƒ½æ¯æ¬¡éƒ½å†™ä¸€æ ·çš„ä¸œè¥¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ²¡æœ‰æŠ€æœ¯å«é‡çš„å†…å®¹ä¹¦å†™</b></p><p>â€‹    SpringBootå°±æŠ“ä½ä¸Šè¿°ä¸¤æ¡æ²¡æœ‰æŠ€æœ¯å«é‡çš„å†…å®¹ä¹¦å†™è¿›è¡Œå¼€å‘ç®€åŒ–ï¼Œèƒ½èµ°é»˜è®¤å€¼çš„èµ°é»˜è®¤å€¼ï¼Œèƒ½ä¸å†™çš„å°±ä¸å†™ï¼Œå…·ä½“æ ¼å¼å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot04JunitApplicationTests</span> </span>&#123;<br>    <span class="hljs-comment">//æ³¨å…¥ä½ è¦æµ‹è¯•çš„å¯¹è±¡</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">//æ‰§è¡Œè¦æµ‹è¯•çš„å¯¹è±¡å¯¹åº”çš„æ–¹æ³•</span><br>        bookDao.save();<br>        System.out.println(<span class="hljs-string">&quot;two...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    çœ‹çœ‹è¿™æ¬¡ç®€åŒ–æˆä»€ä¹ˆæ ·äº†ï¼Œä¸€ä¸ªæ³¨è§£å°±æå®šäº†ï¼Œè€Œä¸”è¿˜æ²¡æœ‰å‚æ•°ï¼Œå†ä½“ä¼šSpringBootæ•´åˆå…¶ä»–æŠ€æœ¯çš„ä¼˜åŠ¿åœ¨å“ªé‡Œï¼Œå°±ä¸¤ä¸ªå­—â€”â€”<font color="#ff0000"><b>ç®€åŒ–</b></font>ã€‚<strong>ä½¿ç”¨ä¸€ä¸ªæ³¨è§£@SpringBootTestæ›¿æ¢äº†å‰é¢ä¸¤ä¸ªæ³¨è§£</strong>ã€‚è‡³äºå†…éƒ¨æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿå’Œä¹‹å‰ä¸€æ ·ï¼Œåªä¸è¿‡éƒ½èµ°é»˜è®¤å€¼ã€‚</p><p>æµ‹è¯•ç±»å¦‚æœä¸å­˜åœ¨äºå¼•å¯¼ç±»æ‰€åœ¨çš„åŒ…æˆ–å­åŒ…ä¸­éœ€è¦é€šè¿‡classeså±æ€§æŒ‡å®šå¼•å¯¼ç±»ï¼š</p><p>â€‹    ç¬¬ä¸€ç§æ–¹å¼ä½¿ç”¨å±æ€§çš„å½¢å¼è¿›è¡Œï¼Œåœ¨æ³¨è§£@SpringBootTestä¸­æ·»åŠ classeså±æ€§æŒ‡å®šé…ç½®ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootTest(classes = Springboot04JunitApplication.class)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot04JunitApplicationTests</span> </span>&#123;<br>    <span class="hljs-comment">//æ³¨å…¥ä½ è¦æµ‹è¯•çš„å¯¹è±¡</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">//æ‰§è¡Œè¦æµ‹è¯•çš„å¯¹è±¡å¯¹åº”çš„æ–¹æ³•</span><br>        bookDao.save();<br>        System.out.println(<span class="hljs-string">&quot;two...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    ç¬¬äºŒç§æ–¹å¼å›å½’åŸå§‹é…ç½®æ–¹å¼ï¼Œä»ç„¶ä½¿ç”¨@ContextConfigurationæ³¨è§£è¿›è¡Œï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-meta">@ContextConfiguration(classes = Springboot04JunitApplication.class)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot04JunitApplicationTests</span> </span>&#123;<br>    <span class="hljs-comment">//æ³¨å…¥ä½ è¦æµ‹è¯•çš„å¯¹è±¡</span><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-comment">//æ‰§è¡Œè¦æµ‹è¯•çš„å¯¹è±¡å¯¹åº”çš„æ–¹æ³•</span><br>        bookDao.save();<br>        System.out.println(<span class="hljs-string">&quot;two...&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/.io//image-20220515211308905.png" alt="image-20220515211308905">    </p><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹        ä½¿ç”¨SpringBootæ•´åˆJUnitéœ€è¦ä¿éšœå¯¼å…¥testå¯¹åº”çš„starterï¼Œç”±äºåˆå§‹åŒ–é¡¹ç›®æ—¶æ­¤é¡¹æ˜¯é»˜è®¤å¯¼å…¥çš„ï¼Œæ‰€ä»¥æ­¤å¤„æ²¡æœ‰æåŠï¼Œå…¶å®å’Œä¹‹å‰å­¦ä¹ çš„å†…å®¹ä¸€æ ·ï¼Œç”¨ä»€ä¹ˆæŠ€æœ¯å¯¼å…¥å¯¹åº”çš„starterå³å¯ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>å¯¼å…¥æµ‹è¯•å¯¹åº”çš„starterï¼ˆSpring Initializr â€”- springbooté¡¹ç›®é»˜è®¤å°±æœ‰ï¼‰</li><li>æµ‹è¯•ç±»ä½¿ç”¨@SpringBootTestä¿®é¥°</li><li>ä½¿ç”¨è‡ªåŠ¨è£…é…çš„å½¢å¼æ·»åŠ è¦æµ‹è¯•çš„å¯¹è±¡</li><li>æµ‹è¯•ç±»å¦‚æœå­˜åœ¨äºå¼•å¯¼ç±»æ‰€åœ¨åŒ…æˆ–å­åŒ…ä¸­æ— éœ€æŒ‡å®šå¼•å¯¼ç±»</li><li>æµ‹è¯•ç±»å¦‚æœä¸å­˜åœ¨äºå¼•å¯¼ç±»æ‰€åœ¨çš„åŒ…æˆ–å­åŒ…ä¸­éœ€è¦é€šè¿‡classeså±æ€§æŒ‡å®šå¼•å¯¼ç±»</li></ol><h3 id="3-2-æ•´åˆMyBatis"><a href="#3-2-æ•´åˆMyBatis" class="headerlink" title="3-2.æ•´åˆMyBatis"></a>3-2.æ•´åˆMyBatis</h3><p>æ•´åˆå®ŒJUnitä¸‹é¢å†æ¥è¯´ä¸€ä¸‹æ•´åˆMyBatisï¼Œè¿™ä¸ªæŠ€æœ¯æ˜¯å¤§éƒ¨åˆ†å…¬å¸éƒ½è¦ä½¿ç”¨çš„æŠ€æœ¯ï¼ŒåŠ¡å¿…æŒæ¡ã€‚å¦‚æœå¯¹Springæ•´åˆMyBatisä¸ç†Ÿæ‚‰çš„å°ä¼™ä¼´å¥½å¥½å¤ä¹ ä¸€ä¸‹ã€‚</p><p><strong>SpringåŸå§‹æ•´åˆ</strong>çš„å…¨éƒ¨å†…å®¹ï¼Œä»¥é…ç½®ç±»çš„å½¢å¼ä¸ºä¾‹è¿›è¡Œï¼š</p><ul><li><p>å¯¼å…¥åæ ‡ï¼ŒMyBatisåæ ‡ï¼ˆgavåæ ‡ï¼‰ä¸èƒ½å°‘ï¼ŒSpringæ•´åˆMyBatisè¿˜æœ‰è‡ªå·±ä¸“ç”¨çš„åæ ‡ï¼Œæ­¤å¤–Springè¿›è¡Œæ•°æ®åº“æ“ä½œçš„jdbcåæ ‡æ˜¯å¿…é¡»çš„ï¼Œå‰©ä¸‹è¿˜æœ‰mysqlé©±åŠ¨åæ ‡ï¼Œæœ¬ä¾‹ä¸­ä½¿ç”¨äº†Druidæ•°æ®æºï¼Œè¿™ä¸ªå€’æ˜¯å¯ä»¥ä¸è¦</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--1.å¯¼å…¥mybatisä¸springæ•´åˆçš„jaråŒ…--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å¯¼å…¥springæ“ä½œæ•°æ®åº“å¿…é€‰çš„åŒ…--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Springæ ¸å¿ƒé…ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@ComponentScan(&quot;com.itheima&quot;)</span><br><span class="hljs-meta">@PropertySource(&quot;jdbc.properties&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SpringConfig</span> </span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>MyBatisè¦äº¤ç»™Springæ¥ç®¡çš„bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-comment">//å®šä¹‰mybatisä¸“ç”¨çš„é…ç½®ç±»</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyBatisConfig</span> </span>&#123;<br><span class="hljs-comment">//    å®šä¹‰åˆ›å»ºSqlSessionFactoryå¯¹åº”çš„bean</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> SqlSessionFactoryBean <span class="hljs-title">sqlSessionFactory</span><span class="hljs-params">(DataSource dataSource)</span></span>&#123;<br>        <span class="hljs-comment">//SqlSessionFactoryBeanæ˜¯ç”±mybatis-springåŒ…æä¾›çš„ï¼Œä¸“ç”¨äºæ•´åˆç”¨çš„å¯¹è±¡</span><br>        SqlSessionFactoryBean sfb = <span class="hljs-keyword">new</span> SqlSessionFactoryBean();<br>        <span class="hljs-comment">//è®¾ç½®æ•°æ®æºæ›¿ä»£åŸå§‹é…ç½®ä¸­çš„environmentsçš„é…ç½®</span><br>        sfb.setDataSource(dataSource);<br>        <span class="hljs-comment">//è®¾ç½®ç±»å‹åˆ«åæ›¿ä»£åŸå§‹é…ç½®ä¸­çš„typeAliasesçš„é…ç½®</span><br>        sfb.setTypeAliasesPackage(<span class="hljs-string">&quot;com.itheima.domain&quot;</span>);<br>        <span class="hljs-keyword">return</span> sfb;<br>    &#125;<br><span class="hljs-comment">//    å®šä¹‰åŠ è½½æ‰€æœ‰çš„æ˜ å°„é…ç½®</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> MapperScannerConfigurer <span class="hljs-title">mapperScannerConfigurer</span><span class="hljs-params">()</span></span>&#123;<br>        MapperScannerConfigurer msc = <span class="hljs-keyword">new</span> MapperScannerConfigurer();<br>        msc.setBasePackage(<span class="hljs-string">&quot;com.itheima.dao&quot;</span>);<br>        <span class="hljs-keyword">return</span> msc;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ•°æ®æºå¯¹åº”çš„beanï¼Œæ­¤å¤„ä½¿ç”¨Druidæ•°æ®æº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JdbcConfig</span> </span>&#123;<br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.driver&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String driver;<br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.url&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String url;<br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.username&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String userName;<br>    <span class="hljs-meta">@Value(&quot;$&#123;jdbc.password&#125;&quot;)</span><br>    <span class="hljs-keyword">private</span> String password;<br><br>    <span class="hljs-meta">@Bean(&quot;dataSource&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> DataSource <span class="hljs-title">dataSource</span><span class="hljs-params">()</span></span>&#123;<br>        DruidDataSource ds = <span class="hljs-keyword">new</span> DruidDataSource();<br>        ds.setDriverClassName(driver);<br>        ds.setUrl(url);<br>        ds.setUsername(userName);<br>        ds.setPassword(password);<br>        <span class="hljs-keyword">return</span> ds;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ˆpropertiesæ ¼å¼ï¼‰</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-meta">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/spring_db?useSSL=false</span><br><span class="hljs-meta">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-meta">jdbc.password</span>=<span class="hljs-string">root</span><br></code></pre></td></tr></table></figure><p>ä¸Šè¿°æ ¼å¼åŸºæœ¬ä¸Šæ˜¯ç®€æ ¼å¼äº†ï¼Œè¦å†™çš„ä¸œè¥¿è¿˜çœŸä¸å°‘ã€‚</p></li></ul><h4 id="SpringBootæ•´åˆMyBaitsï¼š"><a href="#SpringBootæ•´åˆMyBaitsï¼š" class="headerlink" title="SpringBootæ•´åˆMyBaitsï¼š"></a><strong>SpringBootæ•´åˆMyBaitsï¼š</strong></h4><p><strong>æ­¥éª¤â‘ </strong>ï¼šåˆ›å»ºæ¨¡å—æ—¶å‹¾é€‰è¦ä½¿ç”¨çš„æŠ€æœ¯ï¼ŒMyBatisï¼Œç”±äºè¦æ“ä½œæ•°æ®åº“ï¼Œè¿˜è¦å‹¾é€‰å¯¹åº”æ•°æ®åº“</p><p><img src="/.io//img%5Cimage-20211129092156020.png" alt="image-20211129092156020"></p><p><img src="/.io//img%5Cimage-20211129092210993.png" alt="image-20211129092210993"></p><p>æˆ–è€…æ‰‹å·¥å¯¼å…¥å¯¹åº”æŠ€æœ¯çš„starterï¼Œå’Œå¯¹åº”æ•°æ®åº“çš„åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--1.å¯¼å…¥å¯¹åº”çš„starter--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘¡</strong>ï¼šé…ç½®æ•°æ®æºç›¸å…³ä¿¡æ¯ï¼Œæ²¡æœ‰è¿™ä¸ªä¿¡æ¯ä½ è¿æ¥å“ªä¸ªæ•°æ®åº“éƒ½ä¸çŸ¥é“</p><img src="/.io//image-20220515221955931.png" alt="image-20220515221955931" style="zoom:40%;"><p>application.ymlï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-comment">#2.é…ç½®ç›¸å…³ä¿¡æ¯</span><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssmbuild</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>å°±è¿™ä¹ˆå¤šï¼Œæ²¡äº†ã€‚æœ‰äººå°±å¾ˆçº³é—·ï¼Œè¿™å°±ç»“æŸäº†ï¼Ÿå¯¹ï¼Œè¿™å°±ç»“æŸäº†ï¼ŒSpringBootæŠŠé…ç½®ä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„é€šç”¨é…ç½®éƒ½ç®€åŒ–äº†ã€‚ä¸‹é¢å°±å¯ä»¥å†™ä¸€ä¸‹MyBatisç¨‹åºè¿è¡Œéœ€è¦çš„Daoï¼ˆæˆ–è€…Mapperï¼‰å°±å¯ä»¥è¿è¡Œäº†</p><h4 id="3-2-1-é…ç½®æ–‡ä»¶å®ç°"><a href="#3-2-1-é…ç½®æ–‡ä»¶å®ç°" class="headerlink" title="3-2-1.é…ç½®æ–‡ä»¶å®ç°"></a>3-2-1.é…ç½®æ–‡ä»¶å®ç°</h4><p><strong>å®ä½“ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> count;<br>    <span class="hljs-keyword">private</span> String detail;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Book</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Book</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id, String name, <span class="hljs-keyword">int</span> count, String detail)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.count = count;<br>        <span class="hljs-keyword">this</span>.detail = detail;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Book&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, count=&quot;</span> + count +<br>                <span class="hljs-string">&quot;, detail=&#x27;&quot;</span> + detail + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCount</span><span class="hljs-params">(<span class="hljs-keyword">int</span> count)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.count = count;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getDetail</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> detail;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDetail</span><span class="hljs-params">(String detail)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.detail = detail;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ˜ å°„æ¥å£ï¼ˆDaoï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.Book;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Mapper;<br><br><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookDao</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Book <span class="hljs-title">getById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>BookDao.xml ç»“åˆ resultMap</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--namespace=ç»‘å®šä¸€ä¸ªå¯¹åº”çš„Dao/Mapperæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wang.dao.BookDao&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;bookMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.wang.pojo.Book&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--columnæ•°æ®åº“ä¸­çš„å­—æ®µï¼Œpropertyå®ä½“ç±»ä¸­çš„å±æ€§--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;bookID&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;bookName&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;bookCounts&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;count&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;detail&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;detail&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--selectæŸ¥è¯¢è¯­å¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;bookMap&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>        select * from books where bookID = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>é…ç½®XMLæ˜ å°„æ–‡ä»¶è·¯å¾„ä»¥åŠå®ä½“ç±»åˆ«åæ˜ å°„è·¯å¾„</strong></p><p>application.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-attr">mybatis:</span><br>  <span class="hljs-attr">mapper-locations:</span> <span class="hljs-string">classpath:com/wang/dao/*.xml</span><br>  <span class="hljs-attr">type-aliases-package:</span> <span class="hljs-string">com.wang.pojo.Book</span><br></code></pre></td></tr></table></figure><p><strong>æµ‹è¯•ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot04MybatisApplicationTests</span> </span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(bookDao.getById(<span class="hljs-number">3</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><font color="#ff0000"><b>æ³¨æ„</b></font>ï¼šxml é…ç½®æ–‡ä»¶æœ‰æ—¶å€™æ— æ³•å¯¼å‡ºè‡³ target ä¸­</p><p>å»ºè®®åˆå§‹åŒ–çš„æ—¶å€™å°±æŠŠä¸‹é¢çš„ä»£ç æ”¾è¿›pom.xmlé…ç½®ä¸­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.tld<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.tld<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><p>é¡¹ç›®ç»“æ„ï¼š</p><img src="/.io//image-20220516195502984.png" alt="image-20220516195502984" style="zoom:50%;"><h4 id="3-2-2-æ³¨è§£å®ç°"><a href="#3-2-2-æ³¨è§£å®ç°" class="headerlink" title="3-2-2.æ³¨è§£å®ç°"></a>3-2-2.æ³¨è§£å®ç°</h4><p>å®ä½“ç±»ã€æµ‹è¯•ç±»ä¸å˜ï¼Œä¸ç”¨æ·»åŠ application.yml</p><p><strong>æ˜ å°„æ¥å£ï¼ˆDaoï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookDao</span> </span>&#123;<br>    <span class="hljs-meta">@Select(&quot;select * from books where bookID = #&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Book <span class="hljs-title">getById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><font color="#ff0000"><b>æ³¨æ„</b></font>ï¼šå½“å‰ä½¿ç”¨çš„SpringBootç‰ˆæœ¬æ˜¯2.5.4ï¼Œå¯¹åº”çš„åæ ‡è®¾ç½®ä¸­Mysqlé©±åŠ¨ä½¿ç”¨çš„æ˜¯8xç‰ˆæœ¬ã€‚å½“SpringBoot2.4.3ï¼ˆä¸å«ï¼‰ç‰ˆæœ¬ä¹‹å‰ä¼šå‡ºç°ä¸€ä¸ªå°BUGï¼Œå°±æ˜¯MySQLé©±åŠ¨å‡çº§åˆ°8ä»¥åè¦æ±‚å¼ºåˆ¶é…ç½®æ—¶åŒºï¼Œå¦‚æœä¸è®¾ç½®ä¼šå‡ºé—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼Œé©±åŠ¨urlä¸Šé¢æ·»åŠ ä¸Šå¯¹åº”è®¾ç½®å°±è¡Œäº†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span><br></code></pre></td></tr></table></figure><p>â€‹    è¿™é‡Œè®¾ç½®çš„UTCæ˜¯å…¨çƒæ ‡å‡†æ—¶é—´ï¼Œä½ ä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯è‹±å›½æ—¶é—´ï¼Œä¸­å›½å¤„åœ¨ä¸œå…«åŒºï¼Œéœ€è¦åœ¨è¿™ä¸ªåŸºç¡€ä¸ŠåŠ ä¸Š8å°æ—¶ï¼Œè¿™æ ·æ‰èƒ½å’Œä¸­å›½åœ°åŒºçš„æ—¶é—´å¯¹åº”çš„ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹é…ç½®ä¸å†™UTCï¼Œå†™Asia/Shanghaiä¹Ÿå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=Asia/Shanghai</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-string">root</span><br></code></pre></td></tr></table></figure><p>â€‹    å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½è®¾ç½®è¿™ä¸ªä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥å»ä¿®æ”¹mysqlä¸­çš„é…ç½®æ–‡ä»¶mysql.iniï¼Œåœ¨mysqldé¡¹ä¸­æ·»åŠ default-time-zone=+8:00ä¹Ÿå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…¶å®æ–¹å¼æ–¹æ³•å¾ˆå¤šï¼Œè¿™é‡Œå°±è¯´è¿™ä¹ˆå¤šå§ã€‚</p><p>â€‹    æ­¤å¤–åœ¨è¿è¡Œç¨‹åºæ—¶è¿˜ä¼šç»™å‡ºä¸€ä¸ªæç¤ºï¼Œè¯´æ•°æ®åº“é©±åŠ¨è¿‡æ—¶çš„è­¦å‘Šï¼Œæ ¹æ®æç¤ºä¿®æ”¹é…ç½®å³å¯ï¼Œå¼ƒç”¨<strong>com.mysql.jdbc.Driver</strong>ï¼Œæ¢ç”¨<font color="#ff0000"><b>com.mysql.cj.jdbc.Driver</b></font>ã€‚å‰é¢çš„ä¾‹å­ä¸­å·²ç»æ›´æ¢äº†é©±åŠ¨äº†ï¼Œåœ¨æ­¤è¯´æ˜ä¸€ä¸‹ã€‚</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">Loading class `com.mysql.jdbc.Driver&#x27;. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver&#x27;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li><p>æ•´åˆæ“ä½œéœ€è¦å‹¾é€‰MyBatisæŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯å¯¼å…¥MyBatiså¯¹åº”çš„starter</p></li><li><p>æ•°æ®åº“è¿æ¥ç›¸å…³ä¿¡æ¯è½¬æ¢æˆé…ç½®</p></li><li><p>æ•°æ®åº“SQLæ˜ å°„éœ€è¦æ·»åŠ @Mapperè¢«å®¹å™¨è¯†åˆ«åˆ°</p></li><li><p>MySQL 8.Xé©±åŠ¨å¼ºåˆ¶è¦æ±‚è®¾ç½®æ—¶åŒº</p><ul><li>ä¿®æ”¹urlï¼Œæ·»åŠ serverTimezoneè®¾å®š</li><li>ä¿®æ”¹MySQLæ•°æ®åº“é…ç½®</li></ul></li><li><p>é©±åŠ¨ç±»è¿‡æ—¶ï¼Œæé†’æ›´æ¢ä¸ºcom.mysql.cj.jdbc.Driver</p></li></ol><h3 id="3-3-æ•´åˆMyBatis-Plus"><a href="#3-3-æ•´åˆMyBatis-Plus" class="headerlink" title="3-3.æ•´åˆMyBatis-Plus"></a>3-3.æ•´åˆMyBatis-Plus</h3><p><strong>æŠ€æœ¯æ•´åˆæ ¸å¿ƒæ­¥éª¤ï¼š</strong></p><ul><li>å¯¼å…¥å¯¹åº”æŠ€æœ¯çš„starteråæ ‡</li><li>æ ¹æ®å¯¹åº”æŠ€æœ¯çš„è¦æ±‚åšé…ç½®</li></ul><p>â€‹    </p><p>æ¥ä¸‹æ¥åœ¨MyBatisçš„åŸºç¡€ä¸Šå†å‡çº§ä¸€ä¸‹ï¼Œæ•´åˆMyBaitsPlusï¼ˆç®€ç§°MPï¼‰ï¼Œå›½äººå¼€å‘çš„æŠ€æœ¯ï¼Œç¬¦åˆä¸­å›½äººå¼€å‘ä¹ æƒ¯ï¼Œè°ç”¨è°çŸ¥é“ã€‚æ¥å§ï¼Œä¸€èµ·åšæ•´åˆ</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šå¯¼å…¥å¯¹åº”çš„starter</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å…³äºè¿™ä¸ªåæ ‡ï¼Œæ­¤å¤„è¦è¯´æ˜ä¸€ç‚¹ï¼Œä¹‹å‰æˆ‘ä»¬çœ‹çš„starteréƒ½æ˜¯spring-boot-starter-ï¼Ÿï¼Ÿï¼Ÿï¼Œä¹Ÿå°±æ˜¯è¯´éƒ½æ˜¯ä¸‹é¢çš„æ ¼å¼</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">Spring-boot-start-***<br></code></pre></td></tr></table></figure><p>è€Œè¿™ä¸ªåæ ‡çš„åå­—ä¹¦å†™æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯ç¬¬ä¸‰æ–¹æŠ€æœ¯åç§°åœ¨å‰ï¼Œbootå’Œstarteråœ¨åã€‚æ­¤å¤„ç®€å•æä¸€ä¸‹å‘½åè§„èŒƒï¼ŒåæœŸåŸç†ç¯‡ä¼šå†è¯¦ç»†è®²è§£</p><table><thead><tr><th>starteræ‰€å±</th><th>å‘½åè§„åˆ™</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>å®˜æ–¹æä¾›</td><td>spring-boot-starter-æŠ€æœ¯åç§°</td><td>spring-boot-starter-web <br>spring-boot-starter-test</td></tr><tr><td>ç¬¬ä¸‰æ–¹æä¾›</td><td>ç¬¬ä¸‰æ–¹æŠ€æœ¯åç§°-spring-boot-starter</td><td>druid-spring-boot-starter</td></tr><tr><td>ç¬¬ä¸‰æ–¹æä¾›</td><td>ç¬¬ä¸‰æ–¹æŠ€æœ¯åç§°-boot-starterï¼ˆç¬¬ä¸‰æ–¹æŠ€æœ¯åç§°è¿‡é•¿ï¼Œç®€åŒ–å‘½åï¼‰</td><td>mybatis-plus-boot-starter</td></tr></tbody></table><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹    æœ‰äº›å°ä¼™ä¼´åœ¨åˆ›å»ºé¡¹ç›®æ—¶æƒ³é€šè¿‡å‹¾é€‰çš„å½¢å¼æ‰¾åˆ°è¿™ä¸ªåå­—ï¼Œåˆ«ç¿»äº†ï¼Œæ²¡æœ‰ã€‚æˆªæ­¢ç›®å‰ï¼ŒSpringBootå®˜ç½‘è¿˜æœªæ”¶å½•æ­¤åæ ‡ï¼Œè€Œæˆ‘ä»¬Ideaåˆ›å»ºæ¨¡å—æ—¶è¯»å–çš„æ˜¯SpringBootå®˜ç½‘çš„Spring Initializrï¼Œæ‰€ä»¥ä¹Ÿæ²¡æœ‰ã€‚å¦‚æœæ¢ç”¨é˜¿é‡Œäº‘çš„urlåˆ›å»ºé¡¹ç›®å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„åæ ‡</p><p><strong>æ­¥éª¤â‘¡</strong>ï¼šé…ç½®æ•°æ®æºç›¸å…³ä¿¡æ¯</p><p>application.ymlï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssmbuild</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>æ²¡äº†ï¼Œå°±è¿™ä¹ˆå¤šï¼Œå‰©ä¸‹çš„å°±æ˜¯å†™MyBaitsPlusçš„ç¨‹åºäº†</p><p><strong>æ˜ å°„æ¥å£ï¼ˆDaoï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.Book;<br><span class="hljs-keyword">import</span> org.apache.ibatis.annotations.Mapper;<br><br><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookDao</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">Book</span>&gt; </span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å®ä½“ç±»</strong></p><p><strong>æ³¨æ„ï¼š</strong></p><ul><li>åŠ å…¥ @TableName(â€œè¡¨åâ€)</li><li>å­—æ®µè¦å’Œæ•°æ®åº“è¡¨å­—æ®µå¯¹åº”</li></ul><p>æ ¸å¿ƒåœ¨äºDaoæ¥å£ç»§æ‰¿äº†ä¸€ä¸ªBaseMapperçš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä¸­å¸®åŠ©å¼€å‘è€…é¢„å®šäº†è‹¥å¹²ä¸ªå¸¸ç”¨çš„APIæ¥å£ï¼Œç®€åŒ–äº†é€šç”¨APIæ¥å£çš„å¼€å‘å·¥ä½œã€‚</p><img src="/.io//image-20211129100313919.png" alt="image-20211129100313919" style="zoom:80%;"><p>ä¸€ä¸ªæµ‹è¯•ç±»è¿›è¡Œæµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Springboot05MybatisPlusApplicationTests</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">contextLoads</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(bookDao.selectById(<span class="hljs-number">2</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>â€‹    ç›®å‰æ•°æ®åº“çš„è¡¨åå®šä¹‰è§„åˆ™æ˜¯tbl_æ¨¡å—åç§°ï¼Œä¸ºäº†èƒ½å’Œå®ä½“ç±»ç›¸å¯¹åº”ï¼Œéœ€è¦åšä¸€ä¸ªé…ç½®ï¼Œç›¸å…³çŸ¥è¯†å„ä½å°ä¼™ä¼´å¯ä»¥åˆ°MyBatisPlusè¯¾ç¨‹ä¸­å»å­¦ä¹ ï¼Œæ­¤å¤„ä»…ç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚é…ç½®application.ymlæ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®å³å¯ï¼Œè®¾ç½®æ‰€æœ‰è¡¨åçš„é€šç”¨å‰ç¼€å</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">global-config:</span><br>    <span class="hljs-attr">db-config:</span><br>      <span class="hljs-attr">table-prefix:</span> <span class="hljs-string">tbl_</span><span class="hljs-comment">#è®¾ç½®æ‰€æœ‰è¡¨çš„é€šç”¨å‰ç¼€åç§°ä¸ºtbl_</span><br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>æ‰‹å·¥æ·»åŠ MyBatis-Pluså¯¹åº”çš„starter</li><li>æ•°æ®å±‚æ¥å£ä½¿ç”¨BaseMapperç®€åŒ–å¼€å‘</li><li>éœ€è¦ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹æŠ€æœ¯æ— æ³•é€šè¿‡å‹¾é€‰ç¡®å®šæ—¶ï¼Œéœ€è¦æ‰‹å·¥æ·»åŠ åæ ‡</li></ol><h3 id="3-4-æ•´åˆDruid"><a href="#3-4-æ•´åˆDruid" class="headerlink" title="3-4.æ•´åˆDruid"></a>3-4.æ•´åˆDruid</h3><p>â€‹    ä½¿ç”¨SpringBootæ•´åˆäº†3ä¸ªæŠ€æœ¯äº†ï¼Œå‘ç°å¥—è·¯åŸºæœ¬ç›¸åŒï¼Œå¯¼å…¥å¯¹åº”çš„starterï¼Œç„¶ååšé…ç½®ï¼Œå„ä½å°ä¼™ä¼´éœ€è¦ä¸€ç›´å¼ºåŒ–è¿™å¥—æ€æƒ³ã€‚ä¸‹é¢å†æ•´åˆä¸€ä¸ªæŠ€æœ¯ï¼Œç»§ç»­æ·±å…¥å¼ºåŒ–æ­¤æ€æƒ³ã€‚</p><p>â€‹    å‰é¢æ•´åˆMyBatiså’ŒMPçš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ•°æ®æºå¯¹è±¡éƒ½æ˜¯SpringBooté»˜è®¤çš„æ•°æ®æºå¯¹è±¡ï¼Œä¸‹é¢æˆ‘ä»¬æ‰‹å·¥æ§åˆ¶ä¸€ä¸‹ï¼Œè‡ªå·±æŒ‡å®šäº†ä¸€ä¸ªæ•°æ®æºå¯¹è±¡ï¼ŒDruidã€‚</p><p>â€‹    åœ¨æ²¡æœ‰æŒ‡å®šæ•°æ®æºæ—¶ï¼Œæˆ‘ä»¬çš„é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=Asia/Shanghai</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>â€‹    æ­¤æ—¶è™½ç„¶æ²¡æœ‰æŒ‡å®šæ•°æ®æºï¼Œä½†æ˜¯æ ¹æ®SpringBootçš„å¾·è¡Œï¼Œè‚¯å®šå¸®æˆ‘ä»¬é€‰äº†ä¸€ä¸ªå®ƒè®¤ä¸ºæœ€å¥½çš„æ•°æ®æºå¯¹è±¡ï¼Œè¿™å°±æ˜¯HiKariã€‚é€šè¿‡å¯åŠ¨æ—¥å¿—å¯ä»¥æŸ¥çœ‹åˆ°å¯¹åº”çš„èº«å½±ã€‚</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">2021-11-29 09:39:15.202  INFO 12260 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...<br>2021-11-29 09:39:15.208  WARN 12260 --- [           main] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.<br>2021-11-29 09:39:15.551  INFO 12260 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.<br></code></pre></td></tr></table></figure><p>ä¸Šè¿°ä¿¡æ¯ä¸­æ¯ä¸€è¡Œéƒ½æœ‰HiKariçš„èº«å½±ï¼Œå¦‚æœéœ€è¦æ›´æ¢æ•°æ®æºï¼Œå…¶å®åªéœ€è¦ä¸¤æ­¥å³å¯ã€‚</p><ol><li><strong>å¯¼å…¥å¯¹åº”çš„æŠ€æœ¯åæ ‡</strong></li><li><strong>é…ç½®ä½¿ç”¨æŒ‡å®šçš„æ•°æ®æºç±»å‹</strong></li></ol><p>ä¸‹é¢å°±åˆ‡æ¢ä¸€ä¸‹æ•°æ®æºå¯¹è±¡</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šå¯¼å…¥å¯¹åº”çš„åæ ‡ï¼ˆ<strong>æ³¨æ„ï¼Œæ˜¯åæ ‡ï¼Œæ­¤å¤„ä¸æ˜¯starter</strong>ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘¡</strong>ï¼šä¿®æ”¹é…ç½®ï¼Œåœ¨æ•°æ®æºé…ç½®ä¸­æœ‰ä¸€ä¸ªtypeå±æ€§ï¼Œä¸“ç”¨äºæŒ‡å®šæ•°æ®æºç±»å‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span><br>    <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>    <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br>    <span class="hljs-attr">type:</span> <span class="hljs-string">com.alibaba.druid.pool.DruidDataSource</span><br></code></pre></td></tr></table></figure><p>â€‹    è¿™é‡Œå…¶å®è¦æå‡ºä¸€ä¸ªé—®é¢˜çš„ï¼Œç›®å‰çš„æ•°æ®æºé…ç½®æ ¼å¼æ˜¯ä¸€ä¸ªé€šç”¨æ ¼å¼ï¼Œä¸ç®¡ä½ æ¢ä»€ä¹ˆæ•°æ®æºéƒ½å¯ä»¥ç”¨è¿™ç§å½¢å¼è¿›è¡Œé…ç½®ã€‚ä½†æ˜¯æ–°çš„é—®é¢˜åˆæ¥äº†ï¼Œå¦‚æœå¯¹æ•°æ®æºè¿›è¡Œä¸ªæ€§åŒ–çš„é…ç½®ï¼Œä¾‹å¦‚é…ç½®æ•°æ®æºå¯¹åº”çš„è¿æ¥æ•°é‡ï¼Œè¿™ä¸ªæ—¶å€™å°±æœ‰æ–°çš„é—®é¢˜äº†ã€‚æ¯ä¸ªæ•°æ®æºæŠ€æœ¯å¯¹åº”çš„é…ç½®åç§°éƒ½ä¸€æ ·å—ï¼Ÿè‚¯å®šä¸æ˜¯å•Šï¼Œå„ä¸ªå‚å•†ä¸å¯èƒ½æå‰å•†é‡å¥½éƒ½å†™ä¸€æ ·çš„åå­—å•Šï¼Œæ€ä¹ˆåŠï¼Ÿå°±è¦ä½¿ç”¨ä¸“ç”¨çš„é…ç½®æ ¼å¼äº†ã€‚è¿™ä¸ªæ—¶å€™ä¸Šé¢è¿™ç§é€šç”¨æ ¼å¼å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Œæ€ä¹ˆåŠï¼Ÿè¿˜èƒ½æ€ä¹ˆåŠï¼ŸæŒ‰ç…§SpringBootæ•´åˆå…¶ä»–æŠ€æœ¯çš„é€šç”¨è§„åˆ™æ¥å¥—å•Šï¼Œ<strong>å¯¼å…¥å¯¹åº”çš„starter</strong>ï¼Œè¿›è¡Œç›¸åº”çš„é…ç½®å³å¯ã€‚</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šå¯¼å…¥å¯¹åº”çš„starter</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘¡</strong>ï¼šä¿®æ”¹é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">druid:</span><br>      <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>      <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span><br>      <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>      <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br></code></pre></td></tr></table></figure><p>â€‹    æ³¨æ„è§‚å¯Ÿï¼Œé…ç½®é¡¹ä¸­ï¼Œåœ¨datasourceä¸‹é¢å¹¶ä¸æ˜¯ç›´æ¥é…ç½®urlè¿™äº›å±æ€§çš„ï¼Œè€Œæ˜¯å…ˆé…ç½®äº†ä¸€ä¸ªdruidèŠ‚ç‚¹ï¼Œç„¶åå†é…ç½®çš„urlè¿™äº›ä¸œè¥¿ã€‚è¨€å¤–ä¹‹æ„ï¼Œurlè¿™ä¸ªå±æ€§æ—¶druidä¸‹é¢çš„å±æ€§ï¼Œé‚£ä½ èƒ½æƒ³åˆ°å—ï¼Ÿé™¤äº†è¿™4ä¸ªå¸¸è§„é…ç½®å¤–ï¼Œè¿˜æœ‰druidä¸“ç”¨çš„å…¶ä»–é…ç½®ã€‚é€šè¿‡æç¤ºåŠŸèƒ½å¯ä»¥æ‰“å¼€druidç›¸å…³çš„é…ç½®æŸ¥é˜…</p><img src="/.io//image-20211129112610729.png" alt="image-20211129112610729" style="zoom:80%;"><p>â€‹    ä¸druidç›¸å…³çš„é…ç½®è¶…è¿‡200æ¡ä»¥ä¸Šï¼Œè¿™å°±å‘Šè¯‰ä½ ï¼Œå¦‚æœæƒ³åšdruidç›¸å…³çš„é…ç½®ï¼Œä½¿ç”¨è¿™ç§æ ¼å¼å°±å¯ä»¥äº†ï¼Œè¿™é‡Œå°±ä¸å±•å¼€æè¿°äº†ï¼Œå¤ªå¤šäº†ã€‚</p><p>â€‹    è¿™æ˜¯æˆ‘ä»¬åšçš„ç¬¬4ä¸ªæŠ€æœ¯çš„æ•´åˆæ–¹æ¡ˆï¼Œè¿˜æ˜¯é‚£ä¸¤å¥è¯ï¼š<font color="#ff0000"><b>å¯¼å…¥å¯¹åº”starterï¼Œä½¿ç”¨å¯¹åº”é…ç½®</b></font>ã€‚æ²¡äº†ï¼ŒSpringBootæ•´åˆå…¶ä»–æŠ€æœ¯å°±è¿™ä¹ˆç®€å•ç²—æš´ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>æ•´åˆDruidéœ€è¦å¯¼å…¥Druidå¯¹åº”çš„starter</li><li>æ ¹æ®Druidæä¾›çš„é…ç½®æ–¹å¼è¿›è¡Œé…ç½®</li><li>æ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯é€šç”¨æ–¹å¼<ul><li>å¯¼å…¥å¯¹åº”çš„starter</li><li>æ ¹æ®æä¾›çš„é…ç½®æ ¼å¼ï¼Œé…ç½®éé»˜è®¤å€¼å¯¹åº”çš„é…ç½®é¡¹</li></ul></li></ol><h3 id="3-5-SSMPæ•´åˆç»¼åˆæ¡ˆä¾‹"><a href="#3-5-SSMPæ•´åˆç»¼åˆæ¡ˆä¾‹" class="headerlink" title="3-5.SSMPæ•´åˆç»¼åˆæ¡ˆä¾‹"></a>3-5.SSMPæ•´åˆç»¼åˆæ¡ˆä¾‹</h3><p>â€‹    SpringBootèƒ½å¤Ÿæ•´åˆçš„æŠ€æœ¯å¤ªå¤šå¤ªå¤šäº†ï¼Œå¯¹äºåˆå­¦è€…æ¥è¯´æ…¢æ…¢æ¥ï¼Œä¸€ç‚¹ç‚¹æŒæ¡ã€‚å‰é¢å’±ä»¬åšäº†4ä¸ªæ•´åˆäº†ï¼Œä¸‹é¢å°±é€šè¿‡ä¸€ä¸ªç¨å¾®ç»¼åˆä¸€ç‚¹çš„æ¡ˆä¾‹ï¼Œå°†æ‰€æœ‰çŸ¥è¯†è´¯ç©¿èµ·æ¥ï¼ŒåŒæ—¶åšä¸€ä¸ªå°åŠŸèƒ½ï¼Œä½“ä¼šä¸€ä¸‹ã€‚ä¸è¿‡æœ‰è¨€åœ¨å…ˆï¼Œè¿™ä¸ªæ¡ˆä¾‹åˆ¶ä½œçš„æ—¶å€™ï¼Œä½ å¯èƒ½ä¼šæœ‰è¿™ç§æ„Ÿè§‰ï¼Œè¯´å¥½çš„SpringBootæ•´åˆå…¶ä»–æŠ€æœ¯çš„æ¡ˆä¾‹ï¼Œä¸ºä»€ä¹ˆæ„Ÿè§‰SpringBootæ•´åˆå…¶ä»–æŠ€æœ¯çš„èº«å½±ä¸å¤šå‘¢ï¼Ÿå› ä¸ºè¿™ä¸œè¥¿ä¹¦å†™å¤ªç®€å•äº†ï¼Œç®€å•åˆ°ç¬é—´å†™å®Œï¼Œå¤§é‡çš„æ—¶é—´åšçš„ä¸æ˜¯è¿™äº›æ•´åˆå·¥ä½œã€‚</p><p>â€‹    å…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªæ¡ˆä¾‹çš„æœ€ç»ˆæ•ˆæœ</p><p><strong>ä¸»é¡µé¢</strong></p><p><img src="/.io//img%5Cimage-20211129113447844.png" alt="image-20211129113447844"></p><p><strong>æ·»åŠ </strong></p><p><img src="/.io//img%5Cimage-20211129113522459.png" alt="image-20211129113522459"></p><p><strong>åˆ é™¤</strong></p><p><img src="/.io//img%5Cimage-20211129113550829.png" alt="image-20211129113550829"></p><p><strong>åˆ†é¡µ</strong></p><p><img src="/.io//img%5Cimage-20211129113628969.png" alt="image-20211129113628969"></p><p><strong>æ¡ä»¶æŸ¥è¯¢</strong></p><p><img src="/.io//img%5Cimage-20211129113650369.png" alt="image-20211129113650369"></p><p>â€‹    æ•´ä½“æ¡ˆä¾‹ä¸­éœ€è¦é‡‡ç”¨çš„æŠ€æœ¯å¦‚ä¸‹ï¼Œå…ˆäº†è§£ä¸€ä¸‹ï¼Œåšåˆ°å“ªä¸€ä¸ªè¯´å“ªä¸€ä¸ª</p><ol><li>å®ä½“ç±»å¼€å‘â€”â€”â€”â€”ä½¿ç”¨Lombokå¿«é€Ÿåˆ¶ä½œå®ä½“ç±»</li><li>Daoå¼€å‘â€”â€”â€”â€”æ•´åˆMyBatisPlusï¼Œåˆ¶ä½œæ•°æ®å±‚æµ‹è¯•</li><li>Serviceå¼€å‘â€”â€”â€”â€”åŸºäºMyBatisPlusè¿›è¡Œå¢é‡å¼€å‘ï¼Œåˆ¶ä½œä¸šåŠ¡å±‚æµ‹è¯•ç±»</li><li>Controllerå¼€å‘â€”â€”â€”â€”åŸºäºRestfulå¼€å‘ï¼Œä½¿ç”¨PostManæµ‹è¯•æ¥å£åŠŸèƒ½</li><li>Controllerå¼€å‘â€”â€”â€”â€”å‰åç«¯å¼€å‘åè®®åˆ¶ä½œ</li><li>é¡µé¢å¼€å‘â€”â€”â€”â€”åŸºäºVUE+ElementUIåˆ¶ä½œï¼Œå‰åç«¯è”è°ƒï¼Œé¡µé¢æ•°æ®å¤„ç†ï¼Œé¡µé¢æ¶ˆæ¯å¤„ç†<ul><li>åˆ—è¡¨</li><li>æ–°å¢</li><li>ä¿®æ”¹</li><li>åˆ é™¤</li><li>åˆ†é¡µ</li><li>æŸ¥è¯¢</li></ul></li><li>é¡¹ç›®å¼‚å¸¸å¤„ç†</li><li>æŒ‰æ¡ä»¶æŸ¥è¯¢â€”â€”â€”â€”é¡µé¢åŠŸèƒ½è°ƒæ•´ã€Controllerä¿®æ­£åŠŸèƒ½ã€Serviceä¿®æ­£åŠŸèƒ½</li></ol><p>â€‹    å¯ä»¥çœ‹çš„å‡ºæ¥ï¼Œä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œå¸Œæœ›é€šè¿‡è¿™ä¸ªæ¡ˆä¾‹ï¼Œå„ä½å°ä¼™ä¼´èƒ½å¤Ÿå®ŒæˆåŸºç¡€å¼€å‘çš„æŠ€èƒ½è®­ç»ƒã€‚æ•´ä½“å¼€å‘è¿‡ç¨‹é‡‡ç”¨åšä¸€å±‚æµ‹ä¸€å±‚çš„å½¢å¼è¿›è¡Œï¼Œè¿‡ç¨‹å®Œæ•´ï¼Œæˆ˜çº¿è¾ƒé•¿ï¼Œå¸Œæœ›å„ä½èƒ½è·Ÿè¿›è¿›åº¦ï¼Œå®Œæˆè¿™ä¸ªå°æ¡ˆä¾‹çš„åˆ¶ä½œã€‚</p><h4 id="0-æ¨¡å—åˆ›å»º"><a href="#0-æ¨¡å—åˆ›å»º" class="headerlink" title="0.æ¨¡å—åˆ›å»º"></a>0.æ¨¡å—åˆ›å»º</h4><p>â€‹    å¯¹äºè¿™ä¸ªæ¡ˆä¾‹å¦‚æœæŒ‰ç…§ä¼ä¸šå¼€å‘çš„å½¢å¼è¿›è¡Œåº”è¯¥åˆ¶ä½œåå°å¾®æœåŠ¡ï¼Œå‰åç«¯åˆ†ç¦»çš„å¼€å‘ã€‚</p><img src="/.io//image-20211129114306062.png" alt="image-20211129114306062" style="zoom:80%;"><p>ä¸‹é¢æˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—ï¼ŒåŠ è½½è¦ä½¿ç”¨çš„æŠ€æœ¯å¯¹åº”çš„starterï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶æ ¼å¼ä¸ºymlæ ¼å¼ã€‚</p><img src="/.io//image-20220517184834325.png" alt="image-20220517184834325" style="zoom:33%;"><p>ä½¿ç”¨é˜¿é‡Œäº‘èµ„æºåˆ›å»º Moduleï¼Œæ·»åŠ ç›¸åº”çš„ä¾èµ–ï¼š</p><img src="/.io//image-20220517185029863.png" alt="image-20220517185029863" style="zoom:33%;"><p><strong>application.yml</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span><br></code></pre></td></tr></table></figure><h4 id="1-å®ä½“ç±»å¼€å‘"><a href="#1-å®ä½“ç±»å¼€å‘" class="headerlink" title="1.å®ä½“ç±»å¼€å‘"></a>1.å®ä½“ç±»å¼€å‘</h4><p>æœ¬æ¡ˆä¾‹å¯¹åº”çš„æ¨¡å—è¡¨ç»“æ„å¦‚ä¸‹ï¼šï¼ˆæ–°å»ºæ•°æ®åº“ssmpï¼‰</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs tex">USE `ssmp`;<br><br>-- ----------------------------<br>-- Table structure for tbl<span class="hljs-built_in">_</span>book<br>-- ----------------------------<br>DROP TABLE IF EXISTS `tbl<span class="hljs-built_in">_</span>book`;<br>CREATE TABLE `tbl<span class="hljs-built_in">_</span>book`  (<br>  `id` int(11) NOT NULL AUTO<span class="hljs-built_in">_</span>INCREMENT,<br>  `type` varchar(20) CHARACTER SET utf8 COLLATE utf8<span class="hljs-built_in">_</span>general<span class="hljs-built_in">_</span>ci NULL DEFAULT NULL,<br>  `name` varchar(50) CHARACTER SET utf8 COLLATE utf8<span class="hljs-built_in">_</span>general<span class="hljs-built_in">_</span>ci NULL DEFAULT NULL,<br>  `description` varchar(255) CHARACTER SET utf8 COLLATE utf8<span class="hljs-built_in">_</span>general<span class="hljs-built_in">_</span>ci NULL DEFAULT NULL,<br>  PRIMARY KEY (`id`) USING BTREE<br>) ENGINE = InnoDB AUTO<span class="hljs-built_in">_</span>INCREMENT = 51 CHARACTER SET = utf8 COLLATE = utf8<span class="hljs-built_in">_</span>general<span class="hljs-built_in">_</span>ci ROW<span class="hljs-built_in">_</span>FORMAT = Dynamic;<br><br><br>-- ----------------------------<br>-- Records of tbl<span class="hljs-built_in">_</span>book<br>-- ----------------------------<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (1, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;Springå®æˆ˜ ç¬¬5ç‰ˆ&#x27;, &#x27;Springå…¥é—¨ç»å…¸æ•™ç¨‹ï¼Œæ·±å…¥ç†è§£SpringåŸç†æŠ€æœ¯å†…å¹•&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (2, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;Spring 5æ ¸å¿ƒåŸç†ä¸30ä¸ªç±»æ‰‹å†™å®æˆ˜&#x27;, &#x27;åå¹´æ²‰æ·€ä¹‹ä½œï¼Œæ‰‹å†™Springç²¾åæ€æƒ³&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (3, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;Spring 5 è®¾è®¡æ¨¡å¼&#x27;, &#x27;æ·±å…¥Springæºç å‰–æSpringæºç ä¸­è•´å«çš„10å¤§è®¾è®¡æ¨¡å¼&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (4, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;Spring MVC+MyBatiså¼€å‘ä»å…¥é—¨åˆ°é¡¹ç›®å®æˆ˜&#x27;, &#x27;å…¨æ–¹ä½è§£æé¢å‘Webåº”ç”¨çš„è½»é‡çº§æ¡†æ¶ï¼Œå¸¦ä½ æˆä¸ºSpring MVCå¼€å‘é«˜æ‰‹&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (5, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;è½»é‡çº§Java Webä¼ä¸šåº”ç”¨å®æˆ˜&#x27;, &#x27;æºç çº§å‰–æSpringæ¡†æ¶ï¼Œé€‚åˆå·²æŒæ¡JavaåŸºç¡€çš„è¯»è€…&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (6, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;Javaæ ¸å¿ƒæŠ€æœ¯ å·I åŸºç¡€çŸ¥è¯†ï¼ˆåŸä¹¦ç¬¬11ç‰ˆï¼‰&#x27;, &#x27;Core Java ç¬¬11ç‰ˆï¼ŒJoltå¤§å¥–è·å¥–ä½œå“ï¼Œé’ˆå¯¹Java SE9ã€10ã€11å…¨é¢æ›´æ–°&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (7, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº&#x27;, &#x27;5ä¸ªç»´åº¦å…¨é¢å‰–æJVMï¼Œå¤§å‚é¢è¯•çŸ¥è¯†ç‚¹å…¨è¦†ç›–&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (8, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;Javaç¼–ç¨‹æ€æƒ³ï¼ˆç¬¬4ç‰ˆï¼‰&#x27;, &#x27;Javaå­¦ä¹ å¿…è¯»ç»å…¸,æ®¿å ‚çº§è‘—ä½œï¼èµ¢å¾—äº†å…¨çƒç¨‹åºå‘˜çš„å¹¿æ³›èµèª‰&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (9, &#x27;è®¡ç®—æœºç†è®º&#x27;, &#x27;é›¶åŸºç¡€å­¦Javaï¼ˆå…¨å½©ç‰ˆï¼‰&#x27;, &#x27;é›¶åŸºç¡€è‡ªå­¦ç¼–ç¨‹çš„å…¥é—¨å›¾ä¹¦ï¼Œç”±æµ…å…¥æ·±ï¼Œè¯¦è§£Javaè¯­è¨€çš„ç¼–ç¨‹æ€æƒ³å’Œæ ¸å¿ƒæŠ€æœ¯&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (10, &#x27;å¸‚åœºè¥é”€&#x27;, &#x27;ç›´æ’­å°±è¯¥è¿™ä¹ˆåšï¼šä¸»æ’­é«˜æ•ˆæ²Ÿé€šå®æˆ˜æŒ‡å—&#x27;, &#x27;æå­æŸ’ã€æä½³ç¦ã€è–‡å¨…æˆé•¿ä¸ºç½‘çº¢çš„ç§˜å¯†éƒ½åœ¨ä¹¦ä¸­&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (11, &#x27;å¸‚åœºè¥é”€&#x27;, &#x27;ç›´æ’­é”€è®²å®æˆ˜ä¸€æœ¬é€š&#x27;, &#x27;å’Œç§‹å¶ä¸€èµ·å­¦ç³»åˆ—ç½‘ç»œè¥é”€ä¹¦ç±&#x27;);<br>INSERT INTO `tbl<span class="hljs-built_in">_</span>book` VALUES (12, &#x27;å¸‚åœºè¥é”€&#x27;, &#x27;ç›´æ’­å¸¦è´§ï¼šæ·˜å®ã€å¤©çŒ«ç›´æ’­ä»æ–°æ‰‹åˆ°é«˜æ‰‹&#x27;, &#x27;ä¸€æœ¬æ•™ä½ å¦‚ä½•ç©è½¬ç›´æ’­çš„ä¹¦ï¼Œ10å ‚è¯¾è½»æ¾å®ç°å¸¦è´§æœˆå…¥3W+&#x27;);<br></code></pre></td></tr></table></figure><p>â€‹    æ ¹æ®ä¸Šè¿°è¡¨ç»“æ„ï¼Œåˆ¶ä½œå¯¹åº”çš„å®ä½“ç±»</p><p><strong>å®ä½“ç±»</strong></p><p>com.wang.domainä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String type;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String description;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    å®ä½“ç±»çš„å¼€å‘å¯ä»¥è‡ªåŠ¨é€šè¿‡å·¥å…·æ‰‹å·¥ç”Ÿæˆget/setæ–¹æ³•ï¼Œç„¶åè¦†ç›–toString()æ–¹æ³•ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚ä¸è¿‡è¿™ä¸€å¥—æ“ä½œä¹¦å†™å¾ˆç¹çï¼Œæœ‰å¯¹åº”çš„å·¥å…·å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–å¼€å‘ï¼Œä»‹ç»ä¸€ä¸ªå°å·¥å…·ï¼Œ<strong>lombok</strong>ã€‚</p><p>â€‹    Lombokï¼Œä¸€ä¸ªJavaç±»åº“ï¼Œæä¾›äº†ä¸€ç»„æ³¨è§£ï¼Œç®€åŒ–POJOå®ä½“ç±»å¼€å‘ï¼ŒSpringBootç›®å‰é»˜è®¤é›†æˆäº†lombokæŠ€æœ¯ï¼Œå¹¶æä¾›äº†å¯¹åº”çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œæ‰€ä»¥åªéœ€è¦æä¾›å¯¹åº”çš„åæ ‡å³å¯ï¼Œåœ¨pom.xmlä¸­æ·»åŠ lombokçš„åæ ‡ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs XML"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--lombok--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨lombokå¯ä»¥é€šè¿‡ä¸€ä¸ªæ³¨è§£ <strong>@Data</strong> å®Œæˆä¸€ä¸ªå®ä½“ç±»å¯¹åº”çš„getterï¼Œsetterï¼ŒtoStringï¼Œequalsï¼ŒhashCodeç­‰æ“ä½œçš„å¿«é€Ÿæ·»åŠ ï¼ˆå¿«æ·é”® Ctrl+F12 æŸ¥çœ‹æ‰€æœ‰æ–¹æ³•ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Book</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Integer id;<br>    <span class="hljs-keyword">private</span> String type;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String description;<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ°è¿™é‡Œå®ä½“ç±»å°±åšå¥½äº†ï¼ˆé»˜è®¤æœ‰æ— å‚æ„é€ ï¼‰</p><p><strong>æ€»ç»“</strong></p><ol><li>å®ä½“ç±»åˆ¶ä½œ</li><li>ä½¿ç”¨lombokç®€åŒ–å¼€å‘<ul><li>å¯¼å…¥lombokæ— éœ€æŒ‡å®šç‰ˆæœ¬ï¼Œç”±SpringBootæä¾›ç‰ˆæœ¬</li><li>@Dataæ³¨è§£</li></ul></li></ol><h4 id="2-æ•°æ®å±‚å¼€å‘â€”â€”åŸºç¡€CRUD"><a href="#2-æ•°æ®å±‚å¼€å‘â€”â€”åŸºç¡€CRUD" class="headerlink" title="2.æ•°æ®å±‚å¼€å‘â€”â€”åŸºç¡€CRUD"></a>2.æ•°æ®å±‚å¼€å‘â€”â€”åŸºç¡€CRUD</h4><p>â€‹    æ•°æ®å±‚å¼€å‘æœ¬æ¬¡ä½¿ç”¨MyBatisPlusæŠ€æœ¯ï¼Œæ•°æ®æºä½¿ç”¨å‰é¢å­¦ä¹ çš„Druidï¼Œå­¦éƒ½å­¦äº†éƒ½ç”¨ä¸Š</p><p><strong>æ­¥éª¤â‘ </strong>ï¼šå¯¼å…¥MyBatisPlusï¼ˆ<strong>é˜¿é‡Œäº‘è‡ªå¸¦MP</strong>ï¼‰ä¸Druidå¯¹åº”çš„starterï¼Œå½“ç„¶mysqlçš„é©±åŠ¨ä¸èƒ½å°‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.6<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘¡</strong>ï¼šé…ç½®æ•°æ®åº“è¿æ¥ç›¸å…³çš„æ•°æ®æºé…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span><br><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">druid:</span><br>      <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>      <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssmp?serverTimezone=UTC</span><br>      <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>      <span class="hljs-attr">password:</span> <span class="hljs-number">123456</span><br>      <br><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">global-config:</span><br>    <span class="hljs-attr">db-config:</span><br>      <span class="hljs-attr">table-prefix:</span> <span class="hljs-string">tbl_</span><span class="hljs-comment">#è®¾ç½®è¡¨åé€šç”¨å‰ç¼€</span><br>      <span class="hljs-attr">id-type:</span> <span class="hljs-string">auto</span><span class="hljs-comment">#è®¾ç½®ä¸»é”®idå­—æ®µçš„ç”Ÿæˆç­–ç•¥ä¸ºå‚ç…§æ•°æ®åº“è®¾å®šçš„ç­–ç•¥ï¼Œå½“å‰æ•°æ®åº“è®¾ç½®idç”Ÿæˆç­–ç•¥ä¸ºè‡ªå¢</span><br></code></pre></td></tr></table></figure><p>ï¼ˆé™¤äº†é€šè¿‡è®¾ç½®å‰ç¼€ï¼Œè¿˜å¯ä»¥é€šè¿‡åœ¨å®ä½“ç±»æ·»åŠ @TableName(â€œè¡¨åâ€)ï¼‰</p><p><strong>æ­¥éª¤â‘¢</strong>ï¼šä½¿ç”¨MPçš„æ ‡å‡†é€šç”¨æ¥å£BaseMapperåŠ é€Ÿå¼€å‘ï¼Œåˆ«å¿˜äº†@Mapperå’Œæ³›å‹çš„æŒ‡å®š</p><p>com.wang.daoä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Mapper</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookDao</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseMapper</span>&lt;<span class="hljs-title">Book</span>&gt; </span>&#123;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘£</strong>ï¼šåˆ¶ä½œæµ‹è¯•ç±»æµ‹è¯•ç»“æœï¼Œè¿™ä¸ªæµ‹è¯•ç±»åˆ¶ä½œæ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œä¸è¿‡åœ¨ä¼ä¸šå¼€å‘ä¸­å¾€å¾€éƒ½ä¸ºåŠ é€Ÿå¼€å‘è·³è¿‡æ­¤æ­¥ï¼Œä¸”è¡Œä¸”çæƒœå§</p><p>ï¼ˆtestï¼‰com.wang.daoä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.wang.domain.Book;<br><span class="hljs-keyword">import</span> org.junit.jupiter.api.Test;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.boot.test.context.SpringBootTest;<br><br><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookDaoTestCase</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetById</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(bookDao.selectById(<span class="hljs-number">1</span>));<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testSave</span><span class="hljs-params">()</span></span>&#123;<br>        Book book = <span class="hljs-keyword">new</span> Book();<br>        book.setType(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        book.setName(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        book.setDescription(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        bookDao.insert(book);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testUpdate</span><span class="hljs-params">()</span></span>&#123;<br>        Book book = <span class="hljs-keyword">new</span> Book();<br>        book.setId(<span class="hljs-number">11</span>);<br>        book.setType(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®abcdefg&quot;</span>);<br>        book.setName(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        book.setDescription(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        bookDao.updateById(book);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testDelete</span><span class="hljs-params">()</span></span>&#123;<br>        bookDao.deleteById(<span class="hljs-number">52</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetAll</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(bookDao.selectList(<span class="hljs-keyword">null</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><font color="#f0f"><b>æ¸©é¦¨æç¤º</b></font></p><p>MPæŠ€æœ¯é»˜è®¤çš„ä¸»é”®ç”Ÿæˆç­–ç•¥ä¸ºé›ªèŠ±ç®—æ³•ï¼Œç”Ÿæˆçš„ä¸»é”®IDé•¿åº¦è¾ƒå¤§ï¼Œå’Œç›®å‰çš„æ•°æ®åº“è®¾å®šè§„åˆ™ä¸ç›¸ç¬¦ï¼Œéœ€è¦é…ç½®ä¸€ä¸‹ä½¿MPä½¿ç”¨æ•°æ®åº“çš„<strong>ä¸»é”®ç”Ÿæˆç­–ç•¥</strong>ï¼Œæ–¹å¼å˜›è¿˜æ˜¯è€ä¸€å¥—ï¼Œåšé…ç½®ã€‚åœ¨application.ymlä¸­æ·»åŠ å¯¹åº”é…ç½®å³å¯ï¼Œå…·ä½“å¦‚ä¸‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">server:</span><br>  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span><br><br><span class="hljs-attr">spring:</span><br>  <span class="hljs-attr">datasource:</span><br>    <span class="hljs-attr">druid:</span><br>      <span class="hljs-attr">driver-class-name:</span> <span class="hljs-string">com.mysql.cj.jdbc.Driver</span><br>      <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span><br>      <span class="hljs-attr">username:</span> <span class="hljs-string">root</span><br>      <span class="hljs-attr">password:</span> <span class="hljs-string">root</span><br><br><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">global-config:</span><br>    <span class="hljs-attr">db-config:</span><br>      <span class="hljs-attr">table-prefix:</span> <span class="hljs-string">tbl_</span><span class="hljs-comment">#è®¾ç½®è¡¨åé€šç”¨å‰ç¼€</span><br>      <span class="hljs-attr">id-type:</span> <span class="hljs-string">auto</span><span class="hljs-comment">#è®¾ç½®ä¸»é”®idå­—æ®µçš„ç”Ÿæˆç­–ç•¥ä¸ºå‚ç…§æ•°æ®åº“è®¾å®šçš„ç­–ç•¥ï¼Œå½“å‰æ•°æ®åº“è®¾ç½®idç”Ÿæˆç­–ç•¥ä¸ºè‡ªå¢</span><br></code></pre></td></tr></table></figure><h5 id="æŸ¥çœ‹MPè¿è¡Œæ—¥å¿—"><a href="#æŸ¥çœ‹MPè¿è¡Œæ—¥å¿—" class="headerlink" title="æŸ¥çœ‹MPè¿è¡Œæ—¥å¿—"></a>æŸ¥çœ‹MPè¿è¡Œæ—¥å¿—</h5><p>â€‹    åœ¨è¿›è¡Œæ•°æ®å±‚æµ‹è¯•çš„æ—¶å€™ï¼Œå› ä¸ºåŸºç¡€çš„CRUDæ“ä½œå‡ç”± <strong>Mybatis-Plus</strong> ç»™æˆ‘ä»¬æä¾›äº†ï¼Œæ‰€ä»¥å°±å‡ºç°äº†ä¸€ä¸ªå±€é¢ï¼Œå¼€å‘è€…ä¸éœ€è¦ä¹¦å†™SQLè¯­å¥äº†ï¼Œè¿™æ ·ç¨‹åºè¿è¡Œçš„æ—¶å€™æ€»æœ‰ä¸€ç§æ„Ÿè§‰ï¼Œä¸€åˆ‡çš„ä¸€åˆ‡éƒ½æ˜¯é»‘ç›’çš„ï¼Œä½œä¸ºå¼€å‘è€…æˆ‘ä»¬å•¥ä¹Ÿä¸çŸ¥é“å°±å®Œäº†ã€‚å¦‚æœç¨‹åºæ­£å¸¸è¿è¡Œè¿˜å¥½ï¼Œå¦‚æœæŠ¥é”™äº†ï¼Œè¿™ä¸ªæ—¶å€™å°±å¾ˆå´©æºƒï¼Œä½ ç”šè‡³éƒ½ä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ï¼Œå› ä¸ºä¼ é€’å‚æ•°ã€å°è£…SQLè¯­å¥è¿™äº›æ“ä½œå®Œå…¨ä¸æ˜¯ä½ å¹²é¢„å¼€å‘å‡ºæ¥çš„ï¼Œæ‰€ä»¥<strong>æŸ¥çœ‹æ‰§è¡ŒæœŸè¿è¡Œçš„SQLè¯­å¥</strong>å°±æˆä¸ºå½“åŠ¡ä¹‹æ€¥ã€‚</p><p>â€‹    SpringBootæ•´åˆMPçš„æ—¶å€™å……åˆ†è€ƒè™‘åˆ°äº†è¿™ç‚¹ï¼Œé€šè¿‡é…ç½®çš„å½¢å¼å°±å¯ä»¥æŸ¥é˜…æ‰§è¡ŒæœŸSQLè¯­å¥ï¼Œé…ç½®å¦‚ä¸‹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs YAML"><span class="hljs-attr">mybatis-plus:</span><br>  <span class="hljs-attr">configuration:</span><br>    <span class="hljs-attr">log-impl:</span> <span class="hljs-string">org.apache.ibatis.logging.stdout.StdOutImpl</span><br></code></pre></td></tr></table></figure><p>â€‹    å†æ¥çœ‹è¿è¡Œç»“æœï¼Œæ­¤æ—¶å°±æ˜¾ç¤ºäº†è¿è¡ŒæœŸæ‰§è¡ŒSQLçš„æƒ…å†µï¼š</p><p><img src="/.io//image-20220518215710029.png" alt="image-20220518215710029"></p><p>â€‹    å…¶ä¸­æ¸…æ™°çš„æ ‡æ³¨äº†å½“å‰æ‰§è¡Œçš„SQLè¯­å¥æ˜¯ä»€ä¹ˆï¼Œæºå¸¦äº†ä»€ä¹ˆå‚æ•°ï¼Œå¯¹åº”çš„æ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Œæ‰€æœ‰ä¿¡æ¯åº”æœ‰å°½æœ‰ã€‚</p><p>â€‹    æ­¤å¤„è®¾ç½®çš„æ˜¯æ—¥å¿—çš„æ˜¾ç¤ºå½¢å¼ï¼Œå½“å‰é…ç½®çš„æ˜¯æ§åˆ¶å°è¾“å‡ºï¼Œå½“ç„¶è¿˜å¯ä»¥ç”±æ›´å¤šçš„é€‰æ‹©ï¼Œæ ¹æ®éœ€æ±‚åˆ‡æ¢å³å¯</p><img src="/.io//image-20211129143207295.png" alt="image-20211129143207295" style="zoom:80%;"><p><strong>æ€»ç»“</strong></p><ol><li><p>æ‰‹å·¥å¯¼å…¥starteråæ ‡ï¼ˆ2ä¸ªï¼‰ï¼Œmysqlé©±åŠ¨ï¼ˆ1ä¸ªï¼‰</p></li><li><p>é…ç½®æ•°æ®æºä¸MyBatisPluså¯¹åº”çš„é…ç½®</p></li><li><p>å¼€å‘Daoæ¥å£ï¼ˆç»§æ‰¿BaseMapperï¼‰</p></li><li><p>åˆ¶ä½œæµ‹è¯•ç±»æµ‹è¯•DaoåŠŸèƒ½æ˜¯å¦æœ‰æ•ˆ</p></li><li><p>ä½¿ç”¨é…ç½®æ–¹å¼å¼€å¯æ—¥å¿—ï¼Œè®¾ç½®æ—¥å¿—è¾“å‡ºæ–¹å¼ä¸ºæ ‡å‡†è¾“å‡ºå³å¯æŸ¥é˜…SQLæ‰§è¡Œæ—¥å¿—</p></li></ol><h4 id="3-æ•°æ®å±‚å¼€å‘â€”â€”åˆ†é¡µåŠŸèƒ½åˆ¶ä½œ"><a href="#3-æ•°æ®å±‚å¼€å‘â€”â€”åˆ†é¡µåŠŸèƒ½åˆ¶ä½œ" class="headerlink" title="3.æ•°æ®å±‚å¼€å‘â€”â€”åˆ†é¡µåŠŸèƒ½åˆ¶ä½œ"></a>3.æ•°æ®å±‚å¼€å‘â€”â€”åˆ†é¡µåŠŸèƒ½åˆ¶ä½œ</h4><p>â€‹    å‰é¢ä»…ä»…æ˜¯ä½¿ç”¨äº†MPæä¾›çš„åŸºç¡€CRUDåŠŸèƒ½ï¼Œå®é™…ä¸ŠMPç»™æˆ‘ä»¬æä¾›äº†å‡ ä¹æ‰€æœ‰çš„åŸºç¡€æ“ä½œï¼Œè¿™ä¸€èŠ‚è¯´ä¸€ä¸‹å¦‚ä½•å®ç°æ•°æ®åº“ç«¯çš„åˆ†é¡µæ“ä½œã€‚</p><p>â€‹    MPæä¾›çš„åˆ†é¡µæ“ä½œAPIå¦‚ä¸‹ï¼šï¼ˆæµ‹è¯•ç±»ä¸­ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetPage</span><span class="hljs-params">()</span></span>&#123;<br>    IPage page = <span class="hljs-keyword">new</span> Page(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>);<br>    bookDao.selectPage(page, <span class="hljs-keyword">null</span>);<br>    System.out.println(page.getCurrent());<br>    System.out.println(page.getSize());<br>    System.out.println(page.getTotal());<br>    System.out.println(page.getPages());<br>    System.out.println(page.getRecords());<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶ä¸­selectPageæ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå°è£…åˆ†é¡µæ•°æ®çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡newçš„å½¢å¼åˆ›å»ºè¿™ä¸ªå¯¹è±¡ï¼Œå½“ç„¶è¿™ä¸ªå¯¹è±¡ä¹Ÿæ˜¯MPæä¾›çš„ï¼Œåˆ«é€‰é”™åŒ…äº†ã€‚åˆ›å»ºæ­¤å¯¹è±¡æ—¶å°±éœ€è¦æŒ‡å®šåˆ†é¡µçš„ä¸¤ä¸ªåŸºæœ¬æ•°æ®</p><ul><li>å½“å‰æ˜¾ç¤ºç¬¬å‡ é¡µ</li><li>æ¯é¡µæ˜¾ç¤ºå‡ æ¡æ•°æ®</li></ul><p>â€‹    å¯ä»¥é€šè¿‡åˆ›å»ºPageå¯¹è±¡æ—¶åˆ©ç”¨æ„é€ æ–¹æ³•åˆå§‹åŒ–è¿™ä¸¤ä¸ªæ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">IPage page = <span class="hljs-keyword">new</span> Page(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>);<br></code></pre></td></tr></table></figure><p>â€‹    å°†è¯¥å¯¹è±¡ä¼ å…¥åˆ°æŸ¥è¯¢æ–¹æ³•selectPageåï¼Œå¯ä»¥å¾—åˆ°æŸ¥è¯¢ç»“æœï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°å½“å‰æ“ä½œæŸ¥è¯¢ç»“æœè¿”å›å€¼ä»ç„¶æ˜¯ä¸€ä¸ªIPageå¯¹è±¡ï¼Œè¿™åˆæ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">IPage page = bookDao.selectPage(page, <span class="hljs-keyword">null</span>);<br></code></pre></td></tr></table></figure><p>â€‹    åŸæ¥è¿™ä¸ªIPageå¯¹è±¡ä¸­å°è£…äº†è‹¥å¹²ä¸ªæ•°æ®ï¼Œè€ŒæŸ¥è¯¢çš„ç»“æœä½œä¸ºIPageå¯¹è±¡å°è£…çš„ä¸€ä¸ªæ•°æ®å­˜åœ¨çš„ï¼Œå¯ä»¥ç†è§£ä¸ºæŸ¥è¯¢ç»“æœå¾—åˆ°åï¼Œåˆå¡åˆ°äº†è¿™ä¸ªIPageå¯¹è±¡ä¸­ï¼Œå…¶å®è¿˜æ˜¯ä¸ºäº†é«˜åº¦çš„å°è£…ï¼Œä¸€ä¸ªIPageæè¿°äº†åˆ†é¡µæ‰€æœ‰çš„ä¿¡æ¯ã€‚ä¸‹é¢5ä¸ªæ“ä½œå°±æ˜¯IPageå¯¹è±¡ä¸­å°è£…çš„æ‰€æœ‰ä¿¡æ¯äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetPage</span><span class="hljs-params">()</span></span>&#123;<br>    IPage page = <span class="hljs-keyword">new</span> Page(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>);<br>    bookDao.selectPage(page, <span class="hljs-keyword">null</span>);<br>    System.out.println(page.getCurrent());<span class="hljs-comment">//å½“å‰é¡µç å€¼</span><br>    System.out.println(page.getSize());<span class="hljs-comment">//æ¯é¡µæ˜¾ç¤ºæ•°</span><br>    System.out.println(page.getTotal());<span class="hljs-comment">//æ•°æ®æ€»é‡</span><br>    System.out.println(page.getPages());<span class="hljs-comment">//æ€»é¡µæ•°</span><br>    System.out.println(page.getRecords());<span class="hljs-comment">//è¯¦ç»†æ•°æ®</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    åˆ°è¿™é‡Œå°±çŸ¥é“è¿™äº›æ•°æ®å¦‚ä½•è·å–äº†ï¼Œä½†æ˜¯å½“ä½ å»æ‰§è¡Œè¿™ä¸ªæ“ä½œæ—¶ï¼Œä½ ä¼šå‘ç°å¹¶ä¸åƒæˆ‘ä»¬åˆ†æçš„è¿™æ ·ï¼Œå®é™…ä¸Šè¿™ä¸ªåˆ†é¡µå½“å‰æ˜¯æ— æ•ˆçš„ã€‚ä¸ºä»€ä¹ˆè¿™æ ·å‘¢ï¼Ÿè¿™ä¸ªè¦æºäºMPçš„å†…éƒ¨æœºåˆ¶ã€‚</p><p>â€‹    å¯¹äºMySQLçš„åˆ†é¡µæ“ä½œä½¿ç”¨limitå…³é”®å­—è¿›è¡Œï¼Œè€Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ•°æ®åº“éƒ½ä½¿ç”¨limitå…³é”®å­—å®ç°çš„ï¼Œè¿™ä¸ªæ—¶å€™MPä¸ºäº†åˆ¶ä½œçš„å…¼å®¹æ€§å¼ºï¼Œå°†åˆ†é¡µæ“ä½œè®¾ç½®ä¸ºåŸºç¡€æŸ¥è¯¢æ“ä½œçš„å‡çº§ç‰ˆã€‚</p><p>â€‹    åŸºç¡€æ“ä½œä¸­æœ‰æŸ¥è¯¢å…¨éƒ¨çš„åŠŸèƒ½ï¼Œè€Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šåªéœ€è¦å‡çº§ä¸€ä¸‹ï¼ˆPLUSï¼‰å°±å¯ä»¥å¾—åˆ°åˆ†é¡µæ“ä½œã€‚æ‰€ä»¥MPå°†åˆ†é¡µæ“ä½œåšæˆäº†ä¸€ä¸ª<strong>å¼€å…³</strong>ï¼Œä½ ç”¨åˆ†é¡µåŠŸèƒ½å°±æŠŠå¼€å…³å¼€å¯ï¼Œä¸ç”¨å°±ä¸éœ€è¦å¼€å¯è¿™ä¸ªå¼€å…³ã€‚è€Œæˆ‘ä»¬ç°åœ¨æ²¡æœ‰å¼€å¯è¿™ä¸ªå¼€å…³ï¼Œæ‰€ä»¥åˆ†é¡µæ“ä½œæ˜¯æ²¡æœ‰çš„ã€‚è¿™ä¸ªå¼€å…³æ˜¯é€šè¿‡MPçš„æ‹¦æˆªå™¨çš„å½¢å¼å­˜åœ¨çš„ï¼Œå…¶ä¸­çš„åŸç†è¿™é‡Œä¸åˆ†æäº†ï¼Œæœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥å­¦ä¹ MyBatisPlusè¿™é—¨è¯¾ç¨‹è¿›è¡Œè¯¦ç»†è§£è¯»ã€‚å…·ä½“è®¾ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p><p><strong>å®šä¹‰MPæ‹¦æˆªå™¨å¹¶å°†å…¶è®¾ç½®ä¸ºSpringç®¡æ§çš„bean</strong></p><p><strong>ï¼ˆè®¾ç½®ä¸ºSpringç®¡æ§çš„bean â€”â€” æ”¾åœ¨ä¸»å¯åŠ¨ç±» SSMPApplication.java æ‰€åœ¨åŒ…åŠå…¶å­åŒ…ä¸‹ï¼‰</strong></p><img src="/.io//image-20220518224422387.png" alt="image-20220518224422387" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MPConfig</span> </span>&#123;<br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title">mybatisPlusInterceptor</span><span class="hljs-params">()</span></span>&#123;<br>        MybatisPlusInterceptor interceptor = <span class="hljs-keyword">new</span> MybatisPlusInterceptor();<br>        interceptor.addInnerInterceptor(<span class="hljs-keyword">new</span> PaginationInnerInterceptor());<br>        <span class="hljs-keyword">return</span> interceptor;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    ä¸Šè¿°ä»£ç ç¬¬ä¸€è¡Œæ˜¯åˆ›å»ºMPçš„æ‹¦æˆªå™¨æ ˆï¼Œè¿™ä¸ªæ—¶å€™æ‹¦æˆªå™¨æ ˆä¸­æ²¡æœ‰å…·ä½“çš„æ‹¦æˆªå™¨ï¼Œç¬¬äºŒè¡Œæ˜¯åˆå§‹åŒ–äº†åˆ†é¡µæ‹¦æˆªå™¨ï¼Œå¹¶æ·»åŠ åˆ°æ‹¦æˆªå™¨æ ˆä¸­ã€‚å¦‚æœåæœŸå¼€å‘å…¶ä»–åŠŸèƒ½ï¼Œéœ€è¦æ·»åŠ å…¨æ–°çš„æ‹¦æˆªå™¨ï¼ŒæŒ‰ç…§ç¬¬äºŒè¡Œçš„æ ¼å¼ç»§ç»­addè¿›å»æ–°çš„æ‹¦æˆªå™¨å°±å¯ä»¥äº†ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨IPageå°è£…åˆ†é¡µæ•°æ®</li><li>åˆ†é¡µæ“ä½œä¾èµ–MyBatisPlusåˆ†é¡µæ‹¦æˆªå™¨å®ç°åŠŸèƒ½</li><li>å€ŸåŠ©MyBatisPlusæ—¥å¿—æŸ¥é˜…æ‰§è¡ŒSQLè¯­å¥</li></ol><h4 id="4-æ•°æ®å±‚å¼€å‘â€”â€”æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½åˆ¶ä½œ"><a href="#4-æ•°æ®å±‚å¼€å‘â€”â€”æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½åˆ¶ä½œ" class="headerlink" title="4.æ•°æ®å±‚å¼€å‘â€”â€”æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½åˆ¶ä½œ"></a>4.æ•°æ®å±‚å¼€å‘â€”â€”æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½åˆ¶ä½œ</h4><p>â€‹    é™¤äº†åˆ†é¡µåŠŸèƒ½ï¼ŒMPè¿˜æä¾›æœ‰å¼ºå¤§çš„æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½ã€‚ä»¥å¾€æˆ‘ä»¬å†™æ¡ä»¶æŸ¥è¯¢è¦è‡ªå·±åŠ¨æ€æ‹¼å†™å¤æ‚çš„SQLè¯­å¥ï¼Œç°åœ¨ç®€å•äº†ï¼ŒMPå°†è¿™äº›æ“ä½œéƒ½åˆ¶ä½œæˆAPIæ¥å£ï¼Œè°ƒç”¨ä¸€ä¸ªåˆä¸€ä¸ªçš„æ–¹æ³•å°±å¯ä»¥å®ç°å„ç§å¥—ä»¶çš„æ‹¼è£…ã€‚è¿™é‡Œç»™å¤§å®¶æ™®åŠä¸€ä¸‹åŸºæœ¬æ ¼å¼ï¼Œè¯¦ç»†çš„æ“ä½œè¿˜æ˜¯åˆ°MPçš„è¯¾ç¨‹ä¸­æŸ¥é˜…å§ã€‚</p><p>â€‹    ä¸‹é¢çš„æ“ä½œå°±æ˜¯æ‰§è¡Œä¸€ä¸ª<strong>æ¨¡ç³ŠåŒ¹é…</strong>å¯¹åº”çš„æ“ä½œï¼Œç”±likeæ¡ä»¶ä¹¦å†™å˜ä¸ºäº†<strong>likeæ–¹æ³•çš„è°ƒç”¨</strong>ï¼šï¼ˆæµ‹è¯•ç±»ä¸­ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetBy</span><span class="hljs-params">()</span></span>&#123;<br>    QueryWrapper&lt;Book&gt; qw = <span class="hljs-keyword">new</span> QueryWrapper&lt;&gt;();<br>    qw.like(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;Spring&quot;</span>);<br>    bookDao.selectList(qw);<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    å…¶ä¸­ç¬¬ä¸€å¥QueryWrapperå¯¹è±¡æ˜¯ä¸€ä¸ªç”¨äºå°è£…æŸ¥è¯¢æ¡ä»¶çš„å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥åŠ¨æ€ä½¿ç”¨APIè°ƒç”¨çš„æ–¹æ³•æ·»åŠ æ¡ä»¶ï¼Œæœ€ç»ˆè½¬åŒ–æˆå¯¹åº”çš„SQLè¯­å¥ã€‚ç¬¬äºŒå¥å°±æ˜¯ä¸€ä¸ªæ¡ä»¶äº†ï¼Œéœ€è¦ä»€ä¹ˆæ¡ä»¶ï¼Œä½¿ç”¨QueryWapperå¯¹è±¡ç›´æ¥è°ƒç”¨å¯¹åº”æ“ä½œå³å¯ã€‚æ¯”å¦‚åš<strong>å¤§äºå°äº</strong>å…³ç³»ï¼Œå°±å¯ä»¥ä½¿ç”¨ <strong>lt</strong> æˆ– <strong>gt</strong> æ–¹æ³•ï¼Œ<strong>ç­‰äº</strong>ä½¿ç”¨ <strong>eq</strong> æ–¹æ³•ï¼Œ<strong>ä¸ç­‰äº</strong>ä½¿ç”¨ <strong>ne</strong> æ–¹æ³•ï¼Œæ­¤å¤„ä¸åšæ›´å¤šçš„è§£é‡Šäº†ã€‚</p><p>â€‹    è¿™ç»„APIä½¿ç”¨è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯å…³äºå±æ€§å­—æ®µåçš„ä¹¦å†™å­˜åœ¨ç€å®‰å…¨éšæ‚£ï¼Œæ¯”å¦‚æŸ¥è¯¢å­—æ®µnameï¼Œå½“å‰æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢æ€ä¹¦å†™çš„ï¼Œä¸‡ä¸€å†™é”™ï¼Œç¼–è¯‘å™¨è¿˜æ²¡æœ‰åŠæ³•å‘ç°ï¼Œåªèƒ½å°†é—®é¢˜æŠ›åˆ°è¿è¡Œå™¨é€šè¿‡å¼‚å¸¸å †æ ˆå‘Šè¯‰å¼€å‘è€…ï¼Œä¸å¤ªå‹å¥½ã€‚</p><p>â€‹    MPé’ˆå¯¹å­—æ®µæ£€æŸ¥è¿›è¡Œäº†åŠŸèƒ½å‡çº§ï¼Œå…¨é¢æ”¯æŒLambdaè¡¨è¾¾å¼ï¼Œå°±æœ‰äº†ä¸‹é¢è¿™ç»„APIã€‚ç”±QueryWrapperå¯¹è±¡å‡çº§ä¸ºLambdaQueryWrapperå¯¹è±¡ï¼Œè¿™ä¸‹å°±é¿å…äº†ä¸Šè¿°é—®é¢˜çš„å‡ºç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetBy2</span><span class="hljs-params">()</span></span>&#123;<br>    String name = <span class="hljs-string">&quot;1&quot;</span>;<br>    LambdaQueryWrapper&lt;Book&gt; lqw = <span class="hljs-keyword">new</span> LambdaQueryWrapper&lt;Book&gt;();<br>    lqw.like(Book::getName,name);<br>    bookDao.selectList(lqw);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸ºäº†ä¾¿äºå¼€å‘è€…åŠ¨æ€æ‹¼å†™SQLï¼Œé˜²æ­¢å°†nullæ•°æ®ä½œä¸ºæ¡ä»¶ä½¿ç”¨ï¼ŒMPè¿˜æä¾›äº†<strong>åŠ¨æ€æ‹¼è£…SQL</strong>çš„å¿«æ·ä¹¦å†™æ–¹å¼ï¼š</p><p>ï¼ˆ<strong>nameä¸ä¸ºç©ºæ‰æ·»åŠ likeå­å¥ï¼Œå¦åˆ™ä¸æ·»åŠ </strong>ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetBy2</span><span class="hljs-params">()</span></span>&#123;<br>    String name = <span class="hljs-string">&quot;1&quot;</span>;<br>    LambdaQueryWrapper&lt;Book&gt; lqw = <span class="hljs-keyword">new</span> LambdaQueryWrapper&lt;Book&gt;();<br>    <span class="hljs-comment">//if(name != null) lqw.like(Book::getName,name);//æ–¹å¼ä¸€ï¼šJAVAä»£ç æ§åˆ¶</span><br>    lqw.like(name != <span class="hljs-keyword">null</span>,Book::getName,name);<span class="hljs-comment">//æ–¹å¼äºŒï¼šAPIæ¥å£æä¾›æ§åˆ¶å¼€å…³</span><br>    bookDao.selectList(lqw);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨ï¼š</strong></p><p>QueryWrapper çš„ qw å¯¹è±¡ä»»ä½•æ—¶å€™éƒ½å¯ä»¥æ”¾åˆ° selectList() ä¸­è¡¨ç¤ºæ¡ä»¶æŸ¥è¯¢ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li><p>ä½¿ç”¨QueryWrapperå¯¹è±¡å°è£…æŸ¥è¯¢æ¡ä»¶</p></li><li><p>æ¨èä½¿ç”¨LambdaQueryWrapperå¯¹è±¡</p></li><li><p>æ‰€æœ‰æŸ¥è¯¢æ“ä½œå°è£…æˆæ–¹æ³•è°ƒç”¨</p></li><li><p>æŸ¥è¯¢æ¡ä»¶æ”¯æŒåŠ¨æ€æ¡ä»¶æ‹¼è£…</p></li></ol><h4 id="5-ä¸šåŠ¡å±‚å¼€å‘"><a href="#5-ä¸šåŠ¡å±‚å¼€å‘" class="headerlink" title="5.ä¸šåŠ¡å±‚å¼€å‘"></a>5.ä¸šåŠ¡å±‚å¼€å‘</h4><p>â€‹    æ•°æ®å±‚å¼€å‘å‘Šä¸€æ®µè½ï¼Œä¸‹é¢è¿›è¡Œä¸šåŠ¡å±‚å¼€å‘ï¼Œå…¶å®æ ‡å‡†ä¸šåŠ¡å±‚å¼€å‘å¾ˆå¤šåˆå­¦è€…è®¤ä¸ºå°±æ˜¯è°ƒç”¨æ•°æ®å±‚ï¼Œæ€ä¹ˆè¯´å‘¢ï¼Ÿè¿™ä¸ªç†è§£æ˜¯æ²¡æœ‰å¤§é—®é¢˜çš„ï¼Œæ›´ç²¾å‡†çš„è¯´æ³•åº”è¯¥æ˜¯ï¼š</p><p><font color="#ff0000"><b>ç»„ç»‡ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ï¼Œå¹¶æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œå¯¹æ•°æ®æŒä¹…å±‚å‘èµ·è°ƒç”¨</b></font> â€”â€” ä¸šåŠ¡å±‚ä½œç”¨ã€‚</p><p>æœ‰ä»€ä¹ˆå·®åˆ«å‘¢ï¼Ÿç›®æ ‡æ˜¯ä¸ºäº†ç»„ç»‡å‡ºç¬¦åˆéœ€æ±‚çš„ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ï¼Œè‡³äºè°ƒä¸è°ƒç”¨æ•°æ®å±‚è¿˜çœŸä¸å¥½è¯´ï¼Œæœ‰éœ€æ±‚å°±è°ƒç”¨ï¼Œæ²¡æœ‰éœ€æ±‚å°±ä¸è°ƒç”¨ã€‚</p><p>ä¸šåŠ¡å±‚ä¸æ•°æ®å±‚åœ¨æ¥å£å®šä¹‰ä¸Šçš„å·®è·ï¼š</p><p>â€‹    ä¸€ä¸ªå¸¸è¯†æ€§çš„çŸ¥è¯†æ™®åŠä¸€ä¸‹ï¼Œ<strong>ä¸šåŠ¡å±‚çš„æ–¹æ³•åå®šä¹‰ä¸€å®šè¦ä¸ä¸šåŠ¡æœ‰å…³</strong>ï¼Œä¾‹å¦‚ç™»å½•æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">login(String username,String password);<br></code></pre></td></tr></table></figure><p>â€‹    è€Œ<strong>æ•°æ®å±‚çš„æ–¹æ³•åå®šä¹‰ä¸€å®šä¸ä¸šåŠ¡æ— å…³ï¼Œè€Œä¸æ•°æ®åº“æ“ä½œå…³ç³»ç´§å¯†</strong>ï¼Œä¾‹å¦‚æ ¹æ®ç”¨æˆ·åå¯†ç æŸ¥è¯¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA">selectByUserNameAndPassword(String username,String password);<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™æ˜¯å¯ä»¥æ ¹æ®å®Œæˆçš„å·¥ä½œä¸åŒåˆ’åˆ†æˆä¸åŒèŒèƒ½çš„å¼€å‘å›¢é˜Ÿçš„ã€‚æ¯”å¦‚ä¸€ä¸ªå“¥ä»¬åˆ¶ä½œæ•°æ®å±‚ï¼Œä»–å°±å¯ä»¥ä¸çŸ¥é“ä¸šåŠ¡æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ‹¿åˆ°çš„éœ€æ±‚æ–‡æ¡£è¦æ±‚å¯èƒ½æ˜¯è¿™æ ·çš„</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tex">æ¥å£ï¼šä¼ å…¥ç”¨æˆ·åä¸å¯†ç å­—æ®µï¼ŒæŸ¥è¯¢å‡ºå¯¹åº”ç»“æœï¼Œç»“æœæ˜¯å•æ¡æ•°æ®<br>æ¥å£ï¼šä¼ å…¥IDå­—æ®µï¼ŒæŸ¥è¯¢å‡ºå¯¹åº”ç»“æœï¼Œç»“æœæ˜¯å•æ¡æ•°æ®<br>æ¥å£ï¼šä¼ å…¥ç¦»èŒå­—æ®µï¼ŒæŸ¥è¯¢å‡ºå¯¹åº”ç»“æœï¼Œç»“æœæ˜¯å¤šæ¡æ•°æ®<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¿›è¡Œä¸šåŠ¡åŠŸèƒ½å¼€å‘çš„å“¥ä»¬ï¼Œæ‹¿åˆ°çš„éœ€æ±‚æ–‡æ¡£è¦æ±‚å·®åˆ«å°±å¾ˆå¤§</p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">æ¥å£ï¼šä¼ å…¥ç”¨æˆ·åä¸å¯†ç å­—æ®µï¼Œå¯¹ç”¨æˆ·åå­—æ®µåšé•¿åº¦æ ¡éªŒï¼Œ4-15ä½ï¼Œå¯¹å¯†ç å­—æ®µåšé•¿åº¦æ ¡éªŒï¼Œ8åˆ°24ä½ï¼Œå¯¹å–µå–µå–µå­—æ®µåšç‰¹æ®Šå­—ç¬¦æ ¡éªŒï¼Œä¸å…è®¸å­˜åœ¨ç©ºæ ¼ï¼ŒæŸ¥è¯¢ç»“æœä¸ºå¯¹è±¡ã€‚å¦‚æœä¸ºnullï¼Œè¿”å›BusinessExceptionï¼Œå°è£…æ¶ˆæ¯ç INFO<span class="hljs-built_in">_</span>LOGON<span class="hljs-built_in">_</span>USERNAME<span class="hljs-built_in">_</span>PASSWORD<span class="hljs-built_in">_</span>ERROR<br></code></pre></td></tr></table></figure><p>ä½ æ¯”è¾ƒä¸€ä¸‹ï¼Œèƒ½æ˜¯ä¸€å›äº‹å—ï¼Ÿå·®åˆ«å¤ªå¤§äº†ï¼Œæ‰€ä»¥è¯´ä¸šåŠ¡å±‚æ–¹æ³•å®šä¹‰ä¸æ•°æ®å±‚æ–¹æ³•å®šä¹‰å·®å¼‚åŒ–å¾ˆå¤§ï¼Œåªä¸è¿‡æœ‰äº›å…¥é—¨çº§çš„å¼€å‘è€…æ‰‹æ‡’æˆ–è€…æ²¡æœ‰ä½¿ç”¨è¿‡å…¬å¸ç›¸å…³çš„ISOæ ‡å‡†åŒ–æ–‡æ¡£è€Œå·²ã€‚</p><img src="/.io//image-20220519160142259.png" alt="image-20220519160142259" style="zoom:50%;"><p>å¤šä½™çš„è¯ä¸è¯´äº†ï¼Œå’±ä»¬åšæ¡ˆä¾‹å°±ç®€å•åˆ¶ä½œäº†ï¼Œä¸šåŠ¡å±‚æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p><p>BookServiceæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookService</span> </span>&#123;<br>    <span class="hljs-function">Boolean <span class="hljs-title">save</span><span class="hljs-params">(Book book)</span></span>;<br>    <span class="hljs-function">Boolean <span class="hljs-title">update</span><span class="hljs-params">(Book book)</span></span>;<br>    <span class="hljs-function">Boolean <span class="hljs-title">delete</span><span class="hljs-params">(Integer id)</span></span>;<br>    <span class="hljs-function">Book <span class="hljs-title">getById</span><span class="hljs-params">(Integer id)</span></span>;<br>    <span class="hljs-function">List&lt;Book&gt; <span class="hljs-title">getAll</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function">IPage&lt;Book&gt; <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> currentPage, <span class="hljs-keyword">int</span> pageSize)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸šåŠ¡å±‚å®ç°ç±»å¦‚ä¸‹ï¼Œè½¬è°ƒæ•°æ®å±‚å³å¯ï¼ˆBookServiceImpl.javaï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BookService</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">save</span><span class="hljs-params">(Book book)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookDao.insert(book) &gt; <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">update</span><span class="hljs-params">(Book book)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookDao.updateById(book) &gt; <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">delete</span><span class="hljs-params">(Integer id)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookDao.deleteById(id) &gt; <span class="hljs-number">0</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Book <span class="hljs-title">getById</span><span class="hljs-params">(Integer id)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookDao.selectById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title">getAll</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookDao.selectList(<span class="hljs-keyword">null</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> IPage&lt;Book&gt; <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> currentPage, <span class="hljs-keyword">int</span> pageSize)</span> </span>&#123;<br>        IPage page = <span class="hljs-keyword">new</span> Page(currentPage,pageSize);<br>        bookDao.selectPage(page,<span class="hljs-keyword">null</span>);<br>        <span class="hljs-keyword">return</span> page;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ«å¿˜äº†å¯¹ä¸šåŠ¡å±‚æ¥å£è¿›è¡Œæµ‹è¯•ï¼Œæµ‹è¯•ç±»å¦‚ä¸‹ï¼ˆBookServiceTest.javaï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@SpringBootTest</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookServiceTest</span> </span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetById</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(bookService.getById(<span class="hljs-number">4</span>));<br>    &#125;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testSave</span><span class="hljs-params">()</span></span>&#123;<br>        Book book = <span class="hljs-keyword">new</span> Book();<br>        book.setType(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        book.setName(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        book.setDescription(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        bookService.save(book);<br>    &#125;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testUpdate</span><span class="hljs-params">()</span></span>&#123;<br>        Book book = <span class="hljs-keyword">new</span> Book();<br>        book.setId(<span class="hljs-number">17</span>);<br>        book.setType(<span class="hljs-string">&quot;-----------------&quot;</span>);<br>        book.setName(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        book.setDescription(<span class="hljs-string">&quot;æµ‹è¯•æ•°æ®123&quot;</span>);<br>        bookService.update(book);<br>    &#125;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testDelete</span><span class="hljs-params">()</span></span>&#123;<br>        bookService.delete(<span class="hljs-number">18</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetAll</span><span class="hljs-params">()</span></span>&#123;<br>        bookService.getAll();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">testGetPage</span><span class="hljs-params">()</span></span>&#123;<br>        bookService.getPage(<span class="hljs-number">2</span>,<span class="hljs-number">5</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li><strong>Serviceæ¥å£åç§°å®šä¹‰æˆä¸šåŠ¡åç§°ï¼Œå¹¶ä¸Daoæ¥å£åç§°è¿›è¡ŒåŒºåˆ†</strong></li><li>åˆ¶ä½œæµ‹è¯•ç±»æµ‹è¯•ServiceåŠŸèƒ½æ˜¯å¦æœ‰æ•ˆ</li></ol><h5 id="ä¸šåŠ¡å±‚å¿«é€Ÿå¼€å‘"><a href="#ä¸šåŠ¡å±‚å¿«é€Ÿå¼€å‘" class="headerlink" title="ä¸šåŠ¡å±‚å¿«é€Ÿå¼€å‘"></a>ä¸šåŠ¡å±‚å¿«é€Ÿå¼€å‘</h5><p>â€‹    å…¶å®MPæŠ€æœ¯ä¸ä»…æä¾›äº†æ•°æ®å±‚å¿«é€Ÿå¼€å‘æ–¹æ¡ˆï¼Œä¸šåŠ¡å±‚MPä¹Ÿç»™äº†ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œä¸ªäººè§‚ç‚¹ä¸æ¨èä½¿ç”¨ï¼Œå‡‘åˆèƒ½ç”¨å§ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå°è£…+ç»§æ‰¿çš„æ€æƒ³ï¼Œä»£ç ç»™å‡ºï¼Œå®é™…å¼€å‘æ…ç”¨</p><p>â€‹    ä¸šåŠ¡å±‚æ¥å£å¿«é€Ÿå¼€å‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">IBookService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">IService</span>&lt;<span class="hljs-title">Book</span>&gt; </span>&#123;<br>    <span class="hljs-comment">//æ·»åŠ éé€šç”¨æ“ä½œAPIæ¥å£</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    ä¸šåŠ¡å±‚æ¥å£å®ç°ç±»å¿«é€Ÿå¼€å‘ï¼Œå…³æ³¨ç»§æ‰¿çš„ç±»éœ€è¦ä¼ å…¥ä¸¤ä¸ªæ³›å‹ï¼Œä¸€ä¸ªæ˜¯æ•°æ®å±‚æ¥å£ï¼Œå¦ä¸€ä¸ªæ˜¯å®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Service</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookServiceImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ServiceImpl</span>&lt;<span class="hljs-title">BookDao</span>, <span class="hljs-title">Book</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title">IBookService</span> </span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookDao bookDao;<br><span class="hljs-comment">//æ·»åŠ éé€šç”¨æ“ä½œAPI</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    å¦‚æœæ„Ÿè§‰MPæä¾›çš„åŠŸèƒ½ä¸è¶³ä»¥æ”¯æ’‘ä½ çš„ä½¿ç”¨éœ€è¦ï¼Œå…¶å®æ˜¯ä¸€å®šä¸èƒ½æ”¯æ’‘çš„ï¼Œå› ä¸ºéœ€æ±‚ä¸å¯èƒ½æ˜¯é€šç”¨çš„ï¼Œåœ¨åŸå§‹æ¥å£åŸºç¡€ä¸Šæ¥ç€å®šä¹‰æ–°çš„APIæ¥å£å°±è¡Œäº†ï¼Œæ­¤å¤„ä¸å†è¯´å¤ªå¤šäº†ï¼Œå°±æ˜¯è‡ªå®šä¹‰è‡ªå·±çš„æ“ä½œäº†ï¼Œä½†æ˜¯ä¸è¦å’Œå·²æœ‰çš„APIæ¥å£åå†²çªå³å¯ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨é€šç”¨æ¥å£ï¼ˆISerivce<T>ï¼‰å¿«é€Ÿå¼€å‘Service</T></li><li>ä½¿ç”¨é€šç”¨å®ç°ç±»ï¼ˆServiceImpl&lt;M,T&gt;ï¼‰å¿«é€Ÿå¼€å‘ServiceImpl</li><li>å¯ä»¥åœ¨é€šç”¨æ¥å£åŸºç¡€ä¸ŠåšåŠŸèƒ½é‡è½½æˆ–åŠŸèƒ½è¿½åŠ </li><li>æ³¨æ„é‡è½½æ—¶ä¸è¦è¦†ç›–åŸå§‹æ“ä½œï¼Œé¿å…åŸå§‹æä¾›çš„åŠŸèƒ½ä¸¢å¤±</li></ol><h4 id="6-è¡¨ç°å±‚å¼€å‘"><a href="#6-è¡¨ç°å±‚å¼€å‘" class="headerlink" title="6.è¡¨ç°å±‚å¼€å‘"></a>6.è¡¨ç°å±‚å¼€å‘</h4><p>ç»ˆäºåšåˆ°è¡¨ç°å±‚äº†ï¼Œåšäº†è¿™ä¹ˆå¤šéƒ½æ˜¯åŸºç¡€å·¥ä½œã€‚å…¶å®ä½ ç°åœ¨å›å¤´çœ‹çœ‹ï¼Œå“ªé‡Œè¿˜æœ‰ä»€ä¹ˆSpringBootçš„å½±å­ï¼Ÿå‰é¢1,2æ­¥å°±æå®Œäº†ã€‚ç»§ç»­å®Œæˆè¡¨ç°å±‚åˆ¶ä½œå§ï¼Œå’±ä»¬è¡¨ç°å±‚çš„å¼€å‘ä½¿ç”¨åŸºäºRestfulçš„è¡¨ç°å±‚æ¥å£å¼€å‘ï¼ŒåŠŸèƒ½æµ‹è¯•é€šè¿‡Postmanå·¥å…·è¿›è¡Œã€‚</p><p><strong>è¡¨ç°å±‚ï¼šä¸»è¦åŠŸèƒ½æ˜¯æ˜¾ç¤ºæ•°æ®å’Œæ¥å—ä¼ è¾“ç”¨æˆ·çš„æ•°æ®ã€‚ï¼ˆController æ§åˆ¶å±‚çš„ä¸‹ä¸€å±‚ï¼‰</strong></p><p>è¡¨ç°å±‚æ¥å£å¦‚ä¸‹:</p><p>com.wang.controller.BookController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;<br><span class="hljs-keyword">import</span> com.wang.domain.Book;<br><span class="hljs-keyword">import</span> com.wang.service.BookService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/books&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookController</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br><br>    <span class="hljs-meta">@GetMapping</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Book&gt; <span class="hljs-title">getAll</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> bookService.getAll();<br>    &#125;<br><br>    <span class="hljs-meta">@PostMapping</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">save</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> bookService.save(book);<br>    &#125;<br><br>    <span class="hljs-meta">@PutMapping</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> bookService.update(book);<br>    &#125;<br><br>    <span class="hljs-meta">@DeleteMapping(&quot;&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Boolean <span class="hljs-title">delete</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> bookService.delete(id);<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Book <span class="hljs-title">getById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> bookService.getById(id);<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;&#123;currentPage&#125;/&#123;pageSize&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> IPage&lt;Book&gt; <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> currentPage, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> pageSize)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> bookService.getPage(currentPage,pageSize);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œä¸»å¯åŠ¨ç±» SSMPApplication.java è¿›è¡Œæµ‹è¯•</p><p>åœ¨ä½¿ç”¨Postmanæµ‹è¯•æ—¶å…³æ³¨æäº¤ç±»å‹ï¼Œå¯¹åº”ä¸Šå³å¯ï¼Œä¸ç„¶å°±ä¼šæŠ¥405çš„é”™è¯¯ç äº†</p><p><strong>æ™®é€šGETè¯·æ±‚</strong></p><p><img src="/.io//img%5Cimage-20211129152237371.png" alt="image-20211129152237371"></p><p><strong>PUTè¯·æ±‚ä¼ é€’jsonæ•°æ®ï¼Œåå°ä½¿ç”¨@RequestBodyæ¥æ”¶æ•°æ®</strong></p><p><img src="/.io//img%5Cimage-20211129152300177.png" alt="image-20211129152300177"></p><p><strong>POSTè¯·æ±‚æµ‹è¯•</strong></p><p><img src="/.io//image-20220520113759766.png" alt="image-20220520113759766"></p><p><strong>æ€»ç»“</strong></p><ol><li>åŸºäºRestfulåˆ¶ä½œè¡¨ç°å±‚æ¥å£<ul><li>æ–°å¢ï¼šPOST</li><li>åˆ é™¤ï¼šDELETE</li><li>ä¿®æ”¹ï¼šPUT</li><li>æŸ¥è¯¢ï¼šGET</li></ul></li><li>æ¥æ”¶å‚æ•°<ul><li><strong>å®ä½“æ•°æ®ï¼š@RequestBody</strong></li><li><strong>è·¯å¾„å˜é‡ï¼š@PathVariable</strong></li></ul></li></ol><h4 id="7-è¡¨ç°å±‚æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†"><a href="#7-è¡¨ç°å±‚æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†" class="headerlink" title="7.è¡¨ç°å±‚æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†"></a>7.è¡¨ç°å±‚æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†</h4><p>ä¸Šé¢çš„ç»“æœç»™åˆ°å‰ç«¯å¼€å‘è€…ä¼šå‡ºç°ä¸€ä¸ªå°é—®é¢˜ï¼šä¸åŒçš„æ“ä½œç»“æœæ‰€å±•ç¤ºçš„æ•°æ®æ ¼å¼å·®å¼‚åŒ–ä¸¥é‡</p><p>â€‹    <strong>å¢åˆ æ”¹æ“ä½œç»“æœ</strong></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tex">true<br></code></pre></td></tr></table></figure><p>â€‹    <strong>æŸ¥è¯¢å•ä¸ªæ•°æ®æ“ä½œç»“æœ</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>Â Â Â Â <span class="hljs-attr">&quot;id&quot;</span>:Â <span class="hljs-number">1</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;type&quot;</span>:Â <span class="hljs-string">&quot;è®¡ç®—æœºç†è®º&quot;</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;name&quot;</span>:Â <span class="hljs-string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;description&quot;</span>:Â <span class="hljs-string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    <strong>æŸ¥è¯¢å…¨éƒ¨æ•°æ®æ“ä½œç»“æœ</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs json">[<br>Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;id&quot;</span>:Â <span class="hljs-number">1</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;type&quot;</span>:Â <span class="hljs-string">&quot;è®¡ç®—æœºç†è®º&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;name&quot;</span>:Â <span class="hljs-string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;description&quot;</span>:Â <span class="hljs-string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span><br>Â Â Â Â &#125;,<br>Â Â Â Â &#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;id&quot;</span>:Â <span class="hljs-number">2</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;type&quot;</span>:Â <span class="hljs-string">&quot;è®¡ç®—æœºç†è®º&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;name&quot;</span>:Â <span class="hljs-string">&quot;SpringÂ 5æ ¸å¿ƒåŸç†ä¸30ä¸ªç±»æ‰‹å†™å®æˆ˜&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;description&quot;</span>:Â <span class="hljs-string">&quot;åå¹´æ²‰æ·€ä¹‹ä½œ&quot;</span><br>Â Â Â Â &#125;<br>]<br></code></pre></td></tr></table></figure><p>â€‹    </p><p>æ¯ç§ä¸åŒæ“ä½œè¿”å›çš„æ•°æ®æ ¼å¼éƒ½ä¸ä¸€æ ·ï¼Œè€Œä¸”è¿˜ä¸çŸ¥é“ä»¥åè¿˜ä¼šæœ‰ä»€ä¹ˆæ ¼å¼ï¼Œè¿™æ ·çš„ç»“æœè®©å‰ç«¯äººå‘˜çœ‹äº†æ˜¯å¾ˆå®¹æ˜“è®©äººå´©æºƒçš„ï¼Œå¿…é¡»å°†æ‰€æœ‰æ“ä½œçš„æ“ä½œç»“æœæ•°æ®æ ¼å¼ç»Ÿä¸€èµ·æ¥ï¼Œéœ€è¦è®¾è®¡è¡¨ç°å±‚è¿”å›ç»“æœçš„æ¨¡å‹ç±»ï¼Œç”¨äºåç«¯ä¸å‰ç«¯è¿›è¡Œæ•°æ®æ ¼å¼ç»Ÿä¸€ï¼Œä¹Ÿç§°ä¸ºï¼š<strong>å‰åç«¯æ•°æ®åè®®</strong></p><p>å…¶ä¸­flagç”¨äºæ ‡è¯†æ“ä½œæ˜¯å¦æˆåŠŸï¼Œdataç”¨äºå°è£…æ“ä½œæ•°æ®ï¼Œç°åœ¨çš„æ•°æ®æ ¼å¼å°±å˜äº†</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JSON">&#123;<br>Â Â Â Â <span class="hljs-attr">&quot;flag&quot;</span>:Â <span class="hljs-literal">true</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;data&quot;</span>:&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;id&quot;</span>:Â <span class="hljs-number">1</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;type&quot;</span>:Â <span class="hljs-string">&quot;è®¡ç®—æœºç†è®º&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;name&quot;</span>:Â <span class="hljs-string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;description&quot;</span>:Â <span class="hljs-string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span><br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ·»åŠ ä¸€ä¸ª R ç±»ï¼š</strong></p><p>com.wang.controller.utilsï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller.utils;<br><br><span class="hljs-keyword">import</span> lombok.Data;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">R</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Boolean flag;<br>    <span class="hljs-keyword">private</span> Object data;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">R</span><span class="hljs-params">()</span></span>&#123;&#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">R</span><span class="hljs-params">(Boolean flag)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.flag = flag;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">R</span><span class="hljs-params">(Boolean flag,Object data)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.flag = flag;<br>        <span class="hljs-keyword">this</span>.data = data;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä¿®æ”¹è¡¨ç°å±‚ BookController.javaï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> com.wang.controller.utils.R;<br><span class="hljs-keyword">import</span> com.wang.domain.Book;<br><span class="hljs-keyword">import</span> com.wang.service.BookService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-meta">@RequestMapping(&quot;/books&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookController</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br><br>    <span class="hljs-meta">@GetMapping</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">getAll</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">true</span>, bookService.getAll());<br>    &#125;<br><br>    <span class="hljs-meta">@PostMapping</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">save</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(bookService.save(book));<br>    &#125;<br><br>    <span class="hljs-meta">@PutMapping</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(bookService.update(book));<br>    &#125;<br><br>    <span class="hljs-meta">@DeleteMapping(&quot;&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">delete</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(bookService.delete(id));<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">getById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Integer id)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">true</span>, bookService.getById(id));<br>    &#125;<br><br>    <span class="hljs-meta">@GetMapping(&quot;&#123;currentPage&#125;/&#123;pageSize&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> currentPage, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> pageSize)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">true</span>, bookService.getPage(currentPage,pageSize));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><img src="/.io//image-20211129153319052.png" alt="image-20211129153319052" style="zoom:80%;"><p>è¿™æ ·ï¼Œæ ¼å¼å…¨ç»Ÿä¸€ï¼Œç°åœ¨åç«¯å‘é€ç»™å‰ç«¯çš„æ•°æ®æ ¼å¼å°±ç»Ÿä¸€äº†ï¼Œå…å»äº†ä¸å°‘å‰ç«¯è§£ææ•°æ®çš„éº»çƒ¦ã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li><p>è®¾è®¡ç»Ÿä¸€çš„è¿”å›å€¼ç»“æœç±»å‹ä¾¿äºå‰ç«¯å¼€å‘è¯»å–æ•°æ®</p></li><li><p>è¿”å›å€¼ç»“æœç±»å‹å¯ä»¥æ ¹æ®éœ€æ±‚è‡ªè¡Œè®¾å®šï¼Œæ²¡æœ‰å›ºå®šæ ¼å¼</p></li><li><p>è¿”å›å€¼ç»“æœæ¨¡å‹ç±»ç”¨äºåç«¯ä¸å‰ç«¯è¿›è¡Œæ•°æ®æ ¼å¼ç»Ÿä¸€ï¼Œä¹Ÿç§°ä¸ºå‰åç«¯æ•°æ®åè®®</p></li></ol><h4 id="8-å‰åç«¯è”é€šæ€§æµ‹è¯•"><a href="#8-å‰åç«¯è”é€šæ€§æµ‹è¯•" class="headerlink" title="8.å‰åç«¯è”é€šæ€§æµ‹è¯•"></a>8.å‰åç«¯è”é€šæ€§æµ‹è¯•</h4><p>åœ¨è¿›è¡Œå…·ä½“çš„åŠŸèƒ½å¼€å‘ä¹‹å‰ï¼Œå…ˆåšè”é€šæ€§çš„æµ‹è¯•ï¼Œé€šè¿‡é¡µé¢å‘é€å¼‚æ­¥æäº¤ï¼ˆaxiosï¼‰ï¼Œè¿™ä¸€æ­¥è°ƒè¯•é€šè¿‡åå†è¿›è¡Œè¿›ä¸€æ­¥çš„åŠŸèƒ½å¼€å‘ã€‚</p><h5 id="è§£å†³è·¨åŸŸé—®é¢˜ï¼š"><a href="#è§£å†³è·¨åŸŸé—®é¢˜ï¼š" class="headerlink" title="è§£å†³è·¨åŸŸé—®é¢˜ï¼š"></a>è§£å†³<strong>è·¨åŸŸé—®é¢˜</strong>ï¼š</h5><p><strong>è·¨åŸŸ</strong>ï¼šæŒ‡çš„æ˜¯æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶ä»–ç½‘ç«™çš„è„šæœ¬ã€‚å®ƒæ˜¯ç”±<u>æµè§ˆå™¨çš„åŒæºç­–ç•¥</u>é€ æˆçš„ï¼Œæ˜¯æµè§ˆå™¨å¯¹javascriptæ–½åŠ çš„å®‰å…¨é™åˆ¶ã€‚</p><p>ä¾‹å¦‚ï¼šaé¡µé¢æƒ³è·å–bé¡µé¢èµ„æºï¼Œå¦‚æœaã€bé¡µé¢çš„<strong>åè®®ã€åŸŸåã€ç«¯å£ã€å­åŸŸå</strong>ä¸åŒï¼Œæ‰€è¿›è¡Œçš„è®¿é—®è¡ŒåŠ¨éƒ½æ˜¯è·¨åŸŸçš„ï¼Œè€Œæµè§ˆå™¨ä¸ºäº†å®‰å…¨é—®é¢˜ä¸€èˆ¬éƒ½é™åˆ¶äº†è·¨åŸŸè®¿é—®ï¼Œä¹Ÿå°±æ˜¯ä¸å…è®¸è·¨åŸŸè¯·æ±‚èµ„æºã€‚</p><p>æ³¨æ„ï¼šè·¨åŸŸé™åˆ¶è®¿é—®ï¼Œå…¶å®æ˜¯æµè§ˆå™¨çš„é™åˆ¶ã€‚ </p><p><strong>Springbootï¼šä½¿ç”¨æ³¨è§£ @CrossOrigin</strong></p><img src="/.io//image-20220521161537070.png" alt="image-20220521161537070" style="zoom:50%;"><p>createdé’©å­å‡½æ•°ç”¨äºåˆå§‹åŒ–é¡µé¢æ—¶å‘èµ·è°ƒç”¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;<br>    &lt;div class=&#x27;select3&#x27;&gt;<br>      &lt;Button type=&#x27;primary&#x27; @click=&#x27;getAll()&#x27;&gt;æŸ¥è¯¢&lt;/Button&gt;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>// import HelloWorld from &#x27;./components/HelloWorld.vue&#x27;<br>import axios from &#x27;axios&#x27;<br><br>export default &#123;<br>  name: &#x27;App&#x27;,<br>  // components: &#123;<br>  //   HelloWorld<br>  // &#125;,<br>  created() &#123;<br>      //è°ƒç”¨æŸ¥è¯¢å…¨éƒ¨æ•°æ®çš„æ“ä½œ<br>      this.getAll();<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &#x27;Hello Vue&#x27;<br>    &#125;<br>  &#125;,<br>  methods :&#123;<br>    getAll() &#123;<br>      axios.get(&quot;http://localhost:8080/books&quot;).then((res)=&gt;&#123;<br>        console.log(res.data);<br>      &#125;);<br>    &#125;,<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>åªè¦åå°ä»£ç èƒ½å¤Ÿæ­£å¸¸å·¥ä½œï¼Œå‰ç«¯èƒ½å¤Ÿåœ¨æ—¥å¿—ä¸­æ¥æ”¶åˆ°æ•°æ®ï¼Œå°±è¯æ˜å‰åç«¯æ˜¯é€šçš„ï¼Œä¹Ÿå°±å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥çš„åŠŸèƒ½å¼€å‘äº†</p><p><strong>æ€»ç»“</strong></p><ol><li>createdé’©å­å‡½æ•°ç”¨äºåˆå§‹åŒ–é¡µé¢æ—¶å‘èµ·è°ƒç”¨</li><li>é¡µé¢ä½¿ç”¨axioså‘é€å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®åç¡®è®¤å‰åç«¯æ˜¯å¦è”é€š</li></ol><p><strong>é¡¹ç›®æ•´ä½“ç»“æ„ï¼š</strong></p><img src="/.io//image-20220524135940918.png" alt="image-20220524135940918" style="zoom:50%;"><h4 id="9-é¡µé¢åŸºç¡€åŠŸèƒ½å¼€å‘"><a href="#9-é¡µé¢åŸºç¡€åŠŸèƒ½å¼€å‘" class="headerlink" title="9.é¡µé¢åŸºç¡€åŠŸèƒ½å¼€å‘"></a>9.é¡µé¢åŸºç¡€åŠŸèƒ½å¼€å‘</h4><h5 id="F-1-åˆ—è¡¨åŠŸèƒ½ï¼ˆéåˆ†é¡µç‰ˆï¼‰"><a href="#F-1-åˆ—è¡¨åŠŸèƒ½ï¼ˆéåˆ†é¡µç‰ˆï¼‰" class="headerlink" title="F-1.åˆ—è¡¨åŠŸèƒ½ï¼ˆéåˆ†é¡µç‰ˆï¼‰"></a>F-1.åˆ—è¡¨åŠŸèƒ½ï¼ˆéåˆ†é¡µç‰ˆï¼‰</h5><p>â€‹        åˆ—è¡¨åŠŸèƒ½ä¸»è¦æ“ä½œå°±æ˜¯åŠ è½½å®Œæ•°æ®ï¼Œå°†æ•°æ®å±•ç¤ºåˆ°é¡µé¢ä¸Šï¼Œæ­¤å¤„è¦åˆ©ç”¨VUEçš„æ•°æ®æ¨¡å‹ç»‘å®šï¼Œå‘é€è¯·æ±‚å¾—åˆ°æ•°æ®ï¼Œç„¶åé¡µé¢ä¸Šè¯»å–æŒ‡å®šæ•°æ®å³å¯</p><p>â€‹        <strong>é¡µé¢æ•°æ®æ¨¡å‹å®šä¹‰</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">data:&#123;<br>dataList: [],//å½“å‰é¡µè¦å±•ç¤ºçš„åˆ—è¡¨æ•°æ®<br>...<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        å¼‚æ­¥è¯·æ±‚è·å–æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//åˆ—è¡¨</span><br><span class="hljs-function"><span class="hljs-title">getAll</span>(<span class="hljs-params"></span>)</span> &#123;<br>    axios.get(<span class="hljs-string">&quot;/books&quot;</span>).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-built_in">this</span>.dataList = res.data.data;<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        è¿™æ ·åœ¨é¡µé¢åŠ è½½æ—¶å°±å¯ä»¥è·å–åˆ°æ•°æ®ï¼Œå¹¶ä¸”ç”±VUEå°†æ•°æ®å±•ç¤ºåˆ°é¡µé¢ä¸Šäº†</p><p>æ€»ç»“ï¼š</p><ol><li>å°†æŸ¥è¯¢æ•°æ®è¿”å›åˆ°é¡µé¢ï¼Œåˆ©ç”¨å‰ç«¯æ•°æ®ç»‘å®šè¿›è¡Œæ•°æ®å±•ç¤º</li></ol><h5 id="F-2-æ·»åŠ ä¹¦ç±åŠŸèƒ½"><a href="#F-2-æ·»åŠ ä¹¦ç±åŠŸèƒ½" class="headerlink" title="F-2.æ·»åŠ ä¹¦ç±åŠŸèƒ½"></a>F-2.æ·»åŠ ä¹¦ç±åŠŸèƒ½</h5><p>â€‹        æ·»åŠ åŠŸèƒ½ç”¨äºæ”¶é›†æ•°æ®çš„è¡¨å•æ˜¯é€šè¿‡ä¸€ä¸ªå¼¹çª—å±•ç¤ºçš„ï¼Œå› æ­¤åœ¨æ·»åŠ æ“ä½œå‰é¦–å…ˆè¦è¿›è¡Œå¼¹çª—çš„å±•ç¤ºï¼Œæ·»åŠ åéšè—å¼¹çª—å³å¯ã€‚å› ä¸ºè¿™ä¸ªå¼¹çª—ä¸€ç›´å­˜åœ¨ï¼Œå› æ­¤å½“é¡µé¢åŠ è½½æ—¶é¦–å…ˆè®¾ç½®è¿™ä¸ªå¼¹çª—ä¸ºä¸å¯æ˜¾ç¤ºçŠ¶æ€ï¼Œéœ€è¦å±•ç¤ºï¼Œåˆ‡æ¢çŠ¶æ€å³å¯</p><p>â€‹        <strong>é»˜è®¤çŠ¶æ€</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">data:&#123;<br>dialogFormVisible: false,//æ·»åŠ è¡¨å•æ˜¯å¦å¯è§<br>...<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        <strong>åˆ‡æ¢ä¸ºæ˜¾ç¤ºçŠ¶æ€</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//å¼¹å‡ºæ·»åŠ çª—å£</span><br><span class="hljs-function"><span class="hljs-title">handleCreate</span>(<span class="hljs-params"></span>)</span> &#123;<br><span class="hljs-built_in">this</span>.dialogFormVisible = <span class="hljs-literal">true</span>;<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        ç”±äºæ¯æ¬¡æ·»åŠ æ•°æ®éƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªå¼¹çª—å½•å…¥æ•°æ®ï¼Œæ‰€ä»¥æ¯æ¬¡æ“ä½œçš„ç—•è¿¹å°†åœ¨ä¸‹ä¸€æ¬¡æ“ä½œæ—¶å±•ç¤ºå‡ºæ¥ï¼Œéœ€è¦åœ¨æ¯æ¬¡æ“ä½œä¹‹å‰æ¸…ç†æ‰ä¸Šæ¬¡æ“ä½œçš„ç—•è¿¹</p><p>â€‹        <strong>å®šä¹‰æ¸…ç†æ•°æ®æ“ä½œ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//é‡ç½®è¡¨å•</span><br><span class="hljs-function"><span class="hljs-title">resetForm</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.formData = &#123;&#125;;<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        <strong>åˆ‡æ¢å¼¹çª—çŠ¶æ€æ—¶æ¸…ç†æ•°æ®</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//å¼¹å‡ºæ·»åŠ çª—å£</span><br><span class="hljs-function"><span class="hljs-title">handleCreate</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.dialogFormVisible = <span class="hljs-literal">true</span>;<br>    <span class="hljs-built_in">this</span>.resetForm();<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        è‡³æ­¤å‡†å¤‡å·¥ä½œå®Œæˆï¼Œä¸‹é¢å°±è¦è°ƒç”¨åå°å®Œæˆæ·»åŠ æ“ä½œäº†</p><p>â€‹        <strong>æ·»åŠ æ“ä½œ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//æ·»åŠ </span><br>handleAdd () &#123;<br>    <span class="hljs-comment">//å‘é€å¼‚æ­¥è¯·æ±‚</span><br>    axios.post(<span class="hljs-string">&quot;/books&quot;</span>,<span class="hljs-built_in">this</span>.formData).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">//å¦‚æœæ“ä½œæˆåŠŸï¼Œå…³é—­å¼¹å±‚ï¼Œæ˜¾ç¤ºæ•°æ®</span><br>        <span class="hljs-keyword">if</span>(res.data.flag)&#123;<br>            <span class="hljs-built_in">this</span>.dialogFormVisible = <span class="hljs-literal">false</span>;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;æ·»åŠ å¤±è´¥&quot;</span>);<br>        &#125;<br>    &#125;).finally(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-built_in">this</span>.getAll();<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><ol><li>å°†è¦ä¿å­˜çš„æ•°æ®ä¼ é€’åˆ°åå°ï¼Œé€šè¿‡postè¯·æ±‚çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ é€’jsonæ•°æ®åˆ°åå°</li><li>æ ¹æ®è¿”å›çš„æ“ä½œç»“æœå†³å®šä¸‹ä¸€æ­¥æ“ä½œ<ul><li>å¦‚ä½•æ˜¯trueå°±å…³é—­æ·»åŠ çª—å£ï¼Œæ˜¾ç¤ºæ·»åŠ æˆåŠŸçš„æ¶ˆæ¯</li><li>å¦‚æœæ˜¯falseä¿ç•™æ·»åŠ çª—å£ï¼Œæ˜¾ç¤ºæ·»åŠ å¤±è´¥çš„æ¶ˆæ¯</li></ul></li><li><strong>æ— è®ºæ·»åŠ æ˜¯å¦æˆåŠŸï¼Œé¡µé¢å‡è¿›è¡Œåˆ·æ–°ï¼ŒåŠ¨æ€åŠ è½½æ•°æ®</strong>ï¼ˆå¯¹getAllæ“ä½œå‘èµ·è°ƒç”¨ï¼‰</li></ol><p>â€‹        <strong>å–æ¶ˆæ·»åŠ æ“ä½œ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//å–æ¶ˆ</span><br><span class="hljs-function"><span class="hljs-title">cancel</span>(<span class="hljs-params"></span>)</span>&#123;<br>    <span class="hljs-built_in">this</span>.dialogFormVisible = <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">this</span>.$message.info(<span class="hljs-string">&quot;æ“ä½œå–æ¶ˆ&quot;</span>);<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>è¯·æ±‚æ–¹å¼ä½¿ç”¨POSTè°ƒç”¨åå°å¯¹åº”æ“ä½œ</li><li>æ·»åŠ æ“ä½œç»“æŸååŠ¨æ€åˆ·æ–°é¡µé¢åŠ è½½æ•°æ®</li><li>æ ¹æ®æ“ä½œç»“æœä¸åŒï¼Œæ˜¾ç¤ºå¯¹åº”çš„æç¤ºä¿¡æ¯</li><li>å¼¹å‡ºæ·»åŠ Divæ—¶æ¸…é™¤è¡¨å•æ•°æ®</li></ol><h5 id="F-3-åˆ é™¤ä¹¦ç±åŠŸèƒ½"><a href="#F-3-åˆ é™¤ä¹¦ç±åŠŸèƒ½" class="headerlink" title="F-3.åˆ é™¤ä¹¦ç±åŠŸèƒ½"></a>F-3.åˆ é™¤ä¹¦ç±åŠŸèƒ½</h5><p>â€‹        æ¨¡ä»¿æ·»åŠ æ“ä½œåˆ¶ä½œåˆ é™¤åŠŸèƒ½ï¼Œå·®åˆ«ä¹‹å¤„åœ¨äºåˆ é™¤æ“ä½œä»…ä¼ é€’ä¸€ä¸ªå¾…åˆ é™¤çš„æ•°æ®idåˆ°åå°å³å¯</p><p>â€‹        <strong>åˆ é™¤æ“ä½œ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// åˆ é™¤</span><br><span class="hljs-function"><span class="hljs-title">handleDelete</span>(<span class="hljs-params">row</span>)</span> &#123;<br>    axios.delete(<span class="hljs-string">&quot;/books/&quot;</span>+row.id).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span>(res.data.flag)&#123;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;åˆ é™¤å¤±è´¥&quot;</span>);<br>        &#125;<br>    &#125;).finally(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-built_in">this</span>.getAll();<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        <strong>åˆ é™¤æ“ä½œæç¤ºä¿¡æ¯</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">// åˆ é™¤</span><br><span class="hljs-function"><span class="hljs-title">handleDelete</span>(<span class="hljs-params">row</span>)</span> &#123;<br>    <span class="hljs-comment">//1.å¼¹å‡ºæç¤ºæ¡†</span><br>    <span class="hljs-built_in">this</span>.$confirm(<span class="hljs-string">&quot;æ­¤æ“ä½œæ°¸ä¹…åˆ é™¤å½“å‰æ•°æ®ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ&quot;</span>,<span class="hljs-string">&quot;æç¤º&quot;</span>,&#123;<br>        <span class="hljs-attr">type</span>:<span class="hljs-string">&#x27;info&#x27;</span><br>    &#125;).then(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-comment">//2.åšåˆ é™¤ä¸šåŠ¡</span><br>        axios.delete(<span class="hljs-string">&quot;/books/&quot;</span>+row.id).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>       <span class="hljs-keyword">if</span>(res.data.flag)&#123;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;åˆ é™¤å¤±è´¥&quot;</span>);<br>        &#125;<br>        &#125;).finally(<span class="hljs-function">()=&gt;</span>&#123;<br>            <span class="hljs-built_in">this</span>.getAll();<br>        &#125;);<br>    &#125;).catch(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-comment">//3.å–æ¶ˆåˆ é™¤</span><br>        <span class="hljs-built_in">this</span>.$message.info(<span class="hljs-string">&quot;å–æ¶ˆåˆ é™¤æ“ä½œ&quot;</span>);<br>    &#125;);<br>&#125;ï¼Œ<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>è¯·æ±‚æ–¹å¼ä½¿ç”¨Deleteè°ƒç”¨åå°å¯¹åº”æ“ä½œ</li><li>åˆ é™¤æ“ä½œéœ€è¦ä¼ é€’å½“å‰è¡Œæ•°æ®å¯¹åº”çš„idå€¼åˆ°åå°</li><li>åˆ é™¤æ“ä½œç»“æŸååŠ¨æ€åˆ·æ–°é¡µé¢åŠ è½½æ•°æ®</li><li>æ ¹æ®æ“ä½œç»“æœä¸åŒï¼Œæ˜¾ç¤ºå¯¹åº”çš„æç¤ºä¿¡æ¯</li><li>åˆ é™¤æ“ä½œå‰å¼¹å‡ºæç¤ºæ¡†é¿å…è¯¯æ“ä½œ</li></ol><h5 id="F-4-ä¿®æ”¹ä¹¦ç±åŠŸèƒ½"><a href="#F-4-ä¿®æ”¹ä¹¦ç±åŠŸèƒ½" class="headerlink" title="F-4.ä¿®æ”¹ä¹¦ç±åŠŸèƒ½"></a>F-4.ä¿®æ”¹ä¹¦ç±åŠŸèƒ½</h5><p>â€‹        ä¿®æ”¹åŠŸèƒ½å¯ä»¥è¯´æ˜¯åˆ—è¡¨åŠŸèƒ½ã€åˆ é™¤åŠŸèƒ½ä¸æ·»åŠ åŠŸèƒ½çš„åˆä½“ã€‚å‡ ä¸ªç›¸ä¼¼ç‚¹å¦‚ä¸‹ï¼š</p><ol><li><p>é¡µé¢ä¹Ÿéœ€è¦æœ‰ä¸€ä¸ªå¼¹çª—ç”¨æ¥åŠ è½½ä¿®æ”¹çš„æ•°æ®ï¼Œè¿™ä¸€ç‚¹ä¸æ·»åŠ ç›¸åŒï¼Œéƒ½æ˜¯è¦å¼¹çª—</p></li><li><p>å¼¹å‡ºçª—å£ä¸­è¦åŠ è½½å¾…ä¿®æ”¹çš„æ•°æ®ï¼Œè€Œæ•°æ®éœ€è¦é€šè¿‡æŸ¥è¯¢å¾—åˆ°ï¼Œè¿™ä¸€ç‚¹ä¸æŸ¥è¯¢å…¨éƒ¨ç›¸åŒï¼Œéƒ½æ˜¯è¦æŸ¥æ•°æ®</p></li><li><p>æŸ¥è¯¢æ“ä½œéœ€è¦å°†è¦ä¿®æ”¹çš„æ•°æ®idå‘é€åˆ°åå°ï¼Œè¿™ä¸€ç‚¹ä¸åˆ é™¤ç›¸åŒï¼Œéƒ½æ˜¯ä¼ é€’idåˆ°åå°</p></li><li><p>æŸ¥è¯¢å¾—åˆ°æ•°æ®åéœ€è¦å±•ç¤ºåˆ°å¼¹çª—ä¸­ï¼Œè¿™ä¸€ç‚¹ä¸æŸ¥è¯¢å…¨éƒ¨ç›¸åŒï¼Œéƒ½æ˜¯è¦é€šè¿‡æ•°æ®æ¨¡å‹ç»‘å®šå±•ç¤ºæ•°æ®</p></li><li><p>ä¿®æ”¹æ•°æ®æ—¶éœ€è¦å°†è¢«ä¿®æ”¹çš„æ•°æ®ä¼ é€’åˆ°åå°ï¼Œè¿™ä¸€ç‚¹ä¸æ·»åŠ ç›¸åŒï¼Œéƒ½æ˜¯è¦ä¼ é€’æ•°æ®</p><p>æ‰€ä»¥æ•´ä½“ä¸Šæ¥çœ‹ï¼Œä¿®æ”¹åŠŸèƒ½å°±æ˜¯å‰é¢å‡ ä¸ªåŠŸèƒ½çš„å¤§åˆä½“</p><p><strong>æŸ¥è¯¢å¹¶å±•ç¤ºæ•°æ®</strong></p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//å¼¹å‡ºç¼–è¾‘çª—å£</span><br><span class="hljs-function"><span class="hljs-title">handleUpdate</span>(<span class="hljs-params">row</span>)</span> &#123;<br>    axios.get(<span class="hljs-string">&quot;/books/&quot;</span>+row.id).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-keyword">if</span>(res.data.flag)&#123;<br>            <span class="hljs-comment">//å±•ç¤ºå¼¹å±‚ï¼ŒåŠ è½½æ•°æ®</span><br>            <span class="hljs-built_in">this</span>.formData = res.data.data;<br>            <span class="hljs-built_in">this</span>.dialogFormVisible4Edit = <span class="hljs-literal">true</span>;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;æ•°æ®åŒæ­¥å¤±è´¥ï¼Œè‡ªåŠ¨åˆ·æ–°&quot;</span>);<br>        &#125;<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        <strong>ä¿®æ”¹æ“ä½œ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//ä¿®æ”¹</span><br><span class="hljs-function"><span class="hljs-title">handleEdit</span>(<span class="hljs-params"></span>)</span> &#123;<br>    axios.put(<span class="hljs-string">&quot;/books&quot;</span>,<span class="hljs-built_in">this</span>.formData).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">//å¦‚æœæ“ä½œæˆåŠŸï¼Œå…³é—­å¼¹å±‚å¹¶åˆ·æ–°é¡µé¢</span><br>        <span class="hljs-keyword">if</span>(res.data.flag)&#123;<br>            <span class="hljs-built_in">this</span>.dialogFormVisible4Edit = <span class="hljs-literal">false</span>;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;ä¿®æ”¹æˆåŠŸ&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">this</span>.$message.error(<span class="hljs-string">&quot;ä¿®æ”¹å¤±è´¥ï¼Œè¯·é‡è¯•&quot;</span>);<br>        &#125;<br>    &#125;).finally(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-built_in">this</span>.getAll();<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>åŠ è½½è¦ä¿®æ”¹æ•°æ®é€šè¿‡ä¼ é€’å½“å‰è¡Œæ•°æ®å¯¹åº”çš„idå€¼åˆ°åå°æŸ¥è¯¢æ•°æ®ï¼ˆåŒåˆ é™¤ä¸æŸ¥è¯¢å…¨éƒ¨ï¼‰</li><li>åˆ©ç”¨å‰ç«¯åŒå‘æ•°æ®ç»‘å®šå°†æŸ¥è¯¢åˆ°çš„æ•°æ®è¿›è¡Œå›æ˜¾ï¼ˆåŒæŸ¥è¯¢å…¨éƒ¨ï¼‰</li><li>è¯·æ±‚æ–¹å¼ä½¿ç”¨PUTè°ƒç”¨åå°å¯¹åº”æ“ä½œï¼ˆåŒæ–°å¢ä¼ é€’æ•°æ®ï¼‰</li><li>ä¿®æ”¹æ“ä½œç»“æŸååŠ¨æ€åˆ·æ–°é¡µé¢åŠ è½½æ•°æ®ï¼ˆåŒæ–°å¢ï¼‰</li><li>æ ¹æ®æ“ä½œç»“æœä¸åŒï¼Œæ˜¾ç¤ºå¯¹åº”çš„æç¤ºä¿¡æ¯ï¼ˆåŒæ–°å¢ï¼‰</li></ol><p>â€‹    </p><h4 id="10-ä¸šåŠ¡æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†"><a href="#10-ä¸šåŠ¡æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†" class="headerlink" title="10.ä¸šåŠ¡æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†"></a>10.ä¸šåŠ¡æ¶ˆæ¯ä¸€è‡´æ€§å¤„ç†</h4><p>â€‹    ç›®å‰çš„åŠŸèƒ½åˆ¶ä½œåŸºæœ¬ä¸Šè¾¾æˆäº†æ­£å¸¸ä½¿ç”¨çš„æƒ…å†µï¼Œä»€ä¹ˆå«æ­£å¸¸ä½¿ç”¨å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¿™ä¸ªç¨‹åºä¸å‡ºBUGï¼Œå¦‚æœæˆ‘ä»¬æä¸€ä¸ªBUGå‡ºæ¥ï¼Œä½ ä¼šå‘ç°ç¨‹åºé©¬ä¸Šå´©æºƒæ‰ã€‚æ¯”å¦‚åå°æ‰‹å·¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œçœ‹çœ‹å‰ç«¯æ¥æ”¶åˆ°çš„æ•°æ®ä»€ä¹ˆæ ·å­</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>Â Â Â Â <span class="hljs-attr">&quot;timestamp&quot;</span>:Â <span class="hljs-string">&quot;2021-09-15T03:27:31.038+00:00&quot;</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;status&quot;</span>:Â <span class="hljs-number">500</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;error&quot;</span>:Â <span class="hljs-string">&quot;InternalÂ ServerÂ Error&quot;</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;path&quot;</span>:Â <span class="hljs-string">&quot;/books&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    é¢å¯¹è¿™ç§æƒ…å†µï¼Œå‰ç«¯çš„åŒå­¦åˆä¸ä¼šäº†ï¼Œè¿™åˆæ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿæ€ä¹ˆå’Œä¹‹å‰çš„æ ¼å¼ä¸ä¸€æ ·ï¼Ÿ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>Â Â Â Â <span class="hljs-attr">&quot;flag&quot;</span>:Â <span class="hljs-literal">true</span>,<br>Â Â Â Â <span class="hljs-attr">&quot;data&quot;</span>:&#123;<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;id&quot;</span>:Â <span class="hljs-number">1</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;type&quot;</span>:Â <span class="hljs-string">&quot;è®¡ç®—æœºç†è®º&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;name&quot;</span>:Â <span class="hljs-string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span>,<br>Â Â Â Â Â Â Â Â <span class="hljs-attr">&quot;description&quot;</span>:Â <span class="hljs-string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span><br>Â Â Â Â &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    çœ‹æ¥ä¸ä»…è¦å¯¹æ­£ç¡®çš„æ“ä½œæ•°æ®æ ¼å¼åšå¤„ç†ï¼Œè¿˜è¦å¯¹é”™è¯¯çš„æ“ä½œæ•°æ®æ ¼å¼åšåŒæ ·çš„æ ¼å¼å¤„ç†</p><p>â€‹    é¦–å…ˆåœ¨å½“å‰çš„æ•°æ®ç»“æœä¸­æ·»åŠ æ¶ˆæ¯å­—æ®µï¼Œç”¨æ¥å…¼å®¹åå°å‡ºç°çš„æ“ä½œæ¶ˆæ¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">R</span></span>&#123;<br>    <span class="hljs-keyword">private</span> Boolean flag;<br>    <span class="hljs-keyword">private</span> Object data;<br>    <span class="hljs-keyword">private</span> String msg;<span class="hljs-comment">//ç”¨äºå°è£…æ¶ˆæ¯</span><br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    åå°ä»£ç ä¹Ÿè¦æ ¹æ®æƒ…å†µåšå¤„ç†ï¼Œå½“å‰æ˜¯æ¨¡æ‹Ÿçš„é”™è¯¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@PostMapping</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">save</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Book book)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>    Boolean flag = bookService.insert(book);<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(flag , flag ? <span class="hljs-string">&quot;æ·»åŠ æˆåŠŸ^_^&quot;</span> : <span class="hljs-string">&quot;æ·»åŠ å¤±è´¥-_-!&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    </p><p>ç„¶ååœ¨è¡¨ç°å±‚åšç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†ï¼Œä½¿ç”¨SpringMVCæä¾›çš„å¼‚å¸¸å¤„ç†å™¨åšç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†</p><img src="/.io//image-20220526173730084.png" alt="image-20220526173730084" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@RestControllerAdvice</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProjectExceptionAdvice</span> </span>&#123;<br>    <span class="hljs-meta">@ExceptionHandler(Exception.class)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">doOtherException</span><span class="hljs-params">(Exception ex)</span></span>&#123;<br>        <span class="hljs-comment">//è®°å½•æ—¥å¿—</span><br>        <span class="hljs-comment">//å‘é€æ¶ˆæ¯ç»™è¿ç»´</span><br>        <span class="hljs-comment">//å‘é€é‚®ä»¶ç»™å¼€å‘äººå‘˜,exå¯¹è±¡å‘é€ç»™å¼€å‘äººå‘˜</span><br>        ex.printStackTrace();<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">false</span>,<span class="hljs-keyword">null</span>,<span class="hljs-string">&quot;ç³»ç»Ÿé”™è¯¯ï¼Œè¯·ç¨åå†è¯•ï¼&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹    é¡µé¢ä¸Šå¾—åˆ°æ•°æ®åï¼Œå…ˆåˆ¤å®šæ˜¯å¦æœ‰åå°ä¼ é€’è¿‡æ¥çš„æ¶ˆæ¯ï¼Œæ ‡å¿—å°±æ˜¯å½“å‰æ“ä½œæ˜¯å¦æˆåŠŸï¼Œå¦‚æœè¿”å›æ“ä½œç»“æœfalseï¼Œå°±è¯»å–åå°ä¼ é€’çš„æ¶ˆæ¯</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//æ·»åŠ </span><br>handleAdd () &#123;<br><span class="hljs-comment">//å‘é€ajaxè¯·æ±‚</span><br>    axios.post(<span class="hljs-string">&quot;/books&quot;</span>,<span class="hljs-built_in">this</span>.formData).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">//å¦‚æœæ“ä½œæˆåŠŸï¼Œå…³é—­å¼¹å±‚ï¼Œæ˜¾ç¤ºæ•°æ®</span><br>        <span class="hljs-keyword">if</span>(res.data.flag)&#123;<br>            <span class="hljs-built_in">this</span>.dialogFormVisible = <span class="hljs-literal">false</span>;<br>            <span class="hljs-built_in">this</span>.$message.success(<span class="hljs-string">&quot;æ·»åŠ æˆåŠŸ&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">this</span>.$message.error(res.data.msg);<span class="hljs-comment">//æ¶ˆæ¯æ¥è‡ªäºåå°ä¼ é€’è¿‡æ¥ï¼Œè€Œéå›ºå®šå†…å®¹</span><br>        &#125;<br>    &#125;).finally(<span class="hljs-function">()=&gt;</span>&#123;<br>        <span class="hljs-built_in">this</span>.getAll();<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨æ³¨è§£ <strong>@RestControllerAdvice</strong> å®šä¹‰SpringMVCå¼‚å¸¸å¤„ç†å™¨ç”¨æ¥å¤„ç†å¼‚å¸¸çš„</li><li>å¼‚å¸¸å¤„ç†å™¨å¿…é¡»è¢«æ‰«æåŠ è½½ï¼Œå¦åˆ™æ— æ³•ç”Ÿæ•ˆ</li><li>è¡¨ç°å±‚è¿”å›ç»“æœçš„æ¨¡å‹ç±»ä¸­æ·»åŠ æ¶ˆæ¯å±æ€§ç”¨æ¥ä¼ é€’æ¶ˆæ¯åˆ°é¡µé¢</li></ol><p>â€‹    </p><h4 id="11-é¡µé¢åŠŸèƒ½å¼€å‘"><a href="#11-é¡µé¢åŠŸèƒ½å¼€å‘" class="headerlink" title="11.é¡µé¢åŠŸèƒ½å¼€å‘"></a>11.é¡µé¢åŠŸèƒ½å¼€å‘</h4><h5 id="F-5-åˆ†é¡µåŠŸèƒ½"><a href="#F-5-åˆ†é¡µåŠŸèƒ½" class="headerlink" title="F-5.åˆ†é¡µåŠŸèƒ½"></a>F-5.åˆ†é¡µåŠŸèƒ½</h5><p>åˆ†é¡µåŠŸèƒ½çš„åˆ¶ä½œç”¨äºæ›¿æ¢å‰é¢çš„æŸ¥è¯¢å…¨éƒ¨ï¼Œå…¶ä¸­è¦ä½¿ç”¨åˆ°elementUIæä¾›çš„åˆ†é¡µç»„ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!--åˆ†é¡µç»„ä»¶--&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagination-container&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">el-pagination</span></span></span><br><span class="hljs-tag"><span class="xml"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pagiantion&quot;</span></span></span><br><span class="hljs-tag"><span class="xml">@<span class="hljs-attr">current-change</span>=<span class="hljs-string">&quot;handleCurrentChange&quot;</span></span></span><br><span class="hljs-tag"><span class="xml"><span class="hljs-attr">:current-page</span>=<span class="hljs-string">&quot;pagination.currentPage&quot;</span></span></span><br><span class="hljs-tag"><span class="xml"><span class="hljs-attr">:page-size</span>=<span class="hljs-string">&quot;pagination.pageSize&quot;</span></span></span><br><span class="hljs-tag"><span class="xml"><span class="hljs-attr">layout</span>=<span class="hljs-string">&quot;total, prev, pager, next, jumper&quot;</span></span></span><br><span class="hljs-tag"><span class="xml"><span class="hljs-attr">:total</span>=<span class="hljs-string">&quot;pagination.total&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">el-pagination</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p>â€‹        </p><p>ä¸ºäº†é…åˆåˆ†é¡µç»„ä»¶ï¼Œå°è£…åˆ†é¡µå¯¹åº”çš„æ•°æ®æ¨¡å‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vue">data:&#123;<br>pagination: &#123;<br>//åˆ†é¡µç›¸å…³æ¨¡å‹æ•°æ®<br>currentPage: 1,//å½“å‰é¡µç <br>pageSize:10,//æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ•°<br>total:0,//æ€»è®°å½•æ•°<br>&#125;<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        </p><p>ä¿®æ”¹æŸ¥è¯¢å…¨éƒ¨åŠŸèƒ½ä¸ºåˆ†é¡µæŸ¥è¯¢ï¼Œé€šè¿‡è·¯å¾„å˜é‡ä¼ é€’é¡µç ä¿¡æ¯å‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-function"><span class="hljs-title">getAll</span>(<span class="hljs-params"></span>)</span> &#123;<br>    axios.get(<span class="hljs-string">&quot;http://localhost:8080/books/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.currentPage +<span class="hljs-string">&quot;/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.pageSize).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        </p><p>SpringBootåå°æä¾›å¯¹åº”çš„åˆ†é¡µåŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@GetMapping(&quot;&#123;currentPage&#125;/&#123;pageSize&#125;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> currentPage, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> pageSize)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">true</span>, bookService.getPage(currentPage,pageSize));<br>&#125;<br></code></pre></td></tr></table></figure><p>â€‹        </p><p>é¡µé¢æ ¹æ®åˆ†é¡µæ“ä½œç»“æœè¯»å–å¯¹åº”æ•°æ®ï¼Œå¹¶è¿›è¡Œæ•°æ®æ¨¡å‹ç»‘å®š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//åˆ†é¡µæŸ¥è¯¢</span><br><span class="hljs-function"><span class="hljs-title">getAll</span>(<span class="hljs-params"></span>)</span> &#123;<br>    axios.get(<span class="hljs-string">&quot;http://localhost:8080/books/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.currentPage +<span class="hljs-string">&quot;/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.pageSize).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(res.data);<br>        <span class="hljs-built_in">this</span>.pagination.total = res.data.data.total;<br>        <span class="hljs-built_in">this</span>.pagination.currentPage = res.data.data.current;<br>        <span class="hljs-built_in">this</span>.pagination.pagesize = res.data.data.size;<br>        <span class="hljs-built_in">this</span>.dataList = res.data.data.records<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p>â€‹        </p><p>å¯¹åˆ‡æ¢é¡µç æ“ä½œè®¾ç½®è°ƒç”¨å½“å‰åˆ†é¡µæ“ä½œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//åˆ‡æ¢é¡µç </span><br><span class="hljs-function"><span class="hljs-title">handleCurrentChange</span>(<span class="hljs-params">currentPage</span>)</span> &#123;<br>    <span class="hljs-built_in">this</span>.pagination.currentPage = currentPage;<br>    <span class="hljs-built_in">this</span>.getAll();<br>&#125;,<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>ä½¿ç”¨elåˆ†é¡µç»„ä»¶</li><li>å®šä¹‰åˆ†é¡µç»„ä»¶ç»‘å®šçš„æ•°æ®æ¨¡å‹</li><li>å¼‚æ­¥è°ƒç”¨è·å–åˆ†é¡µæ•°æ®</li><li>åˆ†é¡µæ•°æ®é¡µé¢å›æ˜¾</li></ol><h5 id="F-6-åˆ é™¤åŠŸèƒ½ç»´æŠ¤"><a href="#F-6-åˆ é™¤åŠŸèƒ½ç»´æŠ¤" class="headerlink" title="F-6.åˆ é™¤åŠŸèƒ½ç»´æŠ¤"></a>F-6.åˆ é™¤åŠŸèƒ½ç»´æŠ¤</h5><p>â€‹        ç”±äºä½¿ç”¨äº†åˆ†é¡µåŠŸèƒ½ï¼Œå½“æœ€åä¸€é¡µåªæœ‰ä¸€æ¡æ•°æ®æ—¶ï¼Œåˆ é™¤æ“ä½œå°±ä¼šå‡ºç°BUGï¼Œæœ€åä¸€é¡µæ— æ•°æ®ä½†æ˜¯ç‹¬ç«‹å±•ç¤ºï¼Œå¯¹åˆ†é¡µæŸ¥è¯¢åŠŸèƒ½è¿›è¡Œåå°åŠŸèƒ½ç»´æŠ¤ï¼Œ<strong>å¦‚æœå½“å‰é¡µç å€¼å¤§äºæœ€å¤§é¡µç å€¼ï¼Œé‡æ–°æ‰§è¡ŒæŸ¥è¯¢</strong>ã€‚å…¶å®è¿™ä¸ªé—®é¢˜è§£å†³æ–¹æ¡ˆå¾ˆå¤šï¼Œè¿™é‡Œç»™å‡ºæ¯”è¾ƒç®€å•çš„ä¸€ç§å¤„ç†æ–¹æ¡ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@GetMapping(&quot;&#123;currentPage&#125;/&#123;pageSize&#125;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> currentPage,<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> pageSize)</span></span>&#123;<br>    IPage&lt;Book&gt; page = bookService.getPage(currentPage, pageSize);<br>    <span class="hljs-comment">//å¦‚æœå½“å‰é¡µç å€¼å¤§äºäº†æ€»é¡µç å€¼ï¼Œé‚£ä¹ˆé‡æ–°æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œä½¿ç”¨æœ€å¤§é¡µç å€¼ä½œä¸ºå½“å‰é¡µç å€¼</span><br>    <span class="hljs-keyword">if</span>( currentPage &gt; page.getPages())&#123;<br>        page = bookService.getPage((<span class="hljs-keyword">int</span>)page.getPages(), pageSize);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">true</span>, page);<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="F-7-æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½"><a href="#F-7-æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½" class="headerlink" title="F-7.æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½"></a>F-7.æ¡ä»¶æŸ¥è¯¢åŠŸèƒ½</h5><p>â€‹        æœ€åä¸€ä¸ªåŠŸèƒ½æ¥åšæ¡ä»¶æŸ¥è¯¢ï¼Œå…¶å®æ¡ä»¶æŸ¥è¯¢å¯ä»¥ç†è§£ä¸ºåˆ†é¡µæŸ¥è¯¢çš„æ—¶å€™é™¤äº†æºå¸¦åˆ†é¡µæ•°æ®å†å¤šå¸¦å‡ ä¸ªæ•°æ®çš„æŸ¥è¯¢ã€‚è¿™äº›å¤šå¸¦çš„æ•°æ®å°±æ˜¯æŸ¥è¯¢æ¡ä»¶ã€‚æ¯”è¾ƒä¸€ä¸‹ä¸å¸¦æ¡ä»¶çš„åˆ†é¡µæŸ¥è¯¢ä¸å¸¦æ¡ä»¶çš„åˆ†é¡µæŸ¥è¯¢å·®åˆ«ä¹‹å¤„ï¼Œè¿™ä¸ªåŠŸèƒ½å°±å¥½åšäº†</p><ul><li><p>é¡µé¢å°è£…çš„æ•°æ®ï¼šå¸¦ä¸å¸¦æ¡ä»¶å½±å“çš„ä»…ä»…æ˜¯ä¸€æ¬¡æ€§ä¼ é€’åˆ°åå°çš„æ•°æ®æ€»é‡ï¼Œç”±ä¼ é€’2ä¸ªåˆ†é¡µç›¸å…³çš„æ•°æ®è½¬æ¢æˆ2ä¸ªåˆ†é¡µæ•°æ®åŠ è‹¥å¹²ä¸ªæ¡ä»¶</p></li><li><p>åå°æŸ¥è¯¢åŠŸèƒ½ï¼šæŸ¥è¯¢æ—¶ç”±ä¸å¸¦æ¡ä»¶ï¼Œè½¬æ¢æˆå¸¦æ¡ä»¶ï¼Œåæ­£ä¸å¸¦æ¡ä»¶çš„æ—¶å€™æŸ¥è¯¢æ¡ä»¶å¯¹è±¡ä½¿ç”¨çš„æ˜¯nullï¼Œç°åœ¨æ¢æˆå…·ä½“æ¡ä»¶ï¼Œå·®åˆ«ä¸å¤§</p></li><li><p>æŸ¥è¯¢ç»“æœï¼šä¸ç®¡å¸¦ä¸å¸¦æ¡ä»¶ï¼Œå‡ºæ¥çš„æ•°æ®åªæ˜¯æœ‰æ•°é‡ä¸Šçš„å·®åˆ«ï¼Œå…¶ä»–éƒ½å·®åˆ«ï¼Œè¿™ä¸ªå¯ä»¥å¿½ç•¥</p><p>ç»è¿‡ä¸Šè¿°åˆ†æï¼Œçœ‹æ¥éœ€è¦åœ¨é¡µé¢å‘é€è¯·æ±‚çš„æ ¼å¼æ–¹é¢åšä¸€å®šçš„ä¿®æ”¹ï¼Œåå°çš„è°ƒç”¨æ•°æ®å±‚æ“ä½œæ—¶å‘é€ä¿®æ”¹ï¼Œå…¶ä»–æ²¡æœ‰åŒºåˆ«</p><p>é¡µé¢å‘é€è¯·æ±‚æ—¶ï¼Œä¸¤ä¸ªåˆ†é¡µæ•°æ®ä»ç„¶ä½¿ç”¨è·¯å¾„å˜é‡ï¼Œå…¶ä»–æ¡ä»¶é‡‡ç”¨åŠ¨æ€æ‹¼è£…urlå‚æ•°çš„å½¢å¼ä¼ é€’</p><p><strong>é¡µé¢å°è£…æŸ¥è¯¢æ¡ä»¶å­—æ®µ</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">pagination: &#123;<br>//åˆ†é¡µç›¸å…³æ¨¡å‹æ•°æ®<br>currentPage: 1,//å½“å‰é¡µç <br>pageSize:10,//æ¯é¡µæ˜¾ç¤ºçš„è®°å½•æ•°<br>total:0,//æ€»è®°å½•æ•°<br>name: &quot;&quot;,<br>type: &quot;&quot;,<br>description: &quot;&quot;<br>&#125;,<br></code></pre></td></tr></table></figure><p>é¡µé¢æ·»åŠ æŸ¥è¯¢æ¡ä»¶å­—æ®µå¯¹åº”çš„æ•°æ®æ¨¡å‹ç»‘å®šåç§°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs HTML"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;filter-container&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å›¾ä¹¦ç±»åˆ«&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;pagination.type&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;filter-item&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å›¾ä¹¦åç§°&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;pagination.name&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;filter-item&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;å›¾ä¹¦æè¿°&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;pagination.description&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;filter-item&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getAll()&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;dalfBut&quot;</span>&gt;</span>æŸ¥è¯¢<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;butT&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleCreate()&quot;</span>&gt;</span>æ–°å»º<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å°†æŸ¥è¯¢æ¡ä»¶ç»„ç»‡æˆurlå‚æ•°ï¼Œæ·»åŠ åˆ°è¯·æ±‚urlåœ°å€ä¸­ï¼Œè¿™é‡Œå¯ä»¥å€ŸåŠ©å…¶ä»–ç±»åº“å¿«é€Ÿå¼€å‘ï¼Œå½“å‰ä½¿ç”¨æ‰‹å·¥å½¢å¼æ‹¼æ¥ï¼Œé™ä½å­¦ä¹ è¦æ±‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-comment">//åˆ†é¡µæŸ¥è¯¢</span><br><span class="hljs-function"><span class="hljs-title">getAll</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-comment">//è·å–æŸ¥è¯¢æ¡ä»¶,æ‹¼æ¥æŸ¥è¯¢æ¡ä»¶</span><br>    <span class="hljs-keyword">var</span> param = <span class="hljs-string">&quot;?name=&quot;</span>+<span class="hljs-built_in">this</span>.pagination.name;<br>    param += <span class="hljs-string">&quot;&amp;type=&quot;</span>+<span class="hljs-built_in">this</span>.pagination.type;<br>    param += <span class="hljs-string">&quot;&amp;description=&quot;</span>+<span class="hljs-built_in">this</span>.pagination.description;<br><br>    axios.get(<span class="hljs-string">&quot;http://localhost:8080/books/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.currentPage +<span class="hljs-string">&quot;/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.pageSize+param).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(res.data);<br>        <span class="hljs-built_in">this</span>.pagination.total = res.data.data.total;<br>        <span class="hljs-built_in">this</span>.pagination.currentPage = res.data.data.current;<br>        <span class="hljs-built_in">this</span>.pagination.pagesize = res.data.data.size;<br>        <span class="hljs-built_in">this</span>.dataList = res.data.data.records<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure><p>åå°ä»£ç ä¸­å®šä¹‰å®ä½“ç±»å°æŸ¥è¯¢æ¡ä»¶ï¼ˆBookController.javaï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-meta">@GetMapping(&quot;&#123;currentPage&#125;/&#123;pageSize&#125;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> R <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> currentPage,<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> pageSize,Book book)</span></span>&#123;<br>    IPage&lt;Book&gt; page = bookService.getPage(currentPage, pageSize, book);<br>    <span class="hljs-comment">//å¦‚æœå½“å‰é¡µç å€¼å¤§äºäº†æ€»é¡µç å€¼ï¼Œé‚£ä¹ˆé‡æ–°æ‰§è¡ŒæŸ¥è¯¢æ“ä½œï¼Œä½¿ç”¨æœ€å¤§é¡µç å€¼ä½œä¸ºå½“å‰é¡µç å€¼</span><br>    <span class="hljs-keyword">if</span>( currentPage &gt; page.getPages())&#123;<br>        page = bookService.getPage((<span class="hljs-keyword">int</span>)page.getPages(), pageSize, book);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> R(<span class="hljs-keyword">true</span>, page);<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯¹åº”ä¸šåŠ¡å±‚æ¥å£ä¸å®ç°ç±»è¿›è¡Œä¿®æ­£</p><p>æ¥å£BookService.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs JAVA"><span class="hljs-function">IPage&lt;Book&gt; <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> currentPage, <span class="hljs-keyword">int</span> pageSize, Book queryBook)</span></span>;<br></code></pre></td></tr></table></figure><p>å®ç°ç±»BookServiceImpl.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> IPage&lt;Book&gt; <span class="hljs-title">getPage</span><span class="hljs-params">(<span class="hljs-keyword">int</span> currentPage, <span class="hljs-keyword">int</span> pageSize, Book queryBook)</span> </span>&#123;<br>    IPage page = <span class="hljs-keyword">new</span> Page(currentPage,pageSize);<br>    LambdaQueryWrapper&lt;Book&gt; lqw = <span class="hljs-keyword">new</span> LambdaQueryWrapper&lt;Book&gt;();<br>    <br>lqw.like(Strings.isNotEmpty(queryBook.getName()),Book::getName,queryBook.getName());<br>lqw.like(Strings.isNotEmpty(queryBook.getType()),Book::getType,queryBook.getType());<br>lqw.like(Strings.isNotEmpty(queryBook.getDescription()),Book::getDescription,queryBook.getDescription());<br>    <br>    <span class="hljs-keyword">return</span> bookDao.selectPage(page,lqw);<br>&#125;<br></code></pre></td></tr></table></figure><p>é¡µé¢å›æ˜¾æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//åˆ†é¡µæŸ¥è¯¢</span><br><span class="hljs-function"><span class="hljs-title">getAll</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-comment">//è·å–æŸ¥è¯¢æ¡ä»¶,æ‹¼æ¥æŸ¥è¯¢æ¡ä»¶</span><br>    <span class="hljs-keyword">var</span> param = <span class="hljs-string">&quot;?name=&quot;</span>+<span class="hljs-built_in">this</span>.pagination.name;<br>    param += <span class="hljs-string">&quot;&amp;type=&quot;</span>+<span class="hljs-built_in">this</span>.pagination.type;<br>    param += <span class="hljs-string">&quot;&amp;description=&quot;</span>+<span class="hljs-built_in">this</span>.pagination.description;<br><br>    axios.get(<span class="hljs-string">&quot;http://localhost:8080/books/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.currentPage +<span class="hljs-string">&quot;/&quot;</span> + <span class="hljs-built_in">this</span>.pagination.pageSize+param).then(<span class="hljs-function">(<span class="hljs-params">res</span>)=&gt;</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(res.data);<br>        <span class="hljs-built_in">this</span>.pagination.total = res.data.data.total;<br>        <span class="hljs-built_in">this</span>.pagination.currentPage = res.data.data.current;<br>        <span class="hljs-built_in">this</span>.pagination.pagesize = res.data.data.size;<br>        <span class="hljs-built_in">this</span>.dataList = res.data.data.records<br>    &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure></li></ul><p><strong>æ€»ç»“</strong></p><ol><li>å®šä¹‰æŸ¥è¯¢æ¡ä»¶æ•°æ®æ¨¡å‹ï¼ˆå½“å‰å°è£…åˆ°åˆ†é¡µæ•°æ®æ¨¡å‹ä¸­ï¼‰</li><li>å¼‚æ­¥è°ƒç”¨åˆ†é¡µåŠŸèƒ½å¹¶é€šè¿‡è¯·æ±‚å‚æ•°ä¼ é€’æ•°æ®åˆ°åå°</li></ol><h2 id="åŸºç¡€ç¯‡å®Œç»“"><a href="#åŸºç¡€ç¯‡å®Œç»“" class="headerlink" title="åŸºç¡€ç¯‡å®Œç»“"></a>åŸºç¡€ç¯‡å®Œç»“</h2><p>â€‹    åŸºç¡€ç¯‡åˆ°è¿™é‡Œå°±å…¨éƒ¨ç»“æŸäº†ï¼Œåœ¨åŸºç¡€ç¯‡ä¸­å¸¦ç€å¤§å®¶å­¦ä¹ äº†å¦‚æœåˆ›å»ºä¸€ä¸ªSpringBootå·¥ç¨‹ï¼Œç„¶åå­¦ä¹ äº†SpringBootçš„åŸºç¡€é…ç½®è¯­æ³•æ ¼å¼ï¼Œæ¥ä¸‹æ¥å¯¹å¸¸è§çš„å¸‚é¢ä¸Šçš„å®ç”¨æŠ€æœ¯åšäº†æ•´åˆï¼Œæœ€åé€šè¿‡ä¸€ä¸ªå°çš„æ¡ˆä¾‹å¯¹å‰é¢å­¦ä¹ çš„å†…å®¹åšäº†ä¸€ä¸ªç»¼åˆåº”ç”¨ã€‚æ•´ä½“æ¥è¯´å°±æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„å…¥é—¨ï¼Œå…³äºSpringBootçš„å®é™…å¼€å‘å…¶å®æ¥è§¦çš„è¿˜æ˜¯å¾ˆå°‘çš„ï¼Œæˆ‘ä»¬åˆ°å®ç”¨ç¯‡å’ŒåŸç†ç¯‡ä¸­ç»§ç»­å§ï¼Œå„ä½å°ä¼™ä¼´ï¼ŒåŠ æ²¹å­¦ä¹ ï¼Œå†è§ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/java/Java%E5%9F%BA%E7%A1%80/Java%E5%9F%BA%E7%A1%80/"/>
    <url>/2022/09/08/java/Java%E5%9F%BA%E7%A1%80/Java%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<h2 id="Javaä¸‰å¤§ç‰ˆæœ¬"><a href="#Javaä¸‰å¤§ç‰ˆæœ¬" class="headerlink" title="Javaä¸‰å¤§ç‰ˆæœ¬"></a>Javaä¸‰å¤§ç‰ˆæœ¬</h2><ul><li>JavaSE: æ ‡å‡†ç‰ˆ (æ¡Œé¢ç¨‹åºï¼Œæ§åˆ¶å°å¼€å‘â€¦)</li><li>JavaME: åµŒå…¥å¼å¼€å‘ (æ‰‹æœºï¼Œå°å®¶ç”µâ€¦)ï¼Œå·²ç»å‡‰äº†</li><li>JavaEE: Eä¼ä¸šçº§å¼€å‘ (Webç«¯ï¼ŒæœåŠ¡ç«¯å¼€å‘â€¦)ï¼ŒJavaSEä¸ºåŸºç¡€</li></ul><br><h2 id="JDK-JRE-JVM"><a href="#JDK-JRE-JVM" class="headerlink" title="JDK  JRE  JVM"></a>JDK  JRE  JVM</h2><ul><li>JDKï¼šJava Development Kit (Javaå¼€å‘è€…å·¥å…·ï¼ŒåŒ…æ‹¬ JREï¼ŒJVM)</li><li>JREï¼šJava Runtime Environment (Javaè¿è¡Œæ—¶ç¯å¢ƒ)</li><li>JVMï¼šJava Virtual Machine (Javaè™šæ‹Ÿæœºï¼Œè·¨å¹³å°æ ¸å¿ƒ)<ul><li>JVM æ˜¯ javaè™šæ‹Ÿæœºï¼Œæ˜¯ç”¨æ¥æ‰§è¡Œjavaå­—èŠ‚ç (äºŒè¿›åˆ¶çš„å½¢å¼)çš„è™šæ‹Ÿè®¡ç®—æœºã€‚</li><li>jvmæ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œä¸ç¡¬ä»¶æ²¡æœ‰ä»»ä½•å…³ç³»</li><li>å¼•å…¥Javaè¯­è¨€è™šæ‹Ÿæœºåï¼ŒJavaè¯­è¨€åœ¨ä¸åŒå¹³å°ä¸Šè¿è¡Œæ—¶ä¸éœ€è¦é‡æ–°ç¼–è¯‘ã€‚Javaè¯­è¨€ä½¿ç”¨Javaè™šæ‹Ÿæœºå±è”½äº†ä¸å…·ä½“å¹³å°ç›¸å…³çš„ä¿¡æ¯ï¼Œä½¿å¾—Javaè¯­è¨€ç¼–è¯‘ç¨‹åºåªéœ€ç”Ÿæˆåœ¨Javaè™šæ‹Ÿæœºä¸Šè¿è¡Œçš„ç›®æ ‡ä»£ç ï¼Œå°±å¯ä»¥åœ¨å¤šç§å¹³å°ä¸Šä¸åŠ ä¿®æ”¹åœ°è¿è¡Œã€‚</li></ul></li></ul><img src="/.io//image-20220315233120969.png" alt="image-20220315233120969" style="zoom:67%;"><br><h2 id="JavaDocç”Ÿæˆæ–‡æ¡£"><a href="#JavaDocç”Ÿæˆæ–‡æ¡£" class="headerlink" title="JavaDocç”Ÿæˆæ–‡æ¡£"></a>JavaDocç”Ÿæˆæ–‡æ¡£</h2><ul><li>javadocå‘½ä»¤æ˜¯ç”¨æ¥ç”Ÿæˆè‡ªå·±APIæ–‡æ¡£çš„</li><li>å‚æ•°ä¿¡æ¯<ul><li>@author ä½œè€…å</li><li>@version ç‰ˆæœ¬å·</li><li>@since æŒ‡æ˜æœ€æ—©ç”¨çš„jdkç‰ˆæœ¬</li><li>@param å‚æ•°å</li><li>@return è¿”å›å€¼æƒ…å†µ</li><li>@throws å¼‚å¸¸æŠ›å‡ºæƒ…å†µ</li></ul></li></ul><br><h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p>Annontationæ˜¯Java5å¼€å§‹å¼•å…¥çš„æ–°ç‰¹å¾ï¼Œä¸­æ–‡åç§°å«æ³¨è§£ã€‚å®ƒæä¾›äº†ä¸€ç§å®‰å…¨çš„ç±»ä¼¼æ³¨é‡Šçš„æœºåˆ¶ï¼Œç”¨æ¥å°†ä»»ä½•çš„ä¿¡æ¯æˆ–å…ƒæ•°æ®ï¼ˆmetadataï¼‰ä¸ç¨‹åºå…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ç­‰ï¼‰è¿›è¡Œå…³è”ã€‚ä¸ºç¨‹åºçš„å…ƒç´ ï¼ˆç±»ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ï¼‰åŠ ä¸Šæ›´ç›´è§‚æ›´æ˜äº†çš„è¯´æ˜ï¼Œè¿™äº›è¯´æ˜ä¿¡æ¯æ˜¯ä¸ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘æ— å…³ï¼Œå¹¶ä¸”ä¾›æŒ‡å®šçš„å·¥å…·æˆ–æ¡†æ¶ä½¿ç”¨ã€‚</p><p>Annontationåƒä¸€ç§ä¿®é¥°ç¬¦ä¸€æ ·ï¼Œåº”ç”¨äºåŒ…ã€ç±»å‹ã€æ„é€ æ–¹æ³•ã€æ–¹æ³•ã€æˆå‘˜å˜é‡ã€å‚æ•°åŠæœ¬åœ°å˜é‡çš„å£°æ˜è¯­å¥ä¸­ã€‚</p><p><strong>æ³¨è§£çš„ç”¨å¤„ï¼š</strong></p><ul><li>ç”Ÿæˆæ–‡æ¡£ã€‚è¿™æ˜¯æœ€å¸¸è§çš„ï¼Œä¹Ÿæ˜¯java æœ€æ—©æä¾›çš„æ³¨è§£ã€‚å¸¸ç”¨çš„æœ‰@param @return ç­‰</li><li>è·Ÿè¸ªä»£ç ä¾èµ–æ€§ï¼Œå®ç°æ›¿ä»£é…ç½®æ–‡ä»¶åŠŸèƒ½ã€‚æ¯”å¦‚Dagger 2 ä¾èµ–æ³¨å…¥ï¼Œæœªæ¥java å¼€å‘ï¼Œå°†å¤§é‡æ³¨è§£é…ç½®ï¼Œå…·æœ‰å¾ˆå¤§ç”¨å¤„;</li><li>åœ¨ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥ã€‚å¦‚@override æ”¾åœ¨æ–¹æ³•å‰ï¼Œå¦‚æœä½ è¿™ä¸ªæ–¹æ³•å¹¶ä¸æ˜¯è¦†ç›–äº†è¶…ç±»æ–¹æ³•ï¼Œåˆ™ç¼–è¯‘æ—¶å°±èƒ½æ£€æŸ¥å‡ºã€‚</li></ul><p>å…·ä½“è§ï¼š<a href="https://www.cnblogs.com/acm-bingzi/p/javaAnnotation.html">https://www.cnblogs.com/acm-bingzi/p/javaAnnotation.html</a></p><br><h2 id="Javaæµç¨‹æ§åˆ¶ï¼ˆç”¨æˆ·è¾“å…¥ï¼‰"><a href="#Javaæµç¨‹æ§åˆ¶ï¼ˆç”¨æˆ·è¾“å…¥ï¼‰" class="headerlink" title="Javaæµç¨‹æ§åˆ¶ï¼ˆç”¨æˆ·è¾“å…¥ï¼‰"></a>Javaæµç¨‹æ§åˆ¶ï¼ˆç”¨æˆ·è¾“å…¥ï¼‰</h2><h4 id="ç”¨æˆ·äº¤äº’Scanner"><a href="#ç”¨æˆ·äº¤äº’Scanner" class="headerlink" title="ç”¨æˆ·äº¤äº’Scanner"></a>ç”¨æˆ·äº¤äº’Scanner</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæ‰«æå™¨å¯¹è±¡</span><br>Scanner scanner = <span class="hljs-keyword">new</span> Scanner(System.in);<br>String str = scanner.next(); <br><span class="hljs-comment">//å‡¡æ˜¯å±äºIOæµçš„ç±»å¦‚æœä¸å…³é—­ä¼šä¸€ç›´å ç”¨èµ„æº</span><br>scanner.close();<br></code></pre></td></tr></table></figure><p><strong>next()</strong></p><ul><li>ä¸€å®šè¦è¯»å–åˆ°æœ‰æ•ˆå­—ç¬¦æ‰å¯ä»¥ç»“æŸè¾“å…¥</li><li>å¯¹è¾“å…¥æœ‰æ•ˆå­—ç¬¦ä¹‹å‰é‡åˆ°çš„ç©ºç™½ï¼Œnext()æ–¹æ³•ä¼šå°†å…¶å»æ‰</li><li>åªæœ‰è¾“å…¥æœ‰æ•ˆå­—ç¬¦åæ‰å°†å…¶åé¢è¾“å…¥çš„ç©ºç™½ä½œä¸ºç»“æŸç¬¦</li><li>next()ä¸èƒ½å¾—åˆ°å¸¦æœ‰ç©ºæ ¼çš„å­—ç¬¦ä¸²</li></ul><p><strong>nextLine()</strong></p><ul><li>ä»¥Enterä½œä¸ºç»“æŸç¬¦ï¼Œå³è¿”å›è¾“å…¥å›è½¦ä¹‹å‰æ‰€æœ‰çš„å­—ç¬¦</li><li>nextLine()å¯ä»¥è·å–ç©ºç™½</li></ul><br><h2 id="é‡å†™Override-amp-é‡è½½Overload"><a href="#é‡å†™Override-amp-é‡è½½Overload" class="headerlink" title="é‡å†™Override &amp; é‡è½½Overload"></a>é‡å†™Override &amp; é‡è½½Overload</h2><table><thead><tr><th align="left">åŒºåˆ«ç‚¹</th><th align="left">é‡è½½æ–¹æ³•</th><th align="left">é‡å†™æ–¹æ³•</th></tr></thead><tbody><tr><td align="left">å‚æ•°åˆ—è¡¨</td><td align="left">å¿…é¡»ä¿®æ”¹</td><td align="left">ä¸€å®šä¸èƒ½ä¿®æ”¹</td></tr><tr><td align="left">è¿”å›ç±»å‹</td><td align="left">å¯ä»¥ä¿®æ”¹</td><td align="left">ä¸€å®šä¸èƒ½ä¿®æ”¹</td></tr><tr><td align="left">å¼‚å¸¸</td><td align="left">å¯ä»¥ä¿®æ”¹</td><td align="left">å¯ä»¥å‡å°‘æˆ–åˆ é™¤ï¼Œä¸€å®šä¸èƒ½æŠ›å‡ºæ–°çš„æˆ–è€…æ›´å¹¿çš„å¼‚å¸¸</td></tr><tr><td align="left">è®¿é—®</td><td align="left">å¯ä»¥ä¿®æ”¹</td><td align="left">ä¸€å®šä¸èƒ½åšæ›´ä¸¥æ ¼çš„é™åˆ¶ï¼ˆå¯ä»¥é™ä½é™åˆ¶ï¼‰</td></tr></tbody></table><p>æ–¹æ³•çš„é‡å†™(Overriding)å’Œé‡è½½(Overloading)æ˜¯javaå¤šæ€æ€§çš„ä¸åŒè¡¨ç°ï¼Œé‡å†™æ˜¯çˆ¶ç±»ä¸å­ç±»ä¹‹é—´å¤šæ€æ€§çš„ä¸€ç§è¡¨ç°ï¼Œé‡è½½å¯ä»¥ç†è§£æˆå¤šæ€çš„å…·ä½“è¡¨ç°å½¢å¼ã€‚</p><ul><li>(1)æ–¹æ³•é‡è½½æ˜¯ä¸€ä¸ªç±»ä¸­å®šä¹‰äº†å¤šä¸ªæ–¹æ³•åç›¸åŒ,è€Œä»–ä»¬çš„å‚æ•°çš„æ•°é‡ä¸åŒæˆ–æ•°é‡ç›¸åŒè€Œç±»å‹å’Œæ¬¡åºä¸åŒ,åˆ™ç§°ä¸ºæ–¹æ³•çš„é‡è½½(Overloading)ã€‚</li><li>(2)æ–¹æ³•é‡å†™æ˜¯åœ¨å­ç±»å­˜åœ¨æ–¹æ³•ä¸çˆ¶ç±»çš„æ–¹æ³•çš„åå­—ç›¸åŒ,è€Œä¸”å‚æ•°çš„ä¸ªæ•°ä¸ç±»å‹ä¸€æ ·,è¿”å›å€¼ä¹Ÿä¸€æ ·çš„æ–¹æ³•,å°±ç§°ä¸ºé‡å†™(Overriding)ã€‚</li><li>(3)æ–¹æ³•é‡è½½æ˜¯ä¸€ä¸ªç±»çš„å¤šæ€æ€§è¡¨ç°,è€Œæ–¹æ³•é‡å†™æ˜¯å­ç±»ä¸çˆ¶ç±»çš„ä¸€ç§å¤šæ€æ€§è¡¨ç°ã€‚</li></ul><img src="/.io//image-20220311151149162.png" alt="image-20220311151149162" style="zoom: 33%;"><br><h2 id="Java-ä¿®é¥°ç¬¦"><a href="#Java-ä¿®é¥°ç¬¦" class="headerlink" title="Java ä¿®é¥°ç¬¦"></a>Java ä¿®é¥°ç¬¦</h2><h4 id="è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦"><a href="#è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦" class="headerlink" title="è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦"></a>è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦</h4><ul><li><strong>default</strong> (å³é»˜è®¤ï¼Œä»€ä¹ˆä¹Ÿä¸å†™ï¼‰: åœ¨åŒä¸€åŒ…å†…å¯è§ï¼Œä¸ä½¿ç”¨ä»»ä½•ä¿®é¥°ç¬¦ã€‚ä½¿ç”¨å¯¹è±¡ï¼šç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•ã€‚</li><li><strong>private</strong> : åœ¨åŒä¸€ç±»å†…å¯è§ã€‚ä½¿ç”¨å¯¹è±¡ï¼šå˜é‡ã€æ–¹æ³•ã€‚ <strong>æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰</strong></li><li><strong>public</strong> : å¯¹æ‰€æœ‰ç±»å¯è§ã€‚ä½¿ç”¨å¯¹è±¡ï¼šç±»ã€æ¥å£ã€å˜é‡ã€æ–¹æ³•</li><li><strong>protected</strong> : å¯¹åŒä¸€åŒ…å†…çš„ç±»å’Œæ‰€æœ‰å­ç±»å¯è§ã€‚ä½¿ç”¨å¯¹è±¡ï¼šå˜é‡ã€æ–¹æ³•ã€‚ <strong>æ³¨æ„ï¼šä¸èƒ½ä¿®é¥°ç±»ï¼ˆå¤–éƒ¨ç±»ï¼‰</strong>ã€‚</li></ul><table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">å½“å‰ç±»</th><th align="left">åŒä¸€åŒ…å†…</th><th align="left">å­å­™ç±»(åŒä¸€åŒ…)</th><th align="left">å­å­™ç±»(ä¸åŒåŒ…)</th><th align="left">å…¶ä»–åŒ…</th></tr></thead><tbody><tr><td align="left"><code>public</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td></tr><tr><td align="left"><code>protected</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">Y/Nï¼ˆ<a href="https://www.runoob.com/java/java-modifier-types.html#protected-desc">è¯´æ˜</a>ï¼‰</td><td align="left">N</td></tr><tr><td align="left"><code>default</code></td><td align="left">Y</td><td align="left">Y</td><td align="left">Y</td><td align="left">N</td><td align="left">N</td></tr><tr><td align="left"><code>private</code></td><td align="left">Y</td><td align="left">N</td><td align="left">N</td><td align="left">N</td><td align="left">N</td></tr></tbody></table><p>ä½¿ç”¨é»˜è®¤è®¿é—®ä¿®é¥°ç¬¦å£°æ˜çš„å˜é‡å’Œæ–¹æ³•ï¼ˆä¸ä½¿ç”¨ä»»ä½•å…³é”®å­—ï¼‰ï¼Œå¯¹åŒä¸€ä¸ªåŒ…å†…çš„ç±»æ˜¯å¯è§çš„</p><h4 id="éè®¿é—®ä¿®é¥°ç¬¦"><a href="#éè®¿é—®ä¿®é¥°ç¬¦" class="headerlink" title="éè®¿é—®ä¿®é¥°ç¬¦"></a>éè®¿é—®ä¿®é¥°ç¬¦</h4><p><strong>static ä¿®é¥°ç¬¦</strong></p><ul><li><p><strong>é™æ€å˜é‡ï¼š</strong></p><p>static å…³é”®å­—ç”¨æ¥å£°æ˜ç‹¬ç«‹äºå¯¹è±¡çš„é™æ€å˜é‡ï¼Œæ— è®ºä¸€ä¸ªç±»å®ä¾‹åŒ–å¤šå°‘å¯¹è±¡ï¼Œå®ƒçš„é™æ€å˜é‡åªæœ‰ä¸€ä»½æ‹·è´ã€‚ é™æ€å˜é‡ä¹Ÿè¢«ç§°ä¸ºç±»å˜é‡ã€‚å±€éƒ¨å˜é‡ä¸èƒ½è¢«å£°æ˜ä¸º static å˜é‡ã€‚</p></li><li><p><strong>é™æ€æ–¹æ³•ï¼š</strong></p><p>static å…³é”®å­—ç”¨æ¥å£°æ˜ç‹¬ç«‹äºå¯¹è±¡çš„é™æ€æ–¹æ³•ã€‚é™æ€æ–¹æ³•ä¸èƒ½ä½¿ç”¨ç±»çš„éé™æ€å˜é‡ã€‚é™æ€æ–¹æ³•ä»å‚æ•°åˆ—è¡¨å¾—åˆ°æ•°æ®ï¼Œç„¶åè®¡ç®—è¿™äº›æ•°æ®ã€‚</p></li></ul><p><strong>final å˜é‡ï¼š</strong></p><p>final è¡¨ç¤ºâ€æœ€åçš„ã€æœ€ç»ˆçš„â€å«ä¹‰ï¼Œå˜é‡ä¸€æ—¦èµ‹å€¼åï¼Œä¸èƒ½è¢«é‡æ–°èµ‹å€¼ï¼Œå¯ç”¨æ¥è¡¨ç¤ºå¸¸é‡ã€‚</p><br><h2 id="é¢å‘å¯¹è±¡éƒ¨åˆ†"><a href="#é¢å‘å¯¹è±¡éƒ¨åˆ†" class="headerlink" title="é¢å‘å¯¹è±¡éƒ¨åˆ†"></a>é¢å‘å¯¹è±¡éƒ¨åˆ†</h2><h4 id="super-amp-this"><a href="#super-amp-this" class="headerlink" title="super &amp; this"></a>super &amp; this</h4><ul><li>super()è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¿…é¡»åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€ä¸ª</li><li>superå¿…é¡»åªèƒ½å‡ºç°åœ¨å­ç±»çš„æ–¹æ³•æˆ–æ„é€ æ–¹æ³•ä¸­</li><li>**super()å’Œthis()**ä¸èƒ½åŒæ—¶è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œå› ä¸ºthisä¹Ÿå¿…é¡»å†™åœ¨ç¬¬ä¸€è¡Œ</li><li>superä¸thisçš„åŒºåˆ«ï¼šsuperä»£è¡¨çˆ¶ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œåªèƒ½åœ¨ç»§æ‰¿æ¡ä»¶ä¸‹ä½¿ç”¨ï¼›thisè°ƒç”¨è‡ªèº«å¯¹è±¡ï¼Œæ²¡æœ‰ç»§æ‰¿ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚</li></ul><h4 id="instanceofçš„ç”¨æ³•"><a href="#instanceofçš„ç”¨æ³•" class="headerlink" title="instanceofçš„ç”¨æ³•"></a>instanceofçš„ç”¨æ³•</h4><p><code>result = object instanceof class </code></p><p>å¦‚æœobject æ˜¯ class çš„ä¸€ä¸ªå®ä¾‹ï¼Œåˆ™ instanceof è¿ç®—ç¬¦è¿”å› trueã€‚å¦‚æœ object ä¸æ˜¯æŒ‡å®šç±»çš„ä¸€ä¸ªå®ä¾‹ï¼Œæˆ–è€… object æ˜¯ nullï¼Œåˆ™è¿”å› falseã€‚</p><br><h2 id="Arraysç±»"><a href="#Arraysç±»" class="headerlink" title="Arraysç±»"></a>Arraysç±»</h2><p>Arrays å’Œ ArrayList çš„åŒºåˆ«ï¼š</p><ul><li><p>Arrayï¼šæœ€é«˜æ•ˆï¼Œä½†æ˜¯å…¶å®¹é‡å›ºå®šä¸”æ— æ³•åŠ¨æ€æ”¹å˜ï¼›</p></li><li><p>ArrayListï¼š å®¹é‡å¯åŠ¨æ€å¢é•¿ï¼Œä½†ç‰ºç‰²æ•ˆç‡ï¼›</p></li></ul><p>Arrayç±»ä¸­çš„æ–¹æ³•éƒ½æ˜¯staticä¿®é¥°çš„é™æ€æ–¹æ³•ï¼Œä½¿ç”¨æ—¶ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ï¼Œå¯ä»¥ä¸ç”¨å¯¹è±¡è°ƒç”¨ã€‚</p><p><strong>å¸¸ç”¨åŠŸèƒ½ï¼š</strong></p><ul><li>ç»™æ•°ç»„èµ‹å€¼ï¼šfillæ–¹æ³•ã€‚</li><li>æ’åºï¼šsortæ–¹æ³•ï¼Œå‡åºã€‚</li><li>æ¯”è¾ƒæ•°ç»„ï¼šequalsæ–¹æ³•æ¯”è¾ƒæ•°ç»„ä¸­å…ƒç´ å€¼æ˜¯å¦ç›¸ç­‰ã€‚</li><li>æŸ¥æ‰¾æ•°ç»„å…ƒç´ ï¼šbinarySearchå¯¹æ’åºå¥½çš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ³•æ“ä½œã€‚</li><li><strong>æ•°ç»„å.length</strong> å–æ•°ç»„çš„é•¿åº¦</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span>[] a = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">9000</span>,<span class="hljs-number">32145</span>,<span class="hljs-number">451</span>,<span class="hljs-number">21</span>&#125;;<br><br><span class="hljs-comment">//Arrays.toString æ‰“å°æ•°ç»„å…ƒç´ </span><br>System.out.println(Arrays.toString(a)); <span class="hljs-comment">//[1, 2, 3, 4, 9000, 32145, 451, 21]</span><br><br><span class="hljs-comment">//äºŒåˆ†æ³•æŸ¥æ‰¾æŸå€¼ è¿”å›ä¸‹æ ‡</span><br>System.out.println(Arrays.binarySearch(a, <span class="hljs-number">9000</span>)); <span class="hljs-comment">// 4</span><br><br><span class="hljs-comment">//å¡«å……</span><br>Arrays.fill(a,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">0</span>); <span class="hljs-comment">//æ•°ç»„[a[2]~a[4])ä¹‹é—´å¡«å……0ï¼ˆå·¦é—­å³å¼€ï¼‰</span><br>System.out.println(Arrays.toString(a)); <span class="hljs-comment">//[1, 2, 0, 0, 9000, 32145, 451, 21]</span><br><br><span class="hljs-comment">//å‡åºæ’åº</span><br>Arrays.sort(a);<br><br></code></pre></td></tr></table></figure><p><strong>æ•°ç»„åˆ‡ç‰‡</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Arrays;<br>Arrays.copyOfRange(original,<span class="hljs-keyword">int</span> from,<span class="hljs-keyword">int</span> to)<br></code></pre></td></tr></table></figure><p>original åŸå§‹æ•°ç»„<br>from èµ·å§‹ä½ç½®ä¸‹æ ‡<br>to ç»ˆæ­¢ä½ç½®ä¸‹æ ‡ <strong>ï¼ˆä¸å«toï¼Œå³å·¦é—­å³å¼€ï¼‰</strong></p><br><h2 id="å‡ ç§ç±»å‹æ•°ç»„çš„é»˜è®¤å€¼"><a href="#å‡ ç§ç±»å‹æ•°ç»„çš„é»˜è®¤å€¼" class="headerlink" title="å‡ ç§ç±»å‹æ•°ç»„çš„é»˜è®¤å€¼"></a>å‡ ç§ç±»å‹æ•°ç»„çš„é»˜è®¤å€¼</h2><ul><li><p>intç±»å‹å®šä¹‰çš„æ•°ç»„ï¼Œåˆå§‹åŒ–é»˜è®¤æ˜¯0</p></li><li><p>Stringç±»å‹å®šä¹‰çš„æ•°ç»„ï¼Œé»˜è®¤å€¼æ˜¯null</p></li><li><p>charç±»å‹å®šä¹‰çš„æ•°ç»„ï¼Œä½¿ç”¨UTF8å­—ç¬¦é›† ç»™å‡ºçš„ç»“æœæ˜¯0</p></li><li><p>doubleç±»å‹å®šä¹‰çš„æ•°ç»„ï¼Œé»˜è®¤å€¼æ˜¯0.0</p></li><li><p>floatç±»å‹å®šä¹‰çš„æ•°ç»„ï¼Œé»˜è®¤å€¼æ˜¯0.0</p></li><li><p>booleanç±»å‹å®šä¹‰çš„æ•°ç»„ï¼Œé»˜è®¤å€¼æ˜¯false</p></li></ul><p>è€Œä¸”ä¸ä»…ä»…æ˜¯æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ æœ‰é»˜è®¤å€¼ï¼Œæ‰€æœ‰çš„æ•°ç»„çš„é»˜è®¤å€¼å’Œä¸Šé¢çš„è§„åˆ™ä¸€æ ·</p><br><h2 id="Javaå®¹å™¨"><a href="#Javaå®¹å™¨" class="headerlink" title="Javaå®¹å™¨"></a>Javaå®¹å™¨</h2><p>å®¹å™¨ä¸»è¦åŒ…æ‹¬ Collection å’Œ Map ä¸¤ç§ï¼ŒCollection å­˜å‚¨ç€å¯¹è±¡çš„é›†åˆï¼Œè€Œ Map å­˜å‚¨ç€é”®å€¼å¯¹ï¼ˆä¸¤ä¸ªå¯¹è±¡ï¼‰çš„æ˜ å°„è¡¨ã€‚</p><img src="/.io//image-20220308194828646.png" alt="image-20220308194828646" style="zoom:67%;"><img src="/.io//image-20220308194845597.png" alt="image-20220308194845597" style="zoom:67%;"><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><p>ArrayList ç±»æ˜¯ä¸€ä¸ªå¯ä»¥åŠ¨æ€ä¿®æ”¹çš„æ•°ç»„ï¼Œä¸æ™®é€šæ•°ç»„çš„åŒºåˆ«å°±æ˜¯å®ƒæ˜¯æ²¡æœ‰å›ºå®šå¤§å°çš„é™åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ã€‚</p><p>æ³¨ï¼šéœ€è¦ç”¨<strong>å¼•ç”¨ç±»å‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.*;<br><br>ArrayList&lt;Integer&gt; myNumbers = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<br><br>myNumbers.add(<span class="hljs-number">127</span>);<br>myNumbers.add(<span class="hljs-number">100</span>);<br>myNumbers.add(<span class="hljs-number">520</span>);<br><br>Collections.sort(myNumbers);  <span class="hljs-comment">// æ•°å­—æ’åº</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : myNumbers) &#123;<br>System.out.println(i);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>toArray() æ–¹æ³•</strong>ï¼š</p><p>toArray() æ–¹æ³•å°† Arraylist å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„ã€‚</p><p>è¯­æ³•ï¼šarraylist.toArray(T[] arr)</p><p><strong>æ³¨ï¼šint ç±»å‹éœ€è¦å¾ªç¯èµ‹å€¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Comparator;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span></span>&#123;<br><br>        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåŠ¨æ€æ•°ç»„</span><br>        ArrayList&lt;String&gt; sites = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>       <br>        sites.add(<span class="hljs-string">&quot;Google&quot;</span>);<br>        sites.add(<span class="hljs-string">&quot;Taobao&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;ç½‘ç«™åˆ—è¡¨: &quot;</span> + sites);<br><br>        <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ String ç±»å‹çš„æ•°ç»„</span><br>        <span class="hljs-comment">// æ•°ç»„é•¿åº¦å’Œ ArrayList é•¿åº¦ä¸€æ ·</span><br>        String[] arr = <span class="hljs-keyword">new</span> String[sites.size()];<br><br>        <span class="hljs-comment">// å°†ArrayListå¯¹è±¡è½¬æ¢æˆæ•°ç»„</span><br>        sites.toArray(arr);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¸¸ç”¨æ–¹æ³•ï¼š</p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-add.html">add()</a></td><td align="left">å°†å…ƒç´ æ’å…¥åˆ°æŒ‡å®šä½ç½®çš„ arraylist ä¸­</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-clear.html">clear()</a></td><td align="left">åˆ é™¤ arraylist ä¸­çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-contains.html">contains()</a></td><td align="left">åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨ arraylist</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-get.html">get()</a></td><td align="left">é€šè¿‡ç´¢å¼•å€¼è·å– arraylist ä¸­çš„å…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-remove.html">remove()</a></td><td align="left">åˆ é™¤ arraylist é‡Œçš„å•ä¸ªå…ƒç´ </td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-size.html">size()</a></td><td align="left">è¿”å› arraylist é‡Œå…ƒç´ æ•°é‡</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-isempty.html">isEmpty()</a></td><td align="left">åˆ¤æ–­ arraylist æ˜¯å¦ä¸ºç©º</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-sort.html">sort()</a></td><td align="left">å¯¹ arraylist å…ƒç´ è¿›è¡Œæ’åº</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-toarray.html">toArray()</a></td><td align="left">å°† arraylist è½¬æ¢ä¸ºæ•°ç»„</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-arraylist-tostring.html">toString()</a></td><td align="left">å°† arraylist è½¬æ¢ä¸ºå­—ç¬¦ä¸²</td></tr></tbody></table><br><h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><p>HashMap æ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨ï¼Œå®ƒå­˜å‚¨çš„å†…å®¹æ˜¯é”®å€¼å¯¹(key-value)æ˜ å°„ã€‚</p><p>HashMap æ˜¯æ— åºçš„ï¼Œå³ä¸ä¼šè®°å½•æ’å…¥çš„é¡ºåºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java">HashMap&lt;Integer, String&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;Integer, String&gt;();<br><br>map.put(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;Google&quot;</span>);<br>map.put(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;Tencent&quot;</span>);<br><br><span class="hljs-comment">//map.replace(K key, V newValue)</span><br>map.replace(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;new&quot;</span>)<br><br><span class="hljs-comment">// è¾“å‡º key å’Œ value</span><br><span class="hljs-keyword">for</span> (Integer i : map.keySet()) &#123;<br>System.out.println(<span class="hljs-string">&quot;key: &quot;</span> + i + <span class="hljs-string">&quot; value: &quot;</span> + map.get(i));<br>&#125;<br><br><span class="hljs-comment">// è¾“å‡ºæ‰€æœ‰çš„value</span><br><span class="hljs-keyword">for</span>(String value: map.values()) &#123;<br>System.out.println(value);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>getOrDefault()</strong> æ–¹æ³•è·å–æŒ‡å®š key å¯¹åº”å¯¹ valueï¼Œå¦‚æœæ‰¾ä¸åˆ° key ï¼Œåˆ™è¿”å›è®¾ç½®çš„é»˜è®¤å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">HashMap&lt;Integer, String&gt; sites = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>String value2 = sites.getOrDefault(<span class="hljs-number">4</span>, <span class="hljs-string">&quot;Not Found&quot;</span>);<br></code></pre></td></tr></table></figure><p>æ³¨ï¼š<strong>HashMapçš„putä¼šè¿›è¡Œè¦†ç›–ï¼ˆæ–°çš„valueè¦†ç›–åŒkeyçš„æ—§çš„valueï¼‰</strong></p><p>å¸¸ç”¨æ–¹æ³•ï¼š</p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-clear.html">clear()</a></td><td align="left">åˆ é™¤ hashMap ä¸­çš„æ‰€æœ‰é”®/å€¼å¯¹</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-isempty.html">isEmpty()</a></td><td align="left">åˆ¤æ–­ hashMap æ˜¯å¦ä¸ºç©º</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-size.html">size()</a></td><td align="left">è®¡ç®— hashMap ä¸­é”®/å€¼å¯¹çš„æ•°é‡</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-put.html">put()</a></td><td align="left">å°†é”®/å€¼å¯¹æ·»åŠ åˆ° hashMap ä¸­</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-remove.html">remove()</a></td><td align="left">åˆ é™¤ hashMap ä¸­æŒ‡å®šé”® key çš„æ˜ å°„å…³ç³»</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-get.html">get()</a></td><td align="left">è·å–æŒ‡å®š key å¯¹åº”å¯¹ value</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-keyset.html">keySet</a>()</td><td align="left">è¿”å› hashMap ä¸­æ‰€æœ‰ key ç»„æˆçš„é›†åˆè§†å›¾ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-values.html">values()</a></td><td align="left">è¿”å› hashMap ä¸­å­˜åœ¨çš„æ‰€æœ‰ value å€¼ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-containskey.html">containsKey()</a></td><td align="left">æ£€æŸ¥ hashMap ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ key å¯¹åº”çš„æ˜ å°„å…³ç³»ã€‚</td></tr><tr><td align="left"><a href="https://www.runoob.com/java/java-hashmap-containsvalue.html">containsValue()</a></td><td align="left">æ£€æŸ¥ hashMap ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„ value å¯¹åº”çš„æ˜ å°„å…³ç³»ã€‚</td></tr></tbody></table><br><h2 id="é˜Ÿåˆ—ï¼ˆQueueï¼‰"><a href="#é˜Ÿåˆ—ï¼ˆQueueï¼‰" class="headerlink" title="é˜Ÿåˆ—ï¼ˆQueueï¼‰"></a>é˜Ÿåˆ—ï¼ˆQueueï¼‰</h2><p>é˜Ÿåˆ—æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå®ƒåªå…è®¸åœ¨è¡¨çš„å‰ç«¯è¿›è¡Œåˆ é™¤æ“ä½œï¼Œè€Œåœ¨è¡¨çš„åç«¯è¿›è¡Œæ’å…¥æ“ä½œã€‚</p><p>LinkedListç±»å®ç°äº†Queueæ¥å£ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠLinkedListå½“æˆQueueæ¥ç”¨ã€‚</p><p><strong>å®šä¹‰ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Queue&lt;String&gt; queue = <span class="hljs-keyword">new</span> LinkedList&lt;String&gt;();<br></code></pre></td></tr></table></figure><p><strong>å¸¸è§æ–¹æ³•ï¼š</strong></p><table><thead><tr><th align="center"><strong>æ–¹æ³•å</strong></th><th align="center"><strong>æ–¹æ³•è¯´æ˜</strong></th></tr></thead><tbody><tr><td align="center">offer</td><td align="center">æ·»åŠ ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›trueï¼Œå¦‚æœé˜Ÿåˆ—å·²æ»¡ï¼Œåˆ™è¿”å›false</td></tr><tr><td align="center">poll</td><td align="center">ç§»é™¤å¹¶è¿”é—®é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null</td></tr><tr><td align="center">peek</td><td align="center">è¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å›null</td></tr><tr><td align="center">isEmpty</td><td align="center">åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</td></tr><tr><td align="center">size</td><td align="center">è·å–é˜Ÿåˆ—å…ƒç´ ä¸ªæ•°</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.LinkedList;<br><span class="hljs-keyword">import</span> java.util.Queue;<br> <br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//add()å’Œremove()æ–¹æ³•åœ¨å¤±è´¥çš„æ—¶å€™ä¼šæŠ›å‡ºå¼‚å¸¸(ä¸æ¨è)</span><br>        Queue&lt;String&gt; queue = <span class="hljs-keyword">new</span> LinkedList&lt;String&gt;();<br>        <span class="hljs-comment">//æ·»åŠ å…ƒç´ </span><br>        queue.offer(<span class="hljs-string">&quot;a&quot;</span>);<br>        queue.offer(<span class="hljs-string">&quot;b&quot;</span>);<br>        queue.offer(<span class="hljs-string">&quot;c&quot;</span>);<br>        queue.offer(<span class="hljs-string">&quot;d&quot;</span>);<br>        queue.offer(<span class="hljs-string">&quot;e&quot;</span>);<br>        <span class="hljs-keyword">for</span>(String q : queue)&#123;<br>            System.out.println(q);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;poll=&quot;</span>+queue.poll()); <span class="hljs-comment">//è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶åœ¨é˜Ÿåˆ—ä¸­åˆ é™¤</span><br>        <span class="hljs-keyword">for</span>(String q : queue)&#123;<br>            System.out.println(q);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;element=&quot;</span>+queue.element()); <span class="hljs-comment">//è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  </span><br>        <span class="hljs-keyword">for</span>(String q : queue)&#123;<br>            System.out.println(q);<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;===&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;peek=&quot;</span>+queue.peek()); <span class="hljs-comment">//è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´  </span><br>        <span class="hljs-keyword">for</span>(String q : queue)&#123;<br>            System.out.println(q);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">a<br>b<br>c<br>d<br><span class="hljs-section">e</span><br><span class="hljs-section">===</span><br>poll=a<br>b<br>c<br>d<br><span class="hljs-section">e</span><br><span class="hljs-section">===</span><br>element=b<br>b<br>c<br>d<br><span class="hljs-section">e</span><br><span class="hljs-section">===</span><br>peek=b<br>b<br>c<br>d<br>e<br></code></pre></td></tr></table></figure><h2 id="å †æ ˆï¼ˆStackï¼‰"><a href="#å †æ ˆï¼ˆStackï¼‰" class="headerlink" title="å †æ ˆï¼ˆStackï¼‰"></a>å †æ ˆï¼ˆStackï¼‰</h2><p>å®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Deque&lt;Integer&gt; stack = <span class="hljs-keyword">new</span> ArrayDeque&lt;Integer&gt;();<br></code></pre></td></tr></table></figure><p>ç›¸å…³æ“ä½œï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">stack.peek()<span class="hljs-comment">//å–æ ˆé¡¶</span><br>    <br>stack.pop();<span class="hljs-comment">//å»é™¤æ ˆé¡¶</span><br><br>stack.push(x);<span class="hljs-comment">//æ·»åŠ å…ƒç´ </span><br><br>stack.size();<span class="hljs-comment">//å–å †æ ˆå…ƒç´ ä¸ªæ•°</span><br><br>stack.isEmpty();<span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span><br></code></pre></td></tr></table></figure><br><h2 id="ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriorityQueueï¼‰"><a href="#ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriorityQueueï¼‰" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriorityQueueï¼‰"></a>ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆPriorityQueueï¼‰</h2><p>ä¸æŒ‡å®šComparatoræ—¶é»˜è®¤ä¸º<a href="https://so.csdn.net/so/search?q=%E6%9C%80%E5%B0%8F%E5%A0%86&spm=1001.2101.3001.7020">æœ€å°å †</a>ï¼ˆä»å°åˆ°å¤§æ’åºï¼‰ï¼Œé€šè¿‡ä¼ å…¥è‡ªå®šä¹‰çš„Comparatorå‡½æ•°å¯ä»¥å®ç°å¤§é¡¶å †</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">PriorityQueue&lt;Integer&gt; minHeap = <span class="hljs-keyword">new</span> PriorityQueue&lt;Integer&gt;(); <span class="hljs-comment">//å°é¡¶å †ï¼Œé»˜è®¤å®¹é‡ä¸º11</span><br>PriorityQueue&lt;Integer&gt; maxHeap = <span class="hljs-keyword">new</span> PriorityQueue&lt;Integer&gt;(<span class="hljs-number">11</span>,<span class="hljs-keyword">new</span> Comparator&lt;Integer&gt;()&#123; <span class="hljs-comment">//å¤§é¡¶å †ï¼Œå®¹é‡11</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(Integer i1,Integer i2)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> i2-i1;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><p>ç›¸å…³ APIï¼š</p><table><thead><tr><th>PriorityQueue()</th><th>ä½¿ç”¨é»˜è®¤çš„åˆå§‹å®¹é‡ï¼ˆ11ï¼‰åˆ›å»ºä¸€ä¸ª PriorityQueueï¼Œå¹¶æ ¹æ®å…¶è‡ªç„¶é¡ºåºå¯¹å…ƒç´ è¿›è¡Œæ’åº</th></tr></thead><tbody><tr><td>add(E e)</td><td>å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥æ­¤ä¼˜å…ˆçº§é˜Ÿåˆ—</td></tr><tr><td>clear()</td><td>ä»æ­¤ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­ç§»é™¤æ‰€æœ‰å…ƒç´ </td></tr><tr><td>contains(Object o)</td><td>å¦‚æœæ­¤é˜Ÿåˆ—åŒ…å«æŒ‡å®šçš„å…ƒç´ ï¼Œåˆ™è¿”å› true</td></tr><tr><td>offer(E e)</td><td>å°†æŒ‡å®šçš„å…ƒç´ æ’å…¥æ­¤ä¼˜å…ˆçº§é˜Ÿåˆ—</td></tr><tr><td>peek()</td><td>è·å–ä½†ä¸ç§»é™¤æ­¤é˜Ÿåˆ—çš„å¤´ï¼›å¦‚æœæ­¤é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å› null</td></tr><tr><td>poll()</td><td>è·å–å¹¶ç§»é™¤æ­¤é˜Ÿåˆ—çš„å¤´ï¼Œå¦‚æœæ­¤é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å› null</td></tr><tr><td>remove(Object o)</td><td>ä»æ­¤é˜Ÿåˆ—ä¸­ç§»é™¤æŒ‡å®šå…ƒç´ çš„å•ä¸ªå®ä¾‹ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</td></tr><tr><td>size()</td><td>è¿”å›æ­¤ collection ä¸­çš„å…ƒç´ æ•°</td></tr></tbody></table><br><h2 id="äºŒç»´æ•°ç»„"><a href="#äºŒç»´æ•°ç»„" class="headerlink" title="äºŒç»´æ•°ç»„"></a>äºŒç»´æ•°ç»„</h2><p><strong>åˆ›å»ºåŠ¨æ€ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;List&lt;Integer&gt;&gt; result = <span class="hljs-keyword">new</span> LinkedList&lt;List&lt;Integer&gt;&gt;();<br>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; cutPlan = <span class="hljs-keyword">new</span> ArrayList&lt;ArrayList&lt;Integer&gt;&gt;();<br><br></code></pre></td></tr></table></figure><p><strong>æ·»åŠ å…ƒç´ ï¼š</strong></p><p>æ·»åŠ ä¸€ç»´æ•°ç»„:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">ArrayList&lt;String&gt; list1, list2, list3;<br>list1 = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>list1.add(<span class="hljs-string">&quot;a1&quot;</span>);<br><br>list2 = <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br>list2.add(<span class="hljs-string">&quot;b1&quot;</span>);<br><br>ArrayList&lt;ArrayList&lt;String&gt;&gt; sum = <span class="hljs-keyword">new</span> ArrayList&lt;ArrayList&lt;String&gt;&gt;();<br>sum.add(list1);<br>sum.add(list2);<br></code></pre></td></tr></table></figure><p>å¾€äºŒç»´æ•°ç»„é‡Œçš„ä¸€ç»´æ•°ç»„é‡Œæ·»åŠ ï¼Œåˆ é™¤æ•°:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">((ArrayList)sum.get(i)).add(<span class="hljs-number">5</span>);<br><br>((ArrayList)sum.get(i)).remove(<span class="hljs-number">3</span>);<br></code></pre></td></tr></table></figure><p>è¾“å‡ºæ•°ç»„:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;c.size();i++)&#123; <br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;((ArrayList)c.get(i)).size();j++) &#123;<br>String str = ((ArrayList)c.get(i)).get(j).toString();<br>System.out.print(str + <span class="hljs-string">&quot; &quot;</span>);<br>&#125;<br>System.out.println(<span class="hljs-string">&quot;&quot;</span>);<br>&#125; <br></code></pre></td></tr></table></figure><br><h2 id="sort-è‡ªå®šä¹‰æ’åº"><a href="#sort-è‡ªå®šä¹‰æ’åº" class="headerlink" title="sort() è‡ªå®šä¹‰æ’åº"></a>sort() è‡ªå®šä¹‰æ’åº</h2><h4 id="ä½¿ç”¨ç®­å¤´å‡½æ•°"><a href="#ä½¿ç”¨ç®­å¤´å‡½æ•°" class="headerlink" title="ä½¿ç”¨ç®­å¤´å‡½æ•°"></a>ä½¿ç”¨ç®­å¤´å‡½æ•°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">String[] stringArrays = &#123;<span class="hljs-string">&quot;Rafael Nadal&quot;</span>, <span class="hljs-string">&quot;Novak Djokovic&quot;</span>, <span class="hljs-string">&quot;Stanislas Wawrinka&quot;</span>&#125;;<br><br>Arrays.sort(stringArrays, (String s1, String s2) -&gt; (s1.compareTo(s2)));<br></code></pre></td></tr></table></figure><h4 id="ArrayList-1"><a href="#ArrayList-1" class="headerlink" title="ArrayList"></a><strong>ArrayList</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">ArrayList&lt;String&gt; sites = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>sites.sort(Comparator.naturalOrder());<br><span class="hljs-comment">//ä¸¤è€…ç­‰ä»·</span><br>Collections.sort(sites); <br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åŸå‹ï¼šarraylist.sort(Comparator c)</span><br>arraylist.sort(Comparator.reverseOrder()) <span class="hljs-comment">//é™åº</span><br></code></pre></td></tr></table></figure><p>or ï¼š</p><p>é€šè¿‡ <code>Comparator&lt;T&gt;()</code> è‡ªå®šä¹‰æ’åº</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåŠ¨æ€æ•°ç»„</span><br>ArrayList&lt;Integer&gt; arr = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<br><br>arr.add(<span class="hljs-number">1</span>);<br>arr.add(<span class="hljs-number">5</span>);<br>arr.add(<span class="hljs-number">3</span>);<br>arr.add(<span class="hljs-number">2</span>);<br><br>System.out.println(<span class="hljs-string">&quot;ä¸æ’åº: &quot;</span> + arr);<br><br>arr.sort(<span class="hljs-keyword">new</span> Comparator&lt;Integer&gt;() &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(Integer a, Integer b)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> b-a;<br>    &#125;<br>&#125;);<br>System.out.println(<span class="hljs-string">&quot;æ’åºå: &quot;</span> + arr);<br></code></pre></td></tr></table></figure><h4 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a><strong>Arrays</strong></h4><p>æ–¹å¼ä¸€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span>[][] a = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n][<span class="hljs-number">2</span>];<br><br>Arrays.sort(a, (o1, o2) -&gt; o1[<span class="hljs-number">0</span>] - o2[<span class="hljs-number">0</span>]);  <span class="hljs-comment">//å‡åº</span><br></code></pre></td></tr></table></figure><p>æ³¨ï¼š</p><ul><li>å‡åºæ˜¯å‰è€…å‡å»åè€…ï¼ˆo1 - o2ï¼‰</li><li>é™åºæ˜¯åè€…å‡å»å‰è€…ï¼ˆo2 - o1ï¼‰</li></ul><p><strong>ï¼ˆå¯ä»¥ç†è§£ä¸ºè¿”å› -1 çš„å†…å®¹ï¼‰</strong></p><p>æ–¹å¼äºŒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">Integer arr[] = &#123;<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">6</span>, -<span class="hljs-number">3</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">7</span>, -<span class="hljs-number">9</span>, <span class="hljs-number">4</span>&#125;;<br><br>Arrays.sort(arr, <span class="hljs-keyword">new</span> Comparator&lt;Integer&gt;() &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(Integer a, Integer b)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> b-a;<br>    &#125;<br>&#125;);<br>System.out.println(<span class="hljs-string">&quot;æ’åºå: \n&quot;</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;arr.length;i++)<br>    System.out.print(String.valueOf(arr[i]) + <span class="hljs-string">&#x27; &#x27;</span>);<br></code></pre></td></tr></table></figure><p>æ³¨ï¼šint[] è½¬ Integer[]</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">Integer[] integers1 = Arrays.stream(data).boxed().toArray(Integer[]::<span class="hljs-keyword">new</span>);<br></code></pre></td></tr></table></figure><br><h2 id="List-å’Œ-ArrayList-çš„åŒºåˆ«"><a href="#List-å’Œ-ArrayList-çš„åŒºåˆ«" class="headerlink" title="List å’Œ ArrayList çš„åŒºåˆ«"></a>List å’Œ ArrayList çš„åŒºåˆ«</h2><p>List æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œ ArrayList æ˜¯ List çš„å®ç°ç±»ã€‚å› æ­¤ List ä¸èƒ½ä½œä¸ºå®šä¹‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œåªèƒ½ä½œä¸ºå¼•ç”¨ã€‚</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haxe">List list1 = <span class="hljs-keyword">new</span> <span class="hljs-type">List</span>();<span class="hljs-comment">//è¿™ç§å®šä¹‰è¯­å¥å°±æ˜¯é”™è¯¯çš„</span><br>List list2 = <span class="hljs-keyword">new</span> <span class="hljs-type">ArrayList</span>();<span class="hljs-comment">//è¿™ç§å®šä¹‰è¯­å¥å°±æ˜¯æ­£ç¡®çš„</span><br>ArrayList list3 = <span class="hljs-keyword">new</span> <span class="hljs-type">ArrayList</span>();<span class="hljs-comment">//è¿™ä¸ªè¯­å¥å½“ç„¶ä¹Ÿæ˜¯æ­£ç¡®çš„</span><br></code></pre></td></tr></table></figure><p>å·¦è¾¹å†™  ArrayList è¿˜æ˜¯ List è¦çœ‹å…·ä½“è¿”å›ç±»å‹éœ€æ±‚</p><br><h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æ¥å£å°±æ˜¯è§„èŒƒï¼Œå®šä¹‰ä¸€ç»„è§„åˆ™ï¼Œå®ƒçš„æœ¬è´¨æ˜¯å¥‘çº¦ï¼Œåˆ¶å®šå¥½ä¹‹åå¤§å®¶éƒ½è¦éµå®ˆã€‚</p><p>çº¦æŸå’Œå®ç°åˆ†ç¦» -&gt; é¢å‘æ¥å£ç¼–ç¨‹</p><h4 id="ä½œç”¨ï¼š"><a href="#ä½œç”¨ï¼š" class="headerlink" title="ä½œç”¨ï¼š"></a>ä½œç”¨ï¼š</h4><ul><li>çº¦æŸ</li><li>å®šä¹‰ä¸€äº›æ–¹æ³•ï¼Œè®©ä¸åŒçš„äººå®ç°</li></ul><h4 id="æ¥å£ç‰¹æ€§ï¼š"><a href="#æ¥å£ç‰¹æ€§ï¼š" class="headerlink" title="æ¥å£ç‰¹æ€§ï¼š"></a><strong>æ¥å£ç‰¹æ€§</strong>ï¼š</h4><ul><li><p>æ¥å£ä¸­æ¯ä¸€ä¸ªæ–¹æ³•æ˜¯éšå¼æŠ½è±¡çš„,æ¥å£ä¸­çš„æ–¹æ³•ä¼šè¢«éšå¼çš„æŒ‡å®šä¸º <strong>public abstract</strong>ï¼ˆåªèƒ½æ˜¯ public abstractï¼Œå…¶ä»–ä¿®é¥°ç¬¦éƒ½ä¼šæŠ¥é”™ï¼‰ã€‚</p></li><li><p>æ¥å£ä¸­å¯ä»¥å«æœ‰å˜é‡ï¼Œä½†æ˜¯æ¥å£ä¸­çš„å˜é‡ä¼šè¢«éšå¼çš„æŒ‡å®šä¸º <strong>public static final</strong> å˜é‡ï¼ˆå¹¶ä¸”åªèƒ½æ˜¯ publicï¼Œç”¨ private ä¿®é¥°ä¼šæŠ¥ç¼–è¯‘é”™è¯¯ï¼‰ã€‚</p></li><li><p>æ¥å£ä¸­æ¯ä¸€ä¸ªæ–¹æ³•ä¹Ÿæ˜¯éšå¼æŠ½è±¡çš„ï¼Œå£°æ˜æ—¶åŒæ ·ä¸éœ€è¦<strong>abstract</strong>å…³é”®å­—ã€‚</p></li><li><p>æ¥å£ä¸­çš„æ–¹æ³•æ˜¯ä¸èƒ½åœ¨æ¥å£ä¸­å®ç°çš„ï¼Œåªèƒ½ç”±å®ç°æ¥å£çš„ç±»æ¥å®ç°æ¥å£ä¸­çš„æ–¹æ³•ã€‚</p></li><li><p>æ¥å£ä¸­çš„æ–¹æ³•éƒ½æ˜¯å…¬æœ‰çš„ã€‚</p></li></ul><h4 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a><strong>å£°æ˜</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Java">[å¯è§åº¦] <span class="hljs-class"><span class="hljs-keyword">interface</span> æ¥å£åç§° [<span class="hljs-keyword">extends</span> å…¶ä»–çš„æ¥å£å] </span>&#123;       <br>    <span class="hljs-comment">// å£°æ˜å˜é‡  </span><br>    <br>    <span class="hljs-comment">// æŠ½è±¡æ–¹æ³• </span><br>&#125;<br><br><br><br><br><span class="hljs-keyword">public</span>  <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> </span>&#123;<br>    <span class="hljs-comment">// å®šä¹‰çš„å±æ€§é»˜è®¤æ˜¯é™æ€å¸¸é‡ï¼špublic static final</span><br>    <span class="hljs-keyword">int</span> age = <span class="hljs-number">10</span>;<br><br>    <span class="hljs-comment">// å®šä¹‰çš„æ–¹æ³•æ˜¯å…¬å…±æŠ½è±¡ï¼špublic abstract</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(String str)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(String str)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(String str)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">(String str)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a><strong>å®ç°</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æŠ½è±¡ç±»ç”¨ç»§æ‰¿ï¼šextends</span><br><span class="hljs-comment"> * æ¥å£ç”¨å®ç°ï¼šimplements</span><br><span class="hljs-comment"> * ç±»å¯ä»¥å®ç°æ¥å£,éœ€è¦ç°å®æ‰€æœ‰æ–¹æ³•ï¼</span><br><span class="hljs-comment"> * åˆ©ç”¨æ¥å£å®ç°ä¼ªå¤šç»§æ‰¿~</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span>,<span class="hljs-title">TimeService</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(String str)</span> </span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">(String str)</span> </span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(String str)</span> </span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">(String str)</span> </span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">timer</span><span class="hljs-params">()</span> </span>&#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ¥å£ä¸ç±»çš„åŒºåˆ«ï¼š</strong></p><ul><li>æ¥å£ä¸èƒ½ç”¨æˆ·å®ä¾‹åŒ–å¯¹è±¡ã€‚</li><li>æ¥å£æ²¡æœ‰æ„é€ æ–¹æ³•ã€‚</li><li>æ¥å£ä¸­æ‰€æœ‰çš„æ–¹æ³•å¿…é¡»æ˜¯æŠ½è±¡æ–¹æ³•ã€‚</li><li>æ¥å£ä¸èƒ½åŒ…å«æˆå‘˜å˜é‡ï¼Œé™¤äº†staticå’Œfinalå˜é‡ã€‚</li><li>æ¥å£ä¸æ˜¯è¢«ç±»é›†æˆï¼Œè€Œæ˜¯è¢«ç±»å®ç°ã€‚</li><li>æ¥å£æ”¯æŒå¤šç»§æ‰¿ã€‚</li></ul><br><h2 id="å­—ç¬¦ä¸²ç›¸å…³æ“ä½œ"><a href="#å­—ç¬¦ä¸²ç›¸å…³æ“ä½œ" class="headerlink" title="å­—ç¬¦ä¸²ç›¸å…³æ“ä½œ"></a>å­—ç¬¦ä¸²ç›¸å…³æ“ä½œ</h2><h4 id="contains-æ–¹æ³•"><a href="#contains-æ–¹æ³•" class="headerlink" title="contains æ–¹æ³•"></a>contains æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        String myStr = <span class="hljs-string">&quot;Runoob&quot;</span>;<br>        System.out.println(myStr.contains(<span class="hljs-string">&quot;Run&quot;</span>));<br>        System.out.println(myStr.contains(<span class="hljs-string">&quot;o&quot;</span>));<br>        System.out.println(myStr.contains(<span class="hljs-string">&quot;s&quot;</span>));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs actionscript"><span class="hljs-literal">true</span><br><span class="hljs-literal">true</span><br><span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure><h4 id="åˆ†å‰²å­—ç¬¦ä¸²"><a href="#åˆ†å‰²å­—ç¬¦ä¸²" class="headerlink" title="åˆ†å‰²å­—ç¬¦ä¸²"></a>åˆ†å‰²å­—ç¬¦ä¸²</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">String a=<span class="hljs-string">&quot;let1 art can&quot;</span><br>String[] splitA = a.split(<span class="hljs-string">&quot; &quot;</span>, <span class="hljs-number">2</span>);<br><br>splitA.get[<span class="hljs-number">0</span>] â€”â€”&gt; let1<br>splitA.get[<span class="hljs-number">1</span>] â€”â€”&gt; art can<br></code></pre></td></tr></table></figure><p>split(String regex, int limit)ï¼Œlimitè¡¨ç¤ºåˆ†å‰²çš„ä»½æ•°ã€‚</p><h4 id="å­—ç¬¦ä¸²åœ¨æœ«å°¾ç§»é™¤-æ·»åŠ å­—ç¬¦"><a href="#å­—ç¬¦ä¸²åœ¨æœ«å°¾ç§»é™¤-æ·»åŠ å­—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²åœ¨æœ«å°¾ç§»é™¤/æ·»åŠ å­—ç¬¦"></a>å­—ç¬¦ä¸²åœ¨æœ«å°¾ç§»é™¤/æ·»åŠ å­—ç¬¦</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">String str=<span class="hljs-string">&quot;abc&quot;</span>;<br>str+=<span class="hljs-string">&quot;defg&quot;</span>;<span class="hljs-comment">//æ·»åŠ </span><br>str=str.substring(<span class="hljs-number">0</span>,t.length()-<span class="hljs-number">1</span>);<span class="hljs-comment">//ç§»é™¤å·¦é—­å³å¼€åŒºé—´</span><br></code></pre></td></tr></table></figure><h4 id="å•ä¸ª-String-çš„å­—ç¬¦æ’åº"><a href="#å•ä¸ª-String-çš„å­—ç¬¦æ’åº" class="headerlink" title="å•ä¸ª String çš„å­—ç¬¦æ’åº"></a>å•ä¸ª String çš„å­—ç¬¦æ’åº</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">String original = <span class="hljs-string">&quot;edcba&quot;</span>;<br><span class="hljs-keyword">char</span>[] chars = original.toCharArray();<br>Arrays.sort(chars);<br>String sorted = <span class="hljs-keyword">new</span> String(chars);<br>System.out.println(sorted);<br></code></pre></td></tr></table></figure><h4 id="Stringç±»å‹çš„charAt"><a href="#Stringç±»å‹çš„charAt" class="headerlink" title="Stringç±»å‹çš„charAt()"></a>Stringç±»å‹çš„charAt()</h4><p>charAt() æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šç´¢å¼•å¤„çš„å­—ç¬¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">String s = <span class="hljs-string">&quot;www.runoob.com&quot;</span>;<br><span class="hljs-keyword">char</span> result = s.charAt(<span class="hljs-number">6</span>);<br>System.out.println(result);<br></code></pre></td></tr></table></figure><p>Outputï¼šn</p><h4 id="compareTo-æ–¹æ³•"><a href="#compareTo-æ–¹æ³•" class="headerlink" title="compareTo() æ–¹æ³•"></a>compareTo() æ–¹æ³•</h4><p>æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test</span> </span>&#123;<br> <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span> </span>&#123;<br>        String str1 = <span class="hljs-string">&quot;Strings&quot;</span>;<br>        String str2 = <span class="hljs-string">&quot;Strings&quot;</span>;<br>        String str3 = <span class="hljs-string">&quot;Strings123&quot;</span>;<br>        String str4 = <span class="hljs-string">&quot;Tall&quot;</span>;<br> <br>        <span class="hljs-keyword">int</span> r12 = str1.compareTo( str2 );<br>        System.out.println(r12);<br>      <br>        <span class="hljs-keyword">int</span> r23 = str2.compareTo( str3 );<br>        System.out.println(r23);<br>     <br>        <span class="hljs-keyword">int</span> r31 = str3.compareTo( str1 );<br>        System.out.println(r31);<br>        <br>        <span class="hljs-keyword">int</span> r14 = str1.compareTo( str4 );<br>        System.out.println(r14);<br>    &#125;<br>&#125;<br><br><br><br>Outputï¼š<br><span class="hljs-number">0</span><br>-<span class="hljs-number">3</span><br><span class="hljs-number">3</span><br>-<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><strong>è¯´æ˜ï¼š</strong></p><ul><li><p>å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦å’Œå‚æ•°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸ç­‰ï¼Œç»“æŸæ¯”è¾ƒï¼Œè¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ASCIIç å·®å€¼ã€‚</p></li><li><p>å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦å’Œå‚æ•°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸ç­‰ï¼Œåˆ™ä»¥ç¬¬äºŒä¸ªå­—ç¬¦å’Œå‚æ•°çš„ç¬¬äºŒä¸ªå­—ç¬¦åšæ¯”è¾ƒï¼Œä»¥æ­¤ç±»æ¨,ç›´è‡³ä¸ç­‰ä¸ºæ­¢ï¼Œè¿”å›è¯¥å­—ç¬¦çš„ASCIIç å·®å€¼ã€‚ <strong>å¦‚æœä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ä¸€æ ·é•¿ï¼Œå¯å¯¹åº”å­—ç¬¦åˆå®Œå…¨ä¸€æ ·</strong>ï¼Œåˆ™è¿”å›ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦å·®å€¼ã€‚</p></li></ul><h4 id="String-å’Œ-char-è½¬æ¢"><a href="#String-å’Œ-char-è½¬æ¢" class="headerlink" title="String å’Œ char[] è½¬æ¢"></a>String å’Œ char[] è½¬æ¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// String ----&gt; char[]</span><br>String a=<span class="hljs-string">&quot;123&quot;</span>;<br><span class="hljs-keyword">char</span> aa[]=a.toCharArray();<br><br><br><span class="hljs-comment">// char[] ----&gt; String</span><br>String a=<span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;aa.length;i++)<br>    a+=aa[i];<br></code></pre></td></tr></table></figure><br><h2 id="StringBuilder-ä½¿ç”¨"><a href="#StringBuilder-ä½¿ç”¨" class="headerlink" title="StringBuilder ä½¿ç”¨"></a>StringBuilder ä½¿ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">replaceSpaces</span><span class="hljs-params">(String S, <span class="hljs-keyword">int</span> length)</span> </span>&#123;<br><br>    StringBuilder stringBuilder = <span class="hljs-keyword">new</span> StringBuilder();<br>    <br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>        <span class="hljs-keyword">char</span> ch = S.charAt(i);<br>        <span class="hljs-keyword">if</span> (ch == <span class="hljs-string">&#x27; &#x27;</span>)<br>            stringBuilder.append(<span class="hljs-string">&quot;%20&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            stringBuilder.append(ch);<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> stringBuilder.toString();<br>    <br>&#125;<br></code></pre></td></tr></table></figure><br><h2 id="String-å’Œ-int-äº’ç›¸è½¬æ¢"><a href="#String-å’Œ-int-äº’ç›¸è½¬æ¢" class="headerlink" title="String å’Œ int äº’ç›¸è½¬æ¢"></a>String å’Œ int äº’ç›¸è½¬æ¢</h2><h4 id="String-â€”-gt-int"><a href="#String-â€”-gt-int" class="headerlink" title="String â€”&gt; int"></a>String â€”&gt; int</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">String number = <span class="hljs-string">&quot;-7&quot;</span>;<br><br><span class="hljs-comment">// result = -7</span><br><span class="hljs-keyword">int</span> result = Integer.parseInt(number);<br></code></pre></td></tr></table></figure><h4 id="int-â€”-gt-String"><a href="#int-â€”-gt-String" class="headerlink" title="int â€”&gt; String"></a>int â€”&gt; String</h4><p>1ã€String.valueOf(int i)</p><p>2ã€<strong>Integer.toString(int i)</strong></p><br><h2 id="äºŒåˆ†æŸ¥æ‰¾binarySearch"><a href="#äºŒåˆ†æŸ¥æ‰¾binarySearch" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾binarySearch"></a>äºŒåˆ†æŸ¥æ‰¾binarySearch</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span>[] arr = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, <span class="hljs-number">23</span>, <span class="hljs-number">35</span>, <span class="hljs-number">55</span>, <span class="hljs-number">66</span>, <span class="hljs-number">88</span>&#125;;<br>    <span class="hljs-comment">//äºŒåˆ†æŸ¥æ‰¾</span><br>    <span class="hljs-keyword">int</span> index1 = Arrays.binarySearch(arr,<span class="hljs-number">66</span>);<br>    <span class="hljs-keyword">int</span> index2 = Arrays.binarySearch(arr,<span class="hljs-number">18</span>);<br>    <span class="hljs-comment">//å¦‚æœéœ€è¦æŸ¥æ‰¾çš„æ•°æ®å­˜åœ¨ï¼Œå°±è¿”å›æ•°ç»„ä¸­å¯¹åº”æ•°æ®çš„ä¸‹æ ‡å€¼ï¼Œ</span><br>    <span class="hljs-comment">// å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›å€¼ä¸ºï¼š   -ï¼ˆåº”è¯¥æ’å…¥çš„ä½ç½®ç´¢å¼•+1ï¼‰</span><br>    System.out.println(index1);   <br>    System.out.println(index2);    <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs diff">è¾“å‡ºç»“æœï¼š<br>5<br><span class="hljs-deletion">-3</span><br></code></pre></td></tr></table></figure><br><h2 id="intå’ŒlongèŒƒå›´"><a href="#intå’ŒlongèŒƒå›´" class="headerlink" title="intå’ŒlongèŒƒå›´"></a>intå’ŒlongèŒƒå›´</h2><p>intï¼š</p><p>æœ€å°å€¼ï¼šInteger.MIN_VALUE= -2147483648 ï¼ˆ-2çš„31æ¬¡æ–¹ï¼‰<br>æœ€å¤§å€¼ï¼šInteger.MAX_VALUE= 2147483647 ï¼ˆ2çš„31æ¬¡æ–¹-1ï¼‰</p><p>longï¼š</p><p>æœ€å°å€¼ï¼šLong.MIN_VALUE=-9223372036854775808 ï¼ˆ-2çš„63æ¬¡æ–¹ï¼‰<br>æœ€å¤§å€¼ï¼šLong.MAX_VALUE=9223372036854775807 ï¼ˆ2çš„63æ¬¡æ–¹-1ï¼‰</p><br><h2 id="è·å–-int-èŒƒå›´"><a href="#è·å–-int-èŒƒå›´" class="headerlink" title="è·å– int èŒƒå›´"></a>è·å– int èŒƒå›´</h2><p><code>Integer.MAX_VALUE</code>  â€”â€” int çš„æœ€å¤§å€¼</p><p><code>Integer.MIN_VALUE</code>  â€”â€” int çš„æœ€å°å€¼</p><br><h2 id="Java-çš„å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#Java-çš„å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="Java çš„å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>Java çš„å¼ºåˆ¶ç±»å‹è½¬æ¢</h2><p>ç¬¬ä¸€ç§æ˜¯å‘ä¸Šè½¬å‹</p><p>å¯¹äºåŸºç¡€æ•°æ®ç±»å‹ , å¯ä»¥è‡ªåŠ¨è½¬å‹ , æ¯”å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">int</span> a = <span class="hljs-number">10</span>;<br><br><span class="hljs-keyword">long</span> b = a;<br><br>è¿™â¾¥å°±æ˜¯æŠŠ<span class="hljs-keyword">int</span>å‹è½¬æˆäº†<span class="hljs-keyword">long</span>å‹<br></code></pre></td></tr></table></figure><p>ç¬¬â¼†ç§æ˜¯å‘ä¸‹è½¬å‹ , ä¹Ÿå°±æ˜¯å¼ºåˆ¶</p><p>è¿™ç§éœ€è¦å¼ºè½¬ , æ¯”å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">long</span> a = <span class="hljs-number">10</span> ;<br><br><span class="hljs-keyword">int</span> b = (<span class="hljs-keyword">int</span>) a;<br></code></pre></td></tr></table></figure><br><h2 id="Javaæ³›å‹"><a href="#Javaæ³›å‹" class="headerlink" title="Javaæ³›å‹"></a>Javaæ³›å‹</h2><p>å‡å®šæˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šå†™ä¸€ä¸ªæ’åºæ–¹æ³•ï¼Œèƒ½å¤Ÿå¯¹æ•´å‹æ•°ç»„ã€å­—ç¬¦ä¸²æ•°ç»„ç”šè‡³å…¶ä»–ä»»ä½•ç±»å‹çš„æ•°ç»„è¿›è¡Œæ’åºï¼Œè¯¥å¦‚ä½•å®ç°ï¼Ÿâ€”â€” ç­”æ¡ˆæ˜¯å¯ä»¥ä½¿ç”¨ <strong>Java æ³›å‹</strong>ã€‚</p><p><strong>æ³›å‹æ–¹æ³•</strong></p><p>ä½ å¯ä»¥å†™ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•åœ¨è°ƒç”¨æ—¶å¯ä»¥æ¥æ”¶ä¸åŒç±»å‹çš„å‚æ•°ã€‚æ ¹æ®ä¼ é€’ç»™æ³›å‹æ–¹æ³•çš„å‚æ•°ç±»å‹ï¼Œç¼–è¯‘å™¨é€‚å½“åœ°å¤„ç†æ¯ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ã€‚</p><p>ä¸‹é¢æ˜¯å®šä¹‰æ³›å‹æ–¹æ³•çš„è§„åˆ™ï¼š</p><ul><li>æ‰€æœ‰æ³›å‹æ–¹æ³•å£°æ˜éƒ½æœ‰ä¸€ä¸ªç±»å‹å‚æ•°å£°æ˜éƒ¨åˆ†ï¼ˆç”±å°–æ‹¬å·åˆ†éš”ï¼‰ï¼Œè¯¥ç±»å‹å‚æ•°å£°æ˜éƒ¨åˆ†åœ¨æ–¹æ³•è¿”å›ç±»å‹ä¹‹å‰</li><li>æ¯ä¸€ä¸ªç±»å‹å‚æ•°å£°æ˜éƒ¨åˆ†åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªç±»å‹å‚æ•°ï¼Œå‚æ•°é—´ç”¨é€—å·éš”å¼€ã€‚ä¸€ä¸ªæ³›å‹å‚æ•°ï¼Œä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ªç±»å‹å˜é‡ï¼Œæ˜¯ç”¨äºæŒ‡å®šä¸€ä¸ªæ³›å‹ç±»å‹åç§°çš„æ ‡è¯†ç¬¦ã€‚</li><li>ç±»å‹å‚æ•°èƒ½è¢«ç”¨æ¥å£°æ˜è¿”å›å€¼ç±»å‹ï¼Œå¹¶ä¸”èƒ½ä½œä¸ºæ³›å‹æ–¹æ³•å¾—åˆ°çš„å®é™…å‚æ•°ç±»å‹çš„å ä½ç¬¦ã€‚</li><li>æ³›å‹æ–¹æ³•ä½“çš„å£°æ˜å’Œå…¶ä»–æ–¹æ³•ä¸€æ ·ã€‚æ³¨æ„ç±»å‹å‚æ•°åªèƒ½ä»£è¡¨å¼•ç”¨å‹ç±»å‹ï¼Œä¸èƒ½æ˜¯åŸå§‹ç±»å‹ï¼ˆåƒ <strong>intã€doubleã€char</strong> ç­‰ï¼‰ã€‚</li></ul><p><strong>java ä¸­æ³›å‹æ ‡è®°ç¬¦ï¼š</strong></p><ul><li><strong>E</strong> - Element (åœ¨é›†åˆä¸­ä½¿ç”¨ï¼Œå› ä¸ºé›†åˆä¸­å­˜æ”¾çš„æ˜¯å…ƒç´ )</li><li><strong>T</strong> - Typeï¼ˆJava ç±»ï¼‰</li><li><strong>K</strong> - Keyï¼ˆé”®ï¼‰</li><li><strong>V</strong> - Valueï¼ˆå€¼ï¼‰</li><li><strong>N</strong> - Numberï¼ˆæ•°å€¼ç±»å‹ï¼‰</li><li><strong>ï¼Ÿ</strong> - è¡¨ç¤ºä¸ç¡®å®šçš„ java ç±»å‹</li></ul><p>ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenericMethodTest</span></span><br><span class="hljs-class"></span>&#123;<br>   <span class="hljs-comment">// æ³›å‹æ–¹æ³• printArray                         </span><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt; E &gt; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">printArray</span><span class="hljs-params">( E[] inputArray )</span></span><br><span class="hljs-function">   </span>&#123;<br>      <span class="hljs-comment">// è¾“å‡ºæ•°ç»„å…ƒç´             </span><br>         <span class="hljs-keyword">for</span> ( E element : inputArray )&#123;        <br>            System.out.printf( <span class="hljs-string">&quot;%s &quot;</span>, element );<br>         &#125;<br>         System.out.println();<br>    &#125;<br> <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">( String args[] )</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// åˆ›å»ºä¸åŒç±»å‹æ•°ç»„ï¼š Integer, Double å’Œ Character</span><br>        Integer[] intArray = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> &#125;;<br>        Double[] doubleArray = &#123; <span class="hljs-number">1.1</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">3.3</span>, <span class="hljs-number">4.4</span> &#125;;<br>        Character[] charArray = &#123; <span class="hljs-string">&#x27;H&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-string">&#x27;O&#x27;</span> &#125;;<br> <br>        System.out.println( <span class="hljs-string">&quot;æ•´å‹æ•°ç»„å…ƒç´ ä¸º:&quot;</span> );<br>        printArray( intArray  ); <span class="hljs-comment">// ä¼ é€’ä¸€ä¸ªæ•´å‹æ•°ç»„</span><br> <br>        System.out.println( <span class="hljs-string">&quot;\nåŒç²¾åº¦å‹æ•°ç»„å…ƒç´ ä¸º:&quot;</span> );<br>        printArray( doubleArray ); <span class="hljs-comment">// ä¼ é€’ä¸€ä¸ªåŒç²¾åº¦å‹æ•°ç»„</span><br> <br>        System.out.println( <span class="hljs-string">&quot;\nå­—ç¬¦å‹æ•°ç»„å…ƒç´ ä¸º:&quot;</span> );<br>        printArray( charArray ); <span class="hljs-comment">// ä¼ é€’ä¸€ä¸ªå­—ç¬¦å‹æ•°ç»„</span><br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure><br><h2 id="åƒåœ¾å›æ”¶GC"><a href="#åƒåœ¾å›æ”¶GC" class="headerlink" title="åƒåœ¾å›æ”¶GC"></a>åƒåœ¾å›æ”¶GC</h2><p>ä¸ºä»€ä¹ˆéœ€è¦æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Ÿ</p><ul><li>åœ¨Javaä¸­ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æˆä¸ºåƒåœ¾åä»ä¼šå ç”¨å†…å­˜ç©ºé—´ï¼Œæ—¶é—´ä¸€é•¿ï¼Œå°±ä¼šå¯¼è‡´å†…å­˜ç©ºé—´çš„ä¸è¶³ã€‚</li><li>é’ˆå¯¹å†…å­˜ç©ºé—´ä¸è¶³çš„æƒ…å†µï¼ŒJavaä¸­å¼•å…¥äº†åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆJava GC Garbage Collectionï¼‰ã€‚</li><li>æœ‰äº†åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œç¨‹åºå‘˜ä¸éœ€è¦è¿‡å¤šå…³å¿ƒåƒåœ¾å¯¹è±¡å›æ”¶çš„é—®é¢˜ï¼ŒJavaè™šæ‹Ÿæœºä¼šè‡ªåŠ¨å›æ”¶åƒåœ¾å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚</li></ul><h4 id><a href="#" class="headerlink" title></a></h4>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/09/08/Git/Git/"/>
    <url>/2022/09/08/Git/Git/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€ç‰ˆæœ¬æ§åˆ¶"><a href="#1ã€ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="1ã€ç‰ˆæœ¬æ§åˆ¶"></a>1ã€ç‰ˆæœ¬æ§åˆ¶</h2><p>ç‰ˆæœ¬æ§åˆ¶ï¼ˆRevision controlï¼‰æ˜¯ä¸€ç§åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ç”¨äºç®¡ç†æˆ‘ä»¬å¯¹æ–‡ä»¶ã€ç›®å½•æˆ–å·¥ç¨‹ç­‰å†…å®¹çš„ä¿®æ”¹å†å²ï¼Œæ–¹ä¾¿æŸ¥çœ‹æ›´æ”¹å†å²è®°å½•ï¼Œå¤‡ä»½ä»¥ä¾¿æ¢å¤ä»¥å‰çš„ç‰ˆæœ¬çš„è½¯ä»¶å·¥ç¨‹æŠ€æœ¯ã€‚</p><ul><li>å®ç°è·¨åŒºåŸŸå¤šäººååŒå¼€å‘</li><li>è¿½è¸ªå’Œè®°è½½ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ–‡ä»¶çš„å†å²è®°å½•</li><li>ç»„ç»‡å’Œä¿æŠ¤ä½ çš„æºä»£ç å’Œæ–‡æ¡£</li><li>ç»Ÿè®¡å·¥ä½œé‡</li><li>å¹¶è¡Œå¼€å‘ã€æé«˜å¼€å‘æ•ˆç‡</li><li>è·Ÿè¸ªè®°å½•æ•´ä¸ªè½¯ä»¶çš„å¼€å‘è¿‡ç¨‹</li><li>å‡è½»å¼€å‘äººå‘˜çš„è´Ÿæ‹…ï¼ŒèŠ‚çœæ—¶é—´ï¼ŒåŒæ—¶é™ä½äººä¸ºé”™è¯¯</li></ul><p>ç®€å•è¯´å°±æ˜¯ç”¨äºç®¡ç†å¤šäººååŒå¼€å‘é¡¹ç›®çš„æŠ€æœ¯ã€‚</p><p>æ²¡æœ‰è¿›è¡Œç‰ˆæœ¬æ§åˆ¶æˆ–è€…ç‰ˆæœ¬æ§åˆ¶æœ¬èº«ç¼ºä¹æ­£ç¡®çš„æµç¨‹ç®¡ç†ï¼Œåœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­å°†ä¼šå¼•å…¥å¾ˆå¤šé—®é¢˜ï¼Œå¦‚è½¯ä»¶ä»£ç çš„ä¸€è‡´æ€§ã€è½¯ä»¶å†…å®¹çš„å†—ä½™ã€è½¯ä»¶è¿‡ç¨‹çš„äº‹ç‰©æ€§ã€è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­çš„å¹¶å‘æ€§ã€è½¯ä»¶æºä»£ç çš„å®‰å…¨æ€§ï¼Œä»¥åŠè½¯ä»¶çš„æ•´åˆç­‰é—®é¢˜ã€‚</p><p>æ— è®ºæ˜¯å·¥ä½œè¿˜æ˜¯å­¦ä¹ ï¼Œæˆ–è€…æ˜¯è‡ªå·±åšç¬”è®°ï¼Œéƒ½ç»å†è¿‡è¿™æ ·ä¸€ä¸ªé˜¶æ®µï¼æˆ‘ä»¬å°±è¿«åˆ‡éœ€è¦ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼</p><p>å¤šäººå¼€å‘å°±å¿…é¡»è¦ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼</p><h2 id="2ã€å¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·"><a href="#2ã€å¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·" class="headerlink" title="2ã€å¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·"></a>2ã€å¸¸è§çš„ç‰ˆæœ¬æ§åˆ¶å·¥å…·</h2><p>ä¸»æµçš„ç‰ˆæœ¬æ§åˆ¶å™¨æœ‰å¦‚ä¸‹è¿™äº›ï¼š</p><ul><li>Git</li><li>SVNï¼ˆSubversionï¼‰</li><li>CVSï¼ˆConcurrent Versions Systemï¼‰</li><li>VSSï¼ˆMicorosoft Visual SourceSafeï¼‰</li><li>TFSï¼ˆTeam Foundation Serverï¼‰</li><li>Visual Studio Online</li></ul><p>ç‰ˆæœ¬æ§åˆ¶äº§å“éå¸¸çš„å¤šï¼ˆPerforceã€Rational ClearCaseã€RCSï¼ˆGNU Revision Control Systemï¼‰ã€Serena Dimentionã€SVKã€BitKeeperã€Monotoneã€Bazaarã€Mercurialã€SourceGear Vaultï¼‰ï¼Œç°åœ¨å½±å“åŠ›æœ€å¤§ä¸”ä½¿ç”¨æœ€å¹¿æ³›çš„æ˜¯Gitä¸SVNã€‚</p><h2 id="3ã€ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»"><a href="#3ã€ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»" class="headerlink" title="3ã€ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»"></a>3ã€ç‰ˆæœ¬æ§åˆ¶åˆ†ç±»</h2><h3 id="3-1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶"><a href="#3-1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="3-1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶"></a>3-1ã€æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶</h3><p>è®°å½•æ–‡ä»¶æ¯æ¬¡çš„æ›´æ–°ï¼Œå¯ä»¥å¯¹æ¯ä¸ªç‰ˆæœ¬åšä¸€ä¸ªå¿«ç…§ï¼Œæˆ–æ˜¯è®°å½•è¡¥ä¸æ–‡ä»¶ï¼Œé€‚åˆä¸ªäººç”¨ï¼Œå¦‚RCSã€‚</p><img src="/.io//image-20220710121040919.png" alt="image-20220710121040919" style="zoom: 33%;"><h3 id="3-2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶-SVN"><a href="#3-2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶-SVN" class="headerlink" title="3-2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶ SVN"></a>3-2ã€é›†ä¸­ç‰ˆæœ¬æ§åˆ¶ SVN</h3><p>æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½ä¿å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼ŒååŒå¼€å‘è€…ä»æœåŠ¡å™¨ä¸ŠåŒæ­¥æ›´æ–°æˆ–ä¸Šä¼ è‡ªå·±çš„ä¿®æ”¹</p><img src="/.io//image-20220710121334399.png" alt="image-20220710121334399" style="zoom:33%;"><p>æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®éƒ½å­˜åœ¨æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·çš„æœ¬åœ°åªæœ‰è‡ªå·±ä»¥å‰æ‰€åŒæ­¥çš„ç‰ˆæœ¬ï¼Œå¦‚æœä¸è¿ç½‘çš„è¯ï¼Œç”¨æˆ·å°±çœ‹ä¸åˆ°å†å²ç‰ˆæœ¬ï¼Œä¹Ÿæ— æ³•åˆ‡æ¢ç‰ˆæœ¬éªŒè¯é—®é¢˜ï¼Œæˆ–åœ¨ä¸åŒåˆ†æ”¯å·¥ä½œã€‚è€Œä¸”ï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¿å­˜åœ¨å•ä¸€çš„æœåŠ¡å™¨ä¸Šï¼Œæœ‰å¾ˆå¤§çš„é£é™©è¿™ä¸ªæœåŠ¡å™¨ä¼šæŸåï¼Œè¿™æ ·å°±ä¼šä¸¢å¤±æ‰€æœ‰çš„æ•°æ®ï¼Œå½“ç„¶å¯ä»¥å®šæœŸå¤‡ä»½ã€‚ä»£è¡¨äº§å“ï¼šSVNã€CVSã€VSSã€‚</p><h3 id="3-3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶-Git"><a href="#3-3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶-Git" class="headerlink" title="3-3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ Git"></a>3-3ã€åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ Git</h3><p>æ¯ä¸ªäººéƒ½æ‹¥æœ‰å…¨éƒ¨çš„ä»£ç ï¼å®‰å…¨éšæ‚£ï¼</p><p>æ‰€æœ‰ç‰ˆæœ¬ä¿¡æ¯ä»“åº“å…¨éƒ¨åŒæ­¥åˆ°æœ¬åœ°çš„æ¯ä¸ªç”¨æˆ·ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨æœ¬åœ°æŸ¥çœ‹æ‰€æœ‰ç‰ˆæœ¬å†å²ï¼Œå¯ä»¥ç¦»çº¿åœ¨æœ¬åœ°æäº¤ï¼Œåªéœ€åœ¨è¿ç½‘æ—¶pushåˆ°ç›¸åº”çš„æœåŠ¡å™¨æˆ–å…¶ä»–ç”¨æˆ·é‚£é‡Œã€‚ç”±äºæ¯ä¸ªç”¨æˆ·é‚£é‡Œä¿å­˜çš„éƒ½æ˜¯æ‰€æœ‰çš„ç‰ˆæœ¬æ•°æ®ï¼Œåªè¦æœ‰ä¸€ä¸ªç”¨æˆ·çš„è®¾å¤‡æ²¡æœ‰é—®é¢˜å°±å¯ä»¥æ¢å¤æ‰€æœ‰çš„æ•°æ®ï¼Œä½†è¿™å¢åŠ äº†æœ¬åœ°å­˜å‚¨ç©ºé—´çš„å ç”¨ã€‚</p><p>ä¸ä¼šå› ä¸ºæœåŠ¡å™¨æŸåæˆ–è€…ç½‘ç»œé—®é¢˜ï¼Œé€ æˆä¸èƒ½å·¥ä½œçš„æƒ…å†µï¼<br>                                            <img src="/.io//image-20220710122105649.png" alt="image-20220710122105649" style="zoom:33%;"> </p><h2 id="4ã€Gitä¸SVNçš„ä¸»è¦åŒºåˆ«"><a href="#4ã€Gitä¸SVNçš„ä¸»è¦åŒºåˆ«" class="headerlink" title="4ã€Gitä¸SVNçš„ä¸»è¦åŒºåˆ«"></a>4ã€Gitä¸SVNçš„ä¸»è¦åŒºåˆ«</h2><p>SVNæ˜¯é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç‰ˆæœ¬åº“æ˜¯é›†ä¸­æ”¾åœ¨ä¸­å¤®æœåŠ¡å™¨çš„ï¼Œè€Œå·¥ä½œçš„æ—¶å€™ï¼Œç”¨çš„éƒ½æ˜¯è‡ªå·±çš„ç”µè„‘ï¼Œæ‰€ä»¥é¦–å…ˆè¦ä»ä¸­å¤®æœåŠ¡å™¨å¾—åˆ°æœ€æ–°çš„ç‰ˆæœ¬ï¼Œç„¶åå·¥ä½œï¼Œå®Œæˆå·¥ä½œåï¼Œéœ€è¦æŠŠè‡ªå·±åšå®Œçš„æ´»æ¨é€åˆ°ä¸­å¤®æœåŠ¡å™¨ã€‚é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ˜¯å¿…é¡»è”ç½‘æ‰èƒ½å·¥ä½œï¼Œå¯¹ç½‘ç»œå¸¦å®½è¦æ±‚è¾ƒé«˜ã€‚</p><p>Gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ²¡æœ‰ä¸­å¤®æœåŠ¡å™¨ï¼Œæ¯ä¸ªäººçš„ç”µè„‘å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç‰ˆæœ¬åº“ï¼Œå·¥ä½œçš„æ—¶å€™ä¸éœ€è¦è”ç½‘äº†ï¼Œå› ä¸ºç‰ˆæœ¬éƒ½åœ¨è‡ªå·±ç”µè„‘ä¸Šã€‚ååŒçš„æ–¹æ³•æ˜¯è¿™æ ·çš„ï¼šæ¯”å¦‚è¯´è‡ªå·±åœ¨ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œå…¶ä»–äººä¹Ÿåœ¨ç”µè„‘ä¸Šæ”¹äº†æ–‡ä»¶Aï¼Œè¿™æ—¶ï¼Œä½ ä»¬ä¸¤ä¹‹é—´åªéœ€æŠŠå„è‡ªçš„ä¿®æ”¹æ¨é€ç»™å¯¹æ–¹ï¼Œå°±å¯ä»¥äº’ç›¸çœ‹åˆ°å¯¹æ–¹çš„ä¿®æ”¹äº†ã€‚Gitå¯ä»¥ç›´æ¥çœ‹åˆ°æ›´æ–°äº†å“ªäº›ä»£ç å’Œæ–‡ä»¶ï¼</p><p><strong>Gitæ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</strong></p><p><strong>èŠèŠGitçš„å†å²ï¼š</strong></p><p>åŒç”Ÿæ´»ä¸­çš„è®¸å¤šä¼Ÿå¤§äº‹ç‰©ä¸€æ ·ï¼ŒGit è¯ç”Ÿäºä¸€ä¸ªæå¯Œçº·äº‰å¤§ä¸¾åˆ›æ–°çš„å¹´ä»£ã€‚</p><p>Linux å†…æ ¸å¼€æºé¡¹ç›®æœ‰ç€ä¸ºæ•°ä¼—å¹¿çš„å‚ä¸è€…ã€‚ç»å¤§å¤šæ•°çš„ Linux å†…æ ¸ç»´æŠ¤å·¥ä½œéƒ½èŠ±åœ¨äº†æäº¤è¡¥ä¸å’Œä¿å­˜å½’æ¡£çš„ç¹çäº‹åŠ¡ä¸Š(1991ï¼2002å¹´é—´)ã€‚åˆ° 2002 å¹´ï¼Œæ•´ä¸ªé¡¹ç›®ç»„å¼€å§‹å¯ç”¨ä¸€ä¸ªä¸“æœ‰çš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ BitKeeper æ¥ç®¡ç†å’Œç»´æŠ¤ä»£ç ã€‚</p><p>Linuxç¤¾åŒºä¸­å­˜åœ¨å¾ˆå¤šçš„å¤§ä½¬ï¼ç ´è§£ç ”ç©¶ BitKeeper ï¼</p><p>åˆ°äº† 2005 å¹´ï¼Œå¼€å‘ BitKeeper çš„å•†ä¸šå…¬å¸åŒ Linux å†…æ ¸å¼€æºç¤¾åŒºçš„åˆä½œå…³ç³»ç»“æŸï¼Œä»–ä»¬æ”¶å›äº† Linux å†…æ ¸ç¤¾åŒºå…è´¹ä½¿ç”¨ BitKeeper çš„æƒåŠ›ã€‚è¿™å°±è¿«ä½¿ Linux å¼€æºç¤¾åŒº(ç‰¹åˆ«æ˜¯ Linux çš„ç¼”é€ è€… Linus Torvalds)åŸºäºä½¿ç”¨ BitKeeper æ—¶çš„ç»éªŒæ•™è®­ï¼Œå¼€å‘å‡ºè‡ªå·±çš„ç‰ˆæœ¬ç³»ç»Ÿã€‚ï¼ˆ2å‘¨å·¦å³ï¼ï¼‰ ä¹Ÿå°±æ˜¯åæ¥çš„ Gitï¼</p><p>Gitæ˜¯å…è´¹ã€å¼€æºçš„ï¼Œæœ€åˆGitæ˜¯ä¸ºè¾…åŠ© Linux å†…æ ¸å¼€å‘çš„ï¼Œæ¥æ›¿ä»£ BitKeeperï¼</p><p>Linuxå’ŒGitä¹‹çˆ¶æçº³æ–¯Â·æ‰˜æ²ƒå…¹ï¼ˆLinus Benedic Torvaldsï¼‰1969ã€èŠ¬å…°</p><h2 id="5ã€è½¯ä»¶ä¸‹è½½"><a href="#5ã€è½¯ä»¶ä¸‹è½½" class="headerlink" title="5ã€è½¯ä»¶ä¸‹è½½"></a>5ã€è½¯ä»¶ä¸‹è½½</h2><p>å®˜ç½‘ä¸‹è½½å¤ªæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ·˜å®é•œåƒä¸‹è½½ï¼š<a href="http://npm.taobao.org/mirrors/git-for-windows/">http://npm.taobao.org/mirrors/git-for-windows/</a></p><p>ï¼ˆå…ˆå¸è½½â€”â€”ç›´æ¥åå®‰è£…uninstallï¼‰</p><p>æŸ¥æ‰¾ç¯å¢ƒå˜é‡ï¼Œæœ‰å°±ç§»é™¤</p><p>ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬å³å¯å®‰è£…ï¼</p><p>å®‰è£…ï¼šæ— è„‘ä¸‹ä¸€æ­¥å³å¯ï¼å®‰è£…å®Œæ¯•å°±å¯ä»¥ä½¿ç”¨äº†ï¼</p><h2 id="6ã€å¯åŠ¨Git"><a href="#6ã€å¯åŠ¨Git" class="headerlink" title="6ã€å¯åŠ¨Git"></a>6ã€å¯åŠ¨Git</h2><p><strong>Git Bashï¼š</strong>Unixä¸Linuxé£æ ¼çš„å‘½ä»¤è¡Œï¼Œä½¿ç”¨æœ€å¤šï¼Œæ¨èæœ€å¤š</p><p><strong>Git CMDï¼š</strong>Windowsé£æ ¼çš„å‘½ä»¤è¡Œ</p><p><strong>Git GUI</strong>ï¼šå›¾å½¢ç•Œé¢çš„Gitï¼Œä¸å»ºè®®åˆå­¦è€…ä½¿ç”¨ï¼Œå°½é‡å…ˆç†Ÿæ‚‰å¸¸ç”¨å‘½ä»¤</p><h2 id="7ã€å¸¸ç”¨çš„Linuxå‘½ä»¤"><a href="#7ã€å¸¸ç”¨çš„Linuxå‘½ä»¤" class="headerlink" title="7ã€å¸¸ç”¨çš„Linuxå‘½ä»¤"></a>7ã€å¸¸ç”¨çš„Linuxå‘½ä»¤</h2><p>å¹³æ—¶ä¸€å®šè¦å¤šä½¿ç”¨è¿™äº›åŸºç¡€çš„å‘½ä»¤ï¼</p><p>1ï¼‰cd : æ”¹å˜ç›®å½•ã€‚</p><p>2ï¼‰cd . . å›é€€åˆ°ä¸Šä¸€ä¸ªç›®å½•ï¼Œç›´æ¥cdè¿›å…¥é»˜è®¤ç›®å½•</p><p>3ï¼‰pwd : æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ç›®å½•è·¯å¾„ã€‚</p><p>4ï¼‰ls(ll): éƒ½æ˜¯åˆ—å‡ºå½“å‰ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåªä¸è¿‡ll(ä¸¤ä¸ªl)åˆ—å‡ºçš„å†…å®¹æ›´ä¸ºè¯¦ç»†ã€‚</p><p>5ï¼‰touch : æ–°å»ºä¸€ä¸ªæ–‡ä»¶ å¦‚ touch index.js å°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªindex.jsæ–‡ä»¶ã€‚</p><p>6ï¼‰rm: åˆ é™¤ä¸€ä¸ªæ–‡ä»¶, rm index.js å°±ä¼šæŠŠindex.jsæ–‡ä»¶åˆ é™¤ã€‚</p><p>7ï¼‰mkdir: æ–°å»ºä¸€ä¸ªç›®å½•,å°±æ˜¯æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>8ï¼‰rm -r : åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹, rm -r src     åˆ é™¤srcç›®å½•</p><p>â€‹        rm -rf / åˆ‡å‹¿åœ¨Linuxä¸­å°è¯•ï¼åˆ é™¤ç”µè„‘ä¸­å…¨éƒ¨æ–‡ä»¶ï¼</p><p>9ï¼‰mv ç§»åŠ¨æ–‡ä»¶, mv index.html src </p><p>â€‹        index.html æ˜¯æˆ‘ä»¬è¦ç§»åŠ¨çš„æ–‡ä»¶ï¼Œsrc æ˜¯ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œè¿™æ ·å†™å¿…é¡»ä¿è¯æ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶å¤¹åœ¨åŒä¸€ç›®å½•ä¸‹ã€‚</p><p>10ï¼‰reset é‡æ–°åˆå§‹åŒ–ç»ˆç«¯/æ¸…å±ã€‚</p><p>11ï¼‰clear æ¸…å±ã€‚</p><p>12ï¼‰history æŸ¥çœ‹å‘½ä»¤å†å²ã€‚</p><p>13ï¼‰help å¸®åŠ©ã€‚</p><p>14ï¼‰exit é€€å‡ºã€‚</p><p>15ï¼‰# è¡¨ç¤ºæ³¨é‡Š</p><h2 id="8ã€Gité…ç½®"><a href="#8ã€Gité…ç½®" class="headerlink" title="8ã€Gité…ç½®"></a>8ã€Gité…ç½®</h2><p>æ‰€æœ‰çš„é…ç½®æ–‡ä»¶ï¼Œå…¶å®éƒ½ä¿å­˜åœ¨æœ¬åœ°ï¼</p><p>æŸ¥çœ‹é…ç½® git config -l</p><img src="/.io//image-20220711110520392.png" alt="image-20220711110520392" style="zoom:50%;"><p>æŸ¥çœ‹ä¸åŒçº§åˆ«çš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs linux">#æŸ¥çœ‹ç³»ç»Ÿconfig    git config --system --listã€€<br>#æŸ¥çœ‹å½“å‰ç”¨æˆ·ï¼ˆglobalï¼‰é…ç½® git config --global  --list<br></code></pre></td></tr></table></figure><img src="/.io//image-20220711110754861.png" alt="image-20220711110754861" style="zoom:50%;"><p>Gitç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼š</p><p>1ï¼‰Git\etc\gitconfig ï¼šGit å®‰è£…ç›®å½•ä¸‹çš„ gitconfig â€“system ç³»ç»Ÿçº§</p><p>2ï¼‰C:\Users\wangkr\ .gitconfig åªé€‚ç”¨äºå½“å‰ç™»å½•ç”¨æˆ·çš„é…ç½® â€“global å…¨å±€</p><p>è¿™é‡Œå¯ä»¥ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡å‘½ä»¤è®¾ç½®åä¼šå“åº”åˆ°è¿™é‡Œã€‚</p><h2 id="9ã€è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±ï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œå¿…è¦ï¼‰"><a href="#9ã€è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±ï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œå¿…è¦ï¼‰" class="headerlink" title="9ã€è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±ï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œå¿…è¦ï¼‰"></a>9ã€è®¾ç½®ç”¨æˆ·åä¸é‚®ç®±ï¼ˆç”¨æˆ·æ ‡è¯†ï¼Œå¿…è¦ï¼‰</h2><p>å½“ä½ å®‰è£…Gitåé¦–å…ˆè¦åšçš„äº‹æƒ…æ˜¯è®¾ç½®ä½ çš„ç”¨æˆ·åç§°å’Œe-mailåœ°å€ã€‚è¿™æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºæ¯æ¬¡Gitæäº¤éƒ½ä¼šä½¿ç”¨è¯¥ä¿¡æ¯ã€‚å®ƒè¢«æ°¸è¿œçš„åµŒå…¥åˆ°äº†ä½ çš„æäº¤ä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs linux">git config --global user.name &quot;wangkr0127&quot;  #åç§°<br><br>git config --global user.email 854764005@qq.com   #é‚®ç®±<br></code></pre></td></tr></table></figure><p>åªéœ€è¦åšä¸€æ¬¡è¿™ä¸ªè®¾ç½®ï¼Œå¦‚æœä½ ä¼ é€’äº†â€“global é€‰é¡¹ï¼Œå› ä¸ºGitå°†æ€»æ˜¯ä¼šä½¿ç”¨è¯¥ä¿¡æ¯æ¥å¤„ç†ä½ åœ¨ç³»ç»Ÿä¸­æ‰€åšçš„ä¸€åˆ‡æ“ä½œã€‚å¦‚æœä½ å¸Œæœ›åœ¨ä¸€ä¸ªç‰¹å®šçš„é¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒçš„åç§°æˆ–e-mailåœ°å€ï¼Œä½ å¯ä»¥åœ¨è¯¥é¡¹ç›®ä¸­è¿è¡Œè¯¥å‘½ä»¤è€Œä¸è¦â€“globalé€‰é¡¹ã€‚æ€»ä¹‹â€“globalä¸ºå…¨å±€é…ç½®ï¼Œä¸åŠ ä¸ºæŸä¸ªé¡¹ç›®çš„ç‰¹å®šé…ç½®ã€‚</p><h2 id="10ã€ä¸‰ä¸ªåŒºåŸŸ"><a href="#10ã€ä¸‰ä¸ªåŒºåŸŸ" class="headerlink" title="10ã€ä¸‰ä¸ªåŒºåŸŸ"></a>10ã€ä¸‰ä¸ªåŒºåŸŸ</h2><p>Gitæœ¬åœ°æœ‰ä¸‰ä¸ªå·¥ä½œåŒºåŸŸï¼šå·¥ä½œç›®å½•ï¼ˆWorking Directoryï¼‰ã€æš‚å­˜åŒº(Stage/Index)ã€èµ„æºåº“(Repositoryæˆ–Git Directory)ã€‚å¦‚æœåœ¨åŠ ä¸Šè¿œç¨‹çš„gitä»“åº“(Remote Directory)å°±å¯ä»¥åˆ†ä¸ºå››ä¸ªå·¥ä½œåŒºåŸŸã€‚æ–‡ä»¶åœ¨è¿™å››ä¸ªåŒºåŸŸä¹‹é—´çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š<br>                                             <img src="/.io//image-20220711112455083.png" alt="image-20220711112455083" style="zoom: 33%;"></p><ul><li>Workspaceï¼šå·¥ä½œåŒºï¼Œå°±æ˜¯ä½ å¹³æ—¶å­˜æ”¾é¡¹ç›®ä»£ç çš„åœ°æ–¹</li><li>Index / Stageï¼šæš‚å­˜åŒºï¼Œç”¨äºä¸´æ—¶å­˜æ”¾ä½ çš„æ”¹åŠ¨ï¼Œäº‹å®ä¸Šå®ƒåªæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿å­˜å³å°†æäº¤åˆ°æ–‡ä»¶åˆ—è¡¨ä¿¡æ¯</li><li>Repositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ï¼Œå°±æ˜¯å®‰å…¨å­˜æ”¾æ•°æ®çš„ä½ç½®ï¼Œè¿™é‡Œé¢æœ‰ä½ æäº¤åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„æ•°æ®ã€‚å…¶ä¸­HEADæŒ‡å‘æœ€æ–°æ”¾å…¥ä»“åº“çš„ç‰ˆæœ¬</li><li>Remoteï¼šè¿œç¨‹ä»“åº“ï¼Œæ‰˜ç®¡ä»£ç çš„æœåŠ¡å™¨ï¼Œå¯ä»¥ç®€å•çš„è®¤ä¸ºæ˜¯ä½ é¡¹ç›®ç»„ä¸­çš„ä¸€å°ç”µè„‘ç”¨äºè¿œç¨‹æ•°æ®äº¤æ¢</li></ul><p>æœ¬åœ°çš„ä¸‰ä¸ªåŒºåŸŸç¡®åˆ‡çš„è¯´åº”è¯¥æ˜¯gitä»“åº“ä¸­HEADæŒ‡å‘çš„ç‰ˆæœ¬ï¼š</p><img src="/.io//image-20220711114301167.png" alt="image-20220711114301167" style="zoom:40%;"><ul><li>Directoryï¼šä½¿ç”¨Gitç®¡ç†çš„ä¸€ä¸ªç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä»“åº“ï¼ŒåŒ…å«æˆ‘ä»¬çš„å·¥ä½œç©ºé—´å’ŒGitçš„ç®¡ç†ç©ºé—´ã€‚</li><li>WorkSpaceï¼šéœ€è¦é€šè¿‡Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„ç›®å½•å’Œæ–‡ä»¶ï¼Œè¿™äº›ç›®å½•å’Œæ–‡ä»¶ç»„æˆäº†å·¥ä½œç©ºé—´ã€‚</li><li>.gitï¼šå­˜æ”¾Gitç®¡ç†ä¿¡æ¯çš„ç›®å½•ï¼Œåˆå§‹åŒ–ä»“åº“çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºã€‚</li><li>Index/Stageï¼šæš‚å­˜åŒºï¼Œæˆ–è€…å«å¾…æäº¤æ›´æ–°åŒºï¼Œåœ¨æäº¤è¿›å…¥repoä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„æ›´æ–°æ”¾åœ¨æš‚å­˜åŒºã€‚</li><li>Local Repoï¼šæœ¬åœ°ä»“åº“ï¼Œä¸€ä¸ªå­˜æ”¾åœ¨æœ¬åœ°çš„ç‰ˆæœ¬åº“ï¼›HEADä¼šåªæ˜¯å½“å‰çš„å¼€å‘åˆ†æ”¯ï¼ˆbranchï¼‰ã€‚</li><li>Stashï¼šéšè—ï¼Œæ˜¯ä¸€ä¸ªå·¥ä½œçŠ¶æ€ä¿å­˜æ ˆï¼Œç”¨äºä¿å­˜/æ¢å¤WorkSpaceä¸­çš„ä¸´æ—¶çŠ¶æ€ã€‚</li></ul><h2 id="11ã€å·¥ä½œæµç¨‹"><a href="#11ã€å·¥ä½œæµç¨‹" class="headerlink" title="11ã€å·¥ä½œæµç¨‹"></a>11ã€å·¥ä½œæµç¨‹</h2><p>git çš„å·¥ä½œæµç¨‹ä¸€èˆ¬æ˜¯è¿™æ ·çš„ï¼š</p><p>ï¼‘ã€åœ¨å·¥ä½œç›®å½•ä¸­æ·»åŠ ã€ä¿®æ”¹æ–‡ä»¶ï¼›</p><p>ï¼’ã€å°†éœ€è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºåŸŸï¼›</p><p>ï¼“ã€å°†æš‚å­˜åŒºåŸŸçš„æ–‡ä»¶æäº¤åˆ° git ä»“åº“ã€‚</p><p>å› æ­¤ï¼Œgit ç®¡ç†çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€ï¼šå·²ä¿®æ”¹ï¼ˆmodifiedï¼‰,å·²æš‚å­˜ï¼ˆstagedï¼‰,å·²æäº¤(committed)</p><img src="/.io//image-20220711114846115.png" alt="image-20220711114846115" style="zoom:40%;"><h2 id="12ã€åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤"><a href="#12ã€åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="12ã€åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤"></a>12ã€åˆ›å»ºå·¥ä½œç›®å½•ä¸å¸¸ç”¨æŒ‡ä»¤</h2><p>å·¥ä½œç›®å½•ï¼ˆWorkSpace)ä¸€èˆ¬å°±æ˜¯ä½ å¸Œæœ›Gitå¸®åŠ©ä½ ç®¡ç†çš„æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ˜¯ä½ é¡¹ç›®çš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç©ºç›®å½•ï¼Œå»ºè®®ä¸è¦æœ‰ä¸­æ–‡ã€‚</p><p>æ—¥å¸¸ä½¿ç”¨åªè¦è®°ä½ä¸‹å›¾6ä¸ªå‘½ä»¤ï¼š</p><img src="/.io//image-20220711114942152.png" alt="image-20220711114942152" style="zoom:50%;"><h2 id="13ã€æœ¬åœ°ä»“åº“æ­å»º"><a href="#13ã€æœ¬åœ°ä»“åº“æ­å»º" class="headerlink" title="13ã€æœ¬åœ°ä»“åº“æ­å»º"></a>13ã€æœ¬åœ°ä»“åº“æ­å»º</h2><p>åˆ›å»ºæœ¬åœ°ä»“åº“çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯åˆ›å»ºå…¨æ–°çš„ä»“åº“ï¼Œå¦ä¸€ç§æ˜¯å…‹éš†è¿œç¨‹ä»“åº“ã€‚</p><h3 id="13-1ã€åˆ›å»ºå…¨æ–°ä»“åº“"><a href="#13-1ã€åˆ›å»ºå…¨æ–°ä»“åº“" class="headerlink" title="13-1ã€åˆ›å»ºå…¨æ–°ä»“åº“"></a>13-1ã€åˆ›å»ºå…¨æ–°ä»“åº“</h3><p>éœ€è¦ç”¨GITç®¡ç†çš„é¡¹ç›®çš„æ ¹ç›®å½•æ‰§è¡Œ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-meta"># åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“</span><br><br>$ git <span class="hljs-keyword">init</span><br></code></pre></td></tr></table></figure><p>æ‰§è¡Œåå¯ä»¥çœ‹åˆ°ï¼Œä»…ä»…åœ¨é¡¹ç›®ç›®å½•å¤šå‡ºäº†ä¸€ä¸ª.gitç›®å½•ï¼Œå…³äºç‰ˆæœ¬ç­‰çš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨è¿™ä¸ªç›®å½•é‡Œé¢ã€‚</p><h3 id="13-2ã€å…‹éš†è¿œç¨‹ä»“åº“"><a href="#13-2ã€å…‹éš†è¿œç¨‹ä»“åº“" class="headerlink" title="13-2ã€å…‹éš†è¿œç¨‹ä»“åº“"></a>13-2ã€å…‹éš†è¿œç¨‹ä»“åº“</h3><p>å¦ä¸€ç§æ–¹å¼æ˜¯å…‹éš†è¿œç¨‹ç›®å½•ï¼Œç”±äºæ˜¯å°†è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»“åº“å®Œå…¨é•œåƒä¸€ä»½è‡³æœ¬åœ°ï¼</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># å…‹éš†ä¸€ä¸ªé¡¹ç›®å’Œå®ƒçš„æ•´ä¸ªä»£ç å†å²(ç‰ˆæœ¬ä¿¡æ¯)$ git clone [url] </span><br><br>$ git clone https:<span class="hljs-regexp">//gi</span>tee.com<span class="hljs-regexp">/kuangstudy/</span>kuang_livenote.git<br></code></pre></td></tr></table></figure><h2 id="14ã€æ–‡ä»¶çš„å››ç§çŠ¶æ€-amp-ä¸Šä¼ æµç¨‹"><a href="#14ã€æ–‡ä»¶çš„å››ç§çŠ¶æ€-amp-ä¸Šä¼ æµç¨‹" class="headerlink" title="14ã€æ–‡ä»¶çš„å››ç§çŠ¶æ€ &amp; ä¸Šä¼ æµç¨‹"></a>14ã€æ–‡ä»¶çš„å››ç§çŠ¶æ€ &amp; ä¸Šä¼ æµç¨‹</h2><p>ç‰ˆæœ¬æ§åˆ¶å°±æ˜¯å¯¹æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Œè¦å¯¹æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€æäº¤ç­‰æ“ä½œï¼Œé¦–å…ˆè¦çŸ¥é“æ–‡ä»¶å½“å‰åœ¨ä»€ä¹ˆçŠ¶æ€ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤äº†ç°åœ¨è¿˜ä¸æƒ³æäº¤çš„æ–‡ä»¶ï¼Œæˆ–è€…è¦æäº¤çš„æ–‡ä»¶æ²¡æäº¤ä¸Šã€‚</p><ul><li>Untracked: æœªè·Ÿè¸ª, æ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­ä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“ï¼Œä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶ã€‚é€šè¿‡git addçŠ¶æ€å˜ä¸ºStaged</li><li>Unmodify: æ–‡ä»¶å·²ç»å…¥åº“ï¼Œæœªä¿®æ”¹ï¼Œå³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´ã€‚è¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„ï¼Œå¦‚æœå®ƒè¢«ä¿®æ”¹ï¼Œä¼šå˜ä¸ºModifiedã€‚å¦‚æœä½¿ç”¨git rmç§»å‡ºç‰ˆæœ¬åº“ï¼Œåˆ™æˆä¸ºUntrackedæ–‡ä»¶</li><li>Modified: æ–‡ä»¶å·²ä¿®æ”¹ï¼Œä»…ä»…æ˜¯ä¿®æ”¹ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚è¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„ï¼Œé€šè¿‡git addå¯è¿›å…¥æš‚å­˜stagedçŠ¶æ€, ä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡ï¼Œè¿”å›åˆ°unmodifyçŠ¶æ€ï¼Œè¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶ï¼Œè¦†ç›–å½“å‰ä¿®æ”¹ !</li><li>Staged: æš‚å­˜çŠ¶æ€ã€‚æ‰§è¡Œgit commitåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­ï¼Œè¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´ï¼Œæ–‡ä»¶ä¸ºUnmodifyçŠ¶æ€ã€‚æ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜ï¼Œæ–‡ä»¶çŠ¶æ€ä¸ºModified</li></ul><p>ä¸Šé¢è¯´æ–‡ä»¶æœ‰4ç§çŠ¶æ€ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯ä»¥æŸ¥çœ‹åˆ°æ–‡ä»¶çš„çŠ¶æ€ï¼š</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vala"><span class="hljs-meta">#æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶çŠ¶æ€</span><br>git status [filename]<br><br><span class="hljs-meta">#æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶çŠ¶æ€</span><br>git status<br><br><span class="hljs-meta"># git add .                æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><br><span class="hljs-meta"># git commit -m &quot;æ¶ˆæ¯å†…å®¹&quot;    æäº¤æš‚å­˜åŒºä¸­çš„å†…å®¹åˆ°æœ¬åœ°ä»“åº“ -m æäº¤ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><h2 id="15ã€å¿½ç•¥æ–‡ä»¶"><a href="#15ã€å¿½ç•¥æ–‡ä»¶" class="headerlink" title="15ã€å¿½ç•¥æ–‡ä»¶"></a>15ã€å¿½ç•¥æ–‡ä»¶</h2><p>æœ‰äº›æ—¶å€™æˆ‘ä»¬ä¸æƒ³æŠŠæŸäº›æ–‡ä»¶çº³å…¥ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œæ¯”å¦‚æ•°æ®åº“æ–‡ä»¶ï¼Œä¸´æ—¶æ–‡ä»¶ï¼Œè®¾è®¡æ–‡ä»¶ç­‰</p><p>åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹â€.gitignoreâ€æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p><ol><li>å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚</li><li>å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·ï¼ˆ{string1,string2,â€¦}ï¼‰ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ã€‚</li><li>å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ã€‚</li><li>å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚</li><li>å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰ã€‚</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment">#ä¸ºæ³¨é‡Š</span><br>*.txt   <span class="hljs-comment">#å¿½ç•¥æ‰€æœ‰ .txtç»“å°¾çš„æ–‡ä»¶,è¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ï¼</span><br><br>!lib.txt <span class="hljs-comment">#ä½†lib.txté™¤å¤–</span><br><br>/temp    <span class="hljs-comment">#ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„TODOæ–‡ä»¶,ä¸åŒ…æ‹¬å…¶å®ƒç›®å½•</span><br><br>tempbuild<span class="hljs-regexp">/  #å¿½ç•¥build/</span>ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶<br><br>doc<span class="hljs-regexp">/*.txt   #ä¼šå¿½ç•¥doc/</span>notes.txt ä½†ä¸åŒ…æ‹¬ doc<span class="hljs-regexp">/server/</span>arch.txt<br></code></pre></td></tr></table></figure><h2 id="16ã€ä½¿ç”¨ç äº‘-Gitee"><a href="#16ã€ä½¿ç”¨ç äº‘-Gitee" class="headerlink" title="16ã€ä½¿ç”¨ç äº‘(Gitee)"></a>16ã€ä½¿ç”¨ç äº‘(Gitee)</h2><p><strong>github æ˜¯æœ‰å¢™çš„ï¼Œæ¯”è¾ƒæ…¢ï¼Œåœ¨å›½å†…çš„è¯ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä½¿ç”¨ gitee ï¼Œå…¬å¸ä¸­æœ‰æ—¶å€™ä¼šæ­å»ºè‡ªå·±çš„gitlabæœåŠ¡å™¨</strong></p><p>è¿™ä¸ªå…¶å®å¯ä»¥ä½œä¸ºå¤§å®¶æœªæ¥æ‰¾å·¥ä½œçš„ä¸€ä¸ªé‡è¦ä¿¡æ¯ï¼</p><p>ç äº‘ç½‘å€ï¼š<a href="https://gitee.com/explore">https://gitee.com/explore</a></p><p>1ã€æ³¨å†Œç™»å½•ç äº‘ï¼Œå®Œå–„ä¸ªäººä¿¡æ¯</p><p>2ã€è®¾ç½®æœ¬æœºç»‘å®šSSHå…¬é’¥ï¼Œå®ç°å…å¯†ç ç™»å½•ï¼ï¼ˆå…å¯†ç ç™»å½•ï¼Œè¿™ä¸€æ­¥æŒºé‡è¦çš„ï¼Œç äº‘æ˜¯è¿œç¨‹ä»“åº“ï¼Œæˆ‘ä»¬æ˜¯å¹³æ—¶å·¥ä½œåœ¨æœ¬åœ°ä»“åº“ï¼)</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vala"><span class="hljs-meta"># è¿›å…¥ C:\Users\wangkr\.ssh ç›®å½•</span><br><span class="hljs-meta"># ç”Ÿæˆå…¬é’¥</span><br>ssh-keygen<br></code></pre></td></tr></table></figure><p><img src="/.io//image-20220712112331675.png" alt="image-20220712112331675"></p><p>3ã€å°†å…¬é’¥ä¿¡æ¯public key æ·»åŠ åˆ°ç äº‘è´¦æˆ·ä¸­å³å¯ï¼</p><p><img src="/.io//image-20220712112724020.png" alt="image-20220712112724020"></p><p>4ã€ä½¿ç”¨ç äº‘åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ä»“åº“ï¼</p><p><img src="/.io//image-20220712112748446.png" alt="image-20220712112748446"></p><p>è®¸å¯è¯ï¼šå¼€æºæ˜¯å¦å¯ä»¥éšæ„è½¬è½½ï¼Œå¼€æºä½†æ˜¯ä¸èƒ½å•†ä¸šä½¿ç”¨ï¼Œä¸èƒ½è½¬è½½ï¼Œâ€¦ é™åˆ¶ï¼</p><img src="/.io//image-20220712112818858.png" alt="image-20220712112818858" style="zoom: 50%;"><p>å…‹éš†åˆ°æœ¬åœ°ï¼</p><p><img src="/.io//image-20220712112849321.png" alt="image-20220712112849321"></p><h2 id="17ã€IDEAä¸­é›†æˆGit"><a href="#17ã€IDEAä¸­é›†æˆGit" class="headerlink" title="17ã€IDEAä¸­é›†æˆGit"></a>17ã€IDEAä¸­é›†æˆGit</h2><p>1ã€æ–°å»ºé¡¹ç›®ï¼Œç»‘å®šgitã€‚</p><p><img src="/.io//image-20220713122617080.png" alt="image-20220713122617080"></p><p>æ³¨æ„è§‚å¯Ÿideaä¸­çš„å˜åŒ–ï¼š</p><p><img src="/.io//image-20220713122640228.png" alt="image-20220713122640228"></p><p>2ã€ä¿®æ”¹æ–‡ä»¶ï¼Œä½¿ç”¨IDEAæ“ä½œgitã€‚</p><ul><li>æ·»åŠ åˆ°æš‚å­˜åŒº</li><li>commit æäº¤</li><li>pushåˆ°è¿œç¨‹ä»“åº“</li></ul><p>3ã€æäº¤æµ‹è¯•</p><p><img src="/.io//image-20220713122730624.png" alt="image-20220713122730624"></p><h2 id="18ã€è¯´æ˜ï¼šGITåˆ†æ”¯"><a href="#18ã€è¯´æ˜ï¼šGITåˆ†æ”¯" class="headerlink" title="18ã€è¯´æ˜ï¼šGITåˆ†æ”¯"></a>18ã€è¯´æ˜ï¼šGITåˆ†æ”¯</h2><p>åˆ†æ”¯åœ¨GITä¸­ç›¸å¯¹è¾ƒéš¾ï¼Œåˆ†æ”¯å°±æ˜¯ç§‘å¹»ç”µå½±é‡Œé¢çš„å¹³è¡Œå®‡å®™ï¼Œå¦‚æœä¸¤ä¸ªå¹³è¡Œå®‡å®™äº’ä¸å¹²æ‰°ï¼Œé‚£å¯¹ç°åœ¨çš„ä½ ä¹Ÿæ²¡å•¥å½±å“ã€‚ä¸è¿‡ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¸¤ä¸ªå¹³è¡Œå®‡å®™åˆå¹¶äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦å¤„ç†ä¸€äº›é—®é¢˜äº†ï¼</p><img src="/.io//image-20220713124033649.png" alt="image-20220713124033649" style="zoom:33%;"><img src="/.io//image-20220713124045957.png" alt="image-20220713124045957" style="zoom: 50%;"><p>gitåˆ†æ”¯ä¸­å¸¸ç”¨æŒ‡ä»¤ï¼š</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vala"><span class="hljs-meta"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span><br>git branch<br><br><span class="hljs-meta"># åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span><br>git branch -r<br><br><span class="hljs-meta"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span><br>git branch [branch-name]<br><br><span class="hljs-meta"># æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span><br>git checkout -b [branch]<br><br><span class="hljs-meta"># åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br>$ git merge [branch]<br><br><span class="hljs-meta"># åˆ é™¤åˆ†æ”¯</span><br>$ git branch -d [branch-name]<br><br><span class="hljs-meta"># åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br>$ git push origin --delete [branch-name]<br>$ git branch -dr [remote/branch]<br></code></pre></td></tr></table></figure><p>IDEAä¸­æ“ä½œï¼š</p><img src="/.io//image-20220713124554375.png" alt="image-20220713124554375" style="zoom:50%;"><p>å¦‚æœåŒä¸€ä¸ªæ–‡ä»¶åœ¨åˆå¹¶åˆ†æ”¯æ—¶éƒ½è¢«ä¿®æ”¹äº†åˆ™ä¼šå¼•èµ·å†²çªï¼šè§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å†²çªæ–‡ä»¶åé‡æ–°æäº¤ï¼é€‰æ‹©è¦ä¿ç•™ä»–çš„ä»£ç è¿˜æ˜¯ä½ çš„ä»£ç ï¼</p><p>masterä¸»åˆ†æ”¯åº”è¯¥éå¸¸ç¨³å®šï¼Œç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å·¥ä½œï¼Œå·¥ä½œä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå·¥ä½œï¼Œå·¥ä½œå®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>SSMæ¡†æ¶æ•´åˆ</title>
    <link href="/2022/06/22/java/SSM%E6%95%B4%E5%90%88/SSM%E6%95%B4%E5%90%88/"/>
    <url>/2022/06/22/java/SSM%E6%95%B4%E5%90%88/SSM%E6%95%B4%E5%90%88/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•´åˆSSMæ¡†æ¶"><a href="#æ•´åˆSSMæ¡†æ¶" class="headerlink" title="æ•´åˆSSMæ¡†æ¶"></a>æ•´åˆSSMæ¡†æ¶</h1><p><strong>SSMï¼šSpring + SpringMVC + MyBatis</strong></p><h2 id="ç¯å¢ƒè¦æ±‚"><a href="#ç¯å¢ƒè¦æ±‚" class="headerlink" title="ç¯å¢ƒè¦æ±‚"></a>ç¯å¢ƒè¦æ±‚</h2><p>ç¯å¢ƒï¼š</p><ul><li>IDEA</li><li>MySQL 8.0</li><li>Tomcat 9</li><li>Maven 3.6</li></ul><p> è¦æ±‚ï¼š</p><ul><li>éœ€è¦ç†Ÿç»ƒæŒæ¡MySQLæ•°æ®åº“ï¼ŒSpringï¼ŒJavaWebåŠMyBatisçŸ¥è¯†ï¼Œç®€å•çš„å‰ç«¯çŸ¥è¯†ï¼›</li></ul><h2 id="æ•°æ®åº“ç¯å¢ƒ"><a href="#æ•°æ®åº“ç¯å¢ƒ" class="headerlink" title="æ•°æ®åº“ç¯å¢ƒ"></a>æ•°æ®åº“ç¯å¢ƒ</h2><p>åˆ›å»ºä¸€ä¸ªå­˜æ”¾ä¹¦ç±æ•°æ®çš„æ•°æ®åº“è¡¨</p><p>ï¼ˆä¸è¦ä¸€ä¸‹å…¨éƒ¨æ‰§è¡Œï¼Œå®¹æ˜“æŠ¥é”™â€”â€”å…ˆæ‰§è¡Œäº†åé¢çš„æŒ‡ä»¤å‘ç°è¿˜æ²¡æœ‰å»ºè¡¨ï¼‰</p><p>ï¼ˆè¦ä¸€æ¡ä¸€æ¡æ‰§è¡Œï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> DATABASE `ssmbuild`;<br><br>USE `ssmbuild`;<br><br><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> `books`;<br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `books` (<br>`bookID` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> AUTO_INCREMENT COMMENT <span class="hljs-string">&#x27;ä¹¦id&#x27;</span>,<br>`bookName` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;ä¹¦å&#x27;</span>,<br>`bookCounts` <span class="hljs-type">INT</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;æ•°é‡&#x27;</span>,<br>`detail` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">200</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;æè¿°&#x27;</span>,<br>KEY `bookID` (`bookID`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;<br><br><span class="hljs-keyword">INSERT</span>  <span class="hljs-keyword">INTO</span> `books`(`bookID`,`bookName`,`bookCounts`,`detail`)<span class="hljs-keyword">VALUES</span> <br>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;Java&#x27;</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;ä»å…¥é—¨åˆ°æ”¾å¼ƒ&#x27;</span>),<br>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;MySQL&#x27;</span>,<span class="hljs-number">10</span>,<span class="hljs-string">&#x27;ä»åˆ åº“åˆ°è·‘è·¯&#x27;</span>),<br>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;Linux&#x27;</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&#x27;ä»è¿›é—¨åˆ°è¿›ç‰¢&#x27;</span>);<br></code></pre></td></tr></table></figure><h2 id="åŸºæœ¬ç¯å¢ƒæ­å»º"><a href="#åŸºæœ¬ç¯å¢ƒæ­å»º" class="headerlink" title="åŸºæœ¬ç¯å¢ƒæ­å»º"></a>åŸºæœ¬ç¯å¢ƒæ­å»º</h2><h4 id="1-æ–°å»ºä¸€Mavené¡¹ç›®-ssmbuild-ï¼Œ-æ·»åŠ webçš„æ”¯æŒ"><a href="#1-æ–°å»ºä¸€Mavené¡¹ç›®-ssmbuild-ï¼Œ-æ·»åŠ webçš„æ”¯æŒ" class="headerlink" title="1. æ–°å»ºä¸€Mavené¡¹ç›® ssmbuild ï¼Œ æ·»åŠ webçš„æ”¯æŒ"></a>1. æ–°å»ºä¸€Mavené¡¹ç›® ssmbuild ï¼Œ æ·»åŠ webçš„æ”¯æŒ</h4><img src="/.io//image-20220504003928727.png" alt="image-20220504003928727" style="zoom:50%;"><h4 id="2-å¯¼å…¥ç›¸å…³çš„pomä¾èµ–ï¼"><a href="#2-å¯¼å…¥ç›¸å…³çš„pomä¾èµ–ï¼" class="headerlink" title="2. å¯¼å…¥ç›¸å…³çš„pomä¾èµ–ï¼"></a>2. å¯¼å…¥ç›¸å…³çš„pomä¾èµ–ï¼</h4><p>pom.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>   <span class="hljs-comment">&lt;!--Junit--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-comment">&lt;!--æ•°æ®åº“é©±åŠ¨--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥æ±  --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.mchange<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>c3p0<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>0.9.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--Servlet - JSP --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--Mybatis--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--Spring--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <br>    <span class="hljs-comment">&lt;!--lombok--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.20<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.jetbrains<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>annotations-java5<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>compile<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="/.io//image-20220503162104426.png" alt="image-20220503162104426"></p><p>ç‚¹å‡»å³ä¸Šæ–¹æŒ‰é’®æ›´æ–°ä¾èµ–</p><h4 id="3-Mavenèµ„æºè¿‡æ»¤è®¾ç½®"><a href="#3-Mavenèµ„æºè¿‡æ»¤è®¾ç½®" class="headerlink" title="3. Mavenèµ„æºè¿‡æ»¤è®¾ç½®"></a>3. Mavenèµ„æºè¿‡æ»¤è®¾ç½®</h4><p>pom.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4-IDEAå…³è”æ•°æ®åº“"><a href="#4-IDEAå…³è”æ•°æ®åº“" class="headerlink" title="4. IDEAå…³è”æ•°æ®åº“"></a>4. IDEAå…³è”æ•°æ®åº“</h4><img src="/.io//image-20220503163128824.png" alt="image-20220503163128824" style="zoom: 33%;"><img src="/.io//image-20220503163333764.png" alt="image-20220503163333764" style="zoom: 33%;"><img src="/.io//image-20220503163410221.png" alt="image-20220503163410221" style="zoom:33%;"><img src="/.io//image-20220503163555646.png" alt="image-20220503163555646" style="zoom:43%;"><h4 id="5-å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶"><a href="#5-å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶" class="headerlink" title="5. å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶"></a>5. å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶</h4><img src="/.io//image-20220503164838352.png" alt="image-20220503164838352" style="zoom:50%;"><ul><li><p>com.wang.pojo</p></li><li><p>com.wang.dao</p></li><li><p>com.wang.service</p></li><li><p>com.wang.controller</p></li><li><p>mybatis-config.xml â€”â€” <strong>Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">       <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">       <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>applicationContext.xml â€”â€” <strong>Springæ ¸å¿ƒé…ç½®æ–‡ä»¶</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><p><img src="/.io//image-20220503164241589.png" alt="image-20220503164241589"></p><img src="/.io//image-20220503164301153.png" alt="image-20220503164301153" style="zoom:40%;"><h2 id="Mybatiså±‚ç¼–å†™"><a href="#Mybatiså±‚ç¼–å†™" class="headerlink" title="Mybatiså±‚ç¼–å†™"></a>Mybatiså±‚ç¼–å†™</h2><h4 id="1-æ•°æ®åº“é…ç½®æ–‡ä»¶"><a href="#1-æ•°æ®åº“é…ç½®æ–‡ä»¶" class="headerlink" title="1.  æ•°æ®åº“é…ç½®æ–‡ä»¶"></a>1.  æ•°æ®åº“é…ç½®æ–‡ä»¶</h4><p>resources ä¸‹æ–°å»º database.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-meta">jdbc.driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-meta">jdbc.url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/ssmbuild?</span><br><span class="hljs-comment"># mysql8.0+ éœ€è¦æ·»åŠ æ—¶åŒºè®¾ç½® &amp;serverTimezone=Asia/Shanghai</span><br><span class="hljs-attr">useSSL</span>=<span class="hljs-string">true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai</span><br><span class="hljs-meta">jdbc.username</span>=<span class="hljs-string">root</span><br><span class="hljs-meta">jdbc.password</span>=<span class="hljs-string">123456</span><br></code></pre></td></tr></table></figure><h4 id="2-IDEAå…³è”æ•°æ®åº“"><a href="#2-IDEAå…³è”æ•°æ®åº“" class="headerlink" title="2. IDEAå…³è”æ•°æ®åº“"></a>2. IDEAå…³è”æ•°æ®åº“</h4><img src="/.io//image-20220503163333764.png" alt="image-20220503163333764" style="zoom: 33%;"><img src="/.io//image-20220503163410221.png" alt="image-20220503163410221" style="zoom:33%;"><img src="/.io//image-20220503163555646.png" alt="image-20220503163555646" style="zoom:43%;"><h4 id="3-ç¼–å†™MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#3-ç¼–å†™MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="3. ç¼–å†™MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>3. ç¼–å†™MyBatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</h4><p>mybatis-config.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">       <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">       <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>   <br>   <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.wang.pojo&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br>    <br>   <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/wang/dao/BookMapper.xml&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id><a href="#" class="headerlink" title></a></h4><h4 id="4-ç¼–å†™æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»-com-wang-pojo-Booksï¼ˆä½¿ç”¨lombokæ’ä»¶ï¼‰"><a href="#4-ç¼–å†™æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±»-com-wang-pojo-Booksï¼ˆä½¿ç”¨lombokæ’ä»¶ï¼‰" class="headerlink" title="4. ç¼–å†™æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±» com.wang.pojo.Booksï¼ˆä½¿ç”¨lombokæ’ä»¶ï¼‰"></a>4. ç¼–å†™æ•°æ®åº“å¯¹åº”çš„å®ä½“ç±» com.wang.pojo.Booksï¼ˆä½¿ç”¨lombokæ’ä»¶ï¼‰</h4><ul><li>@AllArgsConstructor è¡¨ç¤ºæœ‰å‚æ„é€ </li><li>@NoArgsConstructor è¡¨ç¤ºæ— å‚æ„é€ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">import</span> lombok.AllArgsConstructor;<br><span class="hljs-keyword">import</span> lombok.Data;<br><span class="hljs-keyword">import</span> lombok.NoArgsConstructor;<br><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Books</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bookID;<br>    <span class="hljs-keyword">private</span> String bookName;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> bookCounts;<br>    <span class="hljs-keyword">private</span> String detail;<br><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-ç¼–å†™Daoå±‚çš„-Mapper-æ¥å£"><a href="#5-ç¼–å†™Daoå±‚çš„-Mapper-æ¥å£" class="headerlink" title="5. ç¼–å†™Daoå±‚çš„ Mapper æ¥å£"></a>5. ç¼–å†™Daoå±‚çš„ Mapper æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.Books;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookMapper</span> </span>&#123;<br>    <span class="hljs-comment">//å¢åŠ ä¸€ä¸ªBook</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addBook</span><span class="hljs-params">(Books book)</span></span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br><br>    <span class="hljs-comment">//æ›´æ–°Book</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateBook</span><span class="hljs-params">(Books books)</span></span>;<br><br>    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook</span><br>    <span class="hljs-function">Books <span class="hljs-title">queryBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br><br>    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨Book,è¿”å›listé›†åˆ</span><br>    <span class="hljs-function">List&lt;Books&gt; <span class="hljs-title">queryAllBook</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="-1"><a href="#-1" class="headerlink" title></a></h4><h4 id="6-ç¼–å†™æ¥å£å¯¹åº”çš„-Mapper-xml-æ–‡ä»¶ã€‚éœ€è¦å¯¼å…¥MyBatisçš„åŒ…"><a href="#6-ç¼–å†™æ¥å£å¯¹åº”çš„-Mapper-xml-æ–‡ä»¶ã€‚éœ€è¦å¯¼å…¥MyBatisçš„åŒ…" class="headerlink" title="6. ç¼–å†™æ¥å£å¯¹åº”çš„ Mapper.xml æ–‡ä»¶ã€‚éœ€è¦å¯¼å…¥MyBatisçš„åŒ…"></a>6. ç¼–å†™æ¥å£å¯¹åº”çš„ Mapper.xml æ–‡ä»¶ã€‚éœ€è¦å¯¼å…¥MyBatisçš„åŒ…</h4><p>dao å±‚ä¸‹çš„ BookMapper.xmlï¼š</p><p>ï¼ˆMapper.xml é…ç½®æ–‡ä»¶å®ç°æ¥å£ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">       <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">       <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wang.dao.BookMapper&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--å¢åŠ ä¸€ä¸ªBook--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addBook&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>      insert into ssmbuild.books(bookName,bookCounts,detail)<br>      values (#&#123;bookName&#125;, #&#123;bookCounts&#125;, #&#123;detail&#125;)<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteBookById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>      delete from ssmbuild.books where bookID=#&#123;bookID&#125;<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æ›´æ–°Book--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBook&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>      update ssmbuild.books<br>      set bookName = #&#123;bookName&#125;,bookCounts = #&#123;bookCounts&#125;,detail = #&#123;detail&#125;<br>      where bookID = #&#123;bookID&#125;<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBookById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>      select * from ssmbuild.books<br>      where bookID = #&#123;bookID&#125;<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æŸ¥è¯¢å…¨éƒ¨Book--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryAllBook&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Books&quot;</span>&gt;</span><br>      SELECT * from ssmbuild.books<br>   <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="7-ç¼–å†™Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»"><a href="#7-ç¼–å†™Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»" class="headerlink" title="7. ç¼–å†™Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»"></a>7. ç¼–å†™Serviceå±‚çš„æ¥å£å’Œå®ç°ç±»</h4><ul><li><strong>Serviceä¸šåŠ¡å±‚è°ƒç”¨ dao å±‚çš„æ“ä½œ</strong></li><li><strong>Serviceä¸šåŠ¡å±‚ç±»ä¼¼äºä»£ç†æ¨¡å¼çš„ä»£ç†è§’è‰²</strong></li></ul><p>æ¥å£ BookService.javaï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.service;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.Books;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-comment">//BookService:åº•ä¸‹éœ€è¦å»å®ç°,è°ƒç”¨daoå±‚</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">BookService</span> </span>&#123;<br>    <span class="hljs-comment">//å¢åŠ ä¸€ä¸ªBook</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addBook</span><span class="hljs-params">(Books book)</span></span>;<br>    <span class="hljs-comment">//æ ¹æ®idåˆ é™¤ä¸€ä¸ªBook</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br>    <span class="hljs-comment">//æ›´æ–°Book</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateBook</span><span class="hljs-params">(Books books)</span></span>;<br>    <span class="hljs-comment">//æ ¹æ®idæŸ¥è¯¢,è¿”å›ä¸€ä¸ªBook</span><br>    <span class="hljs-function">Books <span class="hljs-title">queryBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br>    <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨Book,è¿”å›listé›†åˆ</span><br>    <span class="hljs-function">List&lt;Books&gt; <span class="hljs-title">queryAllBook</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å®ç°ç±» BookServiceImpl.javaï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.service;<br><br><span class="hljs-keyword">import</span> com.wang.dao.BookMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.Books;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">BookService</span> </span>&#123;<br><br>    <span class="hljs-comment">//è°ƒç”¨daoå±‚çš„æ“ä½œï¼Œè®¾ç½®ä¸€ä¸ªsetæ¥å£ï¼Œæ–¹ä¾¿Springç®¡ç†</span><br>    <span class="hljs-keyword">private</span> BookMapper bookMapper;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setBookMapper</span><span class="hljs-params">(BookMapper bookMapper)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.bookMapper = bookMapper;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">addBook</span><span class="hljs-params">(Books book)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookMapper.addBook(book);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">deleteBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookMapper.deleteBookById(id);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">updateBook</span><span class="hljs-params">(Books books)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookMapper.updateBook(books);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Books <span class="hljs-title">queryBookById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookMapper.queryBookById(id);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Books&gt; <span class="hljs-title">queryAllBook</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> bookMapper.queryAllBook();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>OKï¼Œåˆ°æ­¤ï¼Œåº•å±‚éœ€æ±‚æ“ä½œç¼–å†™å®Œæ¯•ï¼</strong></p><img src="/.io//image-20220504004610438.png" alt="image-20220504004610438" style="zoom:50%;"><h2 id="Springå±‚"><a href="#Springå±‚" class="headerlink" title="Springå±‚"></a>Springå±‚</h2><h4 id="1-é…ç½®Springæ•´åˆMyBatisï¼Œæˆ‘ä»¬è¿™é‡Œæ•°æ®æºä½¿ç”¨c3p0è¿æ¥æ± ï¼›"><a href="#1-é…ç½®Springæ•´åˆMyBatisï¼Œæˆ‘ä»¬è¿™é‡Œæ•°æ®æºä½¿ç”¨c3p0è¿æ¥æ± ï¼›" class="headerlink" title="1. é…ç½®Springæ•´åˆMyBatisï¼Œæˆ‘ä»¬è¿™é‡Œæ•°æ®æºä½¿ç”¨c3p0è¿æ¥æ± ï¼›"></a>1. é…ç½®<strong>Springæ•´åˆMyBatis</strong>ï¼Œæˆ‘ä»¬è¿™é‡Œæ•°æ®æºä½¿ç”¨c3p0è¿æ¥æ± ï¼›</h4><h4 id="2-ç¼–å†™Springæ•´åˆMybatisçš„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šspring-dao-xml"><a href="#2-ç¼–å†™Springæ•´åˆMybatisçš„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šspring-dao-xml" class="headerlink" title="2. ç¼–å†™Springæ•´åˆMybatisçš„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šspring-dao.xml"></a>2. ç¼–å†™Springæ•´åˆMybatisçš„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼šspring-dao.xml</h4><ul><li>å…³è”æ•°æ®åº“æ–‡ä»¶ database.properties</li><li>æ•°æ®åº“è¿æ¥æ± è®¾ç½®<ul><li>è¿æ¥æ± ç±»å‹ï¼š<ul><li>dbcp åŠè‡ªåŠ¨åŒ–æ“ä½œ ä¸èƒ½è‡ªåŠ¨è¿æ¥</li><li>c3p0 è‡ªåŠ¨åŒ–æ“ä½œï¼ˆè‡ªåŠ¨åŒ–çš„åŠ è½½é…ç½®æ–‡ä»¶ å¹¶ä¸”å¯ä»¥è‡ªåŠ¨è®¾ç½®åˆ°å¯¹è±¡ä¸­ï¼‰</li><li>druid</li><li>hikari springboot2.xé»˜è®¤</li></ul></li></ul></li><li>é…ç½®SqlSessionFactoryå¯¹è±¡</li><li>é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- é…ç½®æ•´åˆmybatis --&gt;</span><br>    <span class="hljs-comment">&lt;!-- 1.å…³è”æ•°æ®åº“æ–‡ä»¶ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:database.properties&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 2.æ•°æ®åº“è¿æ¥æ±  --&gt;</span><br>    <span class="hljs-comment">&lt;!--æ•°æ®åº“è¿æ¥æ± </span><br><span class="hljs-comment">        dbcp åŠè‡ªåŠ¨åŒ–æ“ä½œ ä¸èƒ½è‡ªåŠ¨è¿æ¥</span><br><span class="hljs-comment">        c3p0 è‡ªåŠ¨åŒ–æ“ä½œï¼ˆè‡ªåŠ¨åŒ–çš„åŠ è½½é…ç½®æ–‡ä»¶ å¹¶ä¸”å¯ä»¥è‡ªåŠ¨è®¾ç½®åˆ°å¯¹è±¡ä¸­ï¼‰</span><br><span class="hljs-comment">        druid</span><br><span class="hljs-comment">        hikari springboot2.xé»˜è®¤</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- é…ç½®è¿æ¥æ± å±æ€§ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;jdbcUrl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!-- c3p0è¿æ¥æ± çš„ç§æœ‰å±æ€§ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxPoolSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;30&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;minPoolSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;autoCommitOnClose&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- è·å–è¿æ¥è¶…æ—¶æ—¶é—´ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;checkoutTimeout&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10000&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;acquireRetryAttempts&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 3.é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 4.é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt;</span><br>    <span class="hljs-comment">&lt;!--è§£é‡Š ï¼šhttps://www.cnblogs.com/jpfss/p/7799806.html--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ³¨å…¥sqlSessionFactory --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactoryBeanName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;basePackage&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.wang.dao&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-Springæ•´åˆserviceå±‚ï¼šspring-service-xml"><a href="#3-Springæ•´åˆserviceå±‚ï¼šspring-service-xml" class="headerlink" title="3. Springæ•´åˆserviceå±‚ï¼šspring-service.xml"></a>3. Springæ•´åˆserviceå±‚ï¼šspring-service.xml</h4><ul><li>æ‰«æserviceä¸‹çš„åŒ…</li><li>å°†æˆ‘ä»¬æ‰€æœ‰çš„ä¸šåŠ¡ç±»ï¼Œæ³¨å…¥åˆ°Springï¼Œå¯ä»¥é€šè¿‡é…ç½®æˆ–è€…æ³¨è§£å®ç°ï¼ˆè¿™é‡Œä½¿ç”¨é…ç½®çš„æ–¹å¼ï¼‰</li><li>é…ç½®äº‹åŠ¡ç®¡ç†å™¨</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-dao.xml&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">import</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 1.æ‰«æserviceä¸‹çš„åŒ… --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.service&quot;</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 2.å°†æˆ‘ä»¬æ‰€æœ‰çš„ä¸šåŠ¡ç±»ï¼Œæ³¨å…¥åˆ°Springï¼Œå¯ä»¥é€šè¿‡é…ç½®æˆ–è€…æ³¨è§£å®ç° --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;BookServiceImpl&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.service.BookServiceImpl&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;bookMapper&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;bookMapper&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- 3.é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨ï¼šref çˆ†çº¢è®°å¾—æ·»åŠ  <code>&lt;import resource=&quot;spring-dao.xml&quot;&gt;&lt;/import&gt;</code></p><img src="/.io//image-20220505011822498.png" alt="image-20220505011822498" style="zoom:50%;"><h2 id="SpringMVCå±‚"><a href="#SpringMVCå±‚" class="headerlink" title="SpringMVCå±‚"></a>SpringMVCå±‚</h2><p>ï¼ˆè®°å¾—å…ˆæ·»åŠ webæ”¯æŒï¼Œè§ä¸Šè¿°åŸºæœ¬ç¯å¢ƒæ­å»ºï¼‰</p><h4 id="1-web-xml"><a href="#1-web-xml" class="headerlink" title="1. web.xml"></a>1. web.xml</h4><ul><li>DispatcherServlet</li><li>ä¹±ç è¿‡æ»¤ encodingFilter</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--DispatcherServlet--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>           <span class="hljs-comment">&lt;!--ä¸€å®šè¦æ³¨æ„:æˆ‘ä»¬è¿™é‡ŒåŠ è½½çš„æ˜¯æ€»çš„é…ç½®æ–‡ä»¶ï¼Œä¹‹å‰è¢«è¿™é‡Œå‘äº†ï¼--&gt;</span>  <br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--encodingFilter--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span><br>          org.springframework.web.filter.CharacterEncodingFilter<br>       <span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br>   <br>   <span class="hljs-comment">&lt;!--Sessionè¿‡æœŸæ—¶é—´--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br>   <br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-spring-mvc-xml"><a href="#2-spring-mvc-xml" class="headerlink" title="2. spring-mvc.xml"></a>2. spring-mvc.xml</h4><ul><li>å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨</li><li>é™æ€èµ„æºé»˜è®¤servleté…ç½®</li><li>é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨</li><li>æ‰«æwebç›¸å…³çš„bean</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">   http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">   https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- é…ç½®SpringMVC --&gt;</span><br>   <span class="hljs-comment">&lt;!-- 1.å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br>   <span class="hljs-comment">&lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½®--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span>/&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- 3.é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewClass&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.JstlView&quot;</span> /&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- 4.æ‰«æwebç›¸å…³çš„bean --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.controller&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="3-Springé…ç½®æ•´åˆæ–‡ä»¶ï¼šapplicationContext-xml"><a href="#3-Springé…ç½®æ•´åˆæ–‡ä»¶ï¼šapplicationContext-xml" class="headerlink" title="3. Springé…ç½®æ•´åˆæ–‡ä»¶ï¼šapplicationContext.xml"></a>3. Springé…ç½®æ•´åˆæ–‡ä»¶ï¼šapplicationContext.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>   <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-dao.xml&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-service.xml&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;spring-mvc.xml&quot;</span>/&gt;</span><br>   <br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>é…ç½®æ–‡ä»¶ï¼Œæš‚æ—¶ç»“æŸï¼</strong></p><img src="/.io//image-20220505012546517.png" alt="image-20220505012546517" style="zoom:50%;"><h2 id="Controller-å’Œ-è§†å›¾å±‚ç¼–å†™"><a href="#Controller-å’Œ-è§†å›¾å±‚ç¼–å†™" class="headerlink" title="Controller å’Œ è§†å›¾å±‚ç¼–å†™"></a>Controller å’Œ è§†å›¾å±‚ç¼–å†™</h2><h4 id="1-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±"><a href="#1-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±" class="headerlink" title="1. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±"></a>1. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•ä¸€ï¼šæŸ¥è¯¢å…¨éƒ¨ä¹¦ç±</h4><p><u><strong>controller è°ƒ service å±‚</strong></u></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.Books;<br><span class="hljs-keyword">import</span> com.wang.service.BookService;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;<br><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.ui.Model;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/book&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BookController</span> </span>&#123;<br><br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(&quot;BookServiceImpl&quot;)</span><br>    <span class="hljs-keyword">private</span> BookService bookService;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/allBook&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">list</span><span class="hljs-params">(Model model)</span> </span>&#123;<br>        List&lt;Books&gt; list = bookService.queryAllBook();<br>        model.addAttribute(<span class="hljs-string">&quot;list&quot;</span>, list);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;allBook&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2-ç¼–å†™é¦–é¡µ-index-jsp"><a href="#2-ç¼–å†™é¦–é¡µ-index-jsp" class="headerlink" title="2. ç¼–å†™é¦–é¡µ index.jsp"></a>2. ç¼–å†™é¦–é¡µ <strong>index.jsp</strong></h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page language=<span class="hljs-string">&quot;java&quot;</span> contentType=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span> pageEncoding=<span class="hljs-string">&quot;UTF-8&quot;</span> %&gt;<br>&lt;!DOCTYPE HTML&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>   &lt;title&gt;é¦–é¡µ&lt;/title&gt;<br>   &lt;style type=<span class="hljs-string">&quot;text/css&quot;</span>&gt;<br>       a &#123;<br>           text-decoration: none;<br>           color: black;<br>           font-size: 18px;<br>      &#125;<br>       h3 &#123;<br>           width: 180px;<br>           height: 38px;<br>           margin: 100px auto;<br>           text-align: center;<br>           line-height: 38px;<br>           background: deepskyblue;<br>           border-radius: 4px;<br>      &#125;<br>   &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;h3&gt;<br>   &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/allBook&quot;</span>&gt;ç‚¹å‡»è¿›å…¥åˆ—è¡¨é¡µ&lt;/a&gt;<br>&lt;/h3&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure><h4 id="3-ä¹¦ç±åˆ—è¡¨é¡µé¢-allBook-jsp"><a href="#3-ä¹¦ç±åˆ—è¡¨é¡µé¢-allBook-jsp" class="headerlink" title="3. ä¹¦ç±åˆ—è¡¨é¡µé¢ allBook.jsp"></a>3. ä¹¦ç±åˆ—è¡¨é¡µé¢ <strong>allBook.jsp</strong></h4><p>ï¼ˆjspæ–‡ä»¶å¤¹ä¸‹ï¼‰</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>   &lt;title&gt;ä¹¦ç±åˆ—è¡¨&lt;/title&gt;<br>   &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>   &lt;!-- å¼•å…¥ Bootstrap --&gt;<br>   &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;container&quot;</span>&gt;<br><br>   &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>       &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>           &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;<br>               &lt;h1&gt;<br>                   &lt;small&gt;ä¹¦ç±åˆ—è¡¨ â€”â€” æ˜¾ç¤ºæ‰€æœ‰ä¹¦ç±&lt;/small&gt;<br>               &lt;/h1&gt;<br>           &lt;/div&gt;<br>       &lt;/div&gt;<br>   &lt;/div&gt;<br><br>   &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row&quot;</span>&gt;<br>       &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-4 column&quot;</span>&gt;<br>           &lt;a <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span> href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/toAddBook&quot;</span>&gt;æ–°å¢&lt;/a&gt;<br>       &lt;/div&gt;<br>   &lt;/div&gt;<br><br>   &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>       &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>           &lt;table <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;table table-hover table-striped&quot;</span>&gt;<br>               &lt;thead&gt;<br>               &lt;tr&gt;<br>                   &lt;th&gt;ä¹¦ç±ç¼–å·&lt;/th&gt;<br>                   &lt;th&gt;ä¹¦ç±åå­—&lt;/th&gt;<br>                   &lt;th&gt;ä¹¦ç±æ•°é‡&lt;/th&gt;<br>                   &lt;th&gt;ä¹¦ç±è¯¦æƒ…&lt;/th&gt;<br>                   &lt;th&gt;æ“ä½œ&lt;/th&gt;<br>               &lt;/tr&gt;<br>               &lt;/thead&gt;<br><br>               &lt;tbody&gt;<br>               &lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;book&quot;</span> items=<span class="hljs-string">&quot;$&#123;requestScope.get(&#x27;list&#x27;)&#125;&quot;</span>&gt;<br>                   &lt;tr&gt;<br>                       &lt;td&gt;$&#123;book.getBookID()&#125;&lt;/td&gt;<br>                       &lt;td&gt;$&#123;book.getBookName()&#125;&lt;/td&gt;<br>                       &lt;td&gt;$&#123;book.getBookCounts()&#125;&lt;/td&gt;<br>                       &lt;td&gt;$&#123;book.getDetail()&#125;&lt;/td&gt;<br>                       &lt;td&gt;<br>                           &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/toUpdateBook?id=$&#123;book.getBookID()&#125;&quot;</span>&gt;æ›´æ”¹&lt;/a&gt; |<br>                           &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/del/$&#123;book.getBookID()&#125;&quot;</span>&gt;åˆ é™¤&lt;/a&gt;<br>                       &lt;/td&gt;<br>                   &lt;/tr&gt;<br>               &lt;/c:forEach&gt;<br>               &lt;/tbody&gt;<br>           &lt;/table&gt;<br>       &lt;/div&gt;<br>   &lt;/div&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><h4 id="4-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±"><a href="#4-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±" class="headerlink" title="4. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±"></a>4. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•äºŒï¼šæ·»åŠ ä¹¦ç±</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·³è½¬åˆ°å¢åŠ ä¹¦ç±ç•Œé¢</span><br><span class="hljs-meta">@RequestMapping(&quot;/toAddBook&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toAddPaper</span><span class="hljs-params">()</span> </span>&#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;addBook&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">//æ·»åŠ ä¹¦ç±è¯·æ±‚</span><br><span class="hljs-meta">@RequestMapping(&quot;/addBook&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">addPaper</span><span class="hljs-params">(Books books)</span> </span>&#123;<br>   System.out.println(books);<br>   bookService.addBook(books);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>; <span class="hljs-comment">//é‡å®šå‘</span><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook-jsp"><a href="#5-æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook-jsp" class="headerlink" title="5. æ·»åŠ ä¹¦ç±é¡µé¢ï¼šaddBook.jsp"></a>5. æ·»åŠ ä¹¦ç±é¡µé¢ï¼š<strong>addBook.jsp</strong></h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br><br>&lt;html&gt;<br>&lt;head&gt;<br>   &lt;title&gt;æ–°å¢ä¹¦ç±&lt;/title&gt;<br>   &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>   &lt;!-- å¼•å…¥ Bootstrap --&gt;<br>   &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;container&quot;</span>&gt;<br><br>   &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>       &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>           &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;<br>               &lt;h1&gt;<br>                   &lt;small&gt;æ–°å¢ä¹¦ç±&lt;/small&gt;<br>               &lt;/h1&gt;<br>           &lt;/div&gt;<br>       &lt;/div&gt;<br>   &lt;/div&gt;<br>   &lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/addBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>      ä¹¦ç±åç§°ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookName&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>      ä¹¦ç±æ•°é‡ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookCounts&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>      ä¹¦ç±è¯¦æƒ…ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;detail&quot;</span>&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>       &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æ·»åŠ &quot;</span>&gt;<br>   &lt;/form&gt;<br><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><h4 id="6-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±"><a href="#6-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±" class="headerlink" title="6. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±"></a>6. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•ä¸‰ï¼šä¿®æ”¹ä¹¦ç±</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è·³è½¬åˆ°ä¿®æ”¹é¡µé¢</span><br><span class="hljs-meta">@RequestMapping(&quot;/toUpdateBook&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toUpdateBook</span><span class="hljs-params">(Model model, <span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>   Books books = bookService.queryBookById(id);<br>   System.out.println(books);<br>   model.addAttribute(<span class="hljs-string">&quot;book&quot;</span>,books );<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;updateBook&quot;</span>;<br>&#125;<br><br><span class="hljs-comment">//ä¿®æ”¹ä¹¦ç±</span><br><span class="hljs-meta">@RequestMapping(&quot;/updateBook&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">updateBook</span><span class="hljs-params">(Model model, Books book)</span> </span>&#123;<br>   System.out.println(book);<br>   bookService.updateBook(book);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="7-ä¿®æ”¹ä¹¦ç±é¡µé¢-updateBook-jsp"><a href="#7-ä¿®æ”¹ä¹¦ç±é¡µé¢-updateBook-jsp" class="headerlink" title="7.ä¿®æ”¹ä¹¦ç±é¡µé¢  updateBook.jsp"></a>7.ä¿®æ”¹ä¹¦ç±é¡µé¢  <strong>updateBook.jsp</strong></h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ taglib prefix=<span class="hljs-string">&quot;c&quot;</span> uri=<span class="hljs-string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;<br>&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>   &lt;title&gt;ä¿®æ”¹ä¿¡æ¯&lt;/title&gt;<br>   &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>   &lt;!-- å¼•å…¥ Bootstrap --&gt;<br>   &lt;link href=<span class="hljs-string">&quot;https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css&quot;</span> rel=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;container&quot;</span>&gt;<br><br>   &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;row clearfix&quot;</span>&gt;<br>       &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;col-md-12 column&quot;</span>&gt;<br>           &lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;<br>               &lt;h1&gt;<br>                   &lt;small&gt;ä¿®æ”¹ä¿¡æ¯&lt;/small&gt;<br>               &lt;/h1&gt;<br>           &lt;/div&gt;<br>       &lt;/div&gt;<br>   &lt;/div&gt;<br><br>   &lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/book/updateBook&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>       &lt;%-- éšè—åŸŸä¼ é€’ID --%&gt;<br>       &lt;input type=<span class="hljs-string">&quot;hidden&quot;</span> name=<span class="hljs-string">&quot;bookID&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getBookID()&#125;&quot;</span>/&gt;<br>      ä¹¦ç±åç§°ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookName&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getBookName()&#125;&quot;</span>/&gt;<br>      ä¹¦ç±æ•°é‡ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;bookCounts&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getBookCounts()&#125;&quot;</span>/&gt;<br>      ä¹¦ç±è¯¦æƒ…ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;detail&quot;</span> value=<span class="hljs-string">&quot;$&#123;book.getDetail() &#125;&quot;</span>/&gt;<br>       &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æäº¤&quot;</span>/&gt;<br>   &lt;/form&gt;<br><br>&lt;/div&gt;<br></code></pre></td></tr></table></figure><h4 id="8-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±"><a href="#8-BookController-ç±»ç¼–å†™-ï¼Œ-æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±" class="headerlink" title="8. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±"></a>8. BookController ç±»ç¼–å†™ ï¼Œ æ–¹æ³•å››ï¼šåˆ é™¤ä¹¦ç±</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ é™¤ä¹¦ç±</span><br><span class="hljs-meta">@RequestMapping(&quot;/del/&#123;bookId&#125;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">deleteBook</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable(&quot;bookId&quot;)</span> <span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>   bookService.deleteBookById(id);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/book/allBook&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="9-æ–°å¢æœç´¢åŠŸèƒ½"><a href="#9-æ–°å¢æœç´¢åŠŸèƒ½" class="headerlink" title="9. æ–°å¢æœç´¢åŠŸèƒ½"></a>9. æ–°å¢æœç´¢åŠŸèƒ½</h4><p><a href="https://blog.csdn.net/Jzandth/article/details/108731769">https://blog.csdn.net/Jzandth/article/details/108731769</a></p><h4 id="10-é…ç½®Tomcatï¼Œè¿›è¡Œè¿è¡Œï¼"><a href="#10-é…ç½®Tomcatï¼Œè¿›è¡Œè¿è¡Œï¼" class="headerlink" title="10. é…ç½®Tomcatï¼Œè¿›è¡Œè¿è¡Œï¼"></a>10. <strong>é…ç½®Tomcatï¼Œè¿›è¡Œè¿è¡Œï¼</strong></h4><h4 id="11-å¸¸è§æŠ¥é”™"><a href="#11-å¸¸è§æŠ¥é”™" class="headerlink" title="11. å¸¸è§æŠ¥é”™"></a>11. å¸¸è§æŠ¥é”™</h4><p><strong>é—®é¢˜ï¼šbeanä¸å­˜åœ¨</strong><br>æ­¥éª¤ï¼š</p><ol><li><p>æŸ¥çœ‹è¿™ä¸ªbeanæ³¨å…¥æ˜¯å¦æˆåŠŸ!</p></li><li><p>Junitå•å…ƒæµ‹è¯•ï¼Œçœ‹æˆ‘ä»¬çš„ä»£ç æ˜¯å¦èƒ½å¤ŸæŸ¥è¯¢å‡ºæ¥ç»“æœ!</p></li><li><p>é—®é¢˜ï¼Œä¸€å®šä¸åœ¨æˆ‘ä»¬çš„åº•å±‚ï¼Œæ˜¯springå‡ºäº†é—®é¢˜!</p></li><li><p>SpringMVCï¼Œ æ•´åˆçš„æ—¶å€™æ²¡è°ƒç”¨åˆ°æˆ‘ä»¬çš„serviceå±‚çš„bean;</p><ol><li><p>applicationContext. xmlæ²¡æœ‰æ³¨å…¥bean</p></li><li><p>web. xmlä¸­ï¼Œæˆ‘ä»¬ä¹Ÿç»‘å®šè¿‡é…ç½®æ–‡ä»¶!  å‘ç°é—®é¢˜ï¼Œæˆ‘ä»¬é…ç½®çš„æ˜¯Spring -mvc. xml<br> è¿™é‡Œé¢ç¡®å®æ²¡æœ‰service beanï¼Œ æ‰€ä»¥æŠ¥ç©ºæŒ‡é’ˆï¼Œåº”è¯¥æ”¹ä¸º:</p></li></ol><p>  <code>&lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;</code></p></li></ol><p><strong>è®°å¾—å¯¼å…¥libä¾èµ–ï¼š</strong></p><ol><li><p>æŸ¥çœ‹é¡¹ç›®ç»“æ„ï¼š</p><img src="/.io//../../1ç¬”è®°/Java/SpringMVC/SpringMVC.assets/image-20220408215300697.png" alt="image-20220408215300697" style="zoom:33%;"><p>å¯ä»¥çœ‹åˆ°ç¼ºå°‘ lib ä¾èµ–ï¼š</p><p><img src="/.io//image-20220408215356029.png" alt="image-20220408215356029"></p></li></ol><p>å°†æ‰€æœ‰åŒ…å¯¼å…¥ lib ä¸­ï¼š</p><img src="/.io//image-20220408215605611.png" alt="image-20220408215605611" style="zoom:50%;"><img src="/.io//image-20220408215649111.png" alt="image-20220408215649111" style="zoom:50%;"><h2 id="é¡¹ç›®ç»“æ„å›¾"><a href="#é¡¹ç›®ç»“æ„å›¾" class="headerlink" title="é¡¹ç›®ç»“æ„å›¾"></a><strong>é¡¹ç›®ç»“æ„å›¾</strong></h2><img src="/.io//image-20220506150320095.png" alt="image-20220506150320095" style="zoom:50%;"><p>å¼€å‘æ—¶<strong>è‡ªåº•å‘ä¸Š</strong>ç¼–å†™ï¼ˆDao â€“&gt; Service â€“&gt; Controller â€“&gt; å‰ç«¯ï¼‰</p><img src="/.io//image-20220506145546555.png" alt="image-20220506145546555" style="zoom: 50%;">]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>SpringMVC</title>
    <link href="/2022/06/22/java/SpringMVC/SpringMVC/"/>
    <url>/2022/06/22/java/SpringMVC/SpringMVC/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€å›é¡¾MVC"><a href="#1ã€å›é¡¾MVC" class="headerlink" title="1ã€å›é¡¾MVC"></a>1ã€å›é¡¾MVC</h2><h3 id="1-1ã€ä»€ä¹ˆæ˜¯MVC"><a href="#1-1ã€ä»€ä¹ˆæ˜¯MVC" class="headerlink" title="1.1ã€ä»€ä¹ˆæ˜¯MVC"></a>1.1ã€ä»€ä¹ˆæ˜¯MVC</h3><ul><li>MVCæ˜¯æ¨¡å‹(Model)ã€è§†å›¾(View)ã€æ§åˆ¶å™¨(Controller)çš„ç®€å†™ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡è§„èŒƒã€‚</li><li>æ˜¯å°†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®ã€æ˜¾ç¤ºåˆ†ç¦»çš„æ–¹æ³•æ¥ç»„ç»‡ä»£ç ã€‚</li><li>MVCä¸»è¦ä½œç”¨æ˜¯<strong>é™ä½äº†è§†å›¾ä¸ä¸šåŠ¡é€»è¾‘é—´çš„åŒå‘å¶åˆ</strong>ã€‚</li><li>MVCä¸æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œ<strong>MVCæ˜¯ä¸€ç§æ¶æ„æ¨¡å¼</strong>ã€‚å½“ç„¶ä¸åŒçš„MVCå­˜åœ¨å·®å¼‚ã€‚</li></ul><p><strong>Modelï¼ˆæ¨¡å‹ï¼‰ï¼š</strong>æ•°æ®æ¨¡å‹ï¼Œæä¾›è¦å±•ç¤ºçš„æ•°æ®ï¼Œå› æ­¤åŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼Œå¯ä»¥è®¤ä¸ºæ˜¯é¢†åŸŸæ¨¡å‹æˆ–JavaBeanç»„ä»¶ï¼ˆåŒ…å«æ•°æ®å’Œè¡Œä¸ºï¼‰ï¼Œä¸è¿‡ç°åœ¨ä¸€èˆ¬éƒ½åˆ†ç¦»å¼€æ¥ï¼šValue Objectï¼ˆæ•°æ®Daoï¼‰ å’Œ æœåŠ¡å±‚ï¼ˆè¡Œä¸ºServiceï¼‰ã€‚ä¹Ÿå°±æ˜¯æ¨¡å‹æä¾›äº†æ¨¡å‹æ•°æ®æŸ¥è¯¢å’Œæ¨¡å‹æ•°æ®çš„çŠ¶æ€æ›´æ–°ç­‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ•°æ®å’Œä¸šåŠ¡ã€‚</p><p><strong>Viewï¼ˆè§†å›¾ï¼‰ï¼š</strong>è´Ÿè´£è¿›è¡Œæ¨¡å‹çš„å±•ç¤ºï¼Œä¸€èˆ¬å°±æ˜¯æˆ‘ä»¬è§åˆ°çš„ç”¨æˆ·ç•Œé¢ï¼Œå®¢æˆ·æƒ³çœ‹åˆ°çš„ä¸œè¥¿ã€‚</p><p><strong>Controllerï¼ˆæ§åˆ¶å™¨ï¼‰ï¼š</strong>æ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œå§”æ‰˜ç»™æ¨¡å‹è¿›è¡Œå¤„ç†ï¼ˆçŠ¶æ€æ”¹å˜ï¼‰ï¼Œå¤„ç†å®Œæ¯•åæŠŠè¿”å›çš„æ¨¡å‹æ•°æ®è¿”å›ç»™è§†å›¾ï¼Œç”±è§†å›¾è´Ÿè´£å±•ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´æ§åˆ¶å™¨åšäº†ä¸ªè°ƒåº¦å‘˜çš„å·¥ä½œã€‚</p><p><strong>æœ€å…¸å‹çš„MVCå°±æ˜¯JSP + servlet + javabeançš„æ¨¡å¼ã€‚</strong><img src="/.io//640.png" alt="640"></p><h3 id="1-2ã€Model1æ—¶ä»£"><a href="#1-2ã€Model1æ—¶ä»£" class="headerlink" title="1.2ã€Model1æ—¶ä»£"></a>1.2ã€Model1æ—¶ä»£</h3><ul><li>åœ¨webæ—©æœŸçš„å¼€å‘ä¸­ï¼Œé€šå¸¸é‡‡ç”¨çš„éƒ½æ˜¯Model1ã€‚</li><li>Model1ä¸­ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å±‚ï¼Œè§†å›¾å±‚å’Œæ¨¡å‹å±‚ã€‚</li></ul><p><img src="/.io//641.png"></p><p>Model1ä¼˜ç‚¹ï¼šæ¶æ„ç®€å•ï¼Œæ¯”è¾ƒé€‚åˆå°å‹é¡¹ç›®å¼€å‘ï¼›</p><p>Model1ç¼ºç‚¹ï¼šJSPèŒè´£ä¸å•ä¸€ï¼ŒèŒè´£è¿‡é‡ï¼Œä¸ä¾¿äºç»´æŠ¤ï¼›</p><h3 id="1-3ã€Model2æ—¶ä»£"><a href="#1-3ã€Model2æ—¶ä»£" class="headerlink" title="1.3ã€Model2æ—¶ä»£"></a>1.3ã€Model2æ—¶ä»£</h3><p>Model2æŠŠä¸€ä¸ªé¡¹ç›®åˆ†æˆä¸‰éƒ¨åˆ†ï¼ŒåŒ…æ‹¬<strong>è§†å›¾ã€æ§åˆ¶ã€æ¨¡å‹ã€‚</strong></p><p><img src="/.io//642.webp"></p><ol><li>ç”¨æˆ·å‘è¯·æ±‚</li><li>Servletæ¥æ”¶è¯·æ±‚æ•°æ®ï¼Œå¹¶è°ƒç”¨å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</li><li>ä¸šåŠ¡å¤„ç†å®Œæ¯•ï¼Œè¿”å›æ›´æ–°åçš„æ•°æ®ç»™servlet</li><li>servletè½¬å‘åˆ°JSPï¼Œç”±JSPæ¥æ¸²æŸ“é¡µé¢</li><li>å“åº”ç»™å‰ç«¯æ›´æ–°åçš„é¡µé¢</li></ol><p><strong>èŒè´£åˆ†æï¼š</strong></p><p><strong>Controllerï¼šæ§åˆ¶å™¨</strong></p><ol><li>å–å¾—è¡¨å•æ•°æ®</li><li>è°ƒç”¨ä¸šåŠ¡é€»è¾‘</li><li>è½¬å‘æŒ‡å®šçš„é¡µé¢</li></ol><p><strong>Modelï¼šæ¨¡å‹</strong></p><ol><li>ä¸šåŠ¡é€»è¾‘</li><li>ä¿å­˜æ•°æ®çš„çŠ¶æ€</li></ol><p><strong>Viewï¼šè§†å›¾</strong></p><ol><li>æ˜¾ç¤ºé¡µé¢</li></ol><p>Model2è¿™æ ·ä¸ä»…æé«˜çš„ä»£ç çš„å¤ç”¨ç‡ä¸é¡¹ç›®çš„æ‰©å±•æ€§ï¼Œä¸”å¤§å¤§é™ä½äº†é¡¹ç›®çš„ç»´æŠ¤æˆæœ¬ã€‚Model 1æ¨¡å¼çš„å®ç°æ¯”è¾ƒç®€å•ï¼Œé€‚ç”¨äºå¿«é€Ÿå¼€å‘å°è§„æ¨¡é¡¹ç›®ï¼ŒModel1ä¸­JSPé¡µé¢èº«å…¼Viewå’ŒControllerä¸¤ç§è§’è‰²ï¼Œå°†æ§åˆ¶é€»è¾‘å’Œè¡¨ç°é€»è¾‘æ··æ‚åœ¨ä¸€èµ·ï¼Œä»è€Œå¯¼è‡´ä»£ç çš„é‡ç”¨æ€§éå¸¸ä½ï¼Œå¢åŠ äº†åº”ç”¨çš„æ‰©å±•æ€§å’Œç»´æŠ¤çš„éš¾åº¦ã€‚Model2æ¶ˆé™¤äº†Model1çš„ç¼ºç‚¹ã€‚</p><h3 id="1-4ã€å›é¡¾Servlet"><a href="#1-4ã€å›é¡¾Servlet" class="headerlink" title="1.4ã€å›é¡¾Servlet"></a>1.4ã€å›é¡¾Servlet</h3><p><strong>æ³¨æ„</strong>ï¼šåœ¨åˆ›å»ºé¡¹ç›®ä¹‹åæ£€æŸ¥ä¸€ä¸‹mavençš„è·¯å¾„è®¾ç½®ï¼š</p><img src="/.io//image-20220408105620568.png" alt="image-20220408105620568" style="zoom: 33%;"><ol><li><p>æ–°å»ºä¸€ä¸ªMavenå·¥ç¨‹å½“åšçˆ¶å·¥ç¨‹ï¼pomä¾èµ–ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.9.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å»ºç«‹ä¸€ä¸ªMoudleï¼šspringmvc-01-servlet ï¼Œ æ·»åŠ Web appçš„æ”¯æŒï¼</p><img src="/.io//image-20220408110128096.png" alt="image-20220408110128096" style="zoom:50%;"><img src="/.io//image-20220408110421929.png" alt="image-20220408110421929" style="zoom:33%;"></li><li><p>å¯¼å…¥servlet å’Œ jsp çš„ jar ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.5<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªServletç±»ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚</p><img src="/.io//image-20220408112510476.png" alt="image-20220408112510476" style="zoom: 50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-comment">//å®ç°Servletæ¥å£</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <span class="hljs-comment">//å–å¾—å‚æ•°</span><br>        String method = req.getParameter(<span class="hljs-string">&quot;method&quot;</span>);<br>        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;add&quot;</span>))&#123;<br>            req.getSession().setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;æ‰§è¡Œäº†addæ–¹æ³•&quot;</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span> (method.equals(<span class="hljs-string">&quot;delete&quot;</span>))&#123;<br>            req.getSession().setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;æ‰§è¡Œäº†deleteæ–¹æ³•&quot;</span>);<br>        &#125;<br>        <span class="hljs-comment">//ä¸šåŠ¡é€»è¾‘</span><br>        <span class="hljs-comment">//è§†å›¾è½¬å‘</span><br>        req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/hello.jsp&quot;</span>).forward(req,resp);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req,resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™Hello.jspï¼Œåœ¨WEB-INFç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjspçš„æ–‡ä»¶å¤¹ï¼Œæ–°å»ºhello.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>wang<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>$&#123;msg&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨web.xmlä¸­æ³¨å†ŒServlet</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.wang.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcatï¼Œå¹¶å¯åŠ¨æµ‹è¯•</p><p>æ³¨ï¼š<strong>å°½é‡ä½¿ç”¨Tomcat9</strong></p><p>æµ‹è¯•ç½‘å€ï¼š</p><ul><li>localhost:8080/hello?method=add</li><li>localhost:8080/hello?method=delete</li></ul></li></ol><p>ç‚¹å‡»fixï¼š</p><img src="/.io//image-20220408140325500.png" alt="image-20220408140325500" style="zoom:67%;"><img src="/.io//image-20220408140354362.png" alt="image-20220408140354362" style="zoom:67%;"><p>æµ‹è¯•ç»“æœï¼š</p><img src="/.io//image-20220408140524856.png" alt="image-20220408140524856" style="zoom: 50%;"><img src="/.io//image-20220408140559509.png" alt="image-20220408140559509" style="zoom:50%;"><p><strong>MVCæ¡†æ¶è¦åšå“ªäº›äº‹æƒ…</strong></p><ol><li>å°†urlæ˜ å°„åˆ°javaç±»æˆ–javaç±»çš„æ–¹æ³•</li><li>å°è£…ç”¨æˆ·æäº¤çš„æ•°æ®</li><li>å¤„ç†è¯·æ±‚ â€”- è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç† â€”- å°è£…å“åº”æ•°æ®</li><li>å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ . jsp / html ç­‰è¡¨ç¤ºå±‚æ•°æ®</li></ol><p><strong>è¯´æ˜ï¼š</strong></p><p>â€‹    å¸¸è§çš„æœåŠ¡å™¨ç«¯MVCæ¡†æ¶æœ‰ï¼šStrutsã€Spring MVCã€ASP.NET MVCã€Zend Frameworkã€JSFï¼›å¸¸è§å‰ç«¯MVCæ¡†æ¶ï¼švueã€angularjsã€reactã€backboneï¼›ç”±MVCæ¼”åŒ–å‡ºäº†å¦å¤–ä¸€äº›æ¨¡å¼å¦‚ï¼šMVPã€MVVM ç­‰ç­‰â€¦.</p><br><h2 id="2ã€ä»€ä¹ˆæ˜¯SpringMVC"><a href="#2ã€ä»€ä¹ˆæ˜¯SpringMVC" class="headerlink" title="2ã€ä»€ä¹ˆæ˜¯SpringMVC"></a>2ã€ä»€ä¹ˆæ˜¯SpringMVC</h2><h3 id="2-1ã€æ¦‚è¿°"><a href="#2-1ã€æ¦‚è¿°" class="headerlink" title="2.1ã€æ¦‚è¿°"></a>2.1ã€æ¦‚è¿°</h3><p><img src="/.io//1594598769272.png" alt="1594598769272"></p><p><font color="red">Spring MVCæ˜¯Spring Frameworkçš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯åŸºäºJavaå®ç°MVCçš„è½»é‡çº§Webæ¡†æ¶ã€‚</font></p><p>æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web">https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web</a></p><p><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¹ SpringMVCå‘¢?</strong></p><p> Spring MVCçš„ç‰¹ç‚¹ï¼š</p><ol><li>è½»é‡çº§ï¼Œç®€å•æ˜“å­¦</li><li>é«˜æ•ˆ , åŸºäºè¯·æ±‚å“åº”çš„MVCæ¡†æ¶</li><li>ä¸Springå…¼å®¹æ€§å¥½ï¼Œæ— ç¼ç»“åˆ</li><li>çº¦å®šä¼˜äºé…ç½®</li><li>åŠŸèƒ½å¼ºå¤§ï¼šRESTfulã€æ•°æ®éªŒè¯ã€æ ¼å¼åŒ–ã€æœ¬åœ°åŒ–ã€ä¸»é¢˜ç­‰</li><li>ç®€æ´çµæ´»</li></ol><p>Springçš„webæ¡†æ¶å›´ç»• <strong>DispatcherServlet</strong> [ è°ƒåº¦Servlet ] è®¾è®¡ã€‚</p><p><strong>DispatcherServletçš„ä½œç”¨æ˜¯å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨</strong>ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£å½¢å¼è¿›è¡Œå¼€å‘ï¼Œååˆ†ç®€æ´ï¼›</p><p>æ­£å› ä¸ºSpringMVCå¥½ , ç®€å• , ä¾¿æ· , æ˜“å­¦ , å¤©ç”Ÿå’ŒSpringæ— ç¼é›†æˆ(ä½¿ç”¨SpringIoCå’ŒAop) , ä½¿ç”¨çº¦å®šä¼˜äºé…ç½® . èƒ½å¤Ÿè¿›è¡Œç®€å•çš„junitæµ‹è¯• . æ”¯æŒRestfulé£æ ¼ .å¼‚å¸¸å¤„ç† , æœ¬åœ°åŒ– , å›½é™…åŒ– , æ•°æ®éªŒè¯ , ç±»å‹è½¬æ¢ , æ‹¦æˆªå™¨ ç­‰ç­‰â€¦â€¦æ‰€ä»¥æˆ‘ä»¬è¦å­¦ä¹  .</p><p><strong>æœ€é‡è¦çš„ä¸€ç‚¹è¿˜æ˜¯ç”¨çš„äººå¤š , ä½¿ç”¨çš„å…¬å¸å¤š .</strong> </p><h3 id="2-2ã€ä¸­å¿ƒæ§åˆ¶å™¨"><a href="#2-2ã€ä¸­å¿ƒæ§åˆ¶å™¨" class="headerlink" title="2.2ã€ä¸­å¿ƒæ§åˆ¶å™¨"></a>2.2ã€ä¸­å¿ƒæ§åˆ¶å™¨</h3><ul><li><p>Springçš„webæ¡†æ¶å›´ç»• <strong>DispatcherServlet</strong> è®¾è®¡ã€‚DispatcherServletçš„ä½œç”¨æ˜¯<strong>å°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„å¤„ç†å™¨</strong>ã€‚ä»Spring 2.5å¼€å§‹ï¼Œä½¿ç”¨Java 5æˆ–è€…ä»¥ä¸Šç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥é‡‡ç”¨åŸºäºæ³¨è§£çš„controllerå£°æ˜æ–¹å¼ã€‚</p><p><img src="/.io//1594600307868.png" alt="1594600307868"></p><p><strong>Spring MVCæ¡†æ¶</strong>åƒè®¸å¤šå…¶ä»–MVCæ¡†æ¶ä¸€æ ·, <strong>ä»¥è¯·æ±‚ä¸ºé©±åŠ¨</strong> , <strong>å›´ç»•ä¸€ä¸ªä¸­å¿ƒServletåˆ†æ´¾è¯·æ±‚åŠæä¾›å…¶ä»–åŠŸèƒ½</strong>ï¼Œ**DispatcherServletæ˜¯ä¸€ä¸ªå®é™…çš„Servlet (å®ƒç»§æ‰¿è‡ªHttpServlet åŸºç±»)**ã€‚</p></li><li><p>SpringMVCçš„åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p>å½“å‘èµ·è¯·æ±‚æ—¶è¢«å‰ç½®çš„æ§åˆ¶å™¨æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œæ ¹æ®è¯·æ±‚å‚æ•°ç”Ÿæˆä»£ç†è¯·æ±‚ï¼Œæ‰¾åˆ°è¯·æ±‚å¯¹åº”çš„å®é™…æ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨å¤„ç†è¯·æ±‚ï¼Œåˆ›å»ºæ•°æ®æ¨¡å‹ï¼Œè®¿é—®æ•°æ®åº“ï¼Œå°†æ¨¡å‹å“åº”ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œæ§åˆ¶å™¨ä½¿ç”¨æ¨¡å‹ä¸è§†å›¾æ¸²æŸ“è§†å›¾ç»“æœï¼Œå°†ç»“æœè¿”å›ç»™ä¸­å¿ƒæ§åˆ¶å™¨ï¼Œå†å°†ç»“æœè¿”å›ç»™è¯·æ±‚è€…ã€‚</p><p><font color="red">åŸå›¾</font></p><p><img src="/.io//mvc.png"></p></li></ul><p><font color="red">ä¸­æ–‡å›¾</font></p><p><img src="/.io//1594603929224.png" alt="1594603929224"></p><h3 id="2-3ã€SpringMVCæ‰§è¡ŒåŸç†"><a href="#2-3ã€SpringMVCæ‰§è¡ŒåŸç†" class="headerlink" title="2.3ã€SpringMVCæ‰§è¡ŒåŸç†"></a>2.3ã€SpringMVCæ‰§è¡ŒåŸç†</h3><p><img src="/.io//1594606134497.png" alt="1594606134497"></p><p>å›¾ä¸ºSpringMVCçš„ä¸€ä¸ªè¾ƒå®Œæ•´çš„æµç¨‹å›¾ï¼Œå®çº¿è¡¨ç¤ºSpringMVCæ¡†æ¶æä¾›çš„æŠ€æœ¯ï¼Œä¸éœ€è¦å¼€å‘è€…å®ç°ï¼Œè™šçº¿è¡¨ç¤ºéœ€è¦å¼€å‘è€…å®ç°ã€‚</p><p><strong>ç®€è¦åˆ†ææ‰§è¡Œæµç¨‹</strong></p><ol><li><p>DispatcherServletè¡¨ç¤ºå‰ç½®æ§åˆ¶å™¨ï¼Œæ˜¯æ•´ä¸ªSpringMVCçš„æ§åˆ¶ä¸­å¿ƒã€‚ç”¨æˆ·å‘å‡ºè¯·æ±‚ï¼ŒDispatcherServletæ¥æ”¶è¯·æ±‚å¹¶æ‹¦æˆªè¯·æ±‚ã€‚</p><ul><li><p>æˆ‘ä»¬å‡è®¾è¯·æ±‚çš„urlä¸º : <a href="http://localhost:8080/SpringMVC/hello">http://localhost:8080/SpringMVC/hello</a></p></li><li><p><strong>å¦‚ä¸Šurlæ‹†åˆ†æˆä¸‰éƒ¨åˆ†ï¼š</strong></p></li><li><p><a href="http://localhost:8080/">http://localhost:8080</a> â€”â€”&gt; æœåŠ¡å™¨åŸŸå</p></li><li><p>SpringMVC â€”â€”&gt; éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„webç«™ç‚¹</p></li><li><p>hello â€”â€”&gt; è¡¨ç¤ºæ§åˆ¶å™¨</p></li><li><p>é€šè¿‡åˆ†æï¼Œå¦‚ä¸Šurlè¡¨ç¤ºä¸ºï¼šè¯·æ±‚ä½äºæœåŠ¡å™¨localhost:8080ä¸Šçš„SpringMVCç«™ç‚¹çš„helloæ§åˆ¶å™¨ã€‚</p></li></ul></li><li><p>HandlerMappingä¸ºå¤„ç†å™¨æ˜ å°„ã€‚DispatcherServletè°ƒç”¨HandlerMapping, HandlerMappingæ ¹æ®è¯·æ±‚urlæŸ¥æ‰¾Handlerã€‚</p></li><li><p>HandlerExecutionè¡¨ç¤ºå…·ä½“çš„Handler, å…¶ä¸»è¦ä½œç”¨æ˜¯æ ¹æ®urlæŸ¥æ‰¾æ§åˆ¶å™¨ï¼Œå¦‚ä¸Šurlè¢«æŸ¥æ‰¾æ§åˆ¶å™¨ä¸ºï¼šhelloã€‚</p></li><li><p>HandlerExecutionå°†è§£æåçš„ä¿¡æ¯ä¼ é€’ç»™DispatcherServlet, å¦‚è§£ææ§åˆ¶å™¨æ˜ å°„ç­‰ã€‚</p></li><li><p>HandlerAdapterè¡¨ç¤ºå¤„ç†å™¨é€‚é…å™¨ï¼Œå…¶æŒ‰ç…§ç‰¹å®šçš„è§„åˆ™å»æ‰§è¡ŒHandlerã€‚</p></li><li><p>Handlerè®©å…·ä½“çš„Controlleræ‰§è¡Œã€‚</p></li><li><p>Controllerå°†å…·ä½“çš„æ‰§è¡Œä¿¡æ¯è¿”å›ç»™HandlerAdapter, å¦‚ModelAndViewã€‚</p></li><li><p>HandlerAdapterå°†è§†å›¾é€»è¾‘åæˆ–æ¨¡å‹ä¼ é€’ç»™DispatcherServletã€‚</p></li><li><p>DispatcherServletè°ƒç”¨è§†å›¾è§£æå™¨(ViewResolver)æ¥è§£æHandlerAdapterä¼ é€’çš„é€»è¾‘è§†å›¾åã€‚</p></li><li><p>è§†å›¾è§£æå™¨å°†è§£æçš„é€»è¾‘è§†å›¾åä¼ ç»™DispatcherServletã€‚</p></li><li><p>DispatcherServletæ ¹æ®è§†å›¾è§£æå™¨è§£æçš„è§†å›¾ç»“æœï¼Œè°ƒç”¨å…·ä½“çš„è§†å›¾ã€‚</p></li><li><p>æœ€ç»ˆè§†å›¾å‘ˆç°ç»™ç”¨æˆ·ã€‚</p></li></ol><br><h2 id="3ã€ç¬¬ä¸€ä¸ªMVCç¨‹åº"><a href="#3ã€ç¬¬ä¸€ä¸ªMVCç¨‹åº" class="headerlink" title="3ã€ç¬¬ä¸€ä¸ªMVCç¨‹åº"></a>3ã€ç¬¬ä¸€ä¸ªMVCç¨‹åº</h2><h3 id="3-1ã€é…ç½®ç‰ˆ"><a href="#3-1ã€é…ç½®ç‰ˆ" class="headerlink" title="3.1ã€é…ç½®ç‰ˆ"></a>3.1ã€é…ç½®ç‰ˆ</h3><p>é¡¹ç›®ç»“æ„æ€»è§ˆï¼š</p><img src="/.io//image-20220408221042873.png" alt="image-20220408221042873" style="zoom:50%;"><ol><li><p>æ–°å»ºä¸€ä¸ªMoudle ï¼Œ springmvc-02-hello ï¼Œ æ·»åŠ webçš„æ”¯æŒï¼</p><img src="/.io//image-20220408110128096.png" alt="image-20220408110128096" style="zoom:50%;"></li><li><p>ç¡®å®šå¯¼å…¥äº†SpringMVC çš„ä¾èµ–ï¼</p></li><li><p>é…ç½®web.xml  ï¼Œ æ³¨å†ŒDispatcherServlet</p><p>æ­¤æ—¶å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:  springmvc-servlet.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--1.æ³¨å†ŒDispatcherServlet--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--å…³è”ä¸€ä¸ªspringmvcçš„é…ç½®æ–‡ä»¶:ã€servlet-nameã€‘-servlet.xml--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«-1--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--/ åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆä¸åŒ…æ‹¬.jspï¼‰--&gt;</span><br>   <span class="hljs-comment">&lt;!--/* åŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼›ï¼ˆåŒ…æ‹¬.jspï¼‰--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™SpringMVC çš„ é…ç½®æ–‡ä»¶ï¼åç§°ï¼šspringmvc-servlet.xml  : [servletname]-servlet.xml</p><p>è¯´æ˜ï¼Œè¿™é‡Œçš„åç§°è¦æ±‚æ˜¯æŒ‰ç…§å®˜æ–¹æ¥çš„</p><img src="/.io//image-20220408212001653.png" alt="image-20220408212001653" style="zoom: 50%;"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ  å¤„ç†æ˜ å°„å™¨ï¼ˆå¯çœç•¥ï¼‰ ï¼ˆåœ¨springmvc-servlet.xmlä¸­ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ  å¤„ç†å™¨é€‚é…å™¨ï¼ˆå¯çœç•¥ï¼‰ ï¼ˆåœ¨springmvc-servlet.xmlä¸­ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ·»åŠ  <strong>è§†å›¾è§£æå™¨</strong> ï¼ˆåœ¨springmvc-servlet.xmlä¸­ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è§†å›¾è§£æå™¨:DispatcherServletç»™ä»–çš„ModelAndView--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;InternalResourceViewResolver&quot;</span>&gt;</span><br>   <span class="hljs-comment">&lt;!--å‰ç¼€--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span><br>   <span class="hljs-comment">&lt;!--åç¼€--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™æˆ‘ä»¬è¦æ“ä½œä¸šåŠ¡Controller ï¼Œè¦ä¹ˆå®ç°Controlleræ¥å£ï¼Œè¦ä¹ˆå¢åŠ æ³¨è§£ï¼›éœ€è¦è¿”å›ä¸€ä¸ªModelAndViewï¼Œè£…æ•°æ®ï¼Œå°è§†å›¾ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.mvc.Controller;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><br><span class="hljs-comment">//æ³¨æ„ï¼šè¿™é‡Œæˆ‘ä»¬å…ˆå¯¼å…¥Controlleræ¥å£</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        <span class="hljs-comment">//ModelAndView æ¨¡å‹å’Œè§†å›¾</span><br>        ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();<br><br>        <span class="hljs-comment">//å°è£…å¯¹è±¡ï¼Œæ”¾åœ¨ModelAndViewä¸­ã€‚Model</span><br>        mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;HelloSpringMVC!&quot;</span>);<br>        <span class="hljs-comment">//å°è£…è¦è·³è½¬çš„è§†å›¾ï¼Œæ”¾åœ¨ModelAndViewä¸­</span><br>        mv.setViewName(<span class="hljs-string">&quot;hello&quot;</span>); <span class="hljs-comment">//: /WEB-INF/jsp/hello.jsp</span><br>        <span class="hljs-keyword">return</span> mv;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å°†è‡ªå·±çš„ç±»äº¤ç»™SpringIOCå®¹å™¨ï¼Œæ³¨å†Œbean</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--Handler--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;/hello&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.controller.HelloController&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†™è¦è·³è½¬çš„jspé¡µé¢ï¼Œæ˜¾ç¤ºModelandViewå­˜æ”¾çš„æ•°æ®ï¼Œä»¥åŠæˆ‘ä»¬çš„æ­£å¸¸é¡µé¢ï¼›</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>wang<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>$&#123;msg&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcat å¯åŠ¨æµ‹è¯•ï¼</p><p>å…ˆåˆ é™¤ä¹‹å‰çš„é…ç½®ï¼š</p><img src="/.io//image-20220408213350964.png" alt="image-20220408213350964" style="zoom: 33%;"><p>å†ç‚¹å‡» fix è‡ªåŠ¨é…ç½®ï¼š</p><img src="/.io//image-20220408213444477.png" alt="image-20220408213444477" style="zoom:33%;"></li></ol><p>æµ‹è¯•æˆåŠŸï¼š</p><img src="/.io//image-20220408215909223.png" alt="image-20220408215909223" style="zoom:50%;"><p><strong>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼šè®¿é—®å‡ºç°404ï¼Œæ’æŸ¥æ­¥éª¤ï¼š</strong></p><ol><li><p>æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç¼ºå°‘äº†ä»€ä¹ˆjaråŒ…ã€‚</p></li><li><p>å¦‚æœjaråŒ…å­˜åœ¨ï¼Œæ˜¾ç¤ºæ— æ³•è¾“å‡ºï¼Œå°±åœ¨IDEAçš„é¡¹ç›®å‘å¸ƒä¸­ï¼Œæ·»åŠ libä¾èµ–ï¼</p></li><li><p>é‡å¯Tomcat å³å¯è§£å†³ï¼</p><p>æŸ¥çœ‹é¡¹ç›®ç»“æ„ï¼š</p><img src="/.io//image-20220408215300697.png" alt="image-20220408215300697" style="zoom:33%;"><p>å¯ä»¥çœ‹åˆ°ç¼ºå°‘ lib ä¾èµ–ï¼š</p><p><img src="/.io//image-20220408215356029.png" alt="image-20220408215356029"></p></li></ol><p>å°†æ‰€æœ‰åŒ…å¯¼å…¥ lib ä¸­ï¼š</p><img src="/.io//image-20220408215605611.png" alt="image-20220408215605611" style="zoom:50%;"><img src="/.io//image-20220408215649111.png" alt="image-20220408215649111" style="zoom:50%;"><p>å°ç»“ï¼šæˆ‘ä»¬æ¥çœ‹ä¸ªæ³¨è§£ç‰ˆå®ç°ï¼Œè¿™æ‰æ˜¯SpringMVCçš„ç²¾é«“ã€‚</p><h3 id="3-2ã€æ³¨è§£ç‰ˆ"><a href="#3-2ã€æ³¨è§£ç‰ˆ" class="headerlink" title="3.2ã€æ³¨è§£ç‰ˆ"></a>3.2ã€æ³¨è§£ç‰ˆ</h3><ol><li><p><strong>æ–°å»ºä¸€ä¸ªMoudleï¼Œspringmvc-03-hello-annotation ã€‚æ·»åŠ webæ”¯æŒï¼</strong></p><img src="/.io//image-20220409221842046.png" alt="image-20220409221842046" style="zoom:50%;"></li><li><p>ç”±äºMavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†é…ç½®å®Œå–„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨pom.xmlæ–‡ä»¶å¼•å…¥ç›¸å…³çš„ä¾èµ–ï¼šä¸»è¦æœ‰Springæ¡†æ¶æ ¸å¿ƒåº“ã€Spring MVCã€servlet , JSTLç­‰ã€‚æˆ‘ä»¬åœ¨çˆ¶ä¾èµ–ä¸­å·²ç»å¼•å…¥äº†ï¼</p></li><li><p>è¿›å…¥é¡¹ç›®ç»“æ„çš„Artifactsï¼Œæ·»åŠ  lib ä¾èµ–</p><p><img src="/.io//image-20220409222751224.png" alt="image-20220409222751224"></p></li><li><p><strong>é…ç½®web.xml</strong></p><p>æ³¨æ„ç‚¹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>/ å’Œ /* çš„åŒºåˆ«ï¼š</strong></p><ul><li>&lt; url-pattern &gt; / &lt;/ url-pattern &gt; ä¸ä¼šåŒ¹é…åˆ°.jspï¼Œ åªé’ˆå¯¹æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚ï¼›å³ï¼š.jsp ä¸ä¼šè¿›å…¥springçš„ DispatcherServletç±» ã€‚</li><li>&lt; url-pattern &gt; /* &lt;/ url-pattern &gt; ä¼šåŒ¹é… *.jspï¼Œä¼šå‡ºç°è¿”å› jspè§†å›¾ æ—¶å†æ¬¡è¿›å…¥springçš„DispatcherServlet ç±»ï¼Œå¯¼è‡´æ‰¾ä¸åˆ°å¯¹åº”çš„controlleræ‰€ä»¥æŠ¥404é”™ã€‚</li></ul></li><li><p><strong>æ·»åŠ Spring MVCé…ç½®æ–‡ä»¶</strong></p><p>åœ¨resourceç›®å½•ä¸‹æ·»åŠ springmvc-servlet.xmlé…ç½®æ–‡ä»¶ï¼Œé…ç½®çš„å½¢å¼ä¸Springå®¹å™¨é…ç½®åŸºæœ¬ç±»ä¼¼ï¼Œä¸ºäº†æ”¯æŒåŸºäºæ³¨è§£çš„IOCï¼Œè®¾ç½®äº†è‡ªåŠ¨æ‰«æåŒ…çš„åŠŸèƒ½ï¼Œå…·ä½“é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.controller&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!-- è®©Spring MVCä¸å¤„ç†é™æ€èµ„æº --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    æ”¯æŒmvcæ³¨è§£é©±åŠ¨</span><br><span class="hljs-comment">        åœ¨springä¸­ä¸€èˆ¬é‡‡ç”¨@RequestMappingæ³¨è§£æ¥å®Œæˆæ˜ å°„å…³ç³»</span><br><span class="hljs-comment">        è¦æƒ³ä½¿@RequestMappingæ³¨è§£ç”Ÿæ•ˆ</span><br><span class="hljs-comment">        å¿…é¡»å‘ä¸Šä¸‹æ–‡ä¸­æ³¨å†ŒDefaultAnnotationHandlerMapping</span><br><span class="hljs-comment">        å’Œä¸€ä¸ªAnnotationMethodHandlerAdapterå®ä¾‹</span><br><span class="hljs-comment">        è¿™ä¸¤ä¸ªå®ä¾‹åˆ†åˆ«åœ¨ç±»çº§åˆ«å’Œæ–¹æ³•çº§åˆ«å¤„ç†ã€‚</span><br><span class="hljs-comment">        è€Œannotation-drivené…ç½®å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸Šè¿°ä¸¤ä¸ªå®ä¾‹çš„æ³¨å…¥ã€‚</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br><br>    <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>        <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p>åœ¨è§†å›¾è§£æå™¨ä¸­æˆ‘ä»¬æŠŠæ‰€æœ‰çš„è§†å›¾éƒ½å­˜æ”¾åœ¨/WEB-INF/ç›®å½•ä¸‹ï¼Œè¿™æ ·å¯ä»¥ä¿è¯è§†å›¾å®‰å…¨ï¼Œå› ä¸ºè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ç›´æ¥è®¿é—®ã€‚</p><ul><li>è®©IOCçš„æ³¨è§£ç”Ÿæ•ˆ</li><li>é™æ€èµ„æºè¿‡æ»¤ ï¼šHTML . JS . CSS . å›¾ç‰‡ ï¼Œ è§†é¢‘ â€¦..<ul><li>MVCçš„æ³¨è§£é©±åŠ¨</li><li>é…ç½®è§†å›¾è§£æå™¨</li></ul></li></ul><ol start="7"><li><p><strong>åˆ›å»ºController</strong></p><p>ç¼–å†™ä¸€ä¸ªJavaæ§åˆ¶ç±»ï¼šcom.wang.controller.HelloController , æ³¨æ„ç¼–ç è§„èŒƒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.ui.Model;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/HelloController&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;<br><br>    <span class="hljs-comment">//çœŸå®è®¿é—®åœ°å€ : é¡¹ç›®å/HelloController/hello</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">sayHello</span><span class="hljs-params">(Model model)</span></span>&#123;<br>        <span class="hljs-comment">//å‘æ¨¡å‹ä¸­æ·»åŠ å±æ€§msgä¸å€¼ï¼Œå¯ä»¥åœ¨JSPé¡µé¢ä¸­å–å‡ºå¹¶æ¸²æŸ“</span><br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;hello,SpringMVC&quot;</span>);<br>        <span class="hljs-comment">//web-inf/jsp/hello.jsp</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>@Controlleræ˜¯ä¸ºäº†è®©Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨æ‰«æåˆ°ï¼›</li><li>@RequestMappingæ˜¯ä¸ºäº†æ˜ å°„è¯·æ±‚è·¯å¾„ï¼Œè¿™é‡Œå› ä¸ºç±»ä¸æ–¹æ³•ä¸Šéƒ½æœ‰æ˜ å°„æ‰€ä»¥è®¿é—®æ—¶åº”è¯¥æ˜¯/HelloController/helloï¼›</li><li>æ–¹æ³•ä¸­å£°æ˜Modelç±»å‹çš„å‚æ•°æ˜¯ä¸ºäº†æŠŠActionä¸­çš„æ•°æ®å¸¦åˆ°è§†å›¾ä¸­ï¼›</li><li>æ–¹æ³•è¿”å›çš„ç»“æœæ˜¯è§†å›¾çš„åç§°helloï¼ŒåŠ ä¸Šé…ç½®æ–‡ä»¶ä¸­çš„å‰åç¼€å˜æˆWEB-INF/jsp/<strong>hello</strong>.jsp</li></ul></li><li><p><strong>åˆ›å»ºè§†å›¾å±‚</strong></p><p>åœ¨WEB-INF/ jspç›®å½•ä¸­åˆ›å»ºhello.jsp ï¼Œ è§†å›¾å¯ä»¥ç›´æ¥å–å‡ºå¹¶å±•ç¤ºä»Controllerå¸¦å›çš„ä¿¡æ¯ï¼›</p><p>å¯ä»¥é€šè¿‡ELè¡¨ç¤ºå–å‡ºModelä¸­å­˜æ”¾çš„å€¼ï¼Œæˆ–è€…å¯¹è±¡ï¼›</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>$&#123;msg&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>é…ç½®Tomcatè¿è¡Œ</strong></p><p>é…ç½®Tomcat ï¼Œ  å¼€å¯æœåŠ¡å™¨ ï¼Œ è®¿é—®å¯¹åº”çš„è¯·æ±‚è·¯å¾„ï¼</p><img src="/.io//image-20220409225658482.png" alt="image-20220409225658482" style="zoom: 33%;"><img src="/.io//image-20220409225618746.png" alt="image-20220409225618746" style="zoom:50%;"><p><strong>OKï¼Œè¿è¡ŒæˆåŠŸï¼</strong></p></li></ol><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>å®ç°æ­¥éª¤å…¶å®éå¸¸çš„ç®€å•ï¼š</p><ol><li>æ–°å»ºä¸€ä¸ªwebé¡¹ç›®</li><li>å¯¼å…¥ç›¸å…³jaråŒ…</li><li>è¿›å…¥é¡¹ç›®ç»“æ„çš„Artifactsï¼Œæ·»åŠ  lib ä¾èµ–</li><li>ç¼–å†™web.xml , æ³¨å†ŒDispatcherServlet</li><li>ç¼–å†™springmvcé…ç½®æ–‡ä»¶</li><li>æ¥ä¸‹æ¥å°±æ˜¯å»åˆ›å»ºå¯¹åº”çš„æ§åˆ¶ç±» , controller</li><li>æœ€åå®Œå–„å‰ç«¯è§†å›¾å’Œcontrollerä¹‹é—´çš„å¯¹åº”</li><li>æµ‹è¯•è¿è¡Œè°ƒè¯•.</li></ol><p><font color="red">ä½¿ç”¨springMVCå¿…é¡»é…ç½®çš„ä¸‰å¤§ä»¶</font></p><p><strong><font color="red">å¤„ç†å™¨æ˜ å°„å™¨ã€å¤„ç†å™¨é€‚é…å™¨ã€è§†å›¾è§£æå™¨</font></strong></p><p><font color="red">é€šå¸¸ï¼Œæˆ‘ä»¬åªéœ€è¦<strong>æ‰‹åŠ¨é…ç½®è§†å›¾è§£æå™¨</strong>ï¼Œè€Œ<strong>å¤„ç†å™¨æ˜ å°„å™¨</strong>å’Œ<strong>å¤„ç†å™¨é€‚é…å™¨</strong>åªéœ€è¦å¼€å¯<strong>æ³¨è§£é©±åŠ¨</strong>å³å¯ï¼Œè€Œçœå»äº†å¤§æ®µçš„xmlé…ç½®</font></p><br><h2 id="4ã€RestFulå’Œæ§åˆ¶å™¨"><a href="#4ã€RestFulå’Œæ§åˆ¶å™¨" class="headerlink" title="4ã€RestFulå’Œæ§åˆ¶å™¨"></a>4ã€RestFulå’Œæ§åˆ¶å™¨</h2><h3 id="4-1ã€æ§åˆ¶å™¨Controller"><a href="#4-1ã€æ§åˆ¶å™¨Controller" class="headerlink" title="4.1ã€æ§åˆ¶å™¨Controller"></a>4.1ã€æ§åˆ¶å™¨Controller</h3><ul><li><p>æ§åˆ¶å™¨æä¾›è®¿é—®åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Œé€šå¸¸é€šè¿‡æ¥å£å®šä¹‰æˆ–æ³¨è§£å®šä¹‰ä¸¤ç§æ–¹æ³•å®ç°ã€‚</p></li><li><p>æ§åˆ¶å™¨è´Ÿè´£è§£æç”¨æˆ·çš„è¯·æ±‚å¹¶å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ¨¡å‹ã€‚</p></li><li><p>åœ¨Spring MVCä¸­ä¸€ä¸ªæ§åˆ¶å™¨ç±»å¯ä»¥åŒ…å«å¤šä¸ªæ–¹æ³•</p></li><li><p>åœ¨Spring MVCä¸­ï¼Œå¯¹äºControllerçš„é…ç½®æ–¹å¼æœ‰å¾ˆå¤šç§</p></li></ul><p><strong>æ§åˆ¶å™¨çš„å®ç°æ–¹å¼ï¼š</strong></p><p>ï¼ˆ1ï¼‰æ¥å£å®šä¹‰å¹¶å®ç°</p><p>ï¼ˆ2ï¼‰<strong>æ³¨è§£å®šä¹‰</strong>ï¼ˆæ¨èï¼‰</p><h3 id="4-2ã€å®ç°Controlleræ¥å£"><a href="#4-2ã€å®ç°Controlleræ¥å£" class="headerlink" title="4.2ã€å®ç°Controlleræ¥å£"></a>4.2ã€å®ç°Controlleræ¥å£</h3><p>Controlleræ˜¯ä¸€ä¸ªæ¥å£ï¼Œåœ¨org.springframework.web.servlet.mvcåŒ…ä¸‹ï¼Œæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®ç°è¯¥æ¥å£çš„ç±»è·å¾—æ§åˆ¶å™¨åŠŸèƒ½</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Controller</span> </span>&#123;<br>   <span class="hljs-comment">//å¤„ç†è¯·æ±‚ä¸”è¿”å›ä¸€ä¸ªæ¨¡å‹ä¸è§†å›¾å¯¹è±¡</span><br>   <span class="hljs-function">ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest var1, HttpServletResponse var2)</span> <span class="hljs-keyword">throws</span> Exception</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æµ‹è¯•</strong></p><ol><li><p> æ–°å»ºä¸€ä¸ªMoudleï¼Œspringmvc-04-controllerï¼</p></li><li><p> mvcçš„é…ç½®æ–‡ä»¶åªç•™ä¸‹ è§†å›¾è§£æå™¨ï¼</p></li><li><p> ç¼–å†™ä¸€ä¸ªControllerç±»ï¼ŒControllerTest1</p></li></ol>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰æ§åˆ¶å™¨</span><br><span class="hljs-comment">//æ³¨æ„ç‚¹ï¼šä¸è¦å¯¼é”™åŒ…ï¼Œå®ç°Controlleræ¥å£ï¼Œé‡å†™æ–¹æ³•ï¼›</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>       <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br>       ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();<br>       mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;Test1Controller&quot;</span>);<br>       mv.setViewName(<span class="hljs-string">&quot;hello&quot;</span>);<br>       <span class="hljs-keyword">return</span> mv;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li><p>ç¼–å†™å®Œæ¯•åï¼Œå»Springé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œè¯·æ±‚çš„beanï¼›nameå¯¹åº”è¯·æ±‚è·¯å¾„ï¼Œclasså¯¹åº”å¤„ç†è¯·æ±‚çš„ç±»</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;/t1&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.controller.ControllerTest1&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å‰ç«¯hello.jspï¼Œæ³¨æ„åœ¨WEB-INF/jspç›®å½•ä¸‹ç¼–å†™ï¼Œå¯¹åº”æˆ‘ä»¬çš„è§†å›¾è§£æå™¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Kuangshen<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>$&#123;msg&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcatè¿è¡Œæµ‹è¯•ï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰é¡¹ç›®å‘å¸ƒåé…ç½®çš„å°±æ˜¯ä¸€ä¸ª / ï¼Œæ‰€ä»¥è¯·æ±‚ä¸ç”¨åŠ é¡¹ç›®åï¼ŒOKï¼</p></li></ol><p><strong>è¯´æ˜ï¼š</strong></p><ul><li><p>å®ç°æ¥å£Controllerå®šä¹‰æ§åˆ¶å™¨æ˜¯è¾ƒè€çš„åŠæ³•</p></li><li><p>ç¼ºç‚¹æ˜¯ï¼šä¸€ä¸ªæ§åˆ¶å™¨ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœè¦å¤šä¸ªæ–¹æ³•åˆ™éœ€è¦å®šä¹‰å¤šä¸ªControllerï¼›å®šä¹‰çš„æ–¹å¼æ¯”è¾ƒéº»çƒ¦ï¼›</p></li></ul><h3 id="4-3ã€ä½¿ç”¨æ³¨è§£-Controller"><a href="#4-3ã€ä½¿ç”¨æ³¨è§£-Controller" class="headerlink" title="4.3ã€ä½¿ç”¨æ³¨è§£@Controller"></a>4.3ã€ä½¿ç”¨æ³¨è§£@Controller</h3><ul><li><p>@Controlleræ³¨è§£ç±»å‹ç”¨äºå£°æ˜Springç±»çš„å®ä¾‹æ˜¯ä¸€ä¸ªæ§åˆ¶å™¨ï¼ˆåœ¨è®²IOCæ—¶è¿˜æåˆ°äº†å¦å¤–3ä¸ªæ³¨è§£ï¼‰ï¼›</p></li><li><p>Springå¯ä»¥ä½¿ç”¨æ‰«ææœºåˆ¶æ¥æ‰¾åˆ°åº”ç”¨ç¨‹åºä¸­æ‰€æœ‰åŸºäºæ³¨è§£çš„æ§åˆ¶å™¨ç±»ï¼Œä¸ºäº†ä¿è¯Springèƒ½æ‰¾åˆ°ä½ çš„æ§åˆ¶å™¨ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜ç»„ä»¶æ‰«æã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.controller&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å¢åŠ ä¸€ä¸ªControllerTest2ç±»ï¼Œä½¿ç”¨æ³¨è§£å®ç°ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//@Controlleræ³¨è§£çš„ç±»ä¼šè‡ªåŠ¨æ·»åŠ åˆ°Springä¸Šä¸‹æ–‡ä¸­</span><br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest2</span></span>&#123;<br><br>   <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br>   <span class="hljs-meta">@RequestMapping(&quot;/t2&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(Model model)</span></span>&#123;<br>       <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>       model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ControllerTest2&quot;</span>);<br>       <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span><br>       <span class="hljs-comment">//web-inf/jsp/hello.jsp</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œtomcatæµ‹è¯•</p></li></ul><p><strong>å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬çš„ä¸¤ä¸ªè¯·æ±‚éƒ½å¯ä»¥æŒ‡å‘ä¸€ä¸ªè§†å›¾(test)ï¼Œä½†æ˜¯é¡µé¢ç»“æœçš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è¿™é‡Œå¯ä»¥çœ‹å‡ºè§†å›¾æ˜¯è¢«å¤ç”¨çš„ï¼Œè€Œæ§åˆ¶å™¨ä¸è§†å›¾ä¹‹é—´æ˜¯å¼±å¶åˆå…³ç³»ã€‚</strong></p><p><u><strong>æ³¨è§£æ–¹å¼æ˜¯å¹³æ—¶ä½¿ç”¨çš„æœ€å¤šçš„æ–¹å¼ï¼</strong></u></p><h3 id="4-4ã€RequestMapping"><a href="#4-4ã€RequestMapping" class="headerlink" title="4.4ã€RequestMapping"></a>4.4ã€RequestMapping</h3><p><strong>@RequestMapping</strong></p><ul><li><p>@RequestMappingæ³¨è§£ç”¨äºæ˜ å°„urlåˆ°æ§åˆ¶å™¨ç±»æˆ–ä¸€ä¸ªç‰¹å®šçš„å¤„ç†ç¨‹åºæ–¹æ³•ã€‚å¯ç”¨äºç±»æˆ–æ–¹æ³•ä¸Šã€‚ç”¨äºç±»ä¸Šï¼Œè¡¨ç¤ºç±»ä¸­çš„æ‰€æœ‰å“åº”è¯·æ±‚çš„æ–¹æ³•éƒ½æ˜¯ä»¥è¯¥åœ°å€ä½œä¸ºçˆ¶è·¯å¾„ã€‚</p></li><li><p>ä¸ºäº†æµ‹è¯•ç»“è®ºæ›´åŠ å‡†ç¡®ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸Šä¸€ä¸ªé¡¹ç›®åæµ‹è¯• myweb</p></li><li><p>åªæ³¨è§£åœ¨æ–¹æ³•ä¸Šé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> </span>&#123;<br>   <span class="hljs-meta">@RequestMapping(&quot;/h1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è®¿é—®è·¯å¾„ï¼š<a href="http://localhost:8080/">http://localhost:8080</a> / é¡¹ç›®å / h1</p></li><li><p>åŒæ—¶æ³¨è§£ç±»ä¸æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/admin&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> </span>&#123;<br>   <span class="hljs-meta">@RequestMapping(&quot;/h1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è®¿é—®è·¯å¾„ï¼š<a href="http://localhost:8080/">http://localhost:8080</a> / é¡¹ç›®å/ admin /h1  , éœ€è¦å…ˆæŒ‡å®šç±»çš„è·¯å¾„å†æŒ‡å®šæ–¹æ³•çš„è·¯å¾„ï¼›</p></li></ul><h3 id="4-5ã€RestFul-é£æ ¼"><a href="#4-5ã€RestFul-é£æ ¼" class="headerlink" title="4.5ã€RestFul é£æ ¼"></a>4.5ã€RestFul é£æ ¼</h3><p><strong>æ¦‚å¿µ</strong></p><p>Restfulå°±æ˜¯ä¸€ä¸ªèµ„æºå®šä½åŠèµ„æºæ“ä½œçš„é£æ ¼ã€‚ä¸æ˜¯æ ‡å‡†ä¹Ÿä¸æ˜¯åè®®ï¼Œåªæ˜¯ä¸€ç§<strong>é£æ ¼</strong>ã€‚åŸºäºè¿™ä¸ªé£æ ¼è®¾è®¡çš„è½¯ä»¶å¯ä»¥æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡ï¼Œæ›´<strong>æ˜“äºå®ç°ç¼“å­˜ç­‰æœºåˆ¶</strong>ã€‚</p><p><strong>åŠŸèƒ½</strong></p><p>èµ„æºï¼šäº’è”ç½‘æ‰€æœ‰çš„äº‹ç‰©éƒ½å¯ä»¥è¢«æŠ½è±¡ä¸ºèµ„æº</p><p>èµ„æºæ“ä½œï¼šä½¿ç”¨POSTã€DELETEã€PUTã€GETï¼Œä½¿ç”¨ä¸åŒæ–¹æ³•å¯¹èµ„æºè¿›è¡Œæ“ä½œã€‚</p><p>åˆ†åˆ«å¯¹åº” æ·»åŠ ã€ åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€‚</p><p><strong>ä¼ ç»Ÿæ–¹å¼æ“ä½œèµ„æº</strong>  ï¼šé€šè¿‡ä¸åŒçš„å‚æ•°æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼æ–¹æ³•å•ä¸€ï¼Œpost å’Œ get</p><p>â€‹    <a href="http://127.0.0.1/item/queryItem.action?id=1">http://127.0.0.1/item/queryItem.action?id=1</a> æŸ¥è¯¢,GET</p><p>â€‹    <a href="http://127.0.0.1/item/saveItem.action">http://127.0.0.1/item/saveItem.action</a> æ–°å¢,POST</p><p>â€‹    <a href="http://127.0.0.1/item/updateItem.action">http://127.0.0.1/item/updateItem.action</a> æ›´æ–°,POST</p><p>â€‹    <a href="http://127.0.0.1/item/deleteItem.action?id=1">http://127.0.0.1/item/deleteItem.action?id=1</a> åˆ é™¤,GETæˆ–POST</p><p><strong>ä½¿ç”¨RESTfulæ“ä½œèµ„æº</strong> ï¼šå¯ä»¥é€šè¿‡ä¸åŒçš„è¯·æ±‚æ–¹å¼æ¥å®ç°ä¸åŒçš„æ•ˆæœï¼å¦‚ä¸‹ï¼šè¯·æ±‚åœ°å€ä¸€æ ·ï¼Œä½†æ˜¯åŠŸèƒ½å¯ä»¥ä¸åŒï¼</p><p>â€‹    <a href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> æŸ¥è¯¢, GET</p><p>â€‹    <a href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ–°å¢, POST</p><p>â€‹    <a href="http://127.0.0.1/item">http://127.0.0.1/item</a> æ›´æ–°, PUT</p><p>â€‹    <a href="http://127.0.0.1/item/1">http://127.0.0.1/item/1</a> åˆ é™¤, DELETE</p><p><strong>å­¦ä¹ æµ‹è¯•</strong></p><ol><li><p>åœ¨æ–°å»ºä¸€ä¸ªç±» RestFulController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>&#123;&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨Spring MVCä¸­å¯ä»¥ä½¿ç”¨  @PathVariable æ³¨è§£ï¼Œè®©æ–¹æ³•å‚æ•°çš„å€¼å¯¹åº”ç»‘å®šåˆ°ä¸€ä¸ªURIæ¨¡æ¿å˜é‡ä¸Šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RestFulController</span> </span>&#123;<br><br>    <span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/add/&#123;p1&#125;/&#123;p2&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p1, <span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p2, Model model)</span></span>&#123;<br><br>        <span class="hljs-keyword">int</span> result = p1+p2;<br>        <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>        model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);<br>        <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æˆ‘ä»¬æ¥æµ‹è¯•è¯·æ±‚æŸ¥çœ‹ä¸‹</p><img src="/.io//image-20220411194641831.png" alt="image-20220411194641831" style="zoom: 67%;"></li><li><p>æ€è€ƒï¼šä½¿ç”¨RestFulè·¯å¾„å˜é‡çš„å¥½å¤„ï¼Ÿ</p><ul><li><p>ä½¿è·¯å¾„å˜å¾—æ›´åŠ ç®€æ´ï¼›</p></li><li><p>è·å¾—å‚æ•°æ›´åŠ æ–¹ä¾¿ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ã€‚</p></li><li><p>é€šè¿‡è·¯å¾„å˜é‡çš„ç±»å‹å¯ä»¥çº¦æŸè®¿é—®å‚æ•°ï¼Œå¦‚æœç±»å‹ä¸ä¸€æ ·ï¼Œåˆ™è®¿é—®ä¸åˆ°å¯¹åº”çš„è¯·æ±‚æ–¹æ³•ï¼Œå¦‚è¿™é‡Œè®¿é—®æ˜¯çš„è·¯å¾„æ˜¯/add/1/aï¼Œåˆ™è·¯å¾„ä¸æ–¹æ³•ä¸åŒ¹é…ï¼Œè€Œä¸ä¼šæ˜¯å‚æ•°è½¬æ¢å¤±è´¥ã€‚</p><p><img src="/.io//1595129271494.png" alt="1595129271494"></p></li></ul></li><li><p>æˆ‘ä»¬æ¥ä¿®æ”¹ä¸‹å¯¹åº”çš„å‚æ•°ç±»å‹ï¼Œå†æ¬¡æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„</span><br><span class="hljs-meta">@RequestMapping(&quot;/add/&#123;p1&#125;/&#123;p2&#125;&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> <span class="hljs-keyword">int</span> p1, <span class="hljs-meta">@PathVariable</span> String p2, Model model)</span></span>&#123;<br><br>   String result = p1+p2;<br>   <span class="hljs-comment">//Spring MVCä¼šè‡ªåŠ¨å®ä¾‹åŒ–ä¸€ä¸ªModelå¯¹è±¡ç”¨äºå‘è§†å›¾ä¸­ä¼ å€¼</span><br>   model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;ç»“æœï¼š&quot;</span>+result);<br>   <span class="hljs-comment">//è¿”å›è§†å›¾ä½ç½®</span><br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/.io//1595129577077.png" alt="1595129577077"></p></li></ol><p><strong>ä½¿ç”¨methodå±æ€§æŒ‡å®šè¯·æ±‚ç±»å‹</strong></p><p>ç”¨äºçº¦æŸè¯·æ±‚çš„ç±»å‹ã€‚æŒ‡å®šè¯·æ±‚è°“è¯çš„ç±»å‹å¦‚GET, POST, HEAD, OPTIONS, PUT, PATCH, DELETE, TRACEç­‰</p><p>æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p><ul><li><p>å¢åŠ ä¸€ä¸ªæ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯POSTè¯·æ±‚</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.POST&#125;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index2</span><span class="hljs-params">(Model model)</span></span>&#123;<br>   model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;hello!&quot;</span>);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æˆ‘ä»¬ä½¿ç”¨æµè§ˆå™¨åœ°å€æ è¿›è¡Œè®¿é—®é»˜è®¤æ˜¯Getè¯·æ±‚ï¼Œä¼šæŠ¥é”™405ï¼š</p><p><img src="/.io//1595129829057.png" alt="1595129829057"></p></li><li><p>å¦‚æœå°†POSTä¿®æ”¹ä¸ºGETåˆ™æ­£å¸¸äº†ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ˜ å°„è®¿é—®è·¯å¾„,å¿…é¡»æ˜¯Getè¯·æ±‚</span><br><span class="hljs-meta">@RequestMapping(value = &quot;/hello&quot;,method = &#123;RequestMethod.GET&#125;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">index2</span><span class="hljs-params">(Model model)</span></span>&#123;<br>   model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>, <span class="hljs-string">&quot;hello!&quot;</span>);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/.io//1595129889298.png" alt="1595129889298"></p></li></ul><p><strong>å°ç»“ï¼š</strong></p><p>Spring MVC çš„ @RequestMapping æ³¨è§£èƒ½å¤Ÿå¤„ç† HTTP è¯·æ±‚çš„æ–¹æ³•, æ¯”å¦‚ GET, PUT, POST, DELETE ä»¥åŠ PATCHã€‚</p><p><strong>æ‰€æœ‰çš„åœ°å€æ è¯·æ±‚é»˜è®¤éƒ½ä¼šæ˜¯ HTTP <u>GET</u> ç±»å‹çš„ã€‚</strong></p><p><strong>æ³¨è§£ç®€åŒ–ï¼š</strong></p><p>æ–¹æ³•çº§åˆ«çš„æ³¨è§£å˜ä½“æœ‰å¦‚ä¸‹å‡ ä¸ªï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@GetMapping</span><br><span class="hljs-variable">@PostMapping</span><br><span class="hljs-variable">@PutMapping</span><br><span class="hljs-variable">@DeleteMapping</span><br><span class="hljs-variable">@PatchMapping</span><br></code></pre></td></tr></table></figure><p>@GetMapping æ˜¯ä¸€ä¸ªç»„åˆæ³¨è§£ï¼Œå¹³æ—¶ä½¿ç”¨çš„ä¼šæ¯”è¾ƒå¤šï¼</p><p>å®ƒæ‰€æ‰®æ¼”çš„æ˜¯ @RequestMapping(method =RequestMethod.GET) çš„ä¸€ä¸ªå¿«æ·æ–¹å¼ã€‚</p><p>å³ï¼š</p><p><strong>@RequestMapping(â€œ/helloâ€,method = {RequestMethod.GET})</strong></p><p>ç­‰ä»·äº</p><p><strong>@GetMapping( â€œ/helloâ€)</strong></p><p><strong>æ³¨ï¼š</strong></p><p>@RequestMappingä¸­methodæ²¡æœ‰é»˜è®¤å€¼ï¼Œå¦‚æœä¸é…ç½®methodï¼Œåˆ™å¯ä»¥ä¸ºä»»ä½•è¯·æ±‚å½¢å¼</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">RequestMethod.<span class="hljs-keyword">GET</span>ï¼Œ<br>RequestMethod.POSTï¼Œ<br>RequestMethod.PUTï¼Œ<br>RequestMethod.<span class="hljs-keyword">DELETE</span><br>éƒ½å¯ä»¥è®¿é—®å¾—åˆ°<br></code></pre></td></tr></table></figure><br><h2 id="5ã€ç»“æœè·³è½¬æ–¹å¼"><a href="#5ã€ç»“æœè·³è½¬æ–¹å¼" class="headerlink" title="5ã€ç»“æœè·³è½¬æ–¹å¼"></a>5ã€ç»“æœè·³è½¬æ–¹å¼</h2><h3 id="5-1ã€ModelAndView"><a href="#5-1ã€ModelAndView" class="headerlink" title="5.1ã€ModelAndView"></a>5.1ã€ModelAndView</h3><p>è®¾ç½®ModelAndViewå¯¹è±¡ , æ ¹æ®viewçš„åç§° , å’Œè§†å›¾è§£æå™¨è·³åˆ°æŒ‡å®šçš„é¡µé¢ .</p><p>é¡µé¢ : {è§†å›¾è§£æå™¨å‰ç¼€} + viewName +{è§†å›¾è§£æå™¨åç¼€}</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span><br><span class="hljs-tag">     <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>   <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯¹åº”çš„controllerç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>       <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br>       ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();<br>       mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ControllerTest1&quot;</span>);<br>       mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);<br>       <span class="hljs-keyword">return</span> mv;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-2ã€ServletAPI"><a href="#5-2ã€ServletAPI" class="headerlink" title="5.2ã€ServletAPI"></a>5.2ã€ServletAPI</h3><p>ServletAPI</p><p>é€šè¿‡è®¾ç½®ServletAPI , ä¸éœ€è¦è§†å›¾è§£æå™¨ .</p><ol><li><p>é€šè¿‡HttpServletResponseè¿›è¡Œè¾“å‡º</p></li><li><p>é€šè¿‡HttpServletResponseå®ç°é‡å®šå‘</p></li><li><p>é€šè¿‡HttpServletResponseå®ç°è½¬å‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResultGo</span> </span>&#123;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/result/t1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>       rsp.getWriter().println(<span class="hljs-string">&quot;Hello,Spring BY servlet API&quot;</span>);<br>  &#125;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/result/t2&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>       rsp.sendRedirect(<span class="hljs-string">&quot;/index.jsp&quot;</span>);<br>  &#125;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/result/t3&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse rsp)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>       <span class="hljs-comment">//è½¬å‘</span><br>       req.setAttribute(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;/result/t3&quot;</span>);<br>       req.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/test.jsp&quot;</span>).forward(req,rsp);<br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="5-3ã€SpringMVC"><a href="#5-3ã€SpringMVC" class="headerlink" title="5.3ã€SpringMVC"></a>5.3ã€SpringMVC</h3><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æ— éœ€è§†å›¾è§£æå™¨ï¼›</strong></p><p>æµ‹è¯•å‰ï¼Œéœ€è¦å°†è§†å›¾è§£æå™¨æ³¨é‡Šæ‰</p><ul><li>é»˜è®¤ä¸ºforwardè½¬å‘ï¼ˆ<font color="red">ä¹Ÿå¯ä»¥åŠ ä¸Š</font>ï¼‰</li><li>redirectè½¬å‘éœ€ç‰¹åˆ«åŠ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResultSpringMVC</span> </span>&#123;<br>   <span class="hljs-meta">@RequestMapping(&quot;/rsm/t1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-comment">//è½¬å‘</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;/index.jsp&quot;</span>;<br>  &#125;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/rsm/t2&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-comment">//è½¬å‘äºŒ</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;forward:/index.jsp&quot;</span>;<br>  &#125;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/rsm/t3&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test3</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-comment">//é‡å®šå‘</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>é€šè¿‡SpringMVCæ¥å®ç°è½¬å‘å’Œé‡å®šå‘ - æœ‰è§†å›¾è§£æå™¨ï¼›</strong></p><p>é‡å®šå‘ , ä¸éœ€è¦è§†å›¾è§£æå™¨ , æœ¬è´¨å°±æ˜¯é‡æ–°è¯·æ±‚ä¸€ä¸ªæ–°åœ°æ–¹å˜› , æ‰€ä»¥æ³¨æ„è·¯å¾„é—®é¢˜.</p><p>å¯ä»¥é‡å®šå‘åˆ°å¦å¤–ä¸€ä¸ªè¯·æ±‚å®ç° .</p><ul><li>é»˜è®¤ä¸ºforwardè½¬å‘ï¼ˆ<font color="red">ä¸å¯ä»¥åŠ ä¸Š</font>ï¼‰</li><li>redirectè½¬å‘éœ€ç‰¹åˆ«åŠ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ResultSpringMVC2</span> </span>&#123;<br>   <span class="hljs-meta">@RequestMapping(&quot;/rsm2/t1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-comment">//è½¬å‘</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>  &#125;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/rsm2/t2&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>&#123;<br>       <span class="hljs-comment">//é‡å®šå‘</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>       <span class="hljs-comment">//return &quot;redirect:hello.do&quot;; //hello.doä¸ºå¦ä¸€ä¸ªè¯·æ±‚/</span><br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><br><h2 id="6ã€æ•°æ®å¤„ç†"><a href="#6ã€æ•°æ®å¤„ç†" class="headerlink" title="6ã€æ•°æ®å¤„ç†"></a>6ã€æ•°æ®å¤„ç†</h2><h3 id="6-1ã€å¤„ç†æäº¤æ•°æ®"><a href="#6-1ã€å¤„ç†æäº¤æ•°æ®" class="headerlink" title="6.1ã€å¤„ç†æäº¤æ•°æ®"></a>6.1ã€å¤„ç†æäº¤æ•°æ®</h3><p><strong>1ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸€è‡´</strong></p><p>æäº¤æ•°æ® : <a href="http://localhost:8080/hello?name=kuangshen">http://localhost:8080/hello?name=kuangshen</a></p><p>å¤„ç†æ–¹æ³• :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(String name)</span></span>&#123;<br>   System.out.println(name);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åå°è¾“å‡º : kuangshen</p><p><strong>2ã€æäº¤çš„åŸŸåç§°å’Œå¤„ç†æ–¹æ³•çš„å‚æ•°åä¸ä¸€è‡´</strong></p><p>æäº¤æ•°æ® : <a href="http://localhost:8080/hello?username=kuangshen">http://localhost:8080/hello?username=kuangshen</a></p><p>å¤„ç†æ–¹æ³• :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//@RequestParam(&quot;username&quot;) : usernameæäº¤çš„åŸŸçš„åç§° .</span><br><span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name)</span></span>&#123;<br>   System.out.println(name);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>åå°è¾“å‡º : kuangshen</p><p><strong>3ã€æäº¤çš„æ˜¯ä¸€ä¸ªå¯¹è±¡</strong></p><p>è¦æ±‚æäº¤çš„è¡¨å•åŸŸå’Œå¯¹è±¡çš„å±æ€§åä¸€è‡´  , å‚æ•°ä½¿ç”¨å¯¹è±¡å³å¯</p><ol><li><p>å®ä½“ç±»</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>   <span class="hljs-keyword">private</span> String name;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br>   <span class="hljs-comment">//æ„é€ </span><br>   <span class="hljs-comment">//get/set</span><br>   <span class="hljs-comment">//tostring()</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æäº¤æ•°æ® : <a href="http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15">http://localhost:8080/mvc04/user?name=kuangshen&amp;id=1&amp;age=15</a></p></li><li><p>å¤„ç†æ–¹æ³• :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">user</span><span class="hljs-params">(User user, Model model)</span></span>&#123;<br>    System.out.println(user);<br>    model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,user.getName());<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>æµ‹è¯•urlï¼š<a href="http://localhost:8080/HelloController/user?name=wang&amp;age=22">http://localhost:8080/HelloController/user?name=wang&amp;age=22</a></p><p>è¯´æ˜ï¼šå¦‚æœä½¿ç”¨å¯¹è±¡çš„è¯ï¼Œå‰ç«¯ä¼ é€’çš„<font color="red">å‚æ•°åå’Œå¯¹è±¡åå¿…é¡»ä¸€è‡´</font>ï¼Œå¦åˆ™å°±æ˜¯nullã€‚</p><p>æ³¨ï¼šspringmvc-servlet.xmlé‡Œé¢å·²ç»é…ç½®è‡ªåŠ¨æ‰«æåŒ…ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«æåŒ…ï¼Œè®©æŒ‡å®šåŒ…ä¸‹çš„æ³¨è§£ç”Ÿæ•ˆ,ç”±IOCå®¹å™¨ç»Ÿä¸€ç®¡ç† --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.controller&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>å› æ­¤com.wang.controllerä¸‹çš„controlleréƒ½èƒ½è¢«è¯†åˆ«ï¼Œå³ç›¸å¯¹åº”çš„è¯·æ±‚éƒ½èƒ½æˆåŠŸ</p><img src="/.io//image-20220416104317031.png" alt="image-20220416104317031" style="zoom: 67%;"><h3 id="6-2ã€æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"><a href="#6-2ã€æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯" class="headerlink" title="6.2ã€æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯"></a>6.2ã€æ•°æ®æ˜¾ç¤ºåˆ°å‰ç«¯</h3><p><strong>ç¬¬ä¸€ç§ : é€šè¿‡ModelAndView</strong></p><p>æˆ‘ä»¬å‰é¢ä¸€ç›´éƒ½æ˜¯å¦‚æ­¤ . å°±ä¸è¿‡å¤šè§£é‡Š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ControllerTest1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Controller</span> </span>&#123;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> ModelAndView <span class="hljs-title">handleRequest</span><span class="hljs-params">(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>       <span class="hljs-comment">//è¿”å›ä¸€ä¸ªæ¨¡å‹è§†å›¾å¯¹è±¡</span><br>       ModelAndView mv = <span class="hljs-keyword">new</span> ModelAndView();<br>       mv.addObject(<span class="hljs-string">&quot;msg&quot;</span>,<span class="hljs-string">&quot;ControllerTest1&quot;</span>);<br>       mv.setViewName(<span class="hljs-string">&quot;test&quot;</span>);<br>       <span class="hljs-keyword">return</span> mv;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç¬¬äºŒç§ : é€šè¿‡ModelMap</strong></p><p>ModelMap</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/hello&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name, ModelMap modelMap)</span></span>&#123;<br>   <span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span><br>   <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span><br>   modelMap.addAttribute(<span class="hljs-string">&quot;name&quot;</span>,name);<br>   System.out.println(name);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;hello&quot;</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>ç¬¬ä¸‰ç§ : é€šè¿‡Model</strong></p><p>Model</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/ct2/hello&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">hello</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;username&quot;)</span> String name, Model model)</span></span>&#123;<br>   <span class="hljs-comment">//å°è£…è¦æ˜¾ç¤ºåˆ°è§†å›¾ä¸­çš„æ•°æ®</span><br>   <span class="hljs-comment">//ç›¸å½“äºreq.setAttribute(&quot;name&quot;,name);</span><br>   model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name);<br>   System.out.println(name);<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-3ã€å¯¹æ¯”"><a href="#6-3ã€å¯¹æ¯”" class="headerlink" title="6.3ã€å¯¹æ¯”"></a>6.3ã€å¯¹æ¯”</h3><p>å°±å¯¹äºæ–°æ‰‹è€Œè¨€ç®€å•æ¥è¯´ä½¿ç”¨åŒºåˆ«å°±æ˜¯ï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs gams"><span class="hljs-keyword">Model</span> åªæœ‰å¯¥å¯¥å‡ ä¸ªæ–¹æ³•åªé€‚åˆç”¨äºå‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äº<span class="hljs-keyword">Model</span>å¯¹è±¡çš„æ“ä½œå’Œç†è§£ï¼›<br>ModelMap ç»§æ‰¿äº† LinkedMap ï¼Œé™¤äº†å®ç°äº†è‡ªèº«çš„ä¸€äº›æ–¹æ³•ï¼ŒåŒæ ·çš„ç»§æ‰¿ LinkedMap çš„æ–¹æ³•å’Œç‰¹æ€§ï¼›<br>ModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œå¯ä»¥è¿›è¡Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾ï¼Œè¿›è¡Œæ§åˆ¶å±•ç¤ºå±‚çš„è·³è½¬ã€‚<br></code></pre></td></tr></table></figure><p>å½“ç„¶æ›´å¤šçš„ä»¥åå¼€å‘è€ƒè™‘çš„æ›´å¤šçš„æ˜¯æ€§èƒ½å’Œä¼˜åŒ–ï¼Œå°±ä¸èƒ½å•å•ä»…é™äºæ­¤çš„äº†è§£ã€‚</p><p><strong>è¯·ä½¿ç”¨80%çš„æ—¶é—´æ‰“å¥½æ‰å®çš„åŸºç¡€ï¼Œå‰©ä¸‹18%çš„æ—¶é—´ç ”ç©¶æ¡†æ¶ï¼Œ2%çš„æ—¶é—´å»å­¦ç‚¹è‹±æ–‡ï¼Œæ¡†æ¶çš„å®˜æ–¹æ–‡æ¡£æ°¸è¿œæ˜¯æœ€å¥½çš„æ•™ç¨‹ã€‚</strong></p><br><h2 id="7ã€ä¹±ç é—®é¢˜"><a href="#7ã€ä¹±ç é—®é¢˜" class="headerlink" title="7ã€ä¹±ç é—®é¢˜"></a>7ã€ä¹±ç é—®é¢˜</h2><p>æµ‹è¯•æ­¥éª¤ï¼š</p><ol><li><p>æˆ‘ä»¬å¯ä»¥åœ¨é¦–é¡µç¼–å†™ä¸€ä¸ªæäº¤çš„è¡¨å•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/e/t&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åå°ç¼–å†™å¯¹åº”çš„å¤„ç†ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Encoding</span> </span>&#123;<br>   <span class="hljs-meta">@RequestMapping(&quot;/e/t&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">(Model model,String name)</span></span>&#123;<br>       model.addAttribute(<span class="hljs-string">&quot;msg&quot;</span>,name); <span class="hljs-comment">//è·å–è¡¨å•æäº¤çš„å€¼</span><br>       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;test&quot;</span>; <span class="hljs-comment">//è·³è½¬åˆ°testé¡µé¢æ˜¾ç¤ºè¾“å…¥çš„å€¼</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¾“å…¥ä¸­æ–‡æµ‹è¯•ï¼Œå‘ç°ä¹±ç </p><p><img src="/.io//1595131750549.png" alt="1595131750549"></p></li></ol><p>ä¸å¾—ä¸è¯´ï¼Œä¹±ç é—®é¢˜æ˜¯åœ¨æˆ‘ä»¬å¼€å‘ä¸­ååˆ†å¸¸è§çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯è®©æˆ‘ä»¬ç¨‹åºçŒ¿æ¯”è¾ƒå¤´å¤§çš„é—®é¢˜ï¼</p><p>ä»¥å‰ä¹±ç é—®é¢˜é€šè¿‡è¿‡æ»¤å™¨è§£å†³ , è€ŒSpringMVCç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè¿‡æ»¤å™¨ , å¯ä»¥åœ¨web.xmlä¸­é…ç½® .</p><p>ä¿®æ”¹äº†xmlæ–‡ä»¶éœ€è¦é‡å¯æœåŠ¡å™¨ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p><font color="red">æ³¨æ„ï¼šè¿™é‡Œå†™/*ï¼Œå†™/çš„è¯è¿‡æ»¤ä¸äº†jspé¡µé¢ï¼Œä¸èƒ½è§£å†³ä¹±ç </font></p><p>ä½†æ˜¯æˆ‘ä»¬å‘ç° , æœ‰äº›æç«¯æƒ…å†µä¸‹.è¿™ä¸ªè¿‡æ»¤å™¨å¯¹getçš„æ”¯æŒä¸å¥½ .</p><p>æç«¯æƒ…å†µå¤„ç†æ–¹æ³• :</p><ol><li><p>ä¿®æ”¹tomcaté…ç½®æ–‡ä»¶ ï¼šè®¾ç½®ç¼–ç ï¼</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">URIEncoding</span>=<span class="hljs-string">&quot;utf-8&quot;</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8080&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span></span><br><span class="hljs-tag">          <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼ˆä¸‡èƒ½è§£å†³ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.filter;<br><br><span class="hljs-keyword">import</span> javax.servlet.*;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.UnsupportedEncodingException;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment">* è§£å†³getå’Œpostè¯·æ±‚ å…¨éƒ¨ä¹±ç çš„è¿‡æ»¤å™¨</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GenericEncodingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span> </span>&#123;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>&#123;<br>  &#125;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException </span>&#123;<br>       <span class="hljs-comment">//å¤„ç†responseçš„å­—ç¬¦ç¼–ç </span><br>       HttpServletResponse myResponse=(HttpServletResponse) response;<br>       myResponse.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br><br>       <span class="hljs-comment">// è½¬å‹ä¸ºä¸åè®®ç›¸å…³å¯¹è±¡</span><br>       HttpServletRequest httpServletRequest = (HttpServletRequest) request;<br>       <span class="hljs-comment">// å¯¹requeståŒ…è£…å¢å¼º</span><br>       HttpServletRequest myrequest = <span class="hljs-keyword">new</span> MyRequest(httpServletRequest);<br>       chain.doFilter(myrequest, response);<br>  &#125;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException </span>&#123;<br>  &#125;<br><br>&#125;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰requestå¯¹è±¡ï¼ŒHttpServletRequestçš„åŒ…è£…ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyRequest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServletRequestWrapper</span> </span>&#123;<br><br>   <span class="hljs-keyword">private</span> HttpServletRequest request;<br>   <span class="hljs-comment">//æ˜¯å¦ç¼–ç çš„æ ‡è®°</span><br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">boolean</span> hasEncode;<br>   <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå¯ä»¥ä¼ å…¥HttpServletRequestå¯¹è±¡çš„æ„é€ å‡½æ•°ï¼Œä»¥ä¾¿å¯¹å…¶è¿›è¡Œè£…é¥°</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyRequest</span><span class="hljs-params">(HttpServletRequest request)</span> </span>&#123;<br>       <span class="hljs-keyword">super</span>(request);<span class="hljs-comment">// superå¿…é¡»å†™</span><br>       <span class="hljs-keyword">this</span>.request = request;<br>  &#125;<br><br>   <span class="hljs-comment">// å¯¹éœ€è¦å¢å¼ºæ–¹æ³• è¿›è¡Œè¦†ç›–</span><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> Map <span class="hljs-title">getParameterMap</span><span class="hljs-params">()</span> </span>&#123;<br>       <span class="hljs-comment">// å…ˆè·å¾—è¯·æ±‚æ–¹å¼</span><br>       String method = request.getMethod();<br>       <span class="hljs-keyword">if</span> (method.equalsIgnoreCase(<span class="hljs-string">&quot;post&quot;</span>)) &#123;<br>           <span class="hljs-comment">// postè¯·æ±‚</span><br>           <span class="hljs-keyword">try</span> &#123;<br>               <span class="hljs-comment">// å¤„ç†postä¹±ç </span><br>               request.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>               <span class="hljs-keyword">return</span> request.getParameterMap();<br>          &#125; <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) &#123;<br>               e.printStackTrace();<br>          &#125;<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method.equalsIgnoreCase(<span class="hljs-string">&quot;get&quot;</span>)) &#123;<br>           <span class="hljs-comment">// getè¯·æ±‚</span><br>           Map&lt;String, String[]&gt; parameterMap = request.getParameterMap();<br>           <span class="hljs-keyword">if</span> (!hasEncode) &#123; <span class="hljs-comment">// ç¡®ä¿getæ‰‹åŠ¨ç¼–ç é€»è¾‘åªè¿è¡Œä¸€æ¬¡</span><br>               <span class="hljs-keyword">for</span> (String parameterName : parameterMap.keySet()) &#123;<br>                   String[] values = parameterMap.get(parameterName);<br>                   <span class="hljs-keyword">if</span> (values != <span class="hljs-keyword">null</span>) &#123;<br>                       <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; values.length; i++) &#123;<br>                           <span class="hljs-keyword">try</span> &#123;<br>                               <span class="hljs-comment">// å¤„ç†getä¹±ç </span><br>                               values[i] = <span class="hljs-keyword">new</span> String(values[i]<br>                                      .getBytes(<span class="hljs-string">&quot;ISO-8859-1&quot;</span>), <span class="hljs-string">&quot;utf-8&quot;</span>);<br>                          &#125; <span class="hljs-keyword">catch</span> (UnsupportedEncodingException e) &#123;<br>                               e.printStackTrace();<br>                          &#125;<br>                      &#125;<br>                  &#125;<br>              &#125;<br>               hasEncode = <span class="hljs-keyword">true</span>;<br>          &#125;<br>           <span class="hljs-keyword">return</span> parameterMap;<br>      &#125;<br>       <span class="hljs-keyword">return</span> <span class="hljs-keyword">super</span>.getParameterMap();<br>  &#125;<br><br>   <span class="hljs-comment">//å–ä¸€ä¸ªå€¼</span><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getParameter</span><span class="hljs-params">(String name)</span> </span>&#123;<br>       Map&lt;String, String[]&gt; parameterMap = getParameterMap();<br>       String[] values = parameterMap.get(name);<br>       <span class="hljs-keyword">if</span> (values == <span class="hljs-keyword">null</span>) &#123;<br>           <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>      &#125;<br>       <span class="hljs-keyword">return</span> values[<span class="hljs-number">0</span>]; <span class="hljs-comment">// å–å›å‚æ•°çš„ç¬¬ä¸€ä¸ªå€¼</span><br>  &#125;<br><br>   <span class="hljs-comment">//å–æ‰€æœ‰å€¼</span><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-keyword">public</span> String[] getParameterValues(String name) &#123;<br>       Map&lt;String, String[]&gt; parameterMap = getParameterMap();<br>       String[] values = parameterMap.get(name);<br>       <span class="hljs-keyword">return</span> values;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSpringMVCé»˜è®¤çš„ä¹±ç å¤„ç†å°±å·²ç»èƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³äº†ï¼</p><p><strong>ç„¶ååœ¨web.xmlä¸­é…ç½®è¿™ä¸ªè¿‡æ»¤å™¨å³å¯ï¼</strong></p><p>ä¹±ç é—®é¢˜ï¼Œéœ€è¦å¹³æ—¶å¤šæ³¨æ„ï¼Œåœ¨å°½å¯èƒ½èƒ½è®¾ç½®ç¼–ç çš„åœ°æ–¹ï¼Œéƒ½è®¾ç½®ä¸ºç»Ÿä¸€ç¼–ç  UTF-8ï¼</p></li></ol><br><h2 id="8ã€Jsonäº¤äº’å¤„ç†"><a href="#8ã€Jsonäº¤äº’å¤„ç†" class="headerlink" title="8ã€Jsonäº¤äº’å¤„ç†"></a>8ã€Jsonäº¤äº’å¤„ç†</h2><h3 id="8-1ã€ä»€ä¹ˆæ˜¯JSONï¼Ÿ"><a href="#8-1ã€ä»€ä¹ˆæ˜¯JSONï¼Ÿ" class="headerlink" title="8.1ã€ä»€ä¹ˆæ˜¯JSONï¼Ÿ"></a>8.1ã€ä»€ä¹ˆæ˜¯JSONï¼Ÿ</h3><ul><li>JSON(JavaScript Object Notation, JS å¯¹è±¡æ ‡è®°) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç›®å‰ä½¿ç”¨ç‰¹åˆ«å¹¿æ³›ã€‚</li><li>é‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºç¼–ç¨‹è¯­è¨€çš„<strong>æ–‡æœ¬æ ¼å¼</strong>æ¥å­˜å‚¨å’Œè¡¨ç¤ºæ•°æ®ã€‚</li><li>ç®€æ´å’Œæ¸…æ™°çš„å±‚æ¬¡ç»“æ„ä½¿å¾— JSON æˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚</li><li>æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆï¼Œå¹¶æœ‰æ•ˆåœ°æå‡ç½‘ç»œä¼ è¾“æ•ˆç‡ã€‚</li></ul><p>åœ¨ JavaScript è¯­è¨€ä¸­ï¼Œä¸€åˆ‡éƒ½æ˜¯å¯¹è±¡ã€‚å› æ­¤ï¼Œä»»ä½•JavaScript æ”¯æŒçš„ç±»å‹éƒ½å¯ä»¥é€šè¿‡ JSON æ¥è¡¨ç¤ºï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å¯¹è±¡ã€æ•°ç»„ç­‰ã€‚çœ‹çœ‹ä»–çš„è¦æ±‚å’Œè¯­æ³•æ ¼å¼ï¼š</p><ul><li>å¯¹è±¡è¡¨ç¤ºä¸ºé”®å€¼å¯¹ï¼Œæ•°æ®ç”±é€—å·åˆ†éš”</li><li>èŠ±æ‹¬å·ä¿å­˜å¯¹è±¡</li><li>æ–¹æ‹¬å·ä¿å­˜æ•°ç»„</li></ul><p><strong>JSON é”®å€¼å¯¹</strong>æ˜¯ç”¨æ¥ä¿å­˜ JavaScript å¯¹è±¡çš„ä¸€ç§æ–¹å¼ï¼Œå’Œ JavaScript å¯¹è±¡çš„å†™æ³•ä¹Ÿå¤§åŒå°å¼‚ï¼Œé”®/å€¼å¯¹ç»„åˆä¸­çš„é”®åå†™åœ¨å‰é¢å¹¶ç”¨åŒå¼•å· â€œâ€ åŒ…è£¹ï¼Œä½¿ç”¨å†’å· : åˆ†éš”ï¼Œç„¶åç´§æ¥ç€å€¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;QinJiang&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;age&quot;</span>: <span class="hljs-string">&quot;3&quot;</span>&#125;<br>&#123;<span class="hljs-string">&quot;sex&quot;</span>: <span class="hljs-string">&quot;ç”·&quot;</span>&#125;<br></code></pre></td></tr></table></figure><p>å¾ˆå¤šäººæä¸æ¸…æ¥š JSON å’Œ JavaScript å¯¹è±¡çš„å…³ç³»ï¼Œç”šè‡³è¿è°æ˜¯è°éƒ½ä¸æ¸…æ¥šã€‚å…¶å®ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼š</p><p><strong>JSON æ˜¯ JavaScript å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºæ³•ï¼Œå®ƒä½¿ç”¨æ–‡æœ¬è¡¨ç¤ºä¸€ä¸ª JS å¯¹è±¡çš„ä¿¡æ¯ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = &#123;<span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;World&#x27;</span>&#125;; <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ³¨æ„é”®åä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨å¼•å·åŒ…è£¹çš„</span><br><span class="hljs-keyword">var</span> json = <span class="hljs-string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>; <span class="hljs-comment">//è¿™æ˜¯ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span><br></code></pre></td></tr></table></figure><h3 id="8-2ã€JSON-å’Œ-JavaScript-å¯¹è±¡äº’è½¬"><a href="#8-2ã€JSON-å’Œ-JavaScript-å¯¹è±¡äº’è½¬" class="headerlink" title="8.2ã€JSON å’Œ JavaScript å¯¹è±¡äº’è½¬"></a>8.2ã€<strong>JSON å’Œ JavaScript å¯¹è±¡äº’è½¬</strong></h3><p>è¦å®ç°ä»JSONå­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaScript å¯¹è±¡ï¼Œä½¿ç”¨ JSON.parse() æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-string">&#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span>);<br><span class="hljs-comment">//ç»“æœæ˜¯ &#123;a: &#x27;Hello&#x27;, b: &#x27;World&#x27;&#125;</span><br></code></pre></td></tr></table></figure><p>è¦å®ç°ä»JavaScript å¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼Œä½¿ç”¨ JSON.stringify() æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.stringify(&#123;<span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;Hello&#x27;</span>, <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;World&#x27;</span>&#125;);<br><span class="hljs-comment">//ç»“æœæ˜¯ &#x27;&#123;&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;World&quot;&#125;&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>ä»£ç æµ‹è¯•</strong></p><ol><li><p>æ–°å»ºä¸€ä¸ªmodule ï¼Œspringmvc-05-json ï¼Œ æ·»åŠ webçš„æ”¯æŒ</p></li><li><p>åœ¨webç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª json-1.html ï¼Œ ç¼–å†™æµ‹è¯•å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JSON_ç§¦ç–†<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span><br><span class="javascript">   <span class="hljs-comment">//ç¼–å†™ä¸€ä¸ªjsçš„å¯¹è±¡</span></span><br><span class="javascript">   <span class="hljs-keyword">var</span> user = &#123;</span><br><span class="javascript">       <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;ç§¦ç–†&quot;</span>,</span><br><span class="javascript">       <span class="hljs-attr">age</span>:<span class="hljs-number">3</span>,</span><br><span class="javascript">       <span class="hljs-attr">sex</span>:<span class="hljs-string">&quot;ç”·&quot;</span></span><br><span class="javascript">  &#125;;</span><br><span class="javascript">   <span class="hljs-comment">//å°†jså¯¹è±¡è½¬æ¢æˆjsonå­—ç¬¦ä¸²</span></span><br><span class="javascript">   <span class="hljs-keyword">var</span> str = <span class="hljs-built_in">JSON</span>.stringify(user);</span><br><span class="javascript">   <span class="hljs-built_in">console</span>.log(str);</span><br><span class="javascript">   </span><br><span class="javascript">   <span class="hljs-comment">//å°†jsonå­—ç¬¦ä¸²è½¬æ¢ä¸ºjså¯¹è±¡</span></span><br><span class="javascript">   <span class="hljs-keyword">var</span> user2 = <span class="hljs-built_in">JSON</span>.parse(str);</span><br><span class="javascript">   <span class="hljs-built_in">console</span>.log(user2.age,user2.name,user2.sex);</span><br><span class="javascript"></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨IDEAä¸­ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼</p></li></ol><h3 id="8-3ã€Controllerè¿”å›JSONæ•°æ®"><a href="#8-3ã€Controllerè¿”å›JSONæ•°æ®" class="headerlink" title="8.3ã€Controllerè¿”å›JSONæ•°æ®"></a>8.3ã€Controllerè¿”å›JSONæ•°æ®</h3><p><u>å®ç°Controllerè¿”å›JSONæ•°æ®çš„å·¥å…·æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ <strong>Jacksonã€fastjson</strong></u> </p><ul><li><p>Jacksonåº”è¯¥æ˜¯ç›®å‰æ¯”è¾ƒå¥½çš„jsonè§£æå·¥å…·äº†</p></li><li><p>å½“ç„¶å·¥å…·ä¸æ­¢è¿™ä¸€ä¸ªï¼Œæ¯”å¦‚è¿˜æœ‰é˜¿é‡Œå·´å·´çš„ fastjson ç­‰ç­‰ã€‚</p></li><li><p>æˆ‘ä»¬è¿™é‡Œä½¿ç”¨Jacksonï¼Œä½¿ç”¨å®ƒéœ€è¦å¯¼å…¥å®ƒçš„jaråŒ…ï¼›</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.9.8<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®SpringMVCéœ€è¦çš„é…ç½®</p><ul><li><p>ï¼ˆweb.xmlï¼‰</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--1.æ³¨å†Œservlet--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--é€šè¿‡åˆå§‹åŒ–å‚æ•°æŒ‡å®šSpringMVCé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œè¿›è¡Œå…³è”--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springmvc-servlet.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- å¯åŠ¨é¡ºåºï¼Œæ•°å­—è¶Šå°ï¼Œå¯åŠ¨è¶Šæ—© --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!--æ‰€æœ‰è¯·æ±‚éƒ½ä¼šè¢«springmvcæ‹¦æˆª --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>SpringMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>springmvc-servlet.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.controller&quot;</span>/&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>       <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æˆ‘ä»¬éšä¾¿ç¼–å†™ä¸€ä¸ªUserçš„å®ä½“ç±»ï¼Œç„¶åæˆ‘ä»¬å»ç¼–å†™æˆ‘ä»¬çš„æµ‹è¯•Controllerï¼›</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id, String name, <span class="hljs-keyword">int</span> age)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªæ–°ä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯**@ResponseBody<strong>ï¼Œä¸€ä¸ªæ˜¯</strong>ObjectMapperå¯¹è±¡**ï¼Œæˆ‘ä»¬çœ‹ä¸‹å…·ä½“çš„ç”¨æ³•</p><p>ç¼–å†™ä¸€ä¸ªController:</p>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> com.fasterxml.jackson.core.JsonProcessingException;<br><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> org.springframework.stereotype.Controller;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;<br><br><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloController</span> </span>&#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/j1&quot;)</span><br>    <span class="hljs-meta">@ResponseBody</span><span class="hljs-comment">//ä»–å°±ä¸ä¼šèµ°è§†å›¾è§£æå™¨ï¼Œä¼šç›´æ¥è¿”å›ä¸€ä¸ª å­—ç¬¦ä¸²</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>&#123;<br>        <span class="hljs-comment">//jackson,ObjectMapper</span><br>        ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br><br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>        User user = <span class="hljs-keyword">new</span> User(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;ç‹&quot;</span>, <span class="hljs-number">12</span>);<br>        <span class="hljs-comment">//System.out.println(user);</span><br><br>        String str = mapper.writeValueAsString(user);<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æ­¤æ—¶è¾“å…¥ä¸­æ–‡ä¼šäº§ç”Ÿä¹±ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span><br><span class="hljs-meta">@RequestMapping(value = &quot;/json1&quot;,produces = &quot;application/json;charset=utf-8&quot;)</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Tomcat ï¼Œ å¯åŠ¨æµ‹è¯•ä¸€ä¸‹ï¼<a href="http://localhost:8080/json1">http://localhost:8080/json1</a></p><p><img src="/.io//1595133634951.png" alt="1595133634951"></p></li></ul></li></ul><p><font color="red">ã€æ³¨æ„ï¼šä½¿ç”¨jsonè®°å¾—å¤„ç†ä¹±ç é—®é¢˜ã€‘</font></p><h3 id="8-4ä»£ç ä¼˜åŒ–"><a href="#8-4ä»£ç ä¼˜åŒ–" class="headerlink" title="8.4ä»£ç ä¼˜åŒ–"></a>8.4ä»£ç ä¼˜åŒ–</h3><p><strong>ä¹±ç ç»Ÿä¸€è§£å†³</strong>ï¼š</p><p>ä¸Šä¸€ç§æ–¹æ³•æ¯”è¾ƒéº»çƒ¦ï¼Œå¦‚æœé¡¹ç›®ä¸­æœ‰è®¸å¤šè¯·æ±‚åˆ™æ¯ä¸€ä¸ªéƒ½è¦æ·»åŠ ï¼Œå¯ä»¥é€šè¿‡Springé…ç½®ç»Ÿä¸€æŒ‡å®šï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½å»å¤„ç†äº†ï¼</p><p>æˆ‘ä»¬å¯ä»¥åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸Šæ·»åŠ ä¸€æ®µæ¶ˆæ¯StringHttpMessageConverterè½¬æ¢é…ç½®ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:message-converters</span> <span class="hljs-attr">register-defaults</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;objectMapper&quot;</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;</span>&gt;</span><br>                   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;failOnEmptyBeans&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>               <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:message-converters</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:annotation-driven</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>è¿”å›jsonå­—ç¬¦ä¸²ç»Ÿä¸€è§£å†³</strong></p><ul><li><p>@ResponseBodyè§£å†³ï¼ˆæ¯ä¸ªæ–¹æ³•éƒ½å¾—åŠ ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>&#123;<br>   <span class="hljs-comment">//produces:æŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span><br>   <span class="hljs-meta">@RequestMapping(value = &quot;/json1&quot;)</span><br>   <span class="hljs-meta">@ResponseBody</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>&#123;<br>       <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span><br>       ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br>       <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>       User user = <span class="hljs-keyword">new</span> User(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;ç§¦ç–†ä¸€å·&quot;</span>, <span class="hljs-number">12</span>);<br>       <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>       String str = mapper.writeValueAsString(user);<br>       <span class="hljs-comment">//ç”±äº@ResponseBodyæ³¨è§£ï¼Œè¿™é‡Œä¼šå°†strè½¬æˆjsonæ ¼å¼è¿”å›ï¼›ååˆ†æ–¹ä¾¿</span><br>       <span class="hljs-keyword">return</span> str;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>@RestController</strong>ï¼ˆç›´æ¥åŠ åˆ°ç±»ä¸Šå³å¯ï¼‰</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserController</span> </span>&#123;<br>   <span class="hljs-meta">@RequestMapping(value = &quot;/j1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json1</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>&#123;<br>       <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span><br>       ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br>       <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>       User user = <span class="hljs-keyword">new</span> User(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;ç§¦ç–†ä¸€å·&quot;</span>, <span class="hljs-number">12</span>);<br>       <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>       String str = mapper.writeValueAsString(user);<br>       <span class="hljs-keyword">return</span> str;<br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="8-5ã€æµ‹è¯•é›†åˆè¾“å‡º"><a href="#8-5ã€æµ‹è¯•é›†åˆè¾“å‡º" class="headerlink" title="8.5ã€æµ‹è¯•é›†åˆè¾“å‡º"></a>8.5ã€æµ‹è¯•é›†åˆè¾“å‡º</h3><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/j2&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>&#123;<br><br>    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªjacksonçš„å¯¹è±¡æ˜ å°„å™¨ï¼Œç”¨æ¥è§£ææ•°æ®</span><br>    ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br>    <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>   User user1 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;ç§¦ç–†1å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user2 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;ç§¦ç–†2å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user3 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;ç§¦ç–†3å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user4 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">4</span>, <span class="hljs-string">&quot;ç§¦ç–†4å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user5 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;ç§¦ç–†5å·&quot;</span>, <span class="hljs-number">12</span>);<br>    List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();<br>    list.add(user1);<br>    list.add(user2);<br>    list.add(user3);<br>    list.add(user4);<br>    list.add(user5);<br>    <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>    String str = mapper.writeValueAsString(list);<br>    <span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ : ååˆ†å®Œç¾ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼</p><p><img src="/.io//1595133587875.png" alt="1595133587875"></p><h3 id="8-6ã€è¾“å‡ºæ—¶é—´å¯¹è±¡"><a href="#8-6ã€è¾“å‡ºæ—¶é—´å¯¹è±¡" class="headerlink" title="8.6ã€è¾“å‡ºæ—¶é—´å¯¹è±¡"></a>8.6ã€è¾“å‡ºæ—¶é—´å¯¹è±¡</h3><ul><li><p>å¢åŠ ä¸€ä¸ªæ–°çš„æ–¹æ³•</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/j3&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>&#123;<br><br>   ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br><br>   <span class="hljs-comment">//åˆ›å»ºæ—¶é—´ä¸€ä¸ªå¯¹è±¡ï¼Œjava.util.Date</span><br>   Date date = <span class="hljs-keyword">new</span> Date();<br>   <span class="hljs-comment">//å°†æˆ‘ä»¬çš„å¯¹è±¡è§£ææˆä¸ºjsonæ ¼å¼</span><br>   String str = mapper.writeValueAsString(date);<br>   <span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¿è¡Œç»“æœ :</p><p>  <img src="/.io//1595134256420.png" alt="1595134256420"></p></li><li><p>é»˜è®¤æ—¥æœŸæ ¼å¼ä¼šå˜æˆä¸€ä¸ªæ•°å­—ï¼Œæ˜¯1970å¹´1æœˆ1æ—¥åˆ°å½“å‰æ—¥æœŸçš„æ¯«ç§’æ•°ï¼</p></li><li><p>Jackson é»˜è®¤æ˜¯ä¼šæŠŠæ—¶é—´è½¬æˆtimestampså½¢å¼</p></li></ul><p><strong>è§£å†³æ–¹æ¡ˆï¼šå–æ¶ˆtimestampså½¢å¼ ï¼Œ è‡ªå®šä¹‰æ—¶é—´æ ¼å¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/j3&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json4</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> JsonProcessingException </span>&#123;<br><br>   ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br><br>   <span class="hljs-comment">//ä¸ä½¿ç”¨æ—¶é—´æˆ³çš„æ–¹å¼</span><br>   mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, <span class="hljs-keyword">false</span>);<br>   <span class="hljs-comment">//è‡ªå®šä¹‰æ—¥æœŸæ ¼å¼å¯¹è±¡</span><br>   SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>   <span class="hljs-comment">//æŒ‡å®šæ—¥æœŸæ ¼å¼</span><br>   mapper.setDateFormat(sdf);<br><br>   Date date = <span class="hljs-keyword">new</span> Date();<br>   String str = mapper.writeValueAsString(date);<br><br>   <span class="hljs-keyword">return</span> str;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ : æˆåŠŸçš„è¾“å‡ºäº†æ—¶é—´ï¼</p><p><img src="/.io//1595134398126.png" alt="1595134398126"></p><p><strong><font color="red">æŠ½å–ä¸ºå·¥å…·ç±»</font></strong></p><p><strong>å¦‚æœè¦ç»å¸¸ä½¿ç”¨çš„è¯ï¼Œè¿™æ ·æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»ä¸­ï¼›æˆ‘ä»¬å»ç¼–å†™ä¸‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JsonUtils</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getJson</span><span class="hljs-params">(Object object)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> getJson(object,<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">getJson</span><span class="hljs-params">(Object object, String dateFormat)</span> </span>&#123;<br>        ObjectMapper mapper = <span class="hljs-keyword">new</span> ObjectMapper();<br><br>        <span class="hljs-comment">//javaè‡ªå®šä¹‰æ—¥æœŸæ ¼å¼</span><br>        SimpleDateFormat sdf = <span class="hljs-keyword">new</span> SimpleDateFormat(dateFormat);<br>        <span class="hljs-comment">//sdf.format(date)</span><br><br>        <span class="hljs-comment">// ä½¿ç”¨ObjectMapper æ¥æ ¼å¼åŒ–è¾“å‡º</span><br>        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,<span class="hljs-keyword">false</span>);<br>        mapper.setDateFormat(sdf);<br><br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//ObjectMapper,æ—¶é—´è§£æåçš„é»˜è®¤æ ¼å¼ä¸ºï¼šTImestamp.æ—¶é—´æˆ³</span><br>            <span class="hljs-keyword">return</span> mapper.writeValueAsString(object);<br>        &#125; <span class="hljs-keyword">catch</span> (JsonProcessingException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬ä½¿ç”¨å·¥å…·ç±»ï¼Œä»£ç å°±æ›´åŠ ç®€æ´äº†ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/j3&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">json3</span><span class="hljs-params">()</span></span>&#123;<br><br>        Date date = <span class="hljs-keyword">new</span> Date();<br><br>        <span class="hljs-keyword">return</span> JsonUtils.getJson(date,<span class="hljs-string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¤§åŠŸå‘Šæˆï¼å®Œç¾ï¼</p><h3 id="8-7ã€FastJson"><a href="#8-7ã€FastJson" class="headerlink" title="8.7ã€FastJson"></a>8.7ã€FastJson</h3><ul><li>fastjson.jaræ˜¯é˜¿é‡Œå¼€å‘çš„ä¸€æ¬¾ä¸“é—¨ç”¨äºJavaå¼€å‘çš„åŒ…</li><li>å®ç°jsonå¯¹è±¡ä¸JavaBeanå¯¹è±¡çš„è½¬æ¢</li><li>å®ç°JavaBeanå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢</li><li>å®ç°jsonå¯¹è±¡ä¸jsonå­—ç¬¦ä¸²çš„è½¬æ¢</li><li>å®ç°jsonçš„è½¬æ¢æ–¹æ³•å¾ˆå¤šï¼Œæœ€åçš„å®ç°ç»“æœéƒ½æ˜¯ä¸€æ ·çš„</li></ul><p>fastjson çš„ pomä¾èµ–ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.60<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>fastjson ä¸‰ä¸ªä¸»è¦çš„ç±»ï¼š</strong></p><ol><li>JSONObject  ä»£è¡¨ json å¯¹è±¡<ul><li>JSONObjectå®ç°äº†Mapæ¥å£, çŒœæƒ³ JSONObjectåº•å±‚æ“ä½œæ˜¯ç”±Mapå®ç°çš„ã€‚</li><li>JSONObjectå¯¹åº”jsonå¯¹è±¡ï¼Œé€šè¿‡å„ç§å½¢å¼çš„get()æ–¹æ³•å¯ä»¥è·å–jsonå¯¹è±¡ä¸­çš„æ•°æ®ï¼Œä¹Ÿå¯åˆ©ç”¨è¯¸å¦‚size()ï¼ŒisEmpty()ç­‰æ–¹æ³•è·å–â€é”®ï¼šå€¼â€å¯¹çš„ä¸ªæ•°å’Œåˆ¤æ–­æ˜¯å¦ä¸ºç©ºã€‚å…¶æœ¬è´¨æ˜¯é€šè¿‡å®ç°Mapæ¥å£å¹¶è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³•å®Œæˆçš„ã€‚</li></ul></li><li>JSONArray   ä»£è¡¨ json å¯¹è±¡æ•°ç»„<ul><li>å†…éƒ¨æ˜¯æœ‰Listæ¥å£ä¸­çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ã€‚</li></ul></li><li>JSONä»£è¡¨ JSONObjectå’ŒJSONArrayçš„è½¬åŒ–<ul><li>JSONç±»æºç åˆ†æä¸ä½¿ç”¨</li><li>ä»”ç»†è§‚å¯Ÿè¿™äº›æ–¹æ³•ï¼Œä¸»è¦æ˜¯å®ç°jsonå¯¹è±¡ï¼Œjsonå¯¹è±¡æ•°ç»„ï¼Œjavabeanå¯¹è±¡ï¼Œjsonå­—ç¬¦ä¸²ä¹‹é—´çš„ç›¸äº’è½¬åŒ–ã€‚</li></ul></li></ol><p><strong>ä»£ç æµ‹è¯•ï¼Œæ–°å»ºä¸€ä¸ªjsonTest</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/json&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">jsonTest</span><span class="hljs-params">()</span></span>&#123;<br><br>    User user1 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;ç§¦ç–†1å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user2 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;ç§¦ç–†2å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user3 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;ç§¦ç–†3å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user4 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">4</span>, <span class="hljs-string">&quot;ç§¦ç–†4å·&quot;</span>, <span class="hljs-number">12</span>);<br>    User user5 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;ç§¦ç–†5å·&quot;</span>, <span class="hljs-number">12</span>);<br><br>    List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();<br>    list.add(user1);<br>    list.add(user2);<br>    list.add(user3);<br>    list.add(user4);<br>    list.add(user5);<br><br>    System.out.println(<span class="hljs-string">&quot;*******Javaå¯¹è±¡ è½¬ JSONå­—ç¬¦ä¸²*******&quot;</span>);<br>    String str1 = JSON.toJSONString(list);<br>    System.out.println(<span class="hljs-string">&quot;JSON.toJSONString(list)==&gt;&quot;</span>+str1);<br>    String str2 = JSON.toJSONString(user1);<br>    System.out.println(<span class="hljs-string">&quot;JSON.toJSONString(user1)==&gt;&quot;</span>+str2);<br><br>    System.out.println(<span class="hljs-string">&quot;\n****** JSONå­—ç¬¦ä¸² è½¬ Javaå¯¹è±¡*******&quot;</span>);<br>    User jp_user1=JSON.parseObject(str2,User.class);<br>    System.out.println(<span class="hljs-string">&quot;JSON.parseObject(str2,User.class)==&gt;&quot;</span>+jp_user1);<br><br>    System.out.println(<span class="hljs-string">&quot;\n****** Javaå¯¹è±¡ è½¬ JSONå¯¹è±¡ ******&quot;</span>);<br>    JSONObject jsonObject1 = (JSONObject) JSON.toJSON(user2);<br>    System.out.println(<span class="hljs-string">&quot;(JSONObject) JSON.toJSON(user2)==&gt;&quot;</span>+jsonObject1.getString(<span class="hljs-string">&quot;name&quot;</span>));<br><br>    System.out.println(<span class="hljs-string">&quot;\n****** JSONå¯¹è±¡ è½¬ Javaå¯¹è±¡ ******&quot;</span>);<br>    User to_java_user = JSON.toJavaObject(jsonObject1, User.class);<br>    System.out.println(<span class="hljs-string">&quot;JSON.toJavaObject(jsonObject1, User.class)==&gt;&quot;</span>+to_java_user);<br><br>    <span class="hljs-keyword">return</span> JSON.toJSONString(list);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ç§å·¥å…·ç±»ï¼Œæˆ‘ä»¬åªéœ€è¦æŒæ¡ä½¿ç”¨å°±å¥½äº†ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æ ¹æ®å…·ä½“çš„ä¸šåŠ¡å»æ‰¾å¯¹åº”çš„å®ç°ã€‚å’Œä»¥å‰çš„commons-ioé‚£ç§å·¥å…·åŒ…ä¸€æ ·ï¼Œæ‹¿æ¥ç”¨å°±å¥½äº†ï¼</p><br><h2 id="9ã€Ajaxç ”ç©¶"><a href="#9ã€Ajaxç ”ç©¶" class="headerlink" title="9ã€Ajaxç ”ç©¶"></a>9ã€Ajaxç ”ç©¶</h2><p><strong>å‰åç«¯åˆ†ç¦»çš„åŸºç¡€ï¼šAJAX + Json</strong></p><h3 id="9-1ã€ç®€ä»‹"><a href="#9-1ã€ç®€ä»‹" class="headerlink" title="9.1ã€ç®€ä»‹"></a>9.1ã€ç®€ä»‹</h3><ul><li><p><strong>AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ã€‚</strong></p></li><li><p>AJAX æ˜¯ä¸€ç§åœ¨æ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ›´æ–°éƒ¨åˆ†ç½‘é¡µçš„æŠ€æœ¯ã€‚</p></li><li><p><strong>Ajax ä¸æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ç”¨äºåˆ›å»ºæ›´å¥½æ›´å¿«ä»¥åŠäº¤äº’æ€§æ›´å¼ºçš„Webåº”ç”¨ç¨‹åºçš„æŠ€æœ¯ã€‚</strong></p></li><li><p>åœ¨ 2005 å¹´ï¼ŒGoogle é€šè¿‡å…¶ Google Suggest ä½¿ AJAX å˜å¾—æµè¡Œèµ·æ¥ã€‚Google Suggestèƒ½å¤Ÿè‡ªåŠ¨å¸®ä½ å®Œæˆæœç´¢å•è¯ã€‚</p></li><li><p>Google Suggest ä½¿ç”¨ AJAX åˆ›é€ å‡ºåŠ¨æ€æ€§æå¼ºçš„ web ç•Œé¢ï¼šå½“æ‚¨åœ¨è°·æ­Œçš„æœç´¢æ¡†è¾“å…¥å…³é”®å­—æ—¶ï¼ŒJavaScript ä¼šæŠŠè¿™äº›å­—ç¬¦å‘é€åˆ°æœåŠ¡å™¨ï¼Œç„¶åæœåŠ¡å™¨ä¼šè¿”å›ä¸€ä¸ªæœç´¢å»ºè®®çš„åˆ—è¡¨ã€‚</p></li><li><p>å°±å’Œå›½å†…ç™¾åº¦çš„æœç´¢æ¡†ä¸€æ ·!</p></li><li><p>ä¼ ç»Ÿçš„ç½‘é¡µ(å³ä¸ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µ)ï¼Œæƒ³è¦æ›´æ–°å†…å®¹æˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œéƒ½éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µã€‚</p></li><li><p>ä½¿ç”¨ajaxæŠ€æœ¯çš„ç½‘é¡µï¼Œé€šè¿‡åœ¨åå°æœåŠ¡å™¨è¿›è¡Œå°‘é‡çš„æ•°æ®äº¤æ¢ï¼Œå°±å¯ä»¥å®ç°å¼‚æ­¥å±€éƒ¨æ›´æ–°ã€‚</p></li><li><p>ä½¿ç”¨Ajaxï¼Œç”¨æˆ·å¯ä»¥åˆ›å»ºæ¥è¿‘æœ¬åœ°æ¡Œé¢åº”ç”¨çš„ç›´æ¥ã€é«˜å¯ç”¨ã€æ›´ä¸°å¯Œã€æ›´åŠ¨æ€çš„Webç”¨æˆ·ç•Œé¢ã€‚</p></li></ul><h3 id="9-2ã€ä¼ªé€ Ajax"><a href="#9-2ã€ä¼ªé€ Ajax" class="headerlink" title="9.2ã€ä¼ªé€ Ajax"></a>9.2ã€ä¼ªé€ Ajax</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰ç«¯çš„ä¸€ä¸ªæ ‡ç­¾æ¥ä¼ªé€ ä¸€ä¸ªajaxçš„æ ·å­ã€‚iframeæ ‡ç­¾</p><ol><li><p>æ–°å»ºä¸€ä¸ªmodule ï¼šspringmvc-05-ajax ï¼Œ å¯¼å…¥webæ”¯æŒï¼</p></li><li><p>ç¼–å†™ä¸€ä¸ª ajax-frame.html ä½¿ç”¨ iframe æµ‹è¯•ï¼Œæ„Ÿå—ä¸‹æ•ˆæœ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>kuangshen<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span><br><span class="javascript">   <span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">       <span class="hljs-keyword">var</span> myDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();</span><br><span class="javascript">       <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;currentTime&#x27;</span>).innerText = myDate.getTime();</span><br><span class="javascript">  &#125;;</span><br><span class="javascript"></span><br><span class="javascript">   <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LoadPage</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">       <span class="hljs-keyword">var</span> targetUrl =  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;url&#x27;</span>).value;</span><br><span class="javascript">       <span class="hljs-built_in">console</span>.log(targetUrl);</span><br><span class="javascript">       <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;iframePosition&quot;</span>).src = targetUrl;</span><br><span class="javascript">  &#125;</span><br><span class="javascript"></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¯·è¾“å…¥è¦åŠ è½½çš„åœ°å€ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;currentTime&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;https://www.baidu.com/&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;æäº¤&quot;</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;LoadPage()&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>åŠ è½½é¡µé¢ä½ç½®ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iframePosition&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 100%;height: 500px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨IDEAå¼€æµè§ˆå™¨æµ‹è¯•ä¸€ä¸‹ï¼</p></li></ol><p><strong>åˆ©ç”¨AJAXå¯ä»¥åšï¼š</strong></p><ul><li>æ³¨å†Œæ—¶ï¼Œè¾“å…¥ç”¨æˆ·åè‡ªåŠ¨æ£€æµ‹ç”¨æˆ·æ˜¯å¦å·²ç»å­˜åœ¨ã€‚</li><li>ç™»é™†æ—¶ï¼Œæç¤ºç”¨æˆ·åå¯†ç é”™è¯¯</li><li>åˆ é™¤æ•°æ®è¡Œæ—¶ï¼Œå°†è¡ŒIDå‘é€åˆ°åå°ï¼Œåå°åœ¨æ•°æ®åº“ä¸­åˆ é™¤ï¼Œæ•°æ®åº“åˆ é™¤æˆåŠŸåï¼Œåœ¨é¡µé¢DOMä¸­å°†æ•°æ®è¡Œä¹Ÿåˆ é™¤ã€‚</li><li>â€¦.ç­‰ç­‰</li></ul><h3 id="9-3ã€jQuery-ajax"><a href="#9-3ã€jQuery-ajax" class="headerlink" title="9.3ã€jQuery.ajax"></a>9.3ã€jQuery.ajax</h3><ul><li><p>çº¯JSåŸç”Ÿå®ç°Ajaxæˆ‘ä»¬ä¸å»è®²è§£è¿™é‡Œï¼Œç›´æ¥ä½¿ç”¨jqueryæä¾›çš„ï¼Œæ–¹ä¾¿å­¦ä¹ å’Œä½¿ç”¨ï¼Œé¿å…é‡å¤é€ è½®å­ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸‹JSåŸç”ŸXMLHttpRequest ï¼</p></li><li><p>Ajaxçš„æ ¸å¿ƒæ˜¯XMLHttpRequestå¯¹è±¡(XHR)ã€‚XHRä¸ºå‘æœåŠ¡å™¨å‘é€è¯·æ±‚å’Œè§£ææœåŠ¡å™¨å“åº”æä¾›äº†æ¥å£ã€‚èƒ½å¤Ÿä»¥å¼‚æ­¥æ–¹å¼ä»æœåŠ¡å™¨è·å–æ–°æ•°æ®ã€‚</p></li><li><p>jQuery æä¾›å¤šä¸ªä¸ AJAX æœ‰å…³çš„æ–¹æ³•ã€‚</p></li><li><p>é€šè¿‡ jQuery AJAX æ–¹æ³•ï¼Œæ‚¨èƒ½å¤Ÿä½¿ç”¨ HTTP Get å’Œ HTTP Post ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šè¯·æ±‚æ–‡æœ¬ã€HTMLã€XML æˆ– JSON â€“ åŒæ—¶æ‚¨èƒ½å¤ŸæŠŠè¿™äº›å¤–éƒ¨æ•°æ®ç›´æ¥è½½å…¥ç½‘é¡µçš„è¢«é€‰å…ƒç´ ä¸­ã€‚</p></li><li><p>jQuery ä¸æ˜¯ç”Ÿäº§è€…ï¼Œè€Œæ˜¯å¤§è‡ªç„¶æ¬è¿å·¥ã€‚</p></li><li><p>jQuery Ajaxæœ¬è´¨å°±æ˜¯ XMLHttpRequestï¼Œå¯¹ä»–è¿›è¡Œäº†å°è£…ï¼Œæ–¹ä¾¿è°ƒç”¨ï¼</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript">jQuery.ajax(...)<br>      éƒ¨åˆ†å‚æ•°ï¼š<br>            urlï¼šè¯·æ±‚åœ°å€<br>            typeï¼šè¯·æ±‚æ–¹å¼ï¼ŒGETã€POSTï¼ˆ<span class="hljs-number">1.9</span><span class="hljs-number">.0</span>ä¹‹åç”¨methodï¼‰<br>        headersï¼šè¯·æ±‚å¤´<br>            dataï¼šè¦å‘é€çš„æ•°æ®<br>    contentTypeï¼šå³å°†å‘é€ä¿¡æ¯è‡³æœåŠ¡å™¨çš„å†…å®¹ç¼–ç ç±»å‹(é»˜è®¤: <span class="hljs-string">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span>)<br>          <span class="hljs-keyword">async</span>ï¼šæ˜¯å¦å¼‚æ­¥<br>        timeoutï¼šè®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰<br>      beforeSendï¼šå‘é€è¯·æ±‚å‰æ‰§è¡Œçš„å‡½æ•°(å…¨å±€)<br>        completeï¼šå®Œæˆä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)<br>        successï¼šæˆåŠŸä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)<br>          errorï¼šå¤±è´¥ä¹‹åæ‰§è¡Œçš„å›è°ƒå‡½æ•°(å…¨å±€)<br>        acceptsï¼šé€šè¿‡è¯·æ±‚å¤´å‘é€ç»™æœåŠ¡å™¨ï¼Œå‘Šè¯‰æœåŠ¡å™¨å½“å‰å®¢æˆ·ç«¯å¯æ¥å—çš„æ•°æ®ç±»å‹<br>        dataTypeï¼šå°†æœåŠ¡å™¨ç«¯è¿”å›çš„æ•°æ®è½¬æ¢æˆæŒ‡å®šç±»å‹<br>          <span class="hljs-string">&quot;xml&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆxmlæ ¼å¼<br>          <span class="hljs-string">&quot;text&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼<br>          <span class="hljs-string">&quot;html&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼ï¼Œåœ¨æ’å…¥DOMä¸­æ—¶ï¼Œå¦‚æœåŒ…å«JavaScriptæ ‡ç­¾ï¼Œåˆ™ä¼šå°è¯•å»æ‰§è¡Œã€‚<br>        <span class="hljs-string">&quot;script&quot;</span>: å°è¯•å°†è¿”å›å€¼å½“ä½œJavaScriptå»æ‰§è¡Œï¼Œç„¶åå†å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆæ™®é€šæ–‡æœ¬æ ¼å¼<br>          <span class="hljs-string">&quot;json&quot;</span>: å°†æœåŠ¡å™¨ç«¯è¿”å›çš„å†…å®¹è½¬æ¢æˆç›¸åº”çš„JavaScriptå¯¹è±¡<br>        <span class="hljs-string">&quot;jsonp&quot;</span>: JSONP æ ¼å¼ä½¿ç”¨ JSONP å½¢å¼è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¦‚ <span class="hljs-string">&quot;myurl?callback=?&quot;</span> jQuery å°†è‡ªåŠ¨æ›¿æ¢ ? ä¸ºæ­£ç¡®çš„å‡½æ•°åï¼Œä»¥æ‰§è¡Œå›è°ƒå‡½æ•°<br></code></pre></td></tr></table></figure><p><strong>æˆ‘ä»¬æ¥ä¸ªç®€å•çš„æµ‹è¯•ï¼Œä½¿ç”¨æœ€åŸå§‹çš„HttpServletResponseå¤„ç† , .æœ€ç®€å• , æœ€é€šç”¨</strong></p><ol><li><p>é…ç½®web.xml å’Œ springmvcçš„é…ç½®æ–‡ä»¶ã€è®°å¾—é™æ€èµ„æºè¿‡æ»¤å’Œæ³¨è§£é©±åŠ¨é…ç½®ä¸Šã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- è‡ªåŠ¨æ‰«ææŒ‡å®šçš„åŒ…ï¼Œä¸‹é¢æ‰€æœ‰æ³¨è§£ç±»äº¤ç»™IOCå®¹å™¨ç®¡ç† --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.kuang.controller&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--é™æ€èµ„æºè¿‡æ»¤--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--æ³¨è§£é©±åŠ¨é…--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span> /&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- è§†å›¾è§£æå™¨ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;internalResourceViewResolver&quot;</span>&gt;</span><br>       <span class="hljs-comment">&lt;!-- å‰ç¼€ --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span> /&gt;</span><br>       <span class="hljs-comment">&lt;!-- åç¼€ --&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span> /&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªAjaxController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AjaxController</span> </span>&#123;<br><br>   <span class="hljs-meta">@RequestMapping(&quot;/a1&quot;)</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ajax1</span><span class="hljs-params">(String name , HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>       <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;admin&quot;</span>.equals(name))&#123;<br>           response.getWriter().print(<span class="hljs-string">&quot;true&quot;</span>);<br>      &#125;<span class="hljs-keyword">else</span>&#123;<br>           response.getWriter().print(<span class="hljs-string">&quot;false&quot;</span>);<br>      &#125;<br>  &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å¯¼å…¥jquery ï¼Œ å¯ä»¥ä½¿ç”¨åœ¨çº¿çš„CDN ï¼Œ ä¹Ÿå¯ä»¥ä¸‹è½½å¯¼å…¥</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script src=<span class="hljs-string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™index.jspæµ‹è¯•</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br> &lt;head&gt;<br>   &lt;title&gt;$Title$&lt;/title&gt;<br>  &lt;%--&lt;script src=<span class="hljs-string">&quot;https://code.jquery.com/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;--%&gt;<br>   &lt;script src=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;<br>   &lt;script&gt;<br>       <span class="hljs-function">function <span class="hljs-title">a1</span><span class="hljs-params">()</span></span>&#123;<br>           $.post(&#123;<br>               url:<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a1&quot;</span>,<br>               data:&#123;<span class="hljs-string">&#x27;name&#x27;</span>:$(<span class="hljs-string">&quot;#txtName&quot;</span>).val()&#125;,<br>               success:function (data,status) &#123;<br>                   alert(data);<br>                   alert(status);<br>              &#125;<br>          &#125;);<br>      &#125;<br>   &lt;/script&gt;<br> &lt;/head&gt;<br> &lt;body&gt;<br><br>&lt;%--onblurï¼šå¤±å»ç„¦ç‚¹è§¦å‘äº‹ä»¶--%&gt;<br>ç”¨æˆ·å:&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;txtName&quot;</span> onblur=<span class="hljs-string">&quot;a1()&quot;</span>/&gt;<br><br> &lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>å¯åŠ¨tomcatæµ‹è¯•ï¼æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œå½“æˆ‘ä»¬é¼ æ ‡ç¦»å¼€è¾“å…¥æ¡†çš„æ—¶å€™ï¼Œå¯ä»¥çœ‹åˆ°å‘å‡ºäº†ä¸€ä¸ªajaxçš„è¯·æ±‚ï¼æ˜¯åå°è¿”å›ç»™æˆ‘ä»¬çš„ç»“æœï¼æµ‹è¯•æˆåŠŸï¼</p></li></ol><h3 id="9-4ã€Springmvcå®ç°"><a href="#9-4ã€Springmvcå®ç°" class="headerlink" title="9.4ã€Springmvcå®ç°"></a>9.4ã€<strong>Springmvcå®ç°</strong></h3><ol><li><p>å®ä½“ç±»userï¼ˆä½¿ç”¨äº†lombokæ’ä»¶ï¼Œå¯ä»¥è‡ªå·±å†™å®ç°ç±»æ–¹æ³•ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br><br>   <span class="hljs-keyword">private</span> String name;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br>   <span class="hljs-keyword">private</span> String sex;<br><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æˆ‘ä»¬æ¥è·å–ä¸€ä¸ªé›†åˆå¯¹è±¡ï¼Œå±•ç¤ºåˆ°å‰ç«¯é¡µé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/a2&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">ajax2</span><span class="hljs-params">()</span></span>&#123;<br>   List&lt;User&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;User&gt;();<br>   list.add(<span class="hljs-keyword">new</span> User(<span class="hljs-string">&quot;ç§¦ç–†1å·&quot;</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;ç”·&quot;</span>));<br>   list.add(<span class="hljs-keyword">new</span> User(<span class="hljs-string">&quot;ç§¦ç–†2å·&quot;</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;ç”·&quot;</span>));<br>   list.add(<span class="hljs-keyword">new</span> User(<span class="hljs-string">&quot;ç§¦ç–†3å·&quot;</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;ç”·&quot;</span>));<br>   <span class="hljs-keyword">return</span> list; <span class="hljs-comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†listè½¬æˆjsonæ ¼å¼è¿”å›</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯é¡µé¢</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>    &lt;script src=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/static/js/jquery-3.4.1.js&quot;</span>&gt;&lt;/script&gt;<br>    &lt;script&gt;<br>        $(function () &#123;<br>            $(<span class="hljs-string">&quot;#btn&quot;</span>).click(function () &#123;<br>                <span class="hljs-comment">// console.log(&#x27;ç‚¹å‡»äº‹ä»¶æˆåŠŸ&#x27;)</span><br>                <span class="hljs-comment">// $.post(url,param,[å¯ä»¥çœç•¥],success)</span><br>                $.post(<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a2&quot;</span>,function (data) &#123;<br>                    console.log(data[<span class="hljs-number">0</span>].name);<br>                    let html =  <span class="hljs-string">&quot;&quot;</span>;<br>                    <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; data.length; i++) &#123;<br>                        html += `&lt;tr&gt;<br>                                    &lt;td&gt;$&#123;<span class="hljs-string">&quot;$&#123;data[i].name&#125;&quot;</span>&#125;&lt;/td&gt;<br>                                    &lt;td&gt;$&#123;<span class="hljs-string">&quot;$&#123;data[i].age&#125;&quot;</span>&#125;&lt;/td&gt;<br>                                    &lt;td&gt;$&#123;<span class="hljs-string">&quot;$&#123;data[i].sex&#125;&quot;</span>&#125;&lt;/td&gt;<br>                                &lt;/tr&gt;`<br>                    &#125;<br>                    $(<span class="hljs-string">&quot;#content&quot;</span>).html(html)<br>                    console.log(html)<br>                &#125;)<br>            &#125;)<br>        &#125;)<br>    &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;input type=<span class="hljs-string">&quot;button&quot;</span> value=<span class="hljs-string">&quot;åŠ è½½æ•°æ®&quot;</span> id=<span class="hljs-string">&quot;btn&quot;</span>&gt;<br>&lt;table&gt;<br>    &lt;thead&gt;<br>        &lt;tr&gt;<br>            &lt;td&gt;å§“å&lt;/td&gt;<br>            &lt;td&gt;å¹´é¾„&lt;/td&gt;<br>            &lt;td&gt;æ€§åˆ«&lt;/td&gt;<br>        &lt;/tr&gt;<br>    &lt;/thead&gt;<br>    &lt;tbody id=<span class="hljs-string">&quot;content&quot;</span>&gt;<br>        &lt;%--æ•°æ®ï¼šåå°--%&gt;<br>    &lt;/tbody&gt;<br>&lt;/table&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li></ol><p><strong>æˆåŠŸå®ç°äº†æ•°æ®å›æ˜¾ï¼å¯ä»¥ä½“ä¼šä¸€ä¸‹Ajaxçš„å¥½å¤„ï¼</strong></p><h3 id="9-5ã€æ³¨å†Œæç¤ºæ•ˆæœ"><a href="#9-5ã€æ³¨å†Œæç¤ºæ•ˆæœ" class="headerlink" title="9.5ã€æ³¨å†Œæç¤ºæ•ˆæœ"></a>9.5ã€æ³¨å†Œæç¤ºæ•ˆæœ</h3><ol><li><p>æˆ‘ä»¬å†™ä¸€ä¸ªController</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(&quot;/a3&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">ajax3</span><span class="hljs-params">(String name,String pwd)</span></span>&#123;<br>   String msg = <span class="hljs-string">&quot;&quot;</span>;<br>   <span class="hljs-comment">//æ¨¡æ‹Ÿæ•°æ®åº“ä¸­å­˜åœ¨æ•°æ®</span><br>   <span class="hljs-keyword">if</span> (name!=<span class="hljs-keyword">null</span>)&#123;<br>       <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;admin&quot;</span>.equals(name))&#123;<br>           msg = <span class="hljs-string">&quot;OK&quot;</span>;<br>      &#125;<span class="hljs-keyword">else</span> &#123;<br>           msg = <span class="hljs-string">&quot;ç”¨æˆ·åè¾“å…¥é”™è¯¯&quot;</span>;<br>      &#125;<br>  &#125;<br>   <span class="hljs-keyword">if</span> (pwd!=<span class="hljs-keyword">null</span>)&#123;<br>       <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;123456&quot;</span>.equals(pwd))&#123;<br>           msg = <span class="hljs-string">&quot;OK&quot;</span>;<br>      &#125;<span class="hljs-keyword">else</span> &#123;<br>           msg = <span class="hljs-string">&quot;å¯†ç è¾“å…¥æœ‰è¯¯&quot;</span>;<br>      &#125;<br>  &#125;<br>   <span class="hljs-keyword">return</span> msg; <span class="hljs-comment">//ç”±äº@RestControlleræ³¨è§£ï¼Œå°†msgè½¬æˆjsonæ ¼å¼è¿”å›</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯é¡µé¢ login.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>   &lt;title&gt;ajax&lt;/title&gt;<br>   &lt;script src=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/statics/js/jquery-3.1.1.min.js&quot;</span>&gt;&lt;/script&gt;<br>   &lt;script&gt;<br><br>       <span class="hljs-function">function <span class="hljs-title">a1</span><span class="hljs-params">()</span></span>&#123;<br>           $.post(&#123;<br>               url:<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,<br>               data:&#123;<span class="hljs-string">&#x27;name&#x27;</span>:$(<span class="hljs-string">&quot;#name&quot;</span>).val()&#125;,<br>               success:function (data) &#123;<br>                   <span class="hljs-keyword">if</span> (data.toString()==<span class="hljs-string">&#x27;OK&#x27;</span>)&#123;<br>                       $(<span class="hljs-string">&quot;#userInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;green&quot;</span>);<br>                  &#125;<span class="hljs-keyword">else</span> &#123;<br>                       $(<span class="hljs-string">&quot;#userInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;red&quot;</span>);<br>                  &#125;<br>                   $(<span class="hljs-string">&quot;#userInfo&quot;</span>).html(data);<br>              &#125;<br>          &#125;);<br>      &#125;<br>       <span class="hljs-function">function <span class="hljs-title">a2</span><span class="hljs-params">()</span></span>&#123;<br>           $.post(&#123;<br>               url:<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/a3&quot;</span>,<br>               data:&#123;<span class="hljs-string">&#x27;pwd&#x27;</span>:$(<span class="hljs-string">&quot;#pwd&quot;</span>).val()&#125;,<br>               success:function (data) &#123;<br>                   <span class="hljs-keyword">if</span> (data.toString()==<span class="hljs-string">&#x27;OK&#x27;</span>)&#123;<br>                       $(<span class="hljs-string">&quot;#pwdInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;green&quot;</span>);<br>                  &#125;<span class="hljs-keyword">else</span> &#123;<br>                       $(<span class="hljs-string">&quot;#pwdInfo&quot;</span>).css(<span class="hljs-string">&quot;color&quot;</span>,<span class="hljs-string">&quot;red&quot;</span>);<br>                  &#125;<br>                   $(<span class="hljs-string">&quot;#pwdInfo&quot;</span>).html(data);<br>              &#125;<br>          &#125;);<br>      &#125;<br><br>   &lt;/script&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;p&gt;<br>  ç”¨æˆ·å:&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;name&quot;</span> onblur=<span class="hljs-string">&quot;a1()&quot;</span>/&gt;<br>   &lt;span id=<span class="hljs-string">&quot;userInfo&quot;</span>&gt;&lt;/span&gt;<br>&lt;/p&gt;<br>&lt;p&gt;<br>  å¯†ç :&lt;input type=<span class="hljs-string">&quot;text&quot;</span> id=<span class="hljs-string">&quot;pwd&quot;</span> onblur=<span class="hljs-string">&quot;a2()&quot;</span>/&gt;<br>   &lt;span id=<span class="hljs-string">&quot;pwdInfo&quot;</span>&gt;&lt;/span&gt;<br>&lt;/p&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p><font color="red">è®°å¾—å¤„ç†jsonä¹±ç é—®é¢˜</font></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--JSONä¹±ç é—®é¢˜é…ç½®--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mvc:message-converters</span> <span class="hljs-attr">register-defaults</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;objectMapper&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;failOnEmptyBeans&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;false&quot;</span>/&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:message-converters</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:annotation-driven</span>&gt;</span><br><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ä¸€ä¸‹æ•ˆæœï¼ŒåŠ¨æ€è¯·æ±‚å“åº”ï¼Œå±€éƒ¨åˆ·æ–°ï¼Œå°±æ˜¯å¦‚æ­¤ï¼</p><p><img src="/.io//1595137816208.png" alt="1595137816208"></p></li></ol><h3 id="9-6ã€è·å–baiduæ¥å£Demo"><a href="#9-6ã€è·å–baiduæ¥å£Demo" class="headerlink" title="9.6ã€è·å–baiduæ¥å£Demo"></a>9.6ã€è·å–baiduæ¥å£Demo</h3><ol><li><p>JSONP.html</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">HTML</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;Content-Type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JSONPç™¾åº¦æœç´¢<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">       <span class="hljs-selector-id">#q</span>&#123;</span><br><span class="css">           <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;</span><br><span class="css">           <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">           <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;</span><br><span class="css">           <span class="hljs-attribute">line-height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">           <span class="hljs-attribute">display</span>: block;</span><br><span class="css">           <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="css">           <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;</span><br><span class="css">           <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;</span><br><span class="css">      &#125;</span><br><span class="css">       <span class="hljs-selector-id">#ul</span>&#123;</span><br><span class="css">           <span class="hljs-attribute">width</span>: <span class="hljs-number">520px</span>;</span><br><span class="css">           <span class="hljs-attribute">list-style</span>: none;</span><br><span class="css">           <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;</span><br><span class="css">           <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="css">           <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;</span><br><span class="css">           <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">1px</span>;</span><br><span class="css">           <span class="hljs-attribute">display</span>: none;</span><br><span class="css">      &#125;</span><br><span class="css">       <span class="hljs-selector-id">#ul</span> <span class="hljs-selector-tag">li</span>&#123;</span><br><span class="css">           <span class="hljs-attribute">line-height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">           <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">10px</span>;</span><br><span class="css">      &#125;</span><br><span class="css">       <span class="hljs-selector-id">#ul</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:hover</span>&#123;</span><br><span class="css">           <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f60</span>;</span><br><span class="css">           <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;</span><br><span class="css">      &#125;</span><br><span class="css">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"></span><br><span class="javascript">       <span class="hljs-comment">// 2.æ­¥éª¤äºŒ</span></span><br><span class="javascript">       <span class="hljs-comment">// å®šä¹‰demoå‡½æ•° (åˆ†ææ¥å£ã€æ•°æ®)</span></span><br><span class="javascript">       <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">demo</span>(<span class="hljs-params">data</span>)</span>&#123;</span><br><span class="javascript">           <span class="hljs-keyword">var</span> Ul = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;ul&#x27;</span>);</span><br><span class="javascript">           <span class="hljs-keyword">var</span> html = <span class="hljs-string">&#x27;&#x27;</span>;</span><br><span class="javascript">           <span class="hljs-comment">// å¦‚æœæœç´¢æ•°æ®å­˜åœ¨ æŠŠå†…å®¹æ·»åŠ è¿›å»</span></span><br><span class="javascript">           <span class="hljs-keyword">if</span> (data.s.length) &#123;</span><br><span class="javascript">               <span class="hljs-comment">// éšè—æ‰çš„ulæ˜¾ç¤ºå‡ºæ¥</span></span><br><span class="javascript">               Ul.style.display = <span class="hljs-string">&#x27;block&#x27;</span>;</span><br><span class="javascript">               <span class="hljs-comment">// æœç´¢åˆ°çš„æ•°æ®å¾ªç¯è¿½åŠ åˆ°lié‡Œ</span></span><br><span class="javascript">               <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i&lt;data.s.length;i++)&#123;</span><br><span class="javascript">                   html += <span class="hljs-string">&#x27;&lt;li&gt;&#x27;</span>+data.s[i]+<span class="hljs-string">&#x27;&lt;/li&gt;&#x27;</span>;</span><br><span class="javascript">              &#125;</span><br><span class="javascript">               <span class="hljs-comment">// å¾ªç¯çš„liå†™å…¥ul</span></span><br><span class="javascript">               Ul.innerHTML = html;</span><br><span class="javascript">          &#125;</span><br><span class="javascript">      &#125;</span><br><span class="javascript"></span><br><span class="javascript">       <span class="hljs-comment">// 1.æ­¥éª¤ä¸€</span></span><br><span class="javascript">       <span class="hljs-built_in">window</span>.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">           <span class="hljs-comment">// è·å–è¾“å…¥æ¡†å’Œul</span></span><br><span class="javascript">           <span class="hljs-keyword">var</span> Q = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;q&#x27;</span>);</span><br><span class="javascript">           <span class="hljs-keyword">var</span> Ul = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;ul&#x27;</span>);</span><br><span class="javascript"></span><br><span class="javascript">           <span class="hljs-comment">// äº‹ä»¶é¼ æ ‡æŠ¬èµ·æ—¶å€™</span></span><br><span class="javascript">           Q.onkeyup = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">               <span class="hljs-comment">// å¦‚æœè¾“å…¥æ¡†ä¸ç­‰äºç©º</span></span><br><span class="javascript">               <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.value != <span class="hljs-string">&#x27;&#x27;</span>) &#123;</span><br><span class="javascript">                   <span class="hljs-comment">// â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†JSONPzé‡ç‚¹â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†â˜†</span></span><br><span class="javascript">                   <span class="hljs-comment">// åˆ›å»ºæ ‡ç­¾</span></span><br><span class="javascript">                   <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;script&#x27;</span>);</span><br><span class="javascript">                   <span class="hljs-comment">//ç»™å®šè¦è·¨åŸŸçš„åœ°å€ èµ‹å€¼ç»™src</span></span><br><span class="javascript">                   <span class="hljs-comment">//è¿™é‡Œæ˜¯è¦è¯·æ±‚çš„è·¨åŸŸçš„åœ°å€ æˆ‘å†™çš„æ˜¯ç™¾åº¦æœç´¢çš„è·¨åŸŸåœ°å€</span></span><br><span class="javascript">                   script.src = <span class="hljs-string">&#x27;https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su?wd=&#x27;</span>+<span class="hljs-built_in">this</span>.value+<span class="hljs-string">&#x27;&amp;cb=demo&#x27;</span>;</span><br><span class="javascript">                   <span class="hljs-comment">// å°†ç»„åˆå¥½çš„å¸¦srcçš„scriptæ ‡ç­¾è¿½åŠ åˆ°bodyé‡Œ</span></span><br><span class="javascript">                   <span class="hljs-built_in">document</span>.body.appendChild(script);</span><br><span class="javascript">              &#125;</span><br><span class="javascript">          &#125;</span><br><span class="javascript">      &#125;</span><br><span class="javascript">   </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;q&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ul&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><p><img src="/.io//1595138107341.png" alt="1595138107341"></p></li></ol><br><h2 id="10ã€æ‹¦æˆªå™¨"><a href="#10ã€æ‹¦æˆªå™¨" class="headerlink" title="10ã€æ‹¦æˆªå™¨"></a>10ã€æ‹¦æˆªå™¨</h2><p><a href="https://blog.csdn.net/tu_wer/article/details/122469539">https://blog.csdn.net/tu_wer/article/details/122469539</a></p><h3 id="10-1ã€æ¦‚è¿°"><a href="#10-1ã€æ¦‚è¿°" class="headerlink" title="10.1ã€æ¦‚è¿°"></a>10.1ã€æ¦‚è¿°</h3><ul><li>SpringMVCçš„å¤„ç†å™¨æ‹¦æˆªå™¨ç±»ä¼¼äºServletå¼€å‘ä¸­çš„è¿‡æ»¤å™¨Filterï¼Œç”¨äºå¯¹å¤„ç†å™¨è¿›è¡Œé¢„å¤„ç†å’Œåå¤„ç†ã€‚</li><li>å¼€å‘è€…å¯ä»¥è‡ªå·±å®šä¹‰ä¸€äº›æ‹¦æˆªå™¨æ¥å®ç°ç‰¹å®šçš„åŠŸèƒ½ã€‚</li></ul><p><strong>è¿‡æ»¤å™¨ä¸æ‹¦æˆªå™¨çš„åŒºåˆ«ï¼š</strong>æ‹¦æˆªå™¨æ˜¯<font color="red">AOPæ€æƒ³</font>çš„å…·ä½“åº”ç”¨ã€‚</p><p><strong>è¿‡æ»¤å™¨</strong></p><ul><li>servletè§„èŒƒä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•javawebå·¥ç¨‹éƒ½å¯ä»¥ä½¿ç”¨</li><li>åœ¨url-patternä¸­é…ç½®äº†/*ä¹‹åï¼Œå¯ä»¥å¯¹æ‰€æœ‰è¦è®¿é—®çš„èµ„æºè¿›è¡Œæ‹¦æˆª</li></ul><p><strong>æ‹¦æˆªå™¨</strong> </p><ul><li>æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªæœ‰ä½¿ç”¨äº†SpringMVCæ¡†æ¶çš„å·¥ç¨‹æ‰èƒ½ä½¿ç”¨</li><li>æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶å™¨æ–¹æ³•ï¼Œ å¦‚æœè®¿é—®çš„æ˜¯jsp/html/css/image/jsæ˜¯ä¸ä¼šè¿›è¡Œæ‹¦æˆªçš„</li></ul><h3 id="10-2ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨"><a href="#10-2ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨" class="headerlink" title="10.2ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨"></a>10.2ã€è‡ªå®šä¹‰æ‹¦æˆªå™¨</h3><ol><li><p>æ–°å»ºä¸€ä¸ªMoudule ï¼Œ springmvc-Interceptor  ï¼Œ æ·»åŠ webæ”¯æŒ</p></li><li><p>é…ç½®web.xml å’Œ applicationContext.xml æ–‡ä»¶</p><p>web.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">web-app</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;4.0&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--DispatcherServlet--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--æ€»çš„é…ç½®æ–‡ä»¶--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--å¯åŠ¨çº§åˆ«--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springmvc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--ä¹±ç è¿‡æ»¤å™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>encoding<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>utf-8<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>encodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">web-app</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>applicationContext.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:mvc</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/context/spring-context.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--1ã€æ³¨è§£é©±åŠ¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--2ã€é™æ€èµ„æºè¿‡æ»¤--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--3ã€æ‰«æåŒ…--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang.controller&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--4ã€è§†å›¾è§£æå™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/jsp/&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.jsp&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>return true;</strong>     æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œ<strong>æ”¾è¡Œ</strong></p><p><strong>return false;</strong>     ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œ<strong>æ‹¦æˆª</strong></p></li><li><p>ç¼–å†™ä¸€ä¸ªæ‹¦æˆªå™¨ï¼ˆå¿…é¡»å®ç°<font color="red"> HandlerInterceptor æ¥å£</font>ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang;<br><br><span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<br><span class="hljs-keyword">import</span> org.springframework.web.servlet.ModelAndView;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span> </span>&#123;<br>    <span class="hljs-comment">//return true; æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œæ”¾è¡Œ</span><br>    <span class="hljs-comment">//return false; ä¸æ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œæ‹¦æˆª</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;===========å¤„ç†å‰===========&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>    <span class="hljs-comment">//æ—¥å¿—</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;===========å¤„ç†å===========&quot;</span>);<br><br>    &#125;<br>    <span class="hljs-comment">//æ—¥å¿—</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterCompletion</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;===========æ¸…ç†===========&quot;</span>);<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>åœ¨springmvcçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®æ‹¦æˆªå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ‹¦æˆªå™¨é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--åŒ…æ‹¬è¿™ä¸ªè¯·æ±‚ä¸‹é¢çš„æ‰€æœ‰è¯·æ±‚--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/**&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.MyInterceptor&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªControllerï¼Œæ¥æ”¶è¯·æ±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.GetMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestController</span> </span>&#123;<br>    <span class="hljs-meta">@GetMapping(&quot;/t1&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;TestController.test&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ok&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å¯åŠ¨tomcat æµ‹è¯•ä¸€ä¸‹ï¼(<a href="http://localhost:8888/t1">http://localhost:8888/t1</a>)</p></li></ol><h3 id="10-3ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·"><a href="#10-3ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½•-è®¤è¯ç”¨æˆ·" class="headerlink" title="10.3ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)"></a>10.3ã€éªŒè¯ç”¨æˆ·æ˜¯å¦ç™»å½• (è®¤è¯ç”¨æˆ·)</h3><p><strong>å®ç°æ€è·¯</strong></p><ol><li><p>æœ‰ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œéœ€è¦å†™ä¸€ä¸ªcontrollerè®¿é—®é¡µé¢ã€‚</p></li><li><p>ç™»é™†é¡µé¢æœ‰ä¸€æäº¤è¡¨å•çš„åŠ¨ä½œã€‚éœ€è¦åœ¨controllerä¸­å¤„ç†ã€‚åˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ã€‚å¦‚æœæ­£ç¡®ï¼Œå‘sessionä¸­å†™å…¥ç”¨æˆ·ä¿¡æ¯ã€‚<em>è¿”å›ç™»é™†æˆåŠŸã€‚</em></p></li><li><p>æ‹¦æˆªç”¨æˆ·è¯·æ±‚ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»é™†ã€‚å¦‚æœç”¨æˆ·å·²ç»ç™»é™†ã€‚æ”¾è¡Œï¼Œ å¦‚æœç”¨æˆ·æœªç™»é™†ï¼Œè·³è½¬åˆ°ç™»é™†é¡µé¢</p></li></ol><p><strong>æµ‹è¯•ï¼š</strong></p><ol><li><p>ç¼–å†™ä¸€ä¸ªç™»é™†é¡µé¢  login.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;ç™»å½•&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;%--åœ¨web-infä¸‹é¢çš„æ‰€æœ‰é¡µé¢æˆ–è€…èµ„æºï¼Œåªèƒ½é€šè¿‡controlleræˆ–è€…Servletè¿›è¡Œè®¿é—®--%&gt;<br>&lt;h1&gt;ç™»å½•é¡µé¢&lt;/h1&gt;<br><br>&lt;form action=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/login&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;<br>    ç”¨æˆ·åï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span>&gt;<br>    å¯†ç ï¼š&lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;password&quot;</span>&gt;<br>    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;æäº¤&quot;</span>&gt;<br>&lt;/form&gt;<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªControllerå¤„ç†è¯·æ±‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Controller</span><br><span class="hljs-meta">@RequestMapping(&quot;/user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginController</span> </span>&#123;<br>    <span class="hljs-meta">@RequestMapping(&quot;/main&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;main&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/goLogin&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">login</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;login&quot;</span>;<br>    &#125;<br>    <span class="hljs-meta">@RequestMapping(&quot;/login&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">login</span><span class="hljs-params">(HttpSession session, String username, String password, Model model)</span> </span>&#123;<br><br>        <span class="hljs-comment">//æŠŠç”¨æˆ·çš„ä¿¡æ¯å­˜åœ¨sessionä¸­</span><br>        session.setAttribute(<span class="hljs-string">&quot;userLoginInfo&quot;</span>,username);<br>        model.addAttribute(<span class="hljs-string">&quot;password&quot;</span>,password);<br>        model.addAttribute(<span class="hljs-string">&quot;username&quot;</span>,username);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;main&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(&quot;/goOut&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">goOut</span><span class="hljs-params">(HttpSession sessionl)</span> </span>&#123;<br>        sessionl.removeAttribute(<span class="hljs-string">&quot;userLoginInfo&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;login&quot;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªç™»é™†æˆåŠŸçš„é¡µé¢ main.jsp</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>    &lt;title&gt;é¦–é¡µ&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h1&gt;é¦–é¡µ&lt;/h1&gt;<br>&lt;span&gt;$&#123;password&#125;&lt;/span&gt;<br>&lt;span&gt;$&#123;username&#125;&lt;/span&gt;<br><br>&lt;p&gt;<br>    &lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/goOut&quot;</span>&gt;æ³¨é”€&lt;/a&gt;<br>&lt;/p&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></table></figure></li><li><p>åœ¨ index é¡µé¢ä¸Šæµ‹è¯•è·³è½¬ï¼å¯åŠ¨Tomcat æµ‹è¯•ï¼Œæœªç™»å½•ä¹Ÿå¯ä»¥è¿›å…¥ä¸»é¡µï¼</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;<br>&lt;html&gt;<br>&lt;head&gt;<br>  &lt;title&gt;index&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>&lt;h1&gt;&lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/goLogin&quot;</span>&gt;ç™»å½•é¡µé¢&lt;/a&gt;&lt;/h1&gt;<br>&lt;h1&gt;&lt;a href=<span class="hljs-string">&quot;$&#123;pageContext.request.contextPath&#125;/user/main&quot;</span>&gt;é¦–é¡µ&lt;/a&gt;&lt;/h1&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™ç”¨æˆ·ç™»å½•æ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.T_Lyon.config;<br><br><span class="hljs-keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpSession;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LoginInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HandlerInterceptor</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        HttpSession session = request.getSession();<br>        <span class="hljs-comment">//æ”¾è¡Œ:åˆ¤æ–­ä»€ä¹ˆæƒ…å†µä¸‹ç™»å½•</span><br><br>        <span class="hljs-comment">//ç™»å½•é¡µé¢ä¹Ÿä¼šæ”¾è¡Œ</span><br>        <span class="hljs-keyword">if</span> (request.getRequestURI().contains(<span class="hljs-string">&quot;goLogin&quot;</span>)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (request.getRequestURI().contains(<span class="hljs-string">&quot;login&quot;</span>)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (session.getAttribute(<span class="hljs-string">&quot;userLoginInfo&quot;</span>) != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>        &#125;<br>        <span class="hljs-comment">//åˆ¤æ–­ä»€ä¹ˆæƒ…å†µä¸‹æ²¡æœ‰ç™»å½•</span><br>        request.getRequestDispatcher(<span class="hljs-string">&quot;/WEB-INF/jsp/login.jsp&quot;</span>).forward(request,response);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>åœ¨Springmvcçš„é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œæ‹¦æˆªå™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å…³äºæ‹¦æˆªå™¨çš„é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptors</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:interceptor</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">mvc:mapping</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/**&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;loginInterceptor&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.kuang.interceptor.LoginInterceptor&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptor</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mvc:interceptors</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å†æ¬¡é‡å¯Tomcatæµ‹è¯•ï¼</p></li></ol><p><strong>OKï¼Œæµ‹è¯•ç™»å½•æ‹¦æˆªåŠŸèƒ½æ— è¯¯.</strong></p><p><img src="/.io//1595139309383.png" alt="1595139309383"></p><h2 id="11ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"><a href="#11ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½" class="headerlink" title="11ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½"></a>11ã€æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½</h2><h3 id="11-1ã€å‡†å¤‡å·¥ä½œ"><a href="#11-1ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="11.1ã€å‡†å¤‡å·¥ä½œ"></a>11.1ã€å‡†å¤‡å·¥ä½œ</h3><ul><li>æ–‡ä»¶ä¸Šä¼ æ˜¯é¡¹ç›®å¼€å‘ä¸­æœ€å¸¸è§çš„åŠŸèƒ½ä¹‹ä¸€ ,springMVC å¯ä»¥å¾ˆå¥½çš„æ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€‚</li><li>SpringMVCä¸Šä¸‹æ–‡ä¸­é»˜è®¤æ²¡æœ‰è£…é…MultipartResolverï¼Œå› æ­¤é»˜è®¤æƒ…å†µä¸‹å…¶ä¸èƒ½å¤„ç†æ–‡ä»¶ä¸Šä¼ å·¥ä½œã€‚å¦‚æœæƒ³ä½¿ç”¨Springçš„æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™éœ€è¦åœ¨ä¸Šä¸‹æ–‡ä¸­é…ç½®MultipartResolverã€‚</li><li>å‰ç«¯è¡¨å•è¦æ±‚ï¼šä¸ºäº†èƒ½ä¸Šä¼ æ–‡ä»¶ï¼Œå¿…é¡»å°†è¡¨å•çš„methodè®¾ç½®ä¸ºPOSTï¼Œå¹¶å°†enctypeè®¾ç½®ä¸ºmultipart/form-dataã€‚åªæœ‰åœ¨è¿™æ ·çš„æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨æ‰ä¼šæŠŠç”¨æˆ·é€‰æ‹©çš„æ–‡ä»¶ä»¥äºŒè¿›åˆ¶æ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼›</li></ul><p><strong>å¯¹è¡¨å•ä¸­çš„ enctype å±æ€§åšä¸ªè¯¦ç»†çš„è¯´æ˜ï¼š</strong></p><ul><li>application/x-www=form-urlencodedï¼šé»˜è®¤æ–¹å¼ï¼Œåªå¤„ç†è¡¨å•åŸŸä¸­çš„ value å±æ€§å€¼ï¼Œé‡‡ç”¨è¿™ç§ç¼–ç æ–¹å¼çš„è¡¨å•ä¼šå°†è¡¨å•åŸŸä¸­çš„å€¼å¤„ç†æˆ URL ç¼–ç æ–¹å¼ã€‚</li><li>multipart/form-dataï¼šè¿™ç§ç¼–ç æ–¹å¼ä¼šä»¥äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šæŠŠæ–‡ä»¶åŸŸæŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä¹Ÿå°è£…åˆ°è¯·æ±‚å‚æ•°ä¸­ï¼Œä¸ä¼šå¯¹å­—ç¬¦ç¼–ç ã€‚</li><li>text/plainï¼šé™¤äº†æŠŠç©ºæ ¼è½¬æ¢ä¸º â€œ+â€ å·å¤–ï¼Œå…¶ä»–å­—ç¬¦éƒ½ä¸åšç¼–ç å¤„ç†ï¼Œè¿™ç§æ–¹å¼é€‚ç”¨ç›´æ¥é€šè¿‡è¡¨å•å‘é€é‚®ä»¶ã€‚</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">enctype</span>=<span class="hljs-string">&quot;multipart/form-data&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;file&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¸€æ—¦è®¾ç½®äº†enctypeä¸ºmultipart/form-dataï¼Œæµè§ˆå™¨å³ä¼šé‡‡ç”¨äºŒè¿›åˆ¶æµçš„æ–¹å¼æ¥å¤„ç†è¡¨å•æ•°æ®ï¼Œè€Œå¯¹äºæ–‡ä»¶ä¸Šä¼ çš„å¤„ç†åˆ™æ¶‰åŠåœ¨æœåŠ¡å™¨ç«¯è§£æåŸå§‹çš„HTTPå“åº”ã€‚åœ¨2003å¹´ï¼ŒApache Software Foundationå‘å¸ƒäº†å¼€æºçš„Commons FileUploadç»„ä»¶ï¼Œå…¶å¾ˆå¿«æˆä¸ºServlet/JSPç¨‹åºå‘˜ä¸Šä¼ æ–‡ä»¶çš„æœ€ä½³é€‰æ‹©ã€‚</p><ul><li>Servlet3.0è§„èŒƒå·²ç»æä¾›æ–¹æ³•æ¥å¤„ç†æ–‡ä»¶ä¸Šä¼ ï¼Œä½†è¿™ç§ä¸Šä¼ éœ€è¦åœ¨Servletä¸­å®Œæˆã€‚</li><li>è€ŒSpring MVCåˆ™æä¾›äº†æ›´ç®€å•çš„å°è£…ã€‚</li><li>Spring MVCä¸ºæ–‡ä»¶ä¸Šä¼ æä¾›äº†ç›´æ¥çš„æ”¯æŒï¼Œè¿™ç§æ”¯æŒæ˜¯ç”¨å³æ’å³ç”¨çš„MultipartResolverå®ç°çš„ã€‚</li><li>Spring MVCä½¿ç”¨Apache Commons FileUploadæŠ€æœ¯å®ç°äº†ä¸€ä¸ªMultipartResolverå®ç°ç±»ï¼š</li><li>CommonsMultipartResolverã€‚å› æ­¤ï¼Œ<font color="red">SpringMVCçš„æ–‡ä»¶ä¸Šä¼ è¿˜éœ€è¦ä¾èµ–Apache Commons FileUploadçš„ç»„ä»¶ã€‚</font></li></ul><h3 id="11-2ã€æ–‡ä»¶ä¸Šä¼ "><a href="#11-2ã€æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="11.2ã€æ–‡ä»¶ä¸Šä¼ "></a>11.2ã€æ–‡ä»¶ä¸Šä¼ </h3><ol><li><p>å¯¼å…¥æ–‡ä»¶ä¸Šä¼ çš„jaråŒ…ï¼Œcommons-fileupload ï¼Œ Mavenä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥ä»–çš„ä¾èµ–åŒ… commons-ioåŒ…ï¼›</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–‡ä»¶ä¸Šä¼ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>commons-fileupload<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--servlet-apiå¯¼å…¥é«˜ç‰ˆæœ¬çš„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®beanï¼šmultipartResolver</p><p><font color="red">ã€<strong>æ³¨æ„ï¼ï¼ï¼è¿™ä¸ªbenaçš„idå¿…é¡»ä¸ºï¼šmultipartResolver ï¼Œ å¦åˆ™ä¸Šä¼ æ–‡ä»¶ä¼šæŠ¥400çš„é”™è¯¯ï¼åœ¨è¿™é‡Œæ ½è¿‡å‘,æ•™è®­ï¼</strong>ã€‘</font></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–‡ä»¶ä¸Šä¼ é…ç½®--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;multipartResolver&quot;</span>  <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span>&gt;</span><br>   <span class="hljs-comment">&lt;!-- è¯·æ±‚çš„ç¼–ç æ ¼å¼ï¼Œå¿…é¡»å’ŒjSPçš„pageEncodingå±æ€§ä¸€è‡´ï¼Œä»¥ä¾¿æ­£ç¡®è¯»å–è¡¨å•çš„å†…å®¹ï¼Œé»˜è®¤ä¸ºISO-8859-1 --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultEncoding&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;utf-8&quot;</span>/&gt;</span><br>   <span class="hljs-comment">&lt;!-- ä¸Šä¼ æ–‡ä»¶å¤§å°ä¸Šé™ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼ˆ10485760=10Mï¼‰ --&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxUploadSize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;10485760&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;maxInMemorySize&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;40960&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>CommonsMultipartFile çš„ å¸¸ç”¨æ–¹æ³•ï¼š</p><ul><li><strong>String getOriginalFilename()ï¼šè·å–ä¸Šä¼ æ–‡ä»¶çš„åŸå</strong></li><li><strong>InputStream getInputStream()ï¼šè·å–æ–‡ä»¶æµ</strong></li><li><strong>void transferTo(File dest)ï¼šå°†ä¸Šä¼ æ–‡ä»¶ä¿å­˜åˆ°ä¸€ä¸ªç›®å½•æ–‡ä»¶ä¸­</strong></li></ul><p> æˆ‘ä»¬å»å®é™…æµ‹è¯•ä¸€ä¸‹</p></li><li><p>ç¼–å†™å‰ç«¯é¡µé¢</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;form action=<span class="hljs-string">&quot;/upload&quot;</span> enctype=<span class="hljs-string">&quot;multipart/form-data&quot;</span> method=<span class="hljs-string">&quot;post&quot;</span>&gt;<br> &lt;input type=<span class="hljs-string">&quot;file&quot;</span> name=<span class="hljs-string">&quot;file&quot;</span>/&gt;<br> &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;upload&quot;</span>&gt;<br>&lt;/form&gt;<br></code></pre></td></tr></table></figure></li><li><p><strong>Controller</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.T_Lyon.controller;<br><br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RequestParam;<br><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.RestController;<br><span class="hljs-keyword">import</span> org.springframework.web.multipart.commons.CommonsMultipartFile;<br><br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.net.URLEncoder;<br><br><span class="hljs-meta">@RestController</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FileController</span> </span>&#123;<br><br>    <span class="hljs-comment">//@RequestParam(&quot;file&quot;) å°†name=fileæ§ä»¶å¾—åˆ°çš„æ–‡ä»¶å°è£…æˆCommonsMultipartFile å¯¹è±¡</span><br>    <span class="hljs-comment">//æ‰¹é‡ä¸Šä¼ CommonsMultipartFileåˆ™ä¸ºæ•°ç»„å³å¯</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/upload&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">fileUpload</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file , HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br><br>        <span class="hljs-comment">//è·å–æ–‡ä»¶å : file.getOriginalFilename();</span><br>        String uploadFileName = file.getOriginalFilename();<br><br>        <span class="hljs-comment">//å¦‚æœæ–‡ä»¶åä¸ºç©ºï¼Œç›´æ¥å›åˆ°é¦–é¡µï¼</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-string">&quot;&quot;</span>.equals(uploadFileName))&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶å : &quot;</span>+uploadFileName);<br><br>        <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span><br>        String path = request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>        <span class="hljs-comment">//å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ª</span><br>        File realPath = <span class="hljs-keyword">new</span> File(path);<br>        <span class="hljs-keyword">if</span> (!realPath.exists())&#123;<br>            realPath.mkdir();<br>        &#125;<br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);<br><br>        InputStream is = file.getInputStream(); <span class="hljs-comment">//æ–‡ä»¶è¾“å…¥æµ</span><br>        OutputStream os = <span class="hljs-keyword">new</span> FileOutputStream(<span class="hljs-keyword">new</span> File(realPath,uploadFileName)); <span class="hljs-comment">//æ–‡ä»¶è¾“å‡ºæµ</span><br><br>        <span class="hljs-comment">//è¯»å–å†™å‡º</span><br>        <span class="hljs-keyword">int</span> len=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];<br>        <span class="hljs-keyword">while</span> ((len=is.read(buffer))!=-<span class="hljs-number">1</span>)&#123;<br>            os.write(buffer,<span class="hljs-number">0</span>,len);<br>            os.flush();<br>        &#125;<br>        os.close();<br>        is.close();<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     * é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-meta">@RequestMapping(&quot;/upload2&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">fileUpload2</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file, HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br><br>        <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span><br>        String path = request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>        File realPath = <span class="hljs-keyword">new</span> File(path);<br>        <span class="hljs-keyword">if</span> (!realPath.exists())&#123;<br>            realPath.mkdir();<br>        &#125;<br>        <span class="hljs-comment">//ä¸Šä¼ æ–‡ä»¶åœ°å€</span><br>        System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);<br><br>        <span class="hljs-comment">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰</span><br>        file.transferTo(<span class="hljs-keyword">new</span> File(realPath +<span class="hljs-string">&quot;/&quot;</span>+ file.getOriginalFilename()));<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-meta">@RequestMapping(value=&quot;/download&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">downloads</span><span class="hljs-params">(HttpServletResponse response , HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;<br>        <span class="hljs-comment">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€</span><br>        String  path = request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>        String  fileName = <span class="hljs-string">&quot;bg1.jpg&quot;</span>;<br><br>        <span class="hljs-comment">//1ã€è®¾ç½®response å“åº”å¤´</span><br>        response.reset(); <span class="hljs-comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span><br>        response.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>); <span class="hljs-comment">//å­—ç¬¦ç¼–ç </span><br>        response.setContentType(<span class="hljs-string">&quot;multipart/form-data&quot;</span>); <span class="hljs-comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span><br>        <span class="hljs-comment">//è®¾ç½®å“åº”å¤´</span><br>        response.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<br>                <span class="hljs-string">&quot;attachment;fileName=&quot;</span>+ URLEncoder.encode(fileName, <span class="hljs-string">&quot;UTF-8&quot;</span>));<br><br>        File file = <span class="hljs-keyword">new</span> File(path,fileName);<br>        <span class="hljs-comment">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ</span><br>        InputStream input=<span class="hljs-keyword">new</span> FileInputStream(file);<br>        <span class="hljs-comment">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ</span><br>        OutputStream out = response.getOutputStream();<br><br>        <span class="hljs-keyword">byte</span>[] buff =<span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];<br>        <span class="hljs-keyword">int</span> index=<span class="hljs-number">0</span>;<br>        <span class="hljs-comment">//4ã€æ‰§è¡Œ å†™å‡ºæ“ä½œ</span><br>        <span class="hljs-keyword">while</span>((index= input.read(buff))!= -<span class="hljs-number">1</span>)&#123;<br>            out.write(buff, <span class="hljs-number">0</span>, index);<br>            out.flush();<br>        &#125;<br>        out.close();<br>        input.close();<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ä¸Šä¼ æ–‡ä»¶ï¼ŒOKï¼</p></li></ol><p><strong>é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</strong></p><ol><li><p>ç¼–å†™Controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">* é‡‡ç”¨file.Transto æ¥ä¿å­˜ä¸Šä¼ çš„æ–‡ä»¶</span><br><span class="hljs-comment">*/</span><br><span class="hljs-meta">@RequestMapping(&quot;/upload2&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String  <span class="hljs-title">fileUpload2</span><span class="hljs-params">(<span class="hljs-meta">@RequestParam(&quot;file&quot;)</span> CommonsMultipartFile file, HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br><br>   <span class="hljs-comment">//ä¸Šä¼ è·¯å¾„ä¿å­˜è®¾ç½®</span><br>   String path = request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>   File realPath = <span class="hljs-keyword">new</span> File(path);<br>   <span class="hljs-keyword">if</span> (!realPath.exists())&#123;<br>       realPath.mkdir();<br>  &#125;<br>   <span class="hljs-comment">//ä¸Šä¼ æ–‡ä»¶åœ°å€</span><br>   System.out.println(<span class="hljs-string">&quot;ä¸Šä¼ æ–‡ä»¶ä¿å­˜åœ°å€ï¼š&quot;</span>+realPath);<br><br>   <span class="hljs-comment">//é€šè¿‡CommonsMultipartFileçš„æ–¹æ³•ç›´æ¥å†™æ–‡ä»¶ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™ï¼‰</span><br>   file.transferTo(<span class="hljs-keyword">new</span> File(realPath +<span class="hljs-string">&quot;/&quot;</span>+ file.getOriginalFilename()));<br><br>   <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;redirect:/index.jsp&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å‰ç«¯è¡¨å•æäº¤åœ°å€ä¿®æ”¹</p></li><li><p>è®¿é—®æäº¤æµ‹è¯•ï¼ŒOKï¼</p></li></ol><h3 id="11-3ã€æ–‡ä»¶ä¸‹è½½"><a href="#11-3ã€æ–‡ä»¶ä¸‹è½½" class="headerlink" title="11.3ã€æ–‡ä»¶ä¸‹è½½"></a>11.3ã€æ–‡ä»¶ä¸‹è½½</h3><p><strong>æ–‡ä»¶ä¸‹è½½æ­¥éª¤ï¼š</strong></p><ol><li><p>è®¾ç½® response å“åº”å¤´</p></li><li><p>è¯»å–æ–‡ä»¶ â€“ InputStream</p></li><li><p>å†™å‡ºæ–‡ä»¶ â€“ OutputStream</p></li><li><p>æ‰§è¡Œæ“ä½œ</p></li><li><p>å…³é—­æµ ï¼ˆå…ˆå¼€åå…³ï¼‰</p></li></ol><p><strong>ä»£ç å®ç°ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@RequestMapping(value=&quot;/download&quot;)</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">downloads</span><span class="hljs-params">(HttpServletResponse response ,HttpServletRequest request)</span> <span class="hljs-keyword">throws</span> Exception</span>&#123;<br>   <span class="hljs-comment">//è¦ä¸‹è½½çš„å›¾ç‰‡åœ°å€</span><br>   String  path = request.getServletContext().getRealPath(<span class="hljs-string">&quot;/upload&quot;</span>);<br>   String  fileName = <span class="hljs-string">&quot;åŸºç¡€è¯­æ³•.jpg&quot;</span>;<br><br>   <span class="hljs-comment">//1ã€è®¾ç½®response å“åº”å¤´</span><br>   response.reset(); <span class="hljs-comment">//è®¾ç½®é¡µé¢ä¸ç¼“å­˜,æ¸…ç©ºbuffer</span><br>   response.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>); <span class="hljs-comment">//å­—ç¬¦ç¼–ç </span><br>   response.setContentType(<span class="hljs-string">&quot;multipart/form-data&quot;</span>); <span class="hljs-comment">//äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®</span><br>   <span class="hljs-comment">//è®¾ç½®å“åº”å¤´</span><br>   response.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<br>           <span class="hljs-string">&quot;attachment;fileName=&quot;</span>+URLEncoder.encode(fileName, <span class="hljs-string">&quot;UTF-8&quot;</span>));<br><br>   File file = <span class="hljs-keyword">new</span> File(path,fileName);<br>   <span class="hljs-comment">//2ã€ è¯»å–æ–‡ä»¶--è¾“å…¥æµ</span><br>   InputStream input=<span class="hljs-keyword">new</span> FileInputStream(file);<br>   <span class="hljs-comment">//3ã€ å†™å‡ºæ–‡ä»¶--è¾“å‡ºæµ</span><br>   OutputStream out = response.getOutputStream();<br><br>   <span class="hljs-keyword">byte</span>[] buff =<span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];<br>   <span class="hljs-keyword">int</span> index=<span class="hljs-number">0</span>;<br>   <span class="hljs-comment">//4ã€æ‰§è¡Œ å†™å‡ºæ“ä½œ</span><br>   <span class="hljs-keyword">while</span>((index= input.read(buff))!= -<span class="hljs-number">1</span>)&#123;<br>       out.write(buff, <span class="hljs-number">0</span>, index);<br>       out.flush();<br>  &#125;<br>   out.close();<br>   input.close();<br>   <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å‰ç«¯</p><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jsp">&lt;a href=<span class="hljs-string">&quot;/download&quot;</span>&gt;ç‚¹å‡»ä¸‹è½½&lt;/a&gt;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼Œæ–‡ä»¶ä¸‹è½½OK</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>9-åˆ†é¡µ</title>
    <link href="/2022/06/22/java/Mybatis/9-%E5%88%86%E9%A1%B5/"/>
    <url>/2022/06/22/java/Mybatis/9-%E5%88%86%E9%A1%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><p><strong>æ€è€ƒï¼šä¸ºä»€ä¹ˆè¦åˆ†é¡µï¼Ÿ</strong></p><ul><li>å‡å°‘æ•°æ®çš„å¤„ç†é‡</li></ul><h3 id="1ã€ä½¿ç”¨Limitåˆ†é¡µ"><a href="#1ã€ä½¿ç”¨Limitåˆ†é¡µ" class="headerlink" title="1ã€ä½¿ç”¨Limitåˆ†é¡µ"></a>1ã€ä½¿ç”¨Limitåˆ†é¡µ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sql">è¯­æ³•ï¼š<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit startIndex,pageSize;<br><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> limit <span class="hljs-number">3</span>;  #[<span class="hljs-number">0</span>,n]ï¼Œå³åªç»™å®šä¸€ä¸ªå‚æ•°åˆ™é»˜è®¤startIndexä¸º<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>æ•ˆæœå±•ç¤ºï¼š</p><img src="/.io//image-20220326011247662.png" alt="image-20220326011247662" style="zoom:50%;"><p><strong>ä½¿ç”¨Mybatiså®ç°åˆ†é¡µï¼Œæ ¸å¿ƒSQL</strong></p><ol><li><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆ†é¡µ</span><br><span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserByLimit</span><span class="hljs-params">(Map&lt;String,Integer&gt; map)</span></span>;<br></code></pre></td></tr></table></figure></li><li><p>Mapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--//åˆ†é¡µ--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByLimit&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from  mybatis.user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserByLimit</span><span class="hljs-params">()</span></span>&#123;<br>SqlSession sqlSession = MybatisUtils.getSqlSession();<br>UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br><br>HashMap&lt;String, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Integer&gt;();<br>    map.put(<span class="hljs-string">&quot;startIndex&quot;</span>,<span class="hljs-number">1</span>);<br>    map.put(<span class="hljs-string">&quot;pageSize&quot;</span>,<span class="hljs-number">2</span>);<br><br>    List&lt;User&gt; userList =  mapper.getUserByLimit(map);<br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>    System.out.println(user);<br>    &#125;<br><br>    sqlSession.close();<br>&#125;<br><br></code></pre></td></tr></table></figure></li></ol><br><h3 id="2ã€RowBoundsåˆ†é¡µï¼ˆä¸å¸¸ç”¨ï¼‰"><a href="#2ã€RowBoundsåˆ†é¡µï¼ˆä¸å¸¸ç”¨ï¼‰" class="headerlink" title="2ã€RowBoundsåˆ†é¡µï¼ˆä¸å¸¸ç”¨ï¼‰"></a>2ã€RowBoundsåˆ†é¡µï¼ˆä¸å¸¸ç”¨ï¼‰</h3><p>ä¸å†ä½¿ç”¨SQLå®ç°åˆ†é¡µ</p><ol><li><p>æ¥å£</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino"><span class="hljs-comment">//åˆ†é¡µ2</span><br><span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserByRowBounds</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure></li><li><p>mapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åˆ†é¡µ2--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserByRowBounds&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from  mybatis.user<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">@Test<br>public void get<span class="hljs-constructor">UserByRowBounds()</span>&#123;<br>SqlSession sqlSession = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">MybatisUtils</span>.</span></span>get<span class="hljs-constructor">SqlSession()</span>;<br><br><span class="hljs-comment">//RowBoundså®ç°</span><br>RowBounds rowBounds = <span class="hljs-keyword">new</span> <span class="hljs-constructor">RowBounds(1, 2)</span>;<br><br><span class="hljs-comment">//é€šè¿‡Javaä»£ç å±‚é¢å®ç°åˆ†é¡µ</span><br>List&lt;User&gt; userList = sqlSession.select<span class="hljs-constructor">List(<span class="hljs-string">&quot;com.kuang.dao.UserMapper.getUserByRowBounds&quot;</span>,<span class="hljs-params">null</span>,<span class="hljs-params">rowBounds</span>)</span>;<br><br>    <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>    <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">System</span>.</span></span>out.println(user);<br>    &#125;<br><br>    sqlSession.close<span class="hljs-literal">()</span>;<br>    &#125;<br></code></pre></td></tr></table></figure></li></ol><br><h3 id="3ã€åˆ†é¡µæ’ä»¶"><a href="#3ã€åˆ†é¡µæ’ä»¶" class="headerlink" title="3ã€åˆ†é¡µæ’ä»¶"></a>3ã€åˆ†é¡µæ’ä»¶</h3><p><img src="file://D:/wangkr/1%E7%AC%94%E8%AE%B0/Java/Mybatis/Mybatis%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0.assets/1569896603103.png?lastModify=1648227433" alt="1569896603103"></p><p>äº†è§£å³å¯ï¼Œä¸‡ä¸€ ä»¥åå…¬å¸çš„æ¶æ„å¸ˆï¼Œè¯´è¦ä½¿ç”¨ï¼Œä½ éœ€è¦çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>11-Lombok</title>
    <link href="/2022/06/22/java/Mybatis/11-Lombok/"/>
    <url>/2022/06/22/java/Mybatis/11-Lombok/</url>
    
    <content type="html"><![CDATA[<h2 id="Lombok"><a href="#Lombok" class="headerlink" title="Lombok"></a>Lombok</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">Project Lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.<br>Never write another getter or equals method again, with one annotation your <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">has</span> <span class="hljs-title">a</span> <span class="hljs-title">fully</span> <span class="hljs-title">featured</span> <span class="hljs-title">builder</span>, <span class="hljs-title">Automate</span> <span class="hljs-title">your</span> <span class="hljs-title">logging</span> <span class="hljs-title">variables</span>, <span class="hljs-title">and</span> <span class="hljs-title">much</span> <span class="hljs-title">more</span>.</span><br></code></pre></td></tr></table></figure><ul><li>java library</li><li>plugs</li><li>build tools</li><li>with one annotation your class</li></ul><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>åœ¨IDEAä¸­å®‰è£…Lombokæ’ä»¶ï¼</p></li><li><p>åœ¨é¡¹ç›®ä¸­å¯¼å…¥lombokçš„jaråŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.10<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨å®ä½“ç±»ä¸ŠåŠ æ³¨è§£å³å¯ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@NoArgsConstructor</span><br></code></pre></td></tr></table></figure></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Getter</span> and <span class="hljs-meta">@Setter</span><br><span class="hljs-meta">@FieldNameConstants</span><br><span class="hljs-meta">@ToString</span><br><span class="hljs-meta">@EqualsAndHashCode</span><br><span class="hljs-meta">@AllArgsConstructor</span>, <span class="hljs-meta">@RequiredArgsConstructor</span> and <span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@Log</span>, <span class="hljs-meta">@Log4j</span>, <span class="hljs-meta">@Log4j2</span>, <span class="hljs-meta">@Slf4j</span>, <span class="hljs-meta">@XSlf4j</span>, <span class="hljs-meta">@CommonsLog</span>, <span class="hljs-meta">@JBossLog</span>, <span class="hljs-meta">@Flogger</span><br><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@Builder</span><br><span class="hljs-meta">@Singular</span><br><span class="hljs-meta">@Delegate</span><br><span class="hljs-meta">@Value</span><br><span class="hljs-meta">@Accessors</span><br><span class="hljs-meta">@Wither</span><br><span class="hljs-meta">@SneakyThrows</span><br></code></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-variable">@Data</span>ï¼šæ— å‚æ„é€ ï¼Œgetã€setã€tostringã€hashcodeï¼Œequals<br><span class="hljs-variable">@AllArgsConstructor</span><br><span class="hljs-variable">@NoArgsConstructor</span><br><span class="hljs-variable">@EqualsAndHashCode</span><br><span class="hljs-variable">@ToString</span><br><span class="hljs-variable">@Getter</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>12-å¤šå¯¹ä¸€å¤„ç†</title>
    <link href="/2022/06/22/java/Mybatis/12-%E5%A4%9A%E5%AF%B9%E4%B8%80%E5%A4%84%E7%90%86/"/>
    <url>/2022/06/22/java/Mybatis/12-%E5%A4%9A%E5%AF%B9%E4%B8%80%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="å¤šå¯¹ä¸€å¤„ç†"><a href="#å¤šå¯¹ä¸€å¤„ç†" class="headerlink" title="å¤šå¯¹ä¸€å¤„ç†"></a>å¤šå¯¹ä¸€å¤„ç†</h2><p>å¤šå¯¹ä¸€ï¼š</p><img src="/.io//1569909163944.png" alt="1569909163944" style="zoom:50%;"><ul><li>å¤šä¸ªå­¦ç”Ÿï¼Œå¯¹åº”ä¸€ä¸ªè€å¸ˆ</li><li>å¯¹äºå­¦ç”Ÿè¿™è¾¹è€Œè¨€ï¼Œå¤šä¸ªå­¦ç”Ÿï¼Œå…³è”ä¸€ä¸ªè€å¸ˆ  ã€<strong>å¤šå¯¹ä¸€</strong>ã€‘â€”â€” å…³è” <strong>association</strong></li><li>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œä¸€ä¸ªè€å¸ˆï¼Œæœ‰å¾ˆå¤šå­¦ç”Ÿ ã€<strong>ä¸€å¯¹å¤š</strong>ã€‘â€”â€” é›†åˆ <strong>collection</strong></li></ul><p><img src="/.io//1569909422471.png" alt="1569909422471"></p><p>SQLï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `teacher` (<br>  `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>  `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> teacher(`id`, `name`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;ç§¦è€å¸ˆ&#x27;</span>); <br><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `student` (<br>  `id` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,<br>  `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  `tid` <span class="hljs-type">INT</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  <span class="hljs-keyword">PRIMARY</span> KEY (`id`),<br>  KEY `fktid` (`tid`),<br>  <span class="hljs-keyword">CONSTRAINT</span> `fktid` <span class="hljs-keyword">FOREIGN</span> KEY (`tid`) <span class="hljs-keyword">REFERENCES</span> `teacher` (`id`)<br>) ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8<br><br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-string">&#x27;å°çº¢&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;3&#x27;</span>, <span class="hljs-string">&#x27;å°å¼ &#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;å°æ&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>); <br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> `student` (`id`, `name`, `tid`) <span class="hljs-keyword">VALUES</span> (<span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;å°ç‹&#x27;</span>, <span class="hljs-string">&#x27;1&#x27;</span>);<br><br></code></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç¯å¢ƒæ­å»º"><a href="#æµ‹è¯•ç¯å¢ƒæ­å»º" class="headerlink" title="æµ‹è¯•ç¯å¢ƒæ­å»º"></a>æµ‹è¯•ç¯å¢ƒæ­å»º</h3><ol><li>å¯¼å…¥lombok</li><li>æ–°å»ºå®ä½“ç±» Teacherï¼ŒStudent</li><li>å»ºç«‹Mapperæ¥å£</li><li>å»ºç«‹Mapper.XMLæ–‡ä»¶</li><li>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ³¨å†Œæˆ‘ä»¬çš„Mapperæ¥å£æˆ–è€…æ–‡ä»¶ï¼ã€æ–¹å¼å¾ˆå¤šï¼Œéšå¿ƒé€‰ã€‘</li><li>æµ‹è¯•æŸ¥è¯¢æ˜¯å¦èƒ½å¤ŸæˆåŠŸï¼</li></ol><h3 id="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰"><a href="#æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰" class="headerlink" title="æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰"></a>æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">    æ€è·¯:</span><br><span class="hljs-comment">        1. æŸ¥è¯¢æ‰€æœ‰çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="hljs-comment">        2. æ ¹æ®æŸ¥è¯¢å‡ºæ¥çš„å­¦ç”Ÿçš„tidï¼Œå¯»æ‰¾å¯¹åº”çš„è€å¸ˆï¼  å­æŸ¥è¯¢</span><br><span class="hljs-comment">    --&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudent&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span>&gt;</span><br>    select * from student<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--å¤æ‚çš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼š association é›†åˆï¼š collection --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getTeacher&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    select * from teacher where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h3 id="ï¼ˆæ¨èï¼‰æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰"><a href="#ï¼ˆæ¨èï¼‰æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰" class="headerlink" title="ï¼ˆæ¨èï¼‰æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰"></a>ï¼ˆæ¨èï¼‰æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudent2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span>&gt;</span><br>    select s.id sid,s.name sname,t.name tname<br>    from student s,teacher t<br>    where s.tid = t.id;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;StudentTeacher2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">association</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;teacher&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">association</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å›é¡¾Mysql å¤šå¯¹ä¸€æŸ¥è¯¢æ–¹å¼ï¼š</p><ul><li>å­æŸ¥è¯¢</li><li>è”è¡¨æŸ¥è¯¢</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>13-ä¸€å¯¹å¤šå¤„ç†</title>
    <link href="/2022/06/22/java/Mybatis/13-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%A4%84%E7%90%86/"/>
    <url>/2022/06/22/java/Mybatis/13-%E4%B8%80%E5%AF%B9%E5%A4%9A%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¸€å¯¹å¤šå¤„ç†"><a href="#ä¸€å¯¹å¤šå¤„ç†" class="headerlink" title="ä¸€å¯¹å¤šå¤„ç†"></a>ä¸€å¯¹å¤šå¤„ç†</h2><p>æ¯”å¦‚ï¼šä¸€ä¸ªè€å¸ˆæ‹¥æœ‰å¤šä¸ªå­¦ç”Ÿï¼</p><p>å¯¹äºè€å¸ˆè€Œè¨€ï¼Œå°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»!</p><h3 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h3><p>ç¯å¢ƒæ­å»ºï¼Œå’Œåˆšæ‰ä¸€æ ·</p><p><strong>å®ä½“ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> tid;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-comment">//ä¸€ä¸ªè€å¸ˆæ‹¥æœ‰å¤šä¸ªå­¦ç”Ÿ</span><br>    <span class="hljs-keyword">private</span> List&lt;Student&gt; students;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="1ã€æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰ï¼ˆæ¨èï¼‰"><a href="#1ã€æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰ï¼ˆæ¨èï¼‰" class="headerlink" title="1ã€æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰ï¼ˆæ¨èï¼‰"></a>1ã€æŒ‰ç…§ç»“æœåµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼è”è¡¨æŸ¥è¯¢ï¼‰ï¼ˆæ¨èï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŒ‰ç»“æœåµŒå¥—æŸ¥è¯¢--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span>&gt;</span><br>    select s.id sid, s.name sname, t.name tname,t.id tid<br>    from student s,teacher t<br>    where s.tid = t.id and t.id = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tname&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--å¤æ‚çš„å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬å¤„ç† å¯¹è±¡ï¼š association é›†åˆï¼š collection</span><br><span class="hljs-comment">    javaType=&quot;&quot; æŒ‡å®šå±æ€§çš„ç±»å‹ï¼</span><br><span class="hljs-comment">    é›†åˆä¸­çš„æ³›å‹ä¿¡æ¯ï¼Œæˆ‘ä»¬ä½¿ç”¨ofTypeè·å–</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sid&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;sname&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;tid&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;tid&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">collection</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2ã€æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰"><a href="#2ã€æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰" class="headerlink" title="2ã€æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰"></a>2ã€æŒ‰ç…§æŸ¥è¯¢åµŒå¥—å¤„ç†ï¼ˆç±»ä¼¼å­æŸ¥è¯¢ï¼‰</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getTeacher2&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span>&gt;</span><br>    select * from mybatis.teacher where id = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;TeacherStudent2&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Teacher&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">collection</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;students&quot;</span> <span class="hljs-attr">javaType</span>=<span class="hljs-string">&quot;ArrayList&quot;</span> <span class="hljs-attr">ofType</span>=<span class="hljs-string">&quot;Student&quot;</span> <span class="hljs-attr">select</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getStudentByTeacherId&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;Student&quot;</span>&gt;</span><br>    select * from mybatis.student where tid = #&#123;tid&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol><li>å…³è” - association   ã€å¤šå¯¹ä¸€ã€‘</li><li>é›†åˆ - collection   ã€ä¸€å¯¹å¤šã€‘</li><li>javaType    &amp;   ofType<ol><li>JavaType  ç”¨æ¥æŒ‡å®šå®ä½“ç±»ä¸­å±æ€§çš„ç±»å‹</li><li>ofType  ç”¨æ¥æŒ‡å®šæ˜ å°„åˆ°Listæˆ–è€…é›†åˆä¸­çš„ pojoç±»å‹ï¼Œæ³›å‹ä¸­çš„çº¦æŸç±»å‹ï¼</li></ol></li></ol><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>ä¿è¯SQLçš„å¯è¯»æ€§ï¼Œå°½é‡ä¿è¯é€šä¿—æ˜“æ‡‚</li><li>æ³¨æ„ä¸€å¯¹å¤šå’Œå¤šå¯¹ä¸€ä¸­ï¼Œå±æ€§åå’Œå­—æ®µçš„é—®é¢˜ï¼</li><li>å¦‚æœé—®é¢˜ä¸å¥½æ’æŸ¥é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨æ—¥å¿— ï¼Œ å»ºè®®ä½¿ç”¨ Log4j</li></ul><p><strong>æ…¢SQL       1s        1000s</strong>      </p><p>é¢è¯•é«˜é¢‘</p><ul><li>Mysqlå¼•æ“</li><li>InnoDBåº•å±‚åŸç†</li><li>ç´¢å¼•</li><li>ç´¢å¼•ä¼˜åŒ–ï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>14-åŠ¨æ€ SQL</title>
    <link href="/2022/06/22/java/Mybatis/14-%E5%8A%A8%E6%80%81%20SQL/"/>
    <url>/2022/06/22/java/Mybatis/14-%E5%8A%A8%E6%80%81%20SQL/</url>
    
    <content type="html"><![CDATA[<h2 id="åŠ¨æ€-SQL"><a href="#åŠ¨æ€-SQL" class="headerlink" title="åŠ¨æ€ SQL"></a>åŠ¨æ€ SQL</h2><p><strong>ä»€ä¹ˆæ˜¯åŠ¨æ€SQLï¼šåŠ¨æ€SQLå°±æ˜¯æŒ‡æ ¹æ®ä¸åŒçš„æ¡ä»¶ç”Ÿæˆä¸åŒçš„SQLè¯­å¥</strong></p><p>åˆ©ç”¨åŠ¨æ€ SQL è¿™ä¸€ç‰¹æ€§å¯ä»¥å½»åº•æ‘†è„±è¿™ç§ç—›è‹¦ã€‚ï¼ˆé¿å…æ¥å£çš„é‡è½½ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml">åŠ¨æ€ SQL å…ƒç´ å’Œ JSTL æˆ–åŸºäºç±»ä¼¼ XML çš„æ–‡æœ¬å¤„ç†å™¨ç›¸ä¼¼ã€‚åœ¨ MyBatis ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæœ‰å¾ˆå¤šå…ƒç´ éœ€è¦èŠ±æ—¶é—´äº†è§£ã€‚MyBatis3 å¤§å¤§ç²¾ç®€äº†å…ƒç´ ç§ç±»ï¼Œç°åœ¨åªéœ€å­¦ä¹ åŸæ¥ä¸€åŠçš„å…ƒç´ ä¾¿å¯ã€‚MyBatis é‡‡ç”¨åŠŸèƒ½å¼ºå¤§çš„åŸºäº OGNL çš„è¡¨è¾¾å¼æ¥æ·˜æ±°å…¶å®ƒå¤§éƒ¨åˆ†å…ƒç´ ã€‚<br><br>if<br>choose (when, otherwise)<br>trim (where, set)<br>foreach<br></code></pre></td></tr></table></figure><h3 id="1ã€æ­å»ºç¯å¢ƒ"><a href="#1ã€æ­å»ºç¯å¢ƒ" class="headerlink" title="1ã€æ­å»ºç¯å¢ƒ"></a>1ã€æ­å»ºç¯å¢ƒ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> `blog` (<br>  `id` <span class="hljs-type">varchar</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢id&#x27;</span>,<br>  `title` <span class="hljs-type">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢æ ‡é¢˜&#x27;</span>,<br>  `author` <span class="hljs-type">varchar</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åšå®¢ä½œè€…&#x27;</span>,<br>  `create_time` datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,<br>  `views` <span class="hljs-type">int</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">&#x27;æµè§ˆé‡&#x27;</span><br>) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8<br><br></code></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªåŸºç¡€å·¥ç¨‹</p><ol><li><p><strong>å¯¼åŒ…</strong></p></li><li><p><strong>ç¼–å†™é…ç½®æ–‡ä»¶</strong></p></li><li><p><strong>ç¼–å†™å®ä½“ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-keyword">private</span> String author;<br>    <span class="hljs-keyword">private</span> Date createTime;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> views;<br>    <br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>ç¼–å†™å®ä½“ç±»å¯¹åº”Mapperæ¥å£ å’Œ Mapper.XMLæ–‡ä»¶</strong></p></li></ol><br><h3 id="2ã€IF"><a href="#2ã€IF" class="headerlink" title="2ã€IF"></a>2ã€IF</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIF&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog where 1=1<br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        and title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h3 id="3ã€choose-when-otherwise"><a href="#3ã€choose-when-otherwise" class="headerlink" title="3ã€choose (when, otherwise)"></a>3ã€choose (when, otherwise)</h3><p>choose ç±»ä¼¼ switchï¼Œè¡¨ç¤ºé€‰æ‹©å…¶ä¸­ä¸€ä¸ª</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogChoose&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">choose</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>                title = #&#123;title&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">when</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>                and author = #&#123;author&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">when</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">otherwise</span>&gt;</span><br>                and views = #&#123;views&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">otherwise</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">choose</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h3 id="4ã€trim-where-set"><a href="#4ã€trim-where-set" class="headerlink" title="4ã€trim (where,set)"></a>4ã€trim (where,set)</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml">select * from mybatis.blog<br><span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateBlog&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>    update mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>            title = #&#123;title&#125;,<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>            author = #&#123;author&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>    where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p><strong>æ‰€è°“çš„åŠ¨æ€SQLï¼Œæœ¬è´¨è¿˜æ˜¯SQLè¯­å¥ ï¼Œ åªæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨SQLå±‚é¢ï¼Œå»æ‰§è¡Œä¸€ä¸ªé€»è¾‘ä»£ç </strong></p><ul><li><p><code>&lt;where&gt;</code> æ ‡ç­¾å¯ä»¥è‡ªåŠ¨è¿›è¡Œ and çš„è®¾ç½®ï¼Œå¹¶åŠ¨æ€å‰ç½® WHEREå…³é”®å­—</p></li><li><p><code>&lt;set&gt;</code> æ ‡ç­¾å¯ä»¥è‡ªåŠ¨è¿›è¡Œé€—å·çš„è®¾ç½®ï¼Œå¹¶åŠ¨æ€å‰ç½® SET å…³é”®å­—</p></li><li><p>å¸¸ç”¨æ ‡ç­¾ï¼š<strong>if</strong>ï¼Œwhere ï¼Œset  ï¼Œchoose ï¼Œwhen</p></li><li><p>trim å¯ä»¥å®šåˆ¶ where å’Œ set</p></li></ul><br><h3 id="5ã€SQLç‰‡æ®µ"><a href="#5ã€SQLç‰‡æ®µ" class="headerlink" title="5ã€SQLç‰‡æ®µ"></a>5ã€SQLç‰‡æ®µ</h3><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå°†ä¸€äº›å…¬å…±çš„éƒ¨åˆ†æŠ½å–å‡ºæ¥ï¼Œæ–¹ä¾¿å¤ç”¨ï¼</p><ol><li><p>ä½¿ç”¨SQLæ ‡ç­¾æŠ½å–å…¬å…±çš„éƒ¨åˆ†</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;title != null&quot;</span>&gt;</span><br>        title = #&#123;title&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">&quot;author != null&quot;</span>&gt;</span><br>        and author = #&#123;author&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹ä½¿ç”¨Includeæ ‡ç­¾å¼•ç”¨å³å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogIF&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">refid</span>=<span class="hljs-string">&quot;if-title-author&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æœ€å¥½åŸºäºå•è¡¨æ¥å®šä¹‰SQLç‰‡æ®µï¼ï¼ˆè¿‡äºå¤æ‚ä¸åˆ©äºå¤ç”¨ï¼‰</li><li>ä¸è¦å­˜åœ¨whereæ ‡ç­¾</li></ul><br><h3 id="6ã€Foreach"><a href="#6ã€Foreach" class="headerlink" title="6ã€Foreach"></a>6ã€Foreach</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">where</span> <span class="hljs-number">1</span><span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <br><br>  <span class="hljs-operator">&lt;</span>foreach item<span class="hljs-operator">=</span>&quot;id&quot; collection<span class="hljs-operator">=</span>&quot;ids&quot;<br>      <span class="hljs-keyword">open</span><span class="hljs-operator">=</span>&quot;(&quot; separator<span class="hljs-operator">=</span>&quot;or&quot; <span class="hljs-keyword">close</span><span class="hljs-operator">=</span>&quot;)&quot;<span class="hljs-operator">&gt;</span><br>        #&#123;id&#125;<br>  <span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span>foreach<span class="hljs-operator">&gt;</span><br><br>(id<span class="hljs-operator">=</span><span class="hljs-number">1</span> <span class="hljs-keyword">or</span> id<span class="hljs-operator">=</span><span class="hljs-number">2</span> <span class="hljs-keyword">or</span> id<span class="hljs-operator">=</span><span class="hljs-number">3</span>)<br><br></code></pre></td></tr></table></figure><p>![1569979229205](14-åŠ¨æ€ SQL.assets/1569979229205.png)</p><p>![1569979339190](14-åŠ¨æ€ SQL.assets/1569979339190.png)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        select * from mybatis.blog where 1=1 and (id=1 or id = 2 or id=3)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        æˆ‘ä»¬ç°åœ¨ä¼ é€’ä¸€ä¸ªä¸‡èƒ½çš„map ï¼Œ è¿™mapä¸­å¯ä»¥å­˜åœ¨ä¸€ä¸ªé›†åˆï¼</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;queryBlogForeach&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;blog&quot;</span>&gt;</span><br>    select * from mybatis.blog<br>    <span class="hljs-tag">&lt;<span class="hljs-name">where</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;ids&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">open</span>=<span class="hljs-string">&quot;and (&quot;</span> <span class="hljs-attr">close</span>=<span class="hljs-string">&quot;)&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;or&quot;</span>&gt;</span><br>            id = #&#123;id&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">where</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p><strong>åŠ¨æ€SQLå°±æ˜¯åœ¨æ‹¼æ¥SQLè¯­å¥ï¼Œæˆ‘ä»¬åªè¦ä¿è¯SQLçš„æ­£ç¡®æ€§ï¼ŒæŒ‰ç…§SQLçš„æ ¼å¼ï¼Œå»æ’åˆ—ç»„åˆå°±å¯ä»¥äº†</strong></p><p>å»ºè®®ï¼š</p><ul><li><strong>å…ˆåœ¨Mysqlä¸­å†™å‡ºå®Œæ•´çš„SQL,å†å¯¹åº”çš„å»ä¿®æ”¹æˆæˆ‘ä»¬çš„åŠ¨æ€SQLå®ç°é€šç”¨å³å¯ï¼</strong></li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>15-ç¼“å­˜</title>
    <link href="/2022/06/22/java/Mybatis/15-%E7%BC%93%E5%AD%98%20/"/>
    <url>/2022/06/22/java/Mybatis/15-%E7%BC%93%E5%AD%98%20/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¼“å­˜-ï¼ˆäº†è§£ï¼‰"><a href="#ç¼“å­˜-ï¼ˆäº†è§£ï¼‰" class="headerlink" title="ç¼“å­˜ ï¼ˆäº†è§£ï¼‰"></a>ç¼“å­˜ ï¼ˆäº†è§£ï¼‰</h2><h3 id="1ã€ç®€ä»‹"><a href="#1ã€ç®€ä»‹" class="headerlink" title="1ã€ç®€ä»‹"></a>1ã€ç®€ä»‹</h3><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ada">æŸ¥è¯¢  ï¼š  è¿æ¥æ•°æ®åº“ ï¼Œè€—èµ„æºï¼<br>ä¸€æ¬¡æŸ¥è¯¢çš„ç»“æœï¼Œç»™ä»–æš‚å­˜åœ¨ä¸€ä¸ªå¯ä»¥ç›´æ¥å–åˆ°çš„åœ°æ–¹ï¼<span class="hljs-comment">--&gt; å†…å­˜ ï¼š ç¼“å­˜</span><br><br>æˆ‘ä»¬å†æ¬¡æŸ¥è¯¢ç›¸åŒæ•°æ®çš„æ—¶å€™ï¼Œç›´æ¥èµ°ç¼“å­˜ï¼Œå°±ä¸ç”¨èµ°æ•°æ®åº“äº†<br></code></pre></td></tr></table></figure><ol><li><p>ä»€ä¹ˆæ˜¯ç¼“å­˜ [ Cache ]ï¼Ÿ</p><ul><li>å­˜åœ¨å†…å­˜ä¸­çš„ä¸´æ—¶æ•°æ®ã€‚</li><li>å°†ç”¨æˆ·ç»å¸¸æŸ¥è¯¢çš„æ•°æ®æ”¾åœ¨ç¼“å­˜ï¼ˆå†…å­˜ï¼‰ä¸­ï¼Œç”¨æˆ·å»æŸ¥è¯¢æ•°æ®å°±ä¸ç”¨ä»ç£ç›˜ä¸Š(å…³ç³»å‹æ•°æ®åº“æ•°æ®æ–‡ä»¶)æŸ¥è¯¢ï¼Œä»ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œè§£å†³äº†é«˜å¹¶å‘ç³»ç»Ÿçš„æ€§èƒ½é—®é¢˜ã€‚</li></ul></li><li><p>ä¸ºä»€ä¹ˆä½¿ç”¨ç¼“å­˜ï¼Ÿ</p><ul><li>å‡å°‘å’Œæ•°æ®åº“çš„äº¤äº’æ¬¡æ•°ï¼Œå‡å°‘ç³»ç»Ÿå¼€é”€ï¼Œæé«˜ç³»ç»Ÿæ•ˆç‡ã€‚</li></ul></li><li><p>ä»€ä¹ˆæ ·çš„æ•°æ®èƒ½ä½¿ç”¨ç¼“å­˜ï¼Ÿ</p><ul><li>ç»å¸¸æŸ¥è¯¢å¹¶ä¸”ä¸ç»å¸¸æ”¹å˜çš„æ•°æ®ã€‚ã€å¯ä»¥ä½¿ç”¨ç¼“å­˜ã€‘</li></ul></li></ol><p>![image-20220329145653832](15-ç¼“å­˜ .assets/image-20220329145653832.png)</p><br><h3 id="2ã€Mybatisç¼“å­˜"><a href="#2ã€Mybatisç¼“å­˜" class="headerlink" title="2ã€Mybatisç¼“å­˜"></a>2ã€Mybatisç¼“å­˜</h3><ul><li><p>MyBatisåŒ…å«ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æŸ¥è¯¢ç¼“å­˜ç‰¹æ€§ï¼Œå®ƒå¯ä»¥éå¸¸æ–¹ä¾¿åœ°å®šåˆ¶å’Œé…ç½®ç¼“å­˜ã€‚ç¼“å­˜å¯ä»¥æå¤§çš„æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p></li><li><p>MyBatisç³»ç»Ÿä¸­é»˜è®¤å®šä¹‰äº†ä¸¤çº§ç¼“å­˜ï¼š<strong>ä¸€çº§ç¼“å­˜</strong>å’Œ<strong>äºŒçº§ç¼“å­˜</strong></p><ul><li><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€çº§ç¼“å­˜å¼€å¯ã€‚ï¼ˆSqlSessionçº§åˆ«çš„ç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºæœ¬åœ°ç¼“å­˜ï¼‰</p></li><li><p>äºŒçº§ç¼“å­˜éœ€è¦æ‰‹åŠ¨å¼€å¯å’Œé…ç½®ï¼Œä»–æ˜¯åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ã€‚</p></li><li><p>ä¸ºäº†æé«˜æ‰©å±•æ€§ï¼ŒMyBatiså®šä¹‰äº†ç¼“å­˜æ¥å£Cacheã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å®ç°Cacheæ¥å£æ¥è‡ªå®šä¹‰äºŒçº§ç¼“å­˜</p></li></ul></li></ul><br><h3 id="3ã€ä¸€çº§ç¼“å­˜"><a href="#3ã€ä¸€çº§ç¼“å­˜" class="headerlink" title="3ã€ä¸€çº§ç¼“å­˜"></a>3ã€ä¸€çº§ç¼“å­˜</h3><ul><li>ä¸€çº§ç¼“å­˜ä¹Ÿå«æœ¬åœ°ç¼“å­˜ï¼š  SqlSession<ul><li>ä¸æ•°æ®åº“åŒä¸€æ¬¡ä¼šè¯æœŸé—´æŸ¥è¯¢åˆ°çš„æ•°æ®ä¼šæ”¾åœ¨æœ¬åœ°ç¼“å­˜ä¸­ã€‚</li><li>ä»¥åå¦‚æœéœ€è¦è·å–ç›¸åŒçš„æ•°æ®ï¼Œç›´æ¥ä»ç¼“å­˜ä¸­æ‹¿ï¼Œæ²¡å¿…é¡»å†å»æŸ¥è¯¢æ•°æ®åº“ï¼›</li></ul></li></ul><p>æµ‹è¯•æ­¥éª¤ï¼š</p><ol><li>å¼€å¯æ—¥å¿—ï¼</li><li>æµ‹è¯•åœ¨ä¸€ä¸ªSesionä¸­æŸ¥è¯¢ä¸¤æ¬¡ç›¸åŒè®°å½•</li><li>æŸ¥çœ‹æ—¥å¿—è¾“å‡º</li></ol><p>![1569983650437](15-ç¼“å­˜ .assets/1569983650437.png)</p><p><strong>ç¼“å­˜å¤±æ•ˆ</strong>çš„æƒ…å†µï¼š</p><ol><li><p>æŸ¥è¯¢ä¸åŒçš„ä¸œè¥¿</p></li><li><p><strong>å¢åˆ æ”¹</strong>æ“ä½œï¼Œå¯èƒ½ä¼šæ”¹å˜åŸæ¥çš„æ•°æ®ï¼Œæ‰€ä»¥å¿…å®šä¼š<strong>åˆ·æ–°ç¼“å­˜</strong>ï¼</p><p>![1569983952321](15-ç¼“å­˜ .assets/1569983952321.png)</p></li><li><p>æŸ¥è¯¢ä¸åŒçš„Mapper.xml</p></li><li><p>æ‰‹åŠ¨æ¸…ç†ç¼“å­˜ï¼</p><p>![1569984008824](15-ç¼“å­˜ .assets/1569984008824.png)</p></li></ol><p>å°ç»“ï¼šä¸€çº§ç¼“å­˜é»˜è®¤æ˜¯å¼€å¯çš„ï¼Œåªåœ¨ä¸€æ¬¡SqlSessionä¸­æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ°è¿æ¥åˆ°å…³é—­è¿æ¥è¿™ä¸ªåŒºé—´æ®µï¼</p><p>ä¸€çº§ç¼“å­˜å°±æ˜¯ä¸€ä¸ªMapã€‚</p><br><h3 id="4ã€äºŒçº§ç¼“å­˜"><a href="#4ã€äºŒçº§ç¼“å­˜" class="headerlink" title="4ã€äºŒçº§ç¼“å­˜"></a>4ã€äºŒçº§ç¼“å­˜</h3><ul><li>äºŒçº§ç¼“å­˜ä¹Ÿå«å…¨å±€ç¼“å­˜ï¼Œä¸€çº§ç¼“å­˜ä½œç”¨åŸŸå¤ªä½äº†ï¼Œæ‰€ä»¥è¯ç”Ÿäº†äºŒçº§ç¼“å­˜</li><li>åŸºäºnamespaceçº§åˆ«çš„ç¼“å­˜ï¼Œä¸€ä¸ªåç§°ç©ºé—´ï¼Œå¯¹åº”ä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼›</li><li>å·¥ä½œæœºåˆ¶<ul><li>ä¸€ä¸ªä¼šè¯æŸ¥è¯¢ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®å°±ä¼šè¢«æ”¾åœ¨å½“å‰ä¼šè¯çš„ä¸€çº§ç¼“å­˜ä¸­ï¼›</li><li>å¦‚æœå½“å‰ä¼šè¯å…³é—­äº†ï¼Œè¿™ä¸ªä¼šè¯å¯¹åº”çš„ä¸€çº§ç¼“å­˜å°±æ²¡äº†ï¼›ä½†æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ˜¯ï¼Œä¼šè¯å…³é—­äº†ï¼Œä¸€çº§ç¼“å­˜ä¸­çš„æ•°æ®è¢«ä¿å­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼›</li><li>æ–°çš„ä¼šè¯æŸ¥è¯¢ä¿¡æ¯ï¼Œå°±å¯ä»¥ä»äºŒçº§ç¼“å­˜ä¸­è·å–å†…å®¹ï¼›</li><li>ä¸åŒçš„mapperæŸ¥å‡ºçš„æ•°æ®ä¼šæ”¾åœ¨è‡ªå·±å¯¹åº”çš„ç¼“å­˜ï¼ˆmapï¼‰ä¸­ï¼›</li></ul></li></ul><p><strong>æ­¥éª¤ï¼š</strong></p><ol><li><p>å¼€å¯å…¨å±€ç¼“å­˜</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ˜¾ç¤ºçš„å¼€å¯å…¨å±€ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cacheEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨è¦ä½¿ç”¨äºŒçº§ç¼“å­˜çš„Mapperä¸­å¼€å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‚æ•°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span>  <span class="hljs-attr">eviction</span>=<span class="hljs-string">&quot;FIFO&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">&quot;60000&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;512&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">readOnly</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><ol><li><p>é—®é¢˜:æˆ‘ä»¬éœ€è¦å°†å®ä½“ç±»åºåˆ—åŒ–ï¼å¦åˆ™å°±ä¼šæŠ¥é”™ï¼</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">Caused by: java<span class="hljs-selector-class">.io</span><span class="hljs-selector-class">.NotSerializableException</span>: com<span class="hljs-selector-class">.wang</span><span class="hljs-selector-class">.pojo</span>.User<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">Solveï¼šåŠ ä¸Šimplements Serializable<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Serializable</span></span>&#123;&#125;<br></code></pre></td></tr></table></figure></li></ol></li></ol><p>å°ç»“ï¼š</p><ul><li>åªè¦å¼€å¯äº†äºŒçº§ç¼“å­˜ï¼Œåœ¨åŒä¸€ä¸ªMapperä¸‹å°±æœ‰æ•ˆ</li><li>æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šå…ˆæ”¾åœ¨ä¸€çº§ç¼“å­˜ä¸­ï¼›</li><li>åªæœ‰å½“ä¼šè¯æäº¤ï¼Œæˆ–è€…å…³é—­çš„æ—¶å€™ï¼Œæ‰ä¼šæäº¤åˆ°äºŒçº§ç¼“å†²ä¸­ï¼</li></ul><p><strong>cache å…ƒç´ çš„å±æ€§ï¼š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">cache</span></span><br><span class="hljs-tag">  <span class="hljs-attr">eviction</span>=<span class="hljs-string">&quot;FIFO&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">flushInterval</span>=<span class="hljs-string">&quot;60000&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">size</span>=<span class="hljs-string">&quot;512&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">readOnly</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>è¡¨ç¤ºåˆ›å»ºäº†ä¸€ä¸ª FIFO ç¼“å­˜ï¼Œæ¯éš” 60 ç§’åˆ·æ–°ï¼Œæœ€å¤šå¯ä»¥å­˜å‚¨ç»“æœå¯¹è±¡æˆ–åˆ—è¡¨çš„ 512 ä¸ªå¼•ç”¨ï¼Œè€Œä¸”è¿”å›çš„å¯¹è±¡è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œå› æ­¤å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹å¯èƒ½ä¼šåœ¨ä¸åŒçº¿ç¨‹ä¸­çš„è°ƒç”¨è€…äº§ç”Ÿå†²çªã€‚</p><p>å¯ç”¨çš„ç¼“å­˜æ¸…é™¤ç­–ç•¥æœ‰ï¼š</p><ul><li><code>LRU</code> â€“ æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼šç§»é™¤æœ€é•¿æ—¶é—´ä¸è¢«ä½¿ç”¨çš„å¯¹è±¡ã€‚</li><li><code>FIFO</code> â€“ å…ˆè¿›å…ˆå‡ºï¼šæŒ‰å¯¹è±¡è¿›å…¥ç¼“å­˜çš„é¡ºåºæ¥ç§»é™¤å®ƒä»¬ã€‚</li><li><code>SOFT</code> â€“ è½¯å¼•ç”¨ï¼šåŸºäºåƒåœ¾å›æ”¶å™¨çŠ¶æ€å’Œè½¯å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚</li><li><code>WEAK</code> â€“ å¼±å¼•ç”¨ï¼šæ›´ç§¯æåœ°åŸºäºåƒåœ¾æ”¶é›†å™¨çŠ¶æ€å’Œå¼±å¼•ç”¨è§„åˆ™ç§»é™¤å¯¹è±¡ã€‚</li></ul><p>é»˜è®¤çš„æ¸…é™¤ç­–ç•¥æ˜¯ LRUã€‚</p><br><h3 id="5ã€ç¼“å­˜åŸç†"><a href="#5ã€ç¼“å­˜åŸç†" class="headerlink" title="5ã€ç¼“å­˜åŸç†"></a>5ã€ç¼“å­˜åŸç†</h3><p><strong>ç¼“å­˜é¡ºåº</strong>ï¼š</p><p>1ã€å…ˆçœ‹äºŒçº§ç¼“å­˜ä¸­æœ‰æ²¡æœ‰</p><p>2ã€å†çœ‹ä¸€çº§ç¼“å­˜ä¸­æœ‰æ²¡æœ‰</p><p>3ã€æŸ¥è¯¢æ•°æ®åº“</p><p>![1569985541106](15-ç¼“å­˜ .assets/1569985541106.png)</p><br><h3 id="6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache"><a href="#6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache" class="headerlink" title="6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache"></a>6ã€è‡ªå®šä¹‰ç¼“å­˜-ehcache</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">Ehcacheæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¼€æºJavaåˆ†å¸ƒå¼ç¼“å­˜ã€‚ä¸»è¦é¢å‘é€šç”¨ç¼“å­˜<br></code></pre></td></tr></table></figure><p>è¦åœ¨ç¨‹åºä¸­ä½¿ç”¨ehcacheï¼Œå…ˆè¦å¯¼åŒ…ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.caches<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-ehcache<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨mapperä¸­æŒ‡å®šä½¿ç”¨æˆ‘ä»¬çš„ehcacheç¼“å­˜å®ç°ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åœ¨å½“å‰Mapper.xmlä¸­ä½¿ç”¨äºŒçº§ç¼“å­˜--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">cache</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ehcache.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ehcache</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">xsi:noNamespaceSchemaLocation</span>=<span class="hljs-string">&quot;http://ehcache.org/ehcache.xsd&quot;</span></span><br><span class="hljs-tag">         <span class="hljs-attr">updateCheck</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">       diskStoreï¼šä¸ºç¼“å­˜è·¯å¾„ï¼Œehcacheåˆ†ä¸ºå†…å­˜å’Œç£ç›˜ä¸¤çº§ï¼Œæ­¤å±æ€§å®šä¹‰ç£ç›˜çš„ç¼“å­˜ä½ç½®ã€‚å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š</span><br><span class="hljs-comment">       user.home â€“ ç”¨æˆ·ä¸»ç›®å½•</span><br><span class="hljs-comment">       user.dir  â€“ ç”¨æˆ·å½“å‰å·¥ä½œç›®å½•</span><br><span class="hljs-comment">       java.io.tmpdir â€“ é»˜è®¤ä¸´æ—¶æ–‡ä»¶è·¯å¾„</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">diskStore</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;./tmpdir/Tmp_EhCache&quot;</span>/&gt;</span><br>    <br>    <span class="hljs-tag">&lt;<span class="hljs-name">defaultCache</span></span><br><span class="hljs-tag">            <span class="hljs-attr">eternal</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">maxElementsInMemory</span>=<span class="hljs-string">&quot;10000&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">overflowToDisk</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">diskPersistent</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">timeToIdleSeconds</span>=<span class="hljs-string">&quot;1800&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">timeToLiveSeconds</span>=<span class="hljs-string">&quot;259200&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">memoryStoreEvictionPolicy</span>=<span class="hljs-string">&quot;LRU&quot;</span>/&gt;</span><br> <br>    <span class="hljs-tag">&lt;<span class="hljs-name">cache</span></span><br><span class="hljs-tag">            <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cloud_user&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">eternal</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">maxElementsInMemory</span>=<span class="hljs-string">&quot;5000&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">overflowToDisk</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">diskPersistent</span>=<span class="hljs-string">&quot;false&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">timeToIdleSeconds</span>=<span class="hljs-string">&quot;1800&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">timeToLiveSeconds</span>=<span class="hljs-string">&quot;1800&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">memoryStoreEvictionPolicy</span>=<span class="hljs-string">&quot;LRU&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">       defaultCacheï¼šé»˜è®¤ç¼“å­˜ç­–ç•¥ï¼Œå½“ehcacheæ‰¾ä¸åˆ°å®šä¹‰çš„ç¼“å­˜æ—¶ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªç¼“å­˜ç­–ç•¥ã€‚åªèƒ½å®šä¹‰ä¸€ä¸ªã€‚</span><br><span class="hljs-comment">     --&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">      name:ç¼“å­˜åç§°ã€‚</span><br><span class="hljs-comment">      maxElementsInMemory:ç¼“å­˜æœ€å¤§æ•°ç›®</span><br><span class="hljs-comment">      maxElementsOnDiskï¼šç¡¬ç›˜æœ€å¤§ç¼“å­˜ä¸ªæ•°ã€‚</span><br><span class="hljs-comment">      eternal:å¯¹è±¡æ˜¯å¦æ°¸ä¹…æœ‰æ•ˆï¼Œä¸€ä½†è®¾ç½®äº†ï¼Œtimeoutå°†ä¸èµ·ä½œç”¨ã€‚</span><br><span class="hljs-comment">      overflowToDisk:æ˜¯å¦ä¿å­˜åˆ°ç£ç›˜ï¼Œå½“ç³»ç»Ÿå½“æœºæ—¶</span><br><span class="hljs-comment">      timeToIdleSeconds:è®¾ç½®å¯¹è±¡åœ¨å¤±æ•ˆå‰çš„å…è®¸é—²ç½®æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚ä»…å½“eternal=falseå¯¹è±¡ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œå¯é€‰å±æ€§ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œä¹Ÿå°±æ˜¯å¯é—²ç½®æ—¶é—´æ— ç©·å¤§ã€‚</span><br><span class="hljs-comment">      timeToLiveSeconds:è®¾ç½®å¯¹è±¡åœ¨å¤±æ•ˆå‰å…è®¸å­˜æ´»æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ã€‚æœ€å¤§æ—¶é—´ä»‹äºåˆ›å»ºæ—¶é—´å’Œå¤±æ•ˆæ—¶é—´ä¹‹é—´ã€‚ä»…å½“eternal=falseå¯¹è±¡ä¸æ˜¯æ°¸ä¹…æœ‰æ•ˆæ—¶ä½¿ç”¨ï¼Œé»˜è®¤æ˜¯0.ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡å­˜æ´»æ—¶é—´æ— ç©·å¤§ã€‚</span><br><span class="hljs-comment">      diskPersistentï¼šæ˜¯å¦ç¼“å­˜è™šæ‹Ÿæœºé‡å¯æœŸæ•°æ® Whether the disk store persists between restarts of the Virtual Machine. The default value is false.</span><br><span class="hljs-comment">      diskSpoolBufferSizeMBï¼šè¿™ä¸ªå‚æ•°è®¾ç½®DiskStoreï¼ˆç£ç›˜ç¼“å­˜ï¼‰çš„ç¼“å­˜åŒºå¤§å°ã€‚é»˜è®¤æ˜¯30MBã€‚æ¯ä¸ªCacheéƒ½åº”è¯¥æœ‰è‡ªå·±çš„ä¸€ä¸ªç¼“å†²åŒºã€‚</span><br><span class="hljs-comment">      diskExpiryThreadIntervalSecondsï¼šç£ç›˜å¤±æ•ˆçº¿ç¨‹è¿è¡Œæ—¶é—´é—´éš”ï¼Œé»˜è®¤æ˜¯120ç§’ã€‚</span><br><span class="hljs-comment">      memoryStoreEvictionPolicyï¼šå½“è¾¾åˆ°maxElementsInMemoryé™åˆ¶æ—¶ï¼ŒEhcacheå°†ä¼šæ ¹æ®æŒ‡å®šçš„ç­–ç•¥å»æ¸…ç†å†…å­˜ã€‚é»˜è®¤ç­–ç•¥æ˜¯LRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰ã€‚ä½ å¯ä»¥è®¾ç½®ä¸ºFIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰æˆ–æ˜¯LFUï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰ã€‚</span><br><span class="hljs-comment">      clearOnFlushï¼šå†…å­˜æ•°é‡æœ€å¤§æ—¶æ˜¯å¦æ¸…é™¤ã€‚</span><br><span class="hljs-comment">      memoryStoreEvictionPolicy:å¯é€‰ç­–ç•¥æœ‰ï¼šLRUï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼Œé»˜è®¤ç­–ç•¥ï¼‰ã€FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ã€LFUï¼ˆæœ€å°‘è®¿é—®æ¬¡æ•°ï¼‰ã€‚</span><br><span class="hljs-comment">      FIFOï¼Œfirst in first outï¼Œè¿™ä¸ªæ˜¯å¤§å®¶æœ€ç†Ÿçš„ï¼Œå…ˆè¿›å…ˆå‡ºã€‚</span><br><span class="hljs-comment">      LFUï¼Œ Less Frequently Usedï¼Œå°±æ˜¯ä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨çš„ç­–ç•¥ï¼Œç›´ç™½ä¸€ç‚¹å°±æ˜¯è®²ä¸€ç›´ä»¥æ¥æœ€å°‘è¢«ä½¿ç”¨çš„ã€‚å¦‚ä¸Šé¢æ‰€è®²ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªhitå±æ€§ï¼Œhitå€¼æœ€å°çš„å°†ä¼šè¢«æ¸…å‡ºç¼“å­˜ã€‚</span><br><span class="hljs-comment">      LRUï¼ŒLeast Recently Usedï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ï¼Œç¼“å­˜çš„å…ƒç´ æœ‰ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œå½“ç¼“å­˜å®¹é‡æ»¡äº†ï¼Œè€Œåˆéœ€è¦è…¾å‡ºåœ°æ–¹æ¥ç¼“å­˜æ–°çš„å…ƒç´ çš„æ—¶å€™ï¼Œé‚£ä¹ˆç°æœ‰ç¼“å­˜å…ƒç´ ä¸­æ—¶é—´æˆ³ç¦»å½“å‰æ—¶é—´æœ€è¿œçš„å…ƒç´ å°†è¢«æ¸…å‡ºç¼“å­˜ã€‚</span><br><span class="hljs-comment">   --&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">ehcache</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>Redisæ•°æ®åº“æ¥åšç¼“å­˜ï¼  K-V</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2-ç¬¬ä¸€ä¸ªMybatisç¨‹åº</title>
    <link href="/2022/06/22/java/Mybatis/2-%E7%AC%AC%E4%B8%80%E4%B8%AAMybatis%E7%A8%8B%E5%BA%8F/"/>
    <url>/2022/06/22/java/Mybatis/2-%E7%AC%AC%E4%B8%80%E4%B8%AAMybatis%E7%A8%8B%E5%BA%8F/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€ä¸ªMybatisç¨‹åº"><a href="#ç¬¬ä¸€ä¸ªMybatisç¨‹åº" class="headerlink" title="ç¬¬ä¸€ä¸ªMybatisç¨‹åº"></a>ç¬¬ä¸€ä¸ªMybatisç¨‹åº</h2><p><strong>æ€è·¯ï¼šæ­å»ºç¯å¢ƒâ€“&gt;å¯¼å…¥Mybatisâ€“&gt;ç¼–å†™ä»£ç â€“&gt;æµ‹è¯•ï¼</strong></p><h3 id="1ã€æ­å»ºç¯å¢ƒ"><a href="#1ã€æ­å»ºç¯å¢ƒ" class="headerlink" title="1ã€æ­å»ºç¯å¢ƒ"></a>1ã€æ­å»ºç¯å¢ƒ</h3><h4 id="1-1ã€æ­å»ºæ•°æ®åº“"><a href="#1-1ã€æ­å»ºæ•°æ®åº“" class="headerlink" title="1.1ã€æ­å»ºæ•°æ®åº“"></a>1.1ã€æ­å»ºæ•°æ®åº“</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> DATABASE mybatis;<br><br>USE mybatis;<br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">user</span>(<br>  id <span class="hljs-type">INT</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>  name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>,<br>  pwd <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">30</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span><br>)ENGINE<span class="hljs-operator">=</span>INNODB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8;<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">user</span>(id,name,pwd) <span class="hljs-keyword">VALUES</span> <br>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;ç‹‚ç¥&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>),<br>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>),<br>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;æå››&#x27;</span>,<span class="hljs-string">&#x27;123890&#x27;</span>)<br></code></pre></td></tr></table></figure><img src="/.io//image-20220322225922027.png" alt="image-20220322225922027" style="zoom: 33%;"><p>åˆ†æ­¥æ‰§è¡Œï¼š</p><img src="/.io//image-20220322230519873.png" alt="image-20220322230519873" style="zoom:50%;"><h4 id="1-2ã€æ–°å»ºé¡¹ç›®"><a href="#1-2ã€æ–°å»ºé¡¹ç›®" class="headerlink" title="1.2ã€æ–°å»ºé¡¹ç›®"></a>1.2ã€æ–°å»ºé¡¹ç›®</h4><p>1.æ–°å»ºä¸€ä¸ªæ™®é€šçš„mavené¡¹ç›®</p><p><strong>æ³¨æ„æŸ¥çœ‹ä¸€ä¸‹ maven çš„è®¾ç½®è·¯å¾„ï¼š</strong></p><img src="/.io//image-20220322231720953.png" alt="image-20220322231720953" style="zoom:50%;"><p>2.åˆ é™¤srcç›®å½•</p><p>3.å¯¼å…¥mavenä¾èµ– â€”â€” pom.xml</p><img src="/.io//image-20220323100140169.png" alt="image-20220323100140169" style="zoom: 50%;"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¼å…¥ä¾èµ–--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--mysqlé©±åŠ¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--mybatis--&gt;</span><br>    <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--junit--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—"><a href="#2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—" class="headerlink" title="2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—"></a>2ã€åˆ›å»ºä¸€ä¸ªæ¨¡å—</h3><p>åœ¨çˆ¶é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ Module</p><p>ç›®çš„ï¼š<strong>ä¸ç”¨é‡å¤è¿›è¡Œå¯¼åŒ…</strong></p><img src="/.io//image-20220322234130821.png" alt="image-20220322234130821" style="zoom: 50%;"><h4 id="2-1ã€ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-mybatis-config-xml"><a href="#2-1ã€ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶-mybatis-config-xml" class="headerlink" title="2.1ã€ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ mybatis-config.xml"></a>2.1ã€ç¼–å†™mybatisçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ mybatis-config.xml</h4><p><a href="https://mybatis.org/mybatis-3/zh/getting-started.html">https://mybatis.org/mybatis-3/zh/getting-started.html</a></p><img src="/.io//image-20220322234713248.png" alt="image-20220322234713248" style="zoom:50%;"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ•°æ®åº“ç›¸å…³å‚æ•°è®¾ç½®ï¼ˆdriverã€urlã€usernameã€passwordï¼‰ï¼š</p><p>æ³¨ï¼šurl é‡Œçš„ <code>&amp;amp;</code> è¡¨ç¤ºè½¬ä¹‰çš„ &amp;</p><img src="/.io//image-20220322235354945.png" alt="image-20220322235354945" style="zoom: 33%;"><img src="/.io//image-20220322235442087.png" alt="image-20220322235442087" style="zoom:50%;"><img src="/.io//image-20220322235503409.png" alt="image-20220322235503409" style="zoom:50%;"><img src="/.io//image-20220322235541343.png" alt="image-20220322235541343" style="zoom: 33%;"><img src="/.io//image-20220322235640814.png" alt="image-20220322235640814" style="zoom:33%;"><h4 id="2-2ã€ç¼–å†™mybatiså·¥å…·ç±»"><a href="#2-2ã€ç¼–å†™mybatiså·¥å…·ç±»" class="headerlink" title="2.2ã€ç¼–å†™mybatiså·¥å…·ç±»"></a>2.2ã€ç¼–å†™mybatiså·¥å…·ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.utils;<br><br><span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><br><span class="hljs-comment">//sqlSessionFactory --&gt; sqlSession</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MybatisUtils</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SqlSessionFactory sqlSessionFactory; <span class="hljs-comment">//æå‡ä½œç”¨åŸŸ</span><br><br>    <span class="hljs-keyword">static</span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//ä½¿ç”¨Mybatisç¬¬ä¸€æ­¥ï¼šè·å–sqlSessionFactoryå¯¹è±¡</span><br>            String resource = <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>            InputStream inputStream = Resources.getResourceAsStream(resource);<br>            sqlSessionFactory = <span class="hljs-keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-comment">//æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹äº†ã€‚</span><br>    <span class="hljs-comment">// SqlSession å®Œå…¨åŒ…å«äº†é¢å‘æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•ã€‚</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title">getSqlSession</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> sqlSessionFactory.openSession();<br>    &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><img src="/.io//image-20220323001432824.png" alt="image-20220323001432824" style="zoom:50%;"><h3 id="3ã€ç¼–å†™ä»£ç "><a href="#3ã€ç¼–å†™ä»£ç " class="headerlink" title="3ã€ç¼–å†™ä»£ç "></a>3ã€ç¼–å†™ä»£ç </h3><p>â€‹        <strong>æ€»è§ˆï¼š</strong></p><img src="/.io//image-20220323004453463.png" alt="image-20220323004453463" style="zoom: 50%;"><h4 id="3-1ã€å®ä½“ç±»"><a href="#3-1ã€å®ä½“ç±»" class="headerlink" title="3.1ã€å®ä½“ç±»"></a>3.1ã€å®ä½“ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-comment">//å®ä½“ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String pwd;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id, String name, String pwd)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.pwd = pwd;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getPwd</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> pwd;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setPwd</span><span class="hljs-params">(String pwd)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.pwd = pwd;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, pwd=&#x27;&quot;</span> + pwd + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="3-2ã€Daoæ¥å£-UserDao"><a href="#3-2ã€Daoæ¥å£-UserDao" class="headerlink" title="3.2ã€Daoæ¥å£ UserDao"></a>3.2ã€Daoæ¥å£ UserDao</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> </span>&#123;<br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-3ã€UserMapper-xml"><a href="#3-3ã€UserMapper-xml" class="headerlink" title="3.3ã€UserMapper.xml"></a>3.3ã€UserMapper.xml</h4><p><strong>æ¥å£å®ç°ç±»ç”±åŸæ¥çš„ UserDaoImpl è½¬å˜ä¸ºä¸€ä¸ª Mapper é…ç½®æ–‡ä»¶</strong></p><p>éœ€è¦å…³æ³¨è¿”å›çš„ç»“æœï¼š</p><img src="/.io//image-20220323004027193.png" alt="image-20220323004027193" style="zoom:33%;"><ul><li>å‘½åç©ºé—´ï¼ˆç»‘å®šçš„æ¥å£ï¼‰ä¸º com.wang.dao.UserDao</li><li>æ–¹æ³•åä¸º getUserList</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--namespace=ç»‘å®šä¸€ä¸ªå¯¹åº”çš„Dao/Mapperæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wang.dao.UserDao&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--selectæŸ¥è¯¢è¯­å¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        select * from mybatis.user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="4ã€æµ‹è¯•"><a href="#4ã€æµ‹è¯•" class="headerlink" title="4ã€æµ‹è¯•"></a>4ã€æµ‹è¯•</h3><ul><li><p>junitæµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> com.wang.utils.MybatisUtils;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoTest</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ç¬¬ä¸€æ­¥ï¼šè·å¾—SqlSessionå¯¹è±¡</span><br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserDao userDao = sqlSession.getMapper(UserDao.class);<br>        List&lt;User&gt; userList = userDao.getUserList();<br><br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(user);<br>        &#125;<br>        <br>        <span class="hljs-comment">//å…³é—­SqlSession</span><br>        sqlSession.close();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure></li></ul><h5 id="ç»å¸¸æŠ¥é”™çš„é—®é¢˜"><a href="#ç»å¸¸æŠ¥é”™çš„é—®é¢˜" class="headerlink" title="ç»å¸¸æŠ¥é”™çš„é—®é¢˜"></a>ç»å¸¸æŠ¥é”™çš„é—®é¢˜</h5><p>1ã€ç»‘å®šå¼‚å¸¸</p><p>org.apache.ibatis.binding.BindingException: Type interface com.wang.dao.UserDao is not known to the MapperRegistry.</p><p>Solve:</p><p><strong>MapperRegistryæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œ mappers</p><img src="/.io//image-20220323005629399.png" alt="image-20220323005629399" style="zoom:50%;"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/wang/dao/UserMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2ã€mavenç”±äºçº¦å®šå¤§äºé…ç½®ï¼Œå¯èƒ½é‡åˆ°å†™çš„xmlé…ç½®æ–‡ä»¶æ— æ³•å¯¼å‡ºæˆ–è€…ç”Ÿæ•ˆçš„é—®é¢˜(Could not find resource)ï¼Œ</p><p>å»ºè®®åˆå§‹åŒ–çš„æ—¶å€™å°±æŠŠä¸‹é¢çš„ä»£ç æ”¾è¿›pom.xmlé…ç½®ä¸­ã€‚</p><p><strong>æ³¨ï¼šæ”¾åœ¨æœ€å¤–å±‚çš„ä¸»pom.xmlé…ç½®ä¸­</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.tld<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.tld<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>3ã€ç¼–ç é—®é¢˜</p><p>å¯èƒ½éœ€è¦åˆ å»å„é…ç½®æ–‡ä»¶ï¼ˆ.xmlï¼‰é‡Œçš„ä¸­æ–‡æ³¨é‡Š</p><p>4ã€æ³¨æ„ maven ä¾èµ–åŒ…é‡Œçš„ MySQL çš„ç‰ˆæœ¬</p><p>ä½ ä»¬å¯ä»¥èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼š</p><ol><li>é…ç½®æ–‡ä»¶æ²¡æœ‰æ³¨å†Œ</li><li>ç»‘å®šæ¥å£é”™è¯¯ã€‚</li><li>æ–¹æ³•åä¸å¯¹</li><li>è¿”å›ç±»å‹ä¸å¯¹</li><li>Mavenå¯¼å‡ºèµ„æºé—®é¢˜</li></ol>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>3-CRUD</title>
    <link href="/2022/06/22/java/Mybatis/3-CRUD/"/>
    <url>/2022/06/22/java/Mybatis/3-CRUD/</url>
    
    <content type="html"><![CDATA[<h2 id="CRUD"><a href="#CRUD" class="headerlink" title="CRUD"></a>CRUD</h2><p>å¢åŠ (Create)ã€æ£€ç´¢(Retrieve)ã€æ›´æ–°(Update)ã€åˆ é™¤(Delete)</p><h3 id="1ã€namespace"><a href="#1ã€namespace" class="headerlink" title="1ã€namespace"></a>1ã€namespace</h3><p>namespaceä¸­çš„åŒ…åè¦å’Œ Dao/mapper æ¥å£çš„åŒ…åä¸€è‡´ï¼</p><br><h3 id="2ã€select"><a href="#2ã€select" class="headerlink" title="2ã€select"></a>2ã€select</h3><p>é€‰æ‹©ï¼ŒæŸ¥è¯¢è¯­å¥</p><ul><li>id : å°±æ˜¯å¯¹åº”çš„ namespace ä¸­çš„æ–¹æ³•å</li><li>resultTypeï¼šSql è¯­å¥æ‰§è¡Œçš„è¿”å›å€¼</li><li>parameterType ï¼š å‚æ•°ç±»å‹ï¼ˆæ¥å£å‡½æ•°çš„å½¢å‚ç±»å‹ï¼‰</li></ul><ol><li><p>ç¼–å†™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·</span><br><span class="hljs-function">User <span class="hljs-title">getUserById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™å¯¹åº”çš„mapperä¸­çš„sqlè¯­å¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;select id=<span class="hljs-string">&quot;getUserById&quot;</span> parameterType=<span class="hljs-string">&quot;int&quot;</span> resultType=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;<br>        select * from mybatis.user where id = #&#123;id&#125;<br>&lt;/select&gt;<br><br>æ³¨ï¼š#&#123; &#125; è¡¨ç¤ºå˜é‡<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><img src="/.io//image-20220323223204501.png" alt="image-20220323223204501" style="zoom:50%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserById</span><span class="hljs-params">()</span> </span>&#123;<br>    SqlSession sqlSession = MybatisUtils.getSqlSession();<br>   <br>    UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br>   <br>    User user = mapper.getUserById(<span class="hljs-number">1</span>);<br>    System.out.println(user);<br>   <br>    sqlSession.close();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><br><h3 id="3ã€Insert"><a href="#3ã€Insert" class="headerlink" title="3ã€Insert"></a>3ã€Insert</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥å–å‡ºæ¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    insert into mybatis.user (id, name, pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h3 id="4ã€update"><a href="#4ã€update" class="headerlink" title="4ã€update"></a>4ã€update</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    update mybatis.user set name=#&#123;name&#125;,pwd=#&#123;pwd&#125;  where id = #&#123;id&#125; ;<br><span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h3 id="5ã€Delete"><a href="#5ã€Delete" class="headerlink" title="5ã€Delete"></a>5ã€Delete</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>    delete from mybatis.user where id = #&#123;id&#125;;<br><span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h3 id="6ã€æ³¨æ„ç‚¹ï¼šæäº¤äº‹åŠ¡"><a href="#6ã€æ³¨æ„ç‚¹ï¼šæäº¤äº‹åŠ¡" class="headerlink" title="6ã€æ³¨æ„ç‚¹ï¼šæäº¤äº‹åŠ¡"></a>6ã€æ³¨æ„ç‚¹ï¼šæäº¤äº‹åŠ¡</h3><ul><li><strong>å¢åˆ æ”¹</strong>éœ€è¦æäº¤äº‹åŠ¡ï¼</li><li>æµ‹è¯•ä»£ç ä¸­åŠ å…¥  <code>sqlSession.commit();</code></li></ul><br><h3 id="7ã€å®Œæ•´-Code"><a href="#7ã€å®Œæ•´-Code" class="headerlink" title="7ã€å®Œæ•´ Code"></a>7ã€å®Œæ•´ Code</h3><p>1ã€æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> </span>&#123;<br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span></span>;   <span class="hljs-comment">//æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·</span><br>    <span class="hljs-function">User <span class="hljs-title">getUserById</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;   <span class="hljs-comment">//æ ¹æ®IDæŸ¥è¯¢ç”¨æˆ·</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addUser</span><span class="hljs-params">(User user)</span></span>;     <span class="hljs-comment">//æ’å…¥</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateUser</span><span class="hljs-params">(User user)</span></span>;  <span class="hljs-comment">//ä¿®æ”¹</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteUser</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span></span>;     <span class="hljs-comment">//æ ¹æ®IDåˆ é™¤ç”¨æˆ·</span><br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€å¯¹åº”çš„ mapper ä¸­çš„ sql è¯­å¥ï¼ˆUserMapper.xmlï¼‰ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wang.dao.UserDao&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        select * from mybatis.user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        select * from mybatis.user where id = #&#123;id&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥å–å‡ºæ¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        insert into mybatis.user (id, name, pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;);<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">update</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;updateUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        update mybatis.user set name=#&#123;name&#125;,pwd=#&#123;pwd&#125;  where id = #&#123;id&#125; ;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">update</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">delete</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;deleteUser&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;int&quot;</span>&gt;</span><br>        delete from mybatis.user where id = #&#123;id&#125;;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">delete</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3ã€æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.dao;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> com.wang.utils.MybatisUtils;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserDaoTest</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ç¬¬ä¸€æ­¥ï¼šè·å¾—SqlSessionå¯¹è±¡</span><br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserDao userDao = sqlSession.getMapper(UserDao.class);<br>        List&lt;User&gt; userList = userDao.getUserList();<br><br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(user);<br>        &#125;<br><br>        <span class="hljs-comment">//å…³é—­SqlSession</span><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserById</span><span class="hljs-params">()</span> </span>&#123;<br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserDao mapper = sqlSession.getMapper(UserDao.class);<br><br>        User user = mapper.getUserById(<span class="hljs-number">1</span>);<br>        System.out.println(user);<br><br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addUser</span><span class="hljs-params">()</span> </span>&#123;<br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserDao mapper = sqlSession.getMapper(UserDao.class);<br><br>        <span class="hljs-keyword">int</span> re = mapper.addUser(<span class="hljs-keyword">new</span> User(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;jack&quot;</span>, <span class="hljs-string">&quot;666&quot;</span>));<br>        <span class="hljs-keyword">if</span>(re&gt;<span class="hljs-number">0</span>)<br>            System.out.println(<span class="hljs-string">&quot;insert success!&quot;</span>);<br>        sqlSession.commit();<br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateUser</span><span class="hljs-params">()</span> </span>&#123;<br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserDao mapper = sqlSession.getMapper(UserDao.class);<br><br>        <span class="hljs-keyword">int</span> re = mapper.updateUser(<span class="hljs-keyword">new</span> User(<span class="hljs-number">4</span>, <span class="hljs-string">&quot;wkr&quot;</span>, <span class="hljs-string">&quot;077&quot;</span>));<br>        <span class="hljs-keyword">if</span>(re&gt;<span class="hljs-number">0</span>)<br>            System.out.println(<span class="hljs-string">&quot;update success!&quot;</span>);<br>        sqlSession.commit();<br>        sqlSession.close();<br>    &#125;<br><br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deleteUser</span><span class="hljs-params">()</span> </span>&#123;<br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserDao mapper = sqlSession.getMapper(UserDao.class);<br><br>        <span class="hljs-keyword">int</span> re = mapper.deleteUser(<span class="hljs-number">3</span>);<br>        <span class="hljs-keyword">if</span>(re&gt;<span class="hljs-number">0</span>)<br>            System.out.println(<span class="hljs-string">&quot;delete success!&quot;</span>);<br>        sqlSession.commit();<br>        sqlSession.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>4-é”™è¯¯æ’æŸ¥</title>
    <link href="/2022/06/22/java/Mybatis/4-%E9%94%99%E8%AF%AF%E6%8E%92%E6%9F%A5/"/>
    <url>/2022/06/22/java/Mybatis/4-%E9%94%99%E8%AF%AF%E6%8E%92%E6%9F%A5/</url>
    
    <content type="html"><![CDATA[<h3 id="åˆ†æé”™è¯¯"><a href="#åˆ†æé”™è¯¯" class="headerlink" title="åˆ†æé”™è¯¯"></a>åˆ†æé”™è¯¯</h3><ul><li>æ ‡ç­¾ä¸è¦åŒ¹é…é”™</li><li>resource ç»‘å®šmapperï¼Œéœ€è¦ä½¿ç”¨è·¯å¾„ï¼</li><li>ç¨‹åºé…ç½®æ–‡ä»¶å¿…é¡»ç¬¦åˆè§„èŒƒï¼</li><li>NullPointerExceptionï¼Œæ²¡æœ‰æ³¨å†Œåˆ°èµ„æº!</li><li>è¾“å‡ºçš„xmlæ–‡ä»¶ä¸­å­˜åœ¨ä¸­æ–‡ä¹±ç é—®é¢˜ï¼ï¼ˆæ³¨æ„æ‰“åŒ…åçš„targetçš„ä¹±ç ï¼‰</li><li>mavenèµ„æºæ²¡æœ‰å¯¼å‡ºé—®é¢˜ï¼</li></ul><p>è¯»é”™ä»åå‘å‰è¯»</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>5-Mapå’Œæ¨¡ç³ŠæŸ¥è¯¢</title>
    <link href="/2022/06/22/java/Mybatis/5-Map%E5%92%8C%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2/"/>
    <url>/2022/06/22/java/Mybatis/5-Map%E5%92%8C%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2/</url>
    
    <content type="html"><![CDATA[<h3 id="1ã€ä¸‡èƒ½çš„-Map"><a href="#1ã€ä¸‡èƒ½çš„-Map" class="headerlink" title="1ã€ä¸‡èƒ½çš„ Map"></a>1ã€ä¸‡èƒ½çš„ Map</h3><p><u>å‡è®¾æˆ‘ä»¬çš„å®ä½“ç±»ï¼Œæˆ–è€…æ•°æ®åº“ä¸­çš„è¡¨ï¼Œå­—æ®µæˆ–è€…å‚æ•°è¿‡å¤šï¼Œæˆ‘ä»¬åº”å½“è€ƒè™‘ä½¿ç”¨ <strong>Map</strong></u></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¸‡èƒ½çš„Map</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addUser2</span><span class="hljs-params">(Map&lt;String,Object&gt; map)</span></span>;<br><br><span class="hljs-function">User <span class="hljs-title">getUserById2</span><span class="hljs-params">(Map&lt;String,Object&gt; map)</span></span>;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯¹è±¡ä¸­çš„å±æ€§ï¼Œå¯ä»¥ç›´æ¥å–å‡ºæ¥    ä¼ é€’mapçš„key--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;addUser2&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span>&gt;</span><br>    insert into mybatis.user (id, pwd) values (#&#123;userid&#125;,#&#123;passWord&#125;);<br><span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById2&quot;</span> <span class="hljs-attr">parameterType</span>=<span class="hljs-string">&quot;map&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        select * from mybatis.user where id = #&#123;id&#125; and name = #&#123;name&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">addUser2</span><span class="hljs-params">()</span></span>&#123;<br>SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br><br><br>Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();<br><br>    map.put(<span class="hljs-string">&quot;userid&quot;</span>,<span class="hljs-number">5</span>);<br>    map.put(<span class="hljs-string">&quot;passWord&quot;</span>,<span class="hljs-string">&quot;2222333&quot;</span>);<br><br>    mapper.addUser2(map);<br><br>    sqlSession.commit();<br>    sqlSession.close();<br>&#125;<br><br><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getUserById2</span><span class="hljs-params">()</span> </span>&#123;<br>    SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>    UserDao mapper = sqlSession.getMapper(UserDao.class);<br><br>    Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, Object&gt;();<br>    map.put(<span class="hljs-string">&quot;id&quot;</span>,<span class="hljs-number">1</span>);<br>    map.put(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span>);<br><br>    User user = mapper.getUserById2(map);<br>    System.out.println(user);<br><br>    sqlSession.close();<br>&#125;<br><br></code></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><ul><li><p>Mapä¼ é€’å‚æ•°ï¼Œç›´æ¥åœ¨sqlä¸­å–å‡ºkeyå³å¯ï¼    ã€parameterType=â€mapâ€ã€‘</p></li><li><p>å¯¹è±¡ä¼ é€’å‚æ•°ï¼Œç›´æ¥åœ¨sqlä¸­å–å¯¹è±¡çš„å±æ€§å³å¯ï¼ã€parameterType=â€Objectâ€ã€‘</p></li><li><p>åªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹å‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥åœ¨sqlä¸­å–åˆ°ï¼</p></li><li><p>å¤šä¸ªå‚æ•°ç”¨Mapï¼Œ<strong>æˆ–è€…æ³¨è§£ï¼</strong></p></li></ul><br><h3 id="2ã€æ¨¡ç³ŠæŸ¥è¯¢"><a href="#2ã€æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="2ã€æ¨¡ç³ŠæŸ¥è¯¢"></a>2ã€æ¨¡ç³ŠæŸ¥è¯¢</h3><p>ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><p>Javaä»£ç æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼ é€’é€šé…ç¬¦ % %</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">List&lt;User&gt; userList = mapper.getUserLike(<span class="hljs-string">&quot;%æ%&quot;</span>);<br></code></pre></td></tr></table></figure></li><li><p>åœ¨sqlæ‹¼æ¥ä¸­ä½¿ç”¨é€šé…ç¬¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">select * from mybatis.user where name like <span class="hljs-string">&quot;%&quot;</span>#&#123;value&#125;<span class="hljs-string">&quot;%&quot;</span><br></code></pre></td></tr></table></figure></li></ol><p>æ³¨ï¼šç¬¬äºŒç§æ–¹å¼å¯ä»¥é˜²æ­¢ sql æ³¨å…¥ã€‚</p><p>æ³¨ï¼š</p><p>SQLæ³¨å…¥æ”»å‡»å®ä¾‹</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">String sql = &quot;<span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> user_table <span class="hljs-keyword">where</span> username=<br><span class="hljs-string">&#x27; &quot;+userName+&quot; &#x27;</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">password</span>=<span class="hljs-string">&#x27; &quot;+password+&quot; &#x27;</span><span class="hljs-string">&quot;;</span><br><span class="hljs-string"></span><br><span class="hljs-string">--å½“è¾“å…¥äº†ä¸Šé¢çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œä¸Šé¢çš„SQLè¯­å¥å˜æˆï¼š</span><br><span class="hljs-string">SELECT * FROM user_table WHERE username=</span><br><span class="hljs-string">&#x27;â€™or 1 = 1 -- and password=&#x27;â€™</span><br><span class="hljs-string"></span><br><span class="hljs-string">&quot;</span><span class="hljs-string">&quot;&quot;</span><br>--åˆ†æSQLè¯­å¥ï¼š<br>--æ¡ä»¶åé¢username=â€<span class="hljs-keyword">or</span> <span class="hljs-number">1</span>=<span class="hljs-number">1</span> ç”¨æˆ·åç­‰äº â€ æˆ–<span class="hljs-number">1</span>=<span class="hljs-number">1</span> é‚£ä¹ˆè¿™ä¸ªæ¡ä»¶ä¸€å®šä¼šæˆåŠŸï¼›<br><br>--ç„¶ååé¢åŠ ä¸¤ä¸ª-ï¼Œè¿™æ„å‘³ç€æ³¨é‡Šï¼Œå®ƒå°†åé¢çš„è¯­å¥æ³¨é‡Šï¼Œè®©ä»–ä»¬ä¸èµ·ä½œç”¨ï¼Œè¿™æ ·è¯­å¥æ°¸è¿œéƒ½--èƒ½æ­£ç¡®æ‰§è¡Œï¼Œç”¨æˆ·è½»æ˜“éª—è¿‡ç³»ç»Ÿï¼Œè·å–åˆæ³•èº«ä»½ã€‚<br><br>--è¿™è¿˜æ˜¯æ¯”è¾ƒæ¸©æŸ”çš„ï¼Œå¦‚æœæ˜¯æ‰§è¡Œ<br><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> user_table <span class="hljs-keyword">WHERE</span><br>username=<span class="hljs-string">&#x27;&#x27;</span> ;<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">DATABASE</span> (DB Name) --<span class="hljs-string">&#x27; and password=&#x27;</span><span class="hljs-string">&#x27;</span><br><span class="hljs-string">--å…¶åæœå¯æƒ³è€ŒçŸ¥â€¦</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>6-é…ç½®è§£æ</title>
    <link href="/2022/06/22/java/Mybatis/6-%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90/"/>
    <url>/2022/06/22/java/Mybatis/6-%E9%85%8D%E7%BD%AE%E8%A7%A3%E6%9E%90/</url>
    
    <content type="html"><![CDATA[<h2 id="é…ç½®è§£æ"><a href="#é…ç½®è§£æ" class="headerlink" title="é…ç½®è§£æ"></a>é…ç½®è§£æ</h2><h3 id="1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>1ã€æ ¸å¿ƒé…ç½®æ–‡ä»¶</h3><ul><li><p>mybatis-config.xml</p></li><li><p>MyBatis çš„é…ç½®æ–‡ä»¶åŒ…å«äº†ä¼šæ·±æ·±å½±å“ MyBatis è¡Œä¸ºçš„è®¾ç½®å’Œå±æ€§ä¿¡æ¯ã€‚ </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml">configurationï¼ˆé…ç½®ï¼‰<br>propertiesï¼ˆå±æ€§ï¼‰<br>settingsï¼ˆè®¾ç½®ï¼‰<br>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰<br>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰<br>objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰<br>pluginsï¼ˆæ’ä»¶ï¼‰<br>environmentsï¼ˆç¯å¢ƒé…ç½®ï¼‰<br>environmentï¼ˆç¯å¢ƒå˜é‡ï¼‰<br>transactionManagerï¼ˆäº‹åŠ¡ç®¡ç†å™¨ï¼‰<br>dataSourceï¼ˆæ•°æ®æºï¼‰<br>databaseIdProviderï¼ˆæ•°æ®åº“å‚å•†æ ‡è¯†ï¼‰<br>mappersï¼ˆæ˜ å°„å™¨ï¼‰<br></code></pre></td></tr></table></figure></li></ul><br><h3 id="2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"><a href="#2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰" class="headerlink" title="2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰"></a>2ã€ç¯å¢ƒé…ç½®ï¼ˆenvironmentsï¼‰</h3><p>MyBatis å¯ä»¥é…ç½®æˆé€‚åº”å¤šç§ç¯å¢ƒ</p><p><strong>ä¸è¿‡è¦è®°ä½ï¼šå°½ç®¡å¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒï¼Œä½†æ¯ä¸ª SqlSessionFactory å®ä¾‹<u>åªèƒ½é€‰æ‹©ä¸€ç§ç¯å¢ƒ</u>ã€‚</strong></p><p><strong>é€šè¿‡ default é€‰æ‹©å½“å‰ä½¿ç”¨çš„ç¯å¢ƒï¼š</strong></p><p><img src="/.io//image-20220324145628274.png" alt="image-20220324145628274"></p><p>å­¦ä¼šä½¿ç”¨é…ç½®å¤šå¥—è¿è¡Œç¯å¢ƒï¼</p><p>Mybatisé»˜è®¤çš„<strong>äº‹åŠ¡ç®¡ç†å™¨å°±æ˜¯ JDBC</strong>  ï¼Œ <strong>è¿æ¥æ±  ï¼š POOLED</strong></p><p>æ³¨ï¼šè¿æ¥æ± æ˜¯å°†å·²ç»åˆ›å»ºå¥½çš„è¿æ¥ä¿å­˜åœ¨æ± ä¸­ï¼Œå½“æœ‰è¯·æ±‚æ¥æ—¶ï¼Œç›´æ¥ä½¿ç”¨å·²ç»åˆ›å»ºå¥½çš„è¿æ¥å¯¹æ•°æ®åº“è¿›è¡Œè®¿é—®ã€‚è¿™æ ·çœç•¥äº†åˆ›å»ºè¿æ¥å’Œé”€æ¯è¿æ¥çš„è¿‡ç¨‹ã€‚</p><p>å®˜ç½‘ï¼š<a href="https://mybatis.org/mybatis-3/zh/configuration.html#environments">https://mybatis.org/mybatis-3/zh/configuration.html#environments</a></p><br><h3 id="3ã€å±æ€§ï¼ˆpropertiesï¼‰"><a href="#3ã€å±æ€§ï¼ˆpropertiesï¼‰" class="headerlink" title="3ã€å±æ€§ï¼ˆpropertiesï¼‰"></a>3ã€å±æ€§ï¼ˆpropertiesï¼‰</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡propertieså±æ€§æ¥å®ç°å¼•ç”¨é…ç½®æ–‡ä»¶</p><p>è¿™äº›å±æ€§éƒ½æ˜¯å¯å¤–éƒ¨é…ç½®ä¸”å¯åŠ¨æ€æ›¿æ¢çš„ï¼Œæ—¢å¯ä»¥åœ¨å…¸å‹çš„ Java å±æ€§æ–‡ä»¶ä¸­é…ç½®ï¼Œäº¦å¯é€šè¿‡ properties å…ƒç´ çš„å­å…ƒç´ æ¥ä¼ é€’ã€‚ã€db.propertiesã€‘</p><p><img src="/.io//1569656528134.png" alt="1569656528134"></p><p>ç¼–å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶</p><p>db.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">driver</span>=<span class="hljs-string">com.mysql.jdbc.Driver</span><br><span class="hljs-attr">url</span>=<span class="hljs-string">jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8</span><br><span class="hljs-attr">username</span>=<span class="hljs-string">root</span><br><span class="hljs-attr">password</span>=<span class="hljs-string">123456</span><br></code></pre></td></tr></table></figure><img src="/.io//image-20220324190825776.png" alt="image-20220324190825776" style="zoom:33%;"><p>åœ¨æ ¸å¿ƒé…ç½®æ–‡ä»¶mybatis-config.xmlä¸­å¼•å…¥</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¼•å…¥å¤–éƒ¨é…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">properties</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;db.properties&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;11111&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>å¯ä»¥ç›´æ¥å¼•å…¥å¤–éƒ¨æ–‡ä»¶</li><li>å¯ä»¥åœ¨å…¶ä¸­å¢åŠ ä¸€äº›å±æ€§é…ç½®</li><li>å¦‚æœä¸¤ä¸ªæ–‡ä»¶æœ‰åŒä¸€ä¸ªå­—æ®µï¼Œä¼˜å…ˆä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶çš„ï¼</li></ul><p>æ­¤æ—¶ environment é…ç½®ä¸ç”¨å†å†™æ­»ï¼š</p><img src="/.io//image-20220324153551954.png" alt="image-20220324153551954" style="zoom:50%;"><br><h3 id="4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"><a href="#4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰" class="headerlink" title="4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰"></a>4ã€ç±»å‹åˆ«åï¼ˆtypeAliasesï¼‰</h3><ul><li>ç±»å‹åˆ«åæ˜¯ä¸º Java ç±»å‹è®¾ç½®ä¸€ä¸ªçŸ­çš„åå­—</li><li>å­˜åœ¨çš„æ„ä¹‰ä»…åœ¨äºç”¨æ¥å‡å°‘ç±»å®Œå…¨é™å®šåçš„å†—ä½™</li></ul><p>æ–¹å¼ä¸€ ï¼š</p><p>mybatis-config.xmlä¸­ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAlias</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;User&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼š</p><p>ä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªåŒ…åï¼ŒMyBatis ä¼šåœ¨åŒ…åä¸‹é¢æœç´¢éœ€è¦çš„ Java Beanï¼Œæ¯”å¦‚ï¼š</p><p><strong>æ‰«æå®ä½“ç±»çš„åŒ…</strong>ï¼Œå®ƒçš„é»˜è®¤åˆ«åå°±ä¸ºè¿™ä¸ªç±»çš„<u>ç±»å</u>ï¼Œ<u>é¦–å­—æ¯å°å†™</u></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.wang.pojo&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨å®ä½“ç±»æ¯”è¾ƒå°‘çš„æ—¶å€™ï¼Œä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼ã€‚</p><p>å¦‚æœå®ä½“ç±»ååˆ†å¤šï¼Œå»ºè®®ä½¿ç”¨ç¬¬äºŒç§ã€‚</p><p><strong>ç¬¬ä¸€ç§å¯ä»¥DIYè‡ªå®šä¹‰åˆ«åï¼Œç¬¬äºŒç§åˆ™ä¸è¡Œï¼Œå¦‚æœéè¦æ”¹ï¼Œéœ€è¦åœ¨å®ä½“ä¸Šå¢åŠ æ³¨è§£</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//éœ€è¦å…ˆæ‰«æå®ä½“ç±»çš„åŒ…</span><br><span class="hljs-meta">@Alias(&quot;user&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;&#125;<br></code></pre></td></tr></table></figure><br><h3 id="5ã€è®¾ç½®"><a href="#5ã€è®¾ç½®" class="headerlink" title="5ã€è®¾ç½®"></a>5ã€è®¾ç½®</h3><p>è¿™æ˜¯ MyBatis ä¸­æä¸ºé‡è¦çš„è°ƒæ•´è®¾ç½®ï¼Œå®ƒä»¬ä¼šæ”¹å˜ MyBatis çš„è¿è¡Œæ—¶è¡Œä¸ºã€‚ </p><p><img src="/.io//1569657659080.png" alt="1569657659080"></p><p><img src="/.io//1569657672791.png" alt="1569657672791"></p><br><h3 id="6ã€å…¶ä»–é…ç½®"><a href="#6ã€å…¶ä»–é…ç½®" class="headerlink" title="6ã€å…¶ä»–é…ç½®"></a>6ã€å…¶ä»–é…ç½®</h3><ul><li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers">typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰</a></li><li><a href="https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory">objectFactoryï¼ˆå¯¹è±¡å·¥å‚ï¼‰</a></li><li>pluginsæ’ä»¶<ul><li>mybatis-generator-core</li><li>mybatis-plus</li><li>é€šç”¨mapper</li></ul></li></ul><br><h3 id="7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰"><a href="#7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰" class="headerlink" title="7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰"></a>7ã€æ˜ å°„å™¨ï¼ˆmappersï¼‰</h3><p>MapperRegistryï¼šæ³¨å†Œç»‘å®šæˆ‘ä»¬çš„Mapperæ–‡ä»¶ï¼›</p><p>æ–¹å¼ä¸€ï¼š ã€æ¨èä½¿ç”¨ã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/wang/dao/UserMapper.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šä½¿ç”¨classæ–‡ä»¶ç»‘å®šæ³¨å†Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.dao.UserMapper&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š<strong>class å¯ä»¥è®©æ³¨è§£å’Œ xml åŒæ—¶ç”Ÿæ•ˆ</strong></p><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼</li><li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li></ul><p>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ‰«æåŒ…è¿›è¡Œæ³¨å…¥ç»‘å®š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ¯ä¸€ä¸ªMapper.XMLéƒ½éœ€è¦åœ¨Mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ³¨å†Œï¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.wang.dao&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åŒåï¼</li><li>æ¥å£å’Œä»–çš„Mapperé…ç½®æ–‡ä»¶å¿…é¡»åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼</li></ul><br><h3 id="8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"><a href="#8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ" class="headerlink" title="8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ"></a>8ã€ç”Ÿå‘½å‘¨æœŸå’Œä½œç”¨åŸŸ</h3><p><img src="/.io//1569660357745.png" alt="1569660357745"></p><p>ç”Ÿå‘½å‘¨æœŸï¼Œå’Œä½œç”¨åŸŸï¼Œæ˜¯è‡³å…³é‡è¦çš„ï¼Œå› ä¸ºé”™è¯¯çš„ä½¿ç”¨ä¼šå¯¼è‡´éå¸¸ä¸¥é‡çš„<strong>å¹¶å‘é—®é¢˜</strong>ã€‚</p><h4 id="SqlSessionFactoryBuilder"><a href="#SqlSessionFactoryBuilder" class="headerlink" title="SqlSessionFactoryBuilder"></a><strong>SqlSessionFactoryBuilder</strong></h4><ul><li>ä¸€æ—¦åˆ›å»ºäº† SqlSessionFactoryï¼Œå°±ä¸å†éœ€è¦å®ƒäº†</li><li>å±€éƒ¨å˜é‡</li></ul><h4 id="SqlSessionFactory"><a href="#SqlSessionFactory" class="headerlink" title="SqlSessionFactory"></a><strong>SqlSessionFactory</strong></h4><ul><li>è¯´ç™½äº†å°±æ˜¯å¯ä»¥æƒ³è±¡ä¸º ï¼š<strong>æ•°æ®åº“è¿æ¥æ± </strong></li><li>SqlSessionFactory ä¸€æ—¦è¢«åˆ›å»ºå°±åº”è¯¥åœ¨åº”ç”¨çš„è¿è¡ŒæœŸé—´ä¸€ç›´å­˜åœ¨ï¼Œ<strong>æ²¡æœ‰ä»»ä½•ç†ç”±ä¸¢å¼ƒå®ƒæˆ–é‡æ–°åˆ›å»ºå¦ä¸€ä¸ªå®ä¾‹ã€‚</strong> </li><li>å› æ­¤ SqlSessionFactory çš„æœ€ä½³ä½œç”¨åŸŸæ˜¯åº”ç”¨ä½œç”¨åŸŸã€‚ </li><li>æœ€ç®€å•çš„å°±æ˜¯ä½¿ç”¨<strong>å•ä¾‹æ¨¡å¼</strong>æˆ–è€…é™æ€å•ä¾‹æ¨¡å¼ã€‚</li></ul><h4 id="SqlSession"><a href="#SqlSession" class="headerlink" title="SqlSession"></a><strong>SqlSession</strong></h4><ul><li>è¿æ¥åˆ°è¿æ¥æ± çš„ä¸€ä¸ªè¯·æ±‚ï¼</li><li>SqlSession çš„å®ä¾‹ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æ˜¯ä¸èƒ½è¢«å…±äº«çš„ï¼Œæ‰€ä»¥å®ƒçš„æœ€ä½³çš„ä½œç”¨åŸŸæ˜¯è¯·æ±‚æˆ–æ–¹æ³•ä½œç”¨åŸŸã€‚</li><li>ç”¨å®Œä¹‹åéœ€è¦èµ¶ç´§å…³é—­ï¼Œå¦åˆ™èµ„æºè¢«å ç”¨ï¼</li></ul><p><img src="/.io//1569660737088.png" alt="1569660737088"></p><h4 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h4><p>è¿™é‡Œé¢çš„æ¯ä¸€ä¸ªMapperï¼Œå°±ä»£è¡¨ä¸€ä¸ªå…·ä½“çš„<strong>ä¸šåŠ¡</strong>ï¼</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>7-ResultMapç»“æœé›†æ˜ å°„</title>
    <link href="/2022/06/22/java/Mybatis/7-ResultMap%E7%BB%93%E6%9E%9C%E9%9B%86%E6%98%A0%E5%B0%84/"/>
    <url>/2022/06/22/java/Mybatis/7-ResultMap%E7%BB%93%E6%9E%9C%E9%9B%86%E6%98%A0%E5%B0%84/</url>
    
    <content type="html"><![CDATA[<h2 id="è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜"><a href="#è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜" class="headerlink" title="è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜"></a>è§£å†³å±æ€§åå’Œå­—æ®µåä¸ä¸€è‡´çš„é—®é¢˜</h2><h3 id="1ã€é—®é¢˜"><a href="#1ã€é—®é¢˜" class="headerlink" title="1ã€é—®é¢˜"></a>1ã€é—®é¢˜</h3><p>æ•°æ®åº“ä¸­çš„å­—æ®µ</p><p><img src="/.io//1569660831076.png" alt="1569660831076"></p><p>æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ‹·è´ä¹‹å‰çš„ï¼Œæµ‹è¯•å®ä½“ç±»å­—æ®µä¸ä¸€è‡´çš„æƒ…å†µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> String password;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•å‡ºç°é—®é¢˜ â€”â€” passwordä¸º NULL ç©ºï¼ˆä¸ pwd ä¸ä¸€è‡´ï¼‰</p><p><img src="/.io//1569661145806.png" alt="1569661145806"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml">//    select * from mybatis.user where id = #&#123;id&#125;<br>//ç±»å‹å¤„ç†å™¨<br>//    select id,name,pwd from mybatis.user where id = #&#123;id&#125;<br></code></pre></td></tr></table></figure><p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p><p><strong>æ–¹æ³•ä¸€ï¼šèµ·åˆ«å</strong></p><p>é‡‡ç”¨ï¼š<u>pwd as password</u></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.kuang.pojo.User&quot;</span>&gt;</span><br>    select id,name,pwd as password from mybatis.user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2ã€resultMap"><a href="#2ã€resultMap" class="headerlink" title="2ã€resultMap"></a>2ã€resultMap</h3><p>ç»“æœé›†æ˜ å°„</p><p><strong>æ–¹æ³•äºŒï¼š</strong></p><p><strong>æŠŠæ•°æ®åº“ä¸­çš„å­—æ®µæ˜ å°„æˆå®ä½“ç±»ä¸­çš„å±æ€§</strong></p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-built_in">id</span>   <span class="hljs-built_in">name</span>   pwd<br><span class="hljs-built_in">id</span>   <span class="hljs-built_in">name</span>   password<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»“æœé›†æ˜ å°„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">resultMap</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;UserMap&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;User&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--columnæ•°æ®åº“ä¸­çš„å­—æ®µï¼Œpropertyå®ä½“ç±»ä¸­çš„å±æ€§--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;id&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;name&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">result</span> <span class="hljs-attr">column</span>=<span class="hljs-string">&quot;pwd&quot;</span> <span class="hljs-attr">property</span>=<span class="hljs-string">&quot;password&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">resultMap</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">resultMap</span>=<span class="hljs-string">&quot;UserMap&quot;</span>&gt;</span><br>    select * from mybatis.user where id = #&#123;id&#125;<br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><code>resultMap</code> å…ƒç´ æ˜¯ MyBatis ä¸­æœ€é‡è¦æœ€å¼ºå¤§çš„å…ƒç´ </li><li>ResultMap çš„è®¾è®¡æ€æƒ³æ˜¯ï¼Œå¯¹äºç®€å•çš„è¯­å¥æ ¹æœ¬ä¸éœ€è¦é…ç½®æ˜¾å¼çš„ç»“æœæ˜ å°„ï¼Œè€Œå¯¹äºå¤æ‚ä¸€ç‚¹çš„è¯­å¥åªéœ€è¦æè¿°å®ƒä»¬çš„å…³ç³»å°±è¡Œäº†ã€‚</li><li><code>ResultMap</code> æœ€ä¼˜ç§€çš„åœ°æ–¹åœ¨äºï¼Œè™½ç„¶ä½ å·²ç»å¯¹å®ƒç›¸å½“äº†è§£äº†ï¼Œä½†æ˜¯æ ¹æœ¬å°±ä¸éœ€è¦æ˜¾å¼åœ°ç”¨åˆ°ä»–ä»¬ã€‚</li><li>å¦‚æœä¸–ç•Œæ€»æ˜¯è¿™ä¹ˆç®€å•å°±å¥½äº†ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>8-æ—¥å¿—</title>
    <link href="/2022/06/22/java/Mybatis/8-%E6%97%A5%E5%BF%97/"/>
    <url>/2022/06/22/java/Mybatis/8-%E6%97%A5%E5%BF%97/</url>
    
    <content type="html"><![CDATA[<h1 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h1><h3 id="1ã€æ—¥å¿—å·¥å‚"><a href="#1ã€æ—¥å¿—å·¥å‚" class="headerlink" title="1ã€æ—¥å¿—å·¥å‚"></a>1ã€æ—¥å¿—å·¥å‚</h3><p>å¦‚æœä¸€ä¸ªæ•°æ®åº“æ“ä½œï¼Œå‡ºç°äº†å¼‚å¸¸ï¼Œæˆ‘ä»¬éœ€è¦æ’é”™ã€‚<strong>æ—¥å¿—</strong>å°±æ˜¯æœ€å¥½çš„åŠ©æ‰‹ï¼</p><p>æ›¾ç»ï¼šsout ã€debug</p><p>ç°åœ¨ï¼šæ—¥å¿—å·¥å‚ï¼</p><p><img src="/.io//1569892155104.png" alt="1569892155104"></p><ul><li>SLF4J </li><li>LOG4J  ã€æŒæ¡ã€‘</li><li>LOG4J2</li><li>JDK_LOGGING</li><li>COMMONS_LOGGING</li><li>STDOUT_LOGGING   ã€æŒæ¡ã€‘</li><li>NO_LOGGING</li></ul><p>åœ¨Mybatisä¸­å…·ä½“ä½¿ç”¨å“ªä¸€ä¸ªæ—¥å¿—å®ç°ï¼Œåœ¨è®¾ç½®ä¸­è®¾å®šï¼</p><p><strong>STDOUT_LOGGING â€”â€” æ ‡å‡†æ—¥å¿—è¾“å‡º</strong></p><p>åœ¨mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®æˆ‘ä»¬çš„æ—¥å¿—ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="/.io//1569892595060.png" alt="1569892595060"></p><h3 id="2ã€Log4j"><a href="#2ã€Log4j" class="headerlink" title="2ã€Log4j"></a>2ã€Log4j</h3><p>ä»€ä¹ˆæ˜¯Log4jï¼Ÿ</p><ul><li>Log4jæ˜¯<a href="https://baike.baidu.com/item/Apache/8512995">Apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œé€šè¿‡ä½¿ç”¨Log4jï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶æ—¥å¿—ä¿¡æ¯è¾“é€çš„ç›®çš„åœ°æ˜¯<a href="https://baike.baidu.com/item/%E6%8E%A7%E5%88%B6%E5%8F%B0/2438626">æ§åˆ¶å°</a>ã€æ–‡ä»¶ã€<a href="https://baike.baidu.com/item/GUI">GUI</a>ç»„ä»¶</li><li>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ§åˆ¶æ¯ä¸€æ¡æ—¥å¿—çš„è¾“å‡ºæ ¼å¼ï¼›</li><li>é€šè¿‡å®šä¹‰æ¯ä¸€æ¡æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæ›´åŠ ç»†è‡´åœ°æ§åˆ¶æ—¥å¿—çš„ç”Ÿæˆè¿‡ç¨‹ã€‚</li><li>é€šè¿‡ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/286550">é…ç½®æ–‡ä»¶</a>æ¥çµæ´»åœ°è¿›è¡Œé…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹åº”ç”¨çš„ä»£ç ã€‚</li></ul><ol><li><p>å…ˆå¯¼å…¥log4jçš„åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>log4j.properties</p><img src="/.io//image-20220325100414465.png" alt="image-20220325100414465" style="zoom:50%;"><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-comment">#å°†ç­‰çº§ä¸ºDEBUGçš„æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°consoleå’Œfileè¿™ä¸¤ä¸ªç›®çš„åœ°ï¼Œconsoleå’Œfileçš„å®šä¹‰åœ¨ä¸‹é¢çš„ä»£ç </span><br><span class="hljs-meta">log4j.rootLogger</span>=<span class="hljs-string">DEBUG,console,file</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ§åˆ¶å°è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-meta">log4j.appender.console</span> = <span class="hljs-string">org.apache.log4j.ConsoleAppender</span><br><span class="hljs-meta">log4j.appender.console.Target</span> = <span class="hljs-string">System.out</span><br><span class="hljs-meta">log4j.appender.console.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.appender.console.layout</span> = <span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-meta">log4j.appender.console.layout.ConversionPattern</span>=<span class="hljs-string">[%c]-%m%n</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ–‡ä»¶è¾“å‡ºçš„ç›¸å…³è®¾ç½®</span><br><span class="hljs-meta">log4j.appender.file</span> = <span class="hljs-string">org.apache.log4j.RollingFileAppender</span><br><span class="hljs-meta">log4j.appender.file.File</span>=<span class="hljs-string">./log/wang.log</span><br><span class="hljs-meta">log4j.appender.file.MaxFileSize</span>=<span class="hljs-string">10mb</span><br><span class="hljs-meta">log4j.appender.file.Threshold</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.appender.file.layout</span>=<span class="hljs-string">org.apache.log4j.PatternLayout</span><br><span class="hljs-meta">log4j.appender.file.layout.ConversionPattern</span>=<span class="hljs-string">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">#æ—¥å¿—è¾“å‡ºçº§åˆ«</span><br><span class="hljs-meta">log4j.logger.org.mybatis</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql.Statement</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql.ResultSet</span>=<span class="hljs-string">DEBUG</span><br><span class="hljs-meta">log4j.logger.java.sql.PreparedStatement</span>=<span class="hljs-string">DEBUG</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®log4jä¸ºæ—¥å¿—çš„å®ç°</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;logImpl&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;LOG4J &quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Log4jçš„ä½¿ç”¨ï¼ï¼Œç›´æ¥æµ‹è¯•è¿è¡Œåˆšæ‰çš„æŸ¥è¯¢</p><p><img src="/.io//1569893505842.png" alt="1569893505842"></p></li></ol><p><strong>ç®€å•ä½¿ç”¨</strong></p><ol><li><p>åœ¨è¦ä½¿ç”¨Log4j çš„ç±»ä¸­ï¼Œå¯¼å…¥åŒ…  import org.apache.log4j.Logger;</p></li><li><p>æ—¥å¿—å¯¹è±¡ï¼Œå‚æ•°ä¸ºå½“å‰ç±»çš„class</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span> Logger logger = Logger.getLogger(UserDaoTest.class);<br></code></pre></td></tr></table></figure></li><li><p>æ—¥å¿—çº§åˆ«</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">logger.info(<span class="hljs-string">&quot;info:è¿›å…¥äº†testLog4j&quot;</span>);<br>logger.debug(<span class="hljs-string">&quot;debug:è¿›å…¥äº†testLog4j&quot;</span>);<br>logger.error(<span class="hljs-string">&quot;error:è¿›å…¥äº†testLog4j&quot;</span>);<br></code></pre></td></tr></table></figure></li></ol><p>ç¤ºä¾‹ï¼š</p><p><img src="/.io//image-20220325102617813.png" alt="image-20220325102617813"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>1-Mybatisç®€ä»‹</title>
    <link href="/2022/06/22/java/Mybatis/1-Mybatis%E7%AE%80%E4%BB%8B/"/>
    <url>/2022/06/22/java/Mybatis/1-Mybatis%E7%AE%80%E4%BB%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯Mybatis"><a href="#1ã€ä»€ä¹ˆæ˜¯Mybatis" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯Mybatis"></a>1ã€ä»€ä¹ˆæ˜¯Mybatis</h3><p><img src="/.io//1569633932712.png" alt="1569633932712"></p><ul><li>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„<strong>æŒä¹…å±‚æ¡†æ¶</strong></li><li>å®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚</li><li>MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚</li><li>MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿç±»å‹ã€æ¥å£å’Œ Java çš„ POJOï¼ˆPlain Old Java Objectsï¼Œæ™®é€šè€å¼ Java å¯¹è±¡ï¼‰ä¸ºæ•°æ®åº“ä¸­çš„è®°å½•ã€‚</li><li>MyBatis æœ¬æ˜¯<a href="https://baike.baidu.com/item/apache/6265">apache</a>çš„ä¸€ä¸ªå¼€æºé¡¹ç›®<a href="https://baike.baidu.com/item/iBatis">iBatis</a>, 2010å¹´è¿™ä¸ªé¡¹ç›®ç”±apache software foundation è¿ç§»åˆ°äº†google codeï¼Œå¹¶ä¸”æ”¹åä¸ºMyBatis ã€‚</li><li>2013å¹´11æœˆè¿ç§»åˆ°Githubã€‚</li></ul><p>å¦‚ä½•è·å¾—Mybatisï¼Ÿ</p><ul><li><p>mavenä»“åº“ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>Github ï¼š <a href="https://github.com/mybatis/mybatis-3/releases">https://github.com/mybatis/mybatis-3/releases</a></p></li><li><p>ä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html</a></p></li></ul><h3 id="2ã€æŒä¹…åŒ–"><a href="#2ã€æŒä¹…åŒ–" class="headerlink" title="2ã€æŒä¹…åŒ–"></a>2ã€æŒä¹…åŒ–</h3><p>æ•°æ®æŒä¹…åŒ–</p><ul><li>æŒä¹…åŒ–å°±æ˜¯å°†ç¨‹åºçš„æ•°æ®åœ¨æŒä¹…çŠ¶æ€å’Œç¬æ—¶çŠ¶æ€è½¬åŒ–çš„è¿‡ç¨‹</li><li>å†…å­˜ï¼š<strong>æ–­ç”µå³å¤±</strong></li><li>æ•°æ®åº“(Jdbc)ï¼Œioæ–‡ä»¶æŒä¹…åŒ–ã€‚</li><li>ç”Ÿæ´»ï¼šå†·è—çš„ç½å¤´ã€‚</li></ul><p><strong>ä¸ºä»€ä¹ˆéœ€è¦éœ€è¦æŒä¹…åŒ–ï¼Ÿ</strong></p><ul><li><p>æœ‰ä¸€äº›å¯¹è±¡ï¼Œä¸èƒ½è®©ä»–ä¸¢æ‰ã€‚</p></li><li><p>å†…å­˜å¤ªè´µäº†</p></li></ul><h3 id="3ã€æŒä¹…å±‚"><a href="#3ã€æŒä¹…å±‚" class="headerlink" title="3ã€æŒä¹…å±‚"></a>3ã€æŒä¹…å±‚</h3><p>å±‚çš„æ¦‚å¿µï¼šDaoå±‚ï¼ŒServiceå±‚ï¼ŒControllerå±‚â€¦.</p><ul><li>å®ŒæˆæŒä¹…åŒ–å·¥ä½œçš„ä»£ç å—</li><li>å±‚ç•Œé™ååˆ†æ˜æ˜¾ã€‚</li></ul><h3 id="4ã€ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ"><a href="#4ã€ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ" class="headerlink" title="4ã€ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ"></a>4ã€ä¸ºä»€ä¹ˆéœ€è¦Mybatisï¼Ÿ</h3><ul><li>å¸®åŠ©ç¨‹åºçŒ¿å°†æ•°æ®å­˜å…¥åˆ°æ•°æ®åº“ä¸­ã€‚</li><li>æ–¹ä¾¿</li><li>ä¼ ç»Ÿçš„JDBCä»£ç å¤ªå¤æ‚äº†ã€‚ç®€åŒ–ã€‚æ¡†æ¶ã€‚è‡ªåŠ¨åŒ–ã€‚</li><li>ä¸ç”¨Mybatisä¹Ÿå¯ä»¥ã€‚æ›´å®¹æ˜“ä¸Šæ‰‹ã€‚ <strong>æŠ€æœ¯æ²¡æœ‰é«˜ä½ä¹‹åˆ†</strong></li><li>ä¼˜ç‚¹ï¼š<ul><li>ç®€å•æ˜“å­¦</li><li>çµæ´»</li><li><strong>sqlå’Œä»£ç çš„åˆ†ç¦»</strong>ï¼Œæé«˜äº†å¯ç»´æŠ¤æ€§ã€‚</li><li>æä¾›æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡ä¸æ•°æ®åº“çš„ormå­—æ®µå…³ç³»æ˜ å°„</li><li>æä¾›å¯¹è±¡å…³ç³»æ˜ å°„æ ‡ç­¾ï¼Œæ”¯æŒå¯¹è±¡å…³ç³»ç»„å»ºç»´æŠ¤</li><li>æä¾›xmlæ ‡ç­¾ï¼Œæ”¯æŒç¼–å†™åŠ¨æ€sqlã€‚</li></ul></li></ul><p><strong>æœ€é‡è¦çš„ä¸€ç‚¹ï¼šä½¿ç”¨çš„äººå¤šï¼</strong></p><p>Spring   SpringMVC    SpringBoot</p><h3 id="5ã€Hibernate-VS-Mybatisï¼š"><a href="#5ã€Hibernate-VS-Mybatisï¼š" class="headerlink" title="5ã€Hibernate VS Mybatisï¼š"></a>5ã€<strong>Hibernate VS Mybatis</strong>ï¼š</h3><p>Mybatisä¸æ˜¯å®Œæ•´çš„ORMï¼Œæˆ–è€…è¯´åªæ˜¯åŠè‡ªåŠ¨çš„ORMï¼Œä¸‹é¢ç¬”è€…ä¸ºå¤§å®¶ç®€è¦è¯´æ˜ä¸€ä¸‹åŸå› åŠä¸¤è€…ä¹‹é—´çš„å¯¹æ¯”ã€‚</p><p>Hibernateæ˜¯å…¨è‡ªåŠ¨ORMæ¡†æ¶ï¼Œè€ŒMybatisæ˜¯åŠè‡ªåŠ¨çš„ã€‚Hibernateå®Œå…¨å¯ä»¥é€šè¿‡å¯¹è±¡å…³ç³»æ¨¡å‹å®ç°å¯¹æ•°æ®åº“çš„æ“ä½œï¼Œæ‹¥æœ‰å®Œæ•´çš„JavaBeanå¯¹è±¡ä¸æ•°æ®åº“çš„æ˜ å°„ç»“æ„æ¥è‡ªåŠ¨ç”Ÿæˆsqlã€‚è€Œmybatisä»…æœ‰åŸºæœ¬çš„å­—æ®µæ˜ å°„ï¼Œå¯¹è±¡æ•°æ®ä»¥åŠå¯¹è±¡å®é™…å…³ç³»ä»ç„¶éœ€è¦é€šè¿‡æ‰‹å†™sqlæ¥å®ç°å’Œç®¡ç†ã€‚</p><p>Mybatis çš„ sql çµæ´»æ€§æ›´é«˜ï¼Œç”¨çš„æ›´å¤šï¼</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>10-ä½¿ç”¨æ³¨è§£å¼€å‘</title>
    <link href="/2022/06/22/java/Mybatis/10-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/"/>
    <url>/2022/06/22/java/Mybatis/10-%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%8F%91/</url>
    
    <content type="html"><![CDATA[<h2 id="ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="ä½¿ç”¨æ³¨è§£å¼€å‘"></a>ä½¿ç”¨æ³¨è§£å¼€å‘</h2><h3 id="1ã€é¢å‘æ¥å£ç¼–ç¨‹"><a href="#1ã€é¢å‘æ¥å£ç¼–ç¨‹" class="headerlink" title="1ã€é¢å‘æ¥å£ç¼–ç¨‹"></a>1ã€é¢å‘æ¥å£ç¼–ç¨‹</h3><p>- å¤§å®¶ä¹‹å‰éƒ½å­¦è¿‡é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¹Ÿå­¦ä¹ è¿‡æ¥å£ï¼Œä½†åœ¨çœŸæ­£çš„å¼€å‘ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šé€‰æ‹©é¢å‘æ¥å£ç¼–ç¨‹<br>- <strong>æ ¹æœ¬åŸå›  :  ==è§£è€¦== , å¯æ‹“å±• , æé«˜å¤ç”¨ , åˆ†å±‚å¼€å‘ä¸­ , ä¸Šå±‚ä¸ç”¨ç®¡å…·ä½“çš„å®ç° , å¤§å®¶éƒ½éµå®ˆå…±åŒçš„æ ‡å‡† , ä½¿å¾—å¼€å‘å˜å¾—å®¹æ˜“ , è§„èŒƒæ€§æ›´å¥½</strong><br>- åœ¨ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„å„ç§åŠŸèƒ½æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ä¸åŒå¯¹è±¡åä½œå®Œæˆçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå„ä¸ªå¯¹è±¡å†…éƒ¨æ˜¯å¦‚ä½•å®ç°è‡ªå·±çš„,å¯¹ç³»ç»Ÿè®¾è®¡äººå‘˜æ¥è®²å°±ä¸é‚£ä¹ˆé‡è¦äº†ï¼›<br>- è€Œå„ä¸ªå¯¹è±¡ä¹‹é—´çš„åä½œå…³ç³»åˆ™æˆä¸ºç³»ç»Ÿè®¾è®¡çš„å…³é”®ã€‚å°åˆ°ä¸åŒç±»ä¹‹é—´çš„é€šä¿¡ï¼Œå¤§åˆ°å„æ¨¡å—ä¹‹é—´çš„äº¤äº’ï¼Œåœ¨ç³»ç»Ÿè®¾è®¡ä¹‹åˆéƒ½æ˜¯è¦ç€é‡è€ƒè™‘çš„ï¼Œè¿™ä¹Ÿæ˜¯ç³»ç»Ÿè®¾è®¡çš„ä¸»è¦å·¥ä½œå†…å®¹ã€‚é¢å‘æ¥å£ç¼–ç¨‹å°±æ˜¯æŒ‡æŒ‰ç…§è¿™ç§æ€æƒ³æ¥ç¼–ç¨‹ã€‚</p><p><strong>å…³äºæ¥å£çš„ç†è§£</strong></p><p>- æ¥å£ä»æ›´æ·±å±‚æ¬¡çš„ç†è§£ï¼Œ<strong>åº”æ˜¯å®šä¹‰ï¼ˆè§„èŒƒï¼Œçº¦æŸï¼‰ä¸å®ç°ï¼ˆåå®åˆ†ç¦»çš„åŸåˆ™ï¼‰çš„åˆ†ç¦»</strong>ã€‚<br>- æ¥å£çš„æœ¬èº«åæ˜ äº†ç³»ç»Ÿè®¾è®¡äººå‘˜å¯¹ç³»ç»Ÿçš„æŠ½è±¡ç†è§£ã€‚<br>- æ¥å£åº”æœ‰ä¸¤ç±»ï¼š<br>  - ç¬¬ä¸€ç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“çš„æŠ½è±¡ï¼Œå®ƒå¯å¯¹åº”ä¸ºä¸€ä¸ªæŠ½è±¡ä½“(abstract class)ï¼›<br>  - ç¬¬äºŒç±»æ˜¯å¯¹ä¸€ä¸ªä¸ªä½“æŸä¸€æ–¹é¢çš„æŠ½è±¡ï¼Œå³å½¢æˆä¸€ä¸ªæŠ½è±¡é¢ï¼ˆinterfaceï¼‰ï¼›<br>- ä¸€ä¸ªä¸ªä½“æœ‰å¯èƒ½æœ‰å¤šä¸ªæŠ½è±¡é¢ã€‚æŠ½è±¡ä½“ä¸æŠ½è±¡é¢æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><p><strong>ä¸‰ä¸ªé¢å‘åŒºåˆ«</strong></p><p>- é¢å‘å¯¹è±¡æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥å¯¹è±¡ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å±æ€§åŠæ–¹æ³• .<br>- é¢å‘è¿‡ç¨‹æ˜¯æŒ‡ï¼Œæˆ‘ä»¬è€ƒè™‘é—®é¢˜æ—¶ï¼Œä»¥ä¸€ä¸ªå…·ä½“çš„æµç¨‹ï¼ˆäº‹åŠ¡è¿‡ç¨‹ï¼‰ä¸ºå•ä½ï¼Œè€ƒè™‘å®ƒçš„å®ç° .<br>- æ¥å£è®¾è®¡ä¸éæ¥å£è®¾è®¡æ˜¯é’ˆå¯¹å¤ç”¨æŠ€æœ¯è€Œè¨€çš„ï¼Œä¸é¢å‘å¯¹è±¡ï¼ˆè¿‡ç¨‹ï¼‰ä¸æ˜¯ä¸€ä¸ªé—®é¢˜.æ›´å¤šçš„ä½“ç°å°±æ˜¯å¯¹ç³»ç»Ÿæ•´ä½“çš„æ¶æ„</p><br><h3 id="2ã€ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#2ã€ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="2ã€ä½¿ç”¨æ³¨è§£å¼€å‘"></a>2ã€ä½¿ç”¨æ³¨è§£å¼€å‘</h3><ol><li><p>æ³¨è§£åœ¨<strong>æ¥å£</strong>ä¸Šå®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br><span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>;<br></code></pre></td></tr></table></figure></li><li><p>éœ€è¦å†æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ç»‘å®šæ¥å£ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--ç»‘å®šæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.dao.UserMapper&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼ºç‚¹</p><p>æ³¨è§£å¼€å‘ä¸é€‚åˆå¤æ‚çš„è¯­å¥ï¼Œä¸”æ²¡æœ‰ç»“æœé›†æ˜ å°„</p></li></ol><p>æœ¬è´¨ï¼šåå°„æœºåˆ¶å®ç°</p><p>åº•å±‚ï¼šåŠ¨æ€ä»£ç†ï¼</p><p> <img src="/.io//1569898830704.png" alt="1569898830704"></p><p><strong>Mybatisè¯¦ç»†çš„æ‰§è¡Œæµç¨‹ï¼</strong></p><img src="/.io//Temp.png" alt="1569898830704" style="zoom:67%;"><br><h3 id="3ã€CRUD"><a href="#3ã€CRUD" class="headerlink" title="3ã€CRUD"></a>3ã€CRUD</h3><h4 id="è‡ªåŠ¨æäº¤äº‹åŠ¡"><a href="#è‡ªåŠ¨æäº¤äº‹åŠ¡" class="headerlink" title="è‡ªåŠ¨æäº¤äº‹åŠ¡"></a>è‡ªåŠ¨æäº¤äº‹åŠ¡</h4><p>æ³¨ï¼šä¸å»ºè®®ï¼ˆä¸å®‰å…¨ï¼‰</p><p>æˆ‘ä»¬å¯ä»¥åœ¨å·¥å…·ç±» MybatisUtils.java åˆ›å»ºçš„æ—¶å€™å®ç°è‡ªåŠ¨æäº¤äº‹åŠ¡ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession  <span class="hljs-title">getSqlSession</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">return</span> sqlSessionFactory.openSession(<span class="hljs-keyword">true</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¼–å†™æ¥å£ï¼Œå¢åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>&#123;<br><br>    <span class="hljs-meta">@Select(&quot;select * from user&quot;)</span><br>    <span class="hljs-function">List&lt;User&gt; <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-comment">// æ–¹æ³•å­˜åœ¨å¤šä¸ªå‚æ•°ï¼Œæ‰€æœ‰çš„å‚æ•°å‰é¢å¿…é¡»åŠ ä¸Š @Param(&quot;id&quot;)æ³¨è§£</span><br>    <span class="hljs-meta">@Select(&quot;select * from user where id = #&#123;id&#125;&quot;)</span><br>    <span class="hljs-function">User <span class="hljs-title">getUserByID</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;id&quot;)</span> <span class="hljs-keyword">int</span> id)</span></span>;<br><br><br>    <span class="hljs-meta">@Insert(&quot;insert into user(id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;password&#125;)&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">addUser</span><span class="hljs-params">(User user)</span></span>;<br><br>    <br>    <span class="hljs-meta">@Update(&quot;update user set name=#&#123;name&#125;,pwd=#&#123;password&#125; where id = #&#123;id&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">updateUser</span><span class="hljs-params">(User user)</span></span>;<br><br>    <br>    <span class="hljs-meta">@Delete(&quot;delete from user where id = #&#123;uid&#125;&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@Param(&quot;uid&quot;)</span> <span class="hljs-keyword">int</span> id)</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»</p><p>ã€æ³¨æ„ï¼šæˆ‘ä»¬å¿…é¡»è¦å°†æ¥å£æ³¨å†Œç»‘å®šåˆ°æˆ‘ä»¬çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼ã€‘</p><p><strong>å…³äº@Param() æ³¨è§£</strong></p><ul><li>åŸºæœ¬ç±»å‹çš„å‚æ•°æˆ–è€…Stringç±»å‹ï¼Œéœ€è¦åŠ ä¸Š</li><li>å¼•ç”¨ç±»å‹ä¸éœ€è¦åŠ </li><li>å¦‚æœåªæœ‰ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„è¯ï¼Œå¯ä»¥å¿½ç•¥ï¼Œä½†æ˜¯å»ºè®®å¤§å®¶éƒ½åŠ ä¸Šï¼</li><li><strong>æˆ‘ä»¬åœ¨SQLä¸­å¼•ç”¨çš„å°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„ @Param() ä¸­è®¾å®šçš„å±æ€§åï¼</strong></li></ul><p><strong>#{}     ${} åŒºåˆ«</strong></p><p>${} æ— æ³•é˜²æ­¢ SQL çš„æ³¨å…¥ï¼Œä½¿ç”¨ #{}  æ›´å®‰å…¨</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>Mybatis</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Spring</title>
    <link href="/2022/06/22/java/Spring/Spring5%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/06/22/java/Spring/Spring5%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="1-Spring"><a href="#1-Spring" class="headerlink" title="1.Spring"></a>1.Spring</h2><h3 id="1-1ã€ç®€ä»‹"><a href="#1-1ã€ç®€ä»‹" class="headerlink" title="1.1ã€ç®€ä»‹"></a>1.1ã€ç®€ä»‹</h3><ul><li>Springï¼šæ˜¥å¤©â€”&gt; ç»™è½¯ä»¶è¡Œä¸šå¸¦æ¥äº†æ˜¥å¤©</li><li>2002å¹´ï¼ŒRod Jahnsoné¦–æ¬¡æ¨å‡ºäº†Springæ¡†æ¶é›å½¢interface21æ¡†æ¶ã€‚</li><li>2004å¹´3æœˆ24æ—¥ï¼ŒSpringæ¡†æ¶ä»¥interface21æ¡†æ¶ä¸ºåŸºç¡€ï¼Œç»è¿‡é‡æ–°è®¾è®¡ï¼Œå‘å¸ƒäº†1.0æ­£å¼ç‰ˆã€‚</li><li>å¾ˆéš¾æƒ³è±¡Rod Johnsonçš„å­¦å† , ä»–æ˜¯æ‚‰å°¼å¤§å­¦çš„åšå£«ï¼Œç„¶è€Œä»–çš„ä¸“ä¸šä¸æ˜¯è®¡ç®—æœºï¼Œè€Œæ˜¯éŸ³ä¹å­¦ã€‚</li><li>Springç†å¿µ : ä½¿ç°æœ‰æŠ€æœ¯æ›´åŠ å®ç”¨ . æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤§æ‚çƒ© , æ•´åˆç°æœ‰çš„æ¡†æ¶æŠ€æœ¯</li></ul><ul><li>SSH : Struct2 + Spring + Hibernate!</li><li>SSM : SpringMvc + Spring + Mybatis!</li></ul><ul><li>å®˜ç½‘ : <a href="http://spring.io/">http://spring.io/</a></li><li>å®˜æ–¹ä¸‹è½½åœ°å€ : <a href="https://repo.spring.io/libs-release-local/org/springframework/spring/">https://repo.spring.io/libs-release-local/org/springframework/spring/</a></li><li>GitHub : <a href="https://github.com/spring-projects">https://github.com/spring-projects</a></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="1-2ã€ä¼˜ç‚¹"><a href="#1-2ã€ä¼˜ç‚¹" class="headerlink" title="1.2ã€ä¼˜ç‚¹"></a>1.2ã€ä¼˜ç‚¹</h3><ul><li>Springæ˜¯ä¸€ä¸ªå¼€æºå…è´¹çš„æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ </li><li>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ¡†æ¶ , éä¾µå…¥å¼çš„</li><li><strong>æ§åˆ¶åè½¬ IOC  , é¢å‘åˆ‡é¢ AOP</strong></li><li>å¯¹äº‹ç‰©çš„æ”¯æŒ , å¯¹æ¡†æ¶çš„æ”¯æŒ</li></ul><p><strong>æ€»ç»“ä¸€å¥è¯ï¼šSpringæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬(IoC)å’Œé¢å‘åˆ‡é¢(AOP)çš„æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ã€‚</strong></p><h3 id="1-3ã€ç»„æˆ"><a href="#1-3ã€ç»„æˆ" class="headerlink" title="1.3ã€ç»„æˆ"></a>1.3ã€ç»„æˆ</h3><p><img src="/images/1078856-20170205160357354-490660449.gif" alt="1078856-20170205160357354-490660449"></p><ul><li><strong>æ ¸å¿ƒå®¹å™¨</strong>ï¼šæ ¸å¿ƒå®¹å™¨æä¾› Spring æ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ã€‚æ ¸å¿ƒå®¹å™¨çš„ä¸»è¦ç»„ä»¶æ˜¯ BeanFactoryï¼Œå®ƒæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ã€‚BeanFactory ä½¿ç”¨<em>æ§åˆ¶åè½¬</em>ï¼ˆIOCï¼‰ æ¨¡å¼å°†åº”ç”¨ç¨‹åºçš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç åˆ†å¼€ã€‚</li><li><strong>Spring ä¸Šä¸‹æ–‡</strong>ï¼šSpring ä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘ Spring æ¡†æ¶æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚Spring ä¸Šä¸‹æ–‡åŒ…æ‹¬ä¼ä¸šæœåŠ¡ï¼Œä¾‹å¦‚ JNDIã€EJBã€ç”µå­é‚®ä»¶ã€å›½é™…åŒ–ã€æ ¡éªŒå’Œè°ƒåº¦åŠŸèƒ½ã€‚</li><li><strong>Spring AOP</strong>ï¼šé€šè¿‡é…ç½®ç®¡ç†ç‰¹æ€§ï¼ŒSpring AOP æ¨¡å—ç›´æ¥å°†é¢å‘åˆ‡é¢çš„ç¼–ç¨‹åŠŸèƒ½ , é›†æˆåˆ°äº† Spring æ¡†æ¶ä¸­ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ Spring æ¡†æ¶ç®¡ç†ä»»ä½•æ”¯æŒ AOPçš„å¯¹è±¡ã€‚Spring AOP æ¨¡å—ä¸ºåŸºäº Spring çš„åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æä¾›äº†äº‹åŠ¡ç®¡ç†æœåŠ¡ã€‚é€šè¿‡ä½¿ç”¨ Spring AOPï¼Œä¸ç”¨ä¾èµ–ç»„ä»¶ï¼Œå°±å¯ä»¥å°†å£°æ˜æ€§äº‹åŠ¡ç®¡ç†é›†æˆåˆ°åº”ç”¨ç¨‹åºä¸­ã€‚</li><li><strong>Spring DAO</strong>ï¼šJDBC DAO æŠ½è±¡å±‚æä¾›äº†æœ‰æ„ä¹‰çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„ï¼Œå¯ç”¨è¯¥ç»“æ„æ¥ç®¡ç†å¼‚å¸¸å¤„ç†å’Œä¸åŒæ•°æ®åº“ä¾›åº”å•†æŠ›å‡ºçš„é”™è¯¯æ¶ˆæ¯ã€‚å¼‚å¸¸å±‚æ¬¡ç»“æ„ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¹¶ä¸”æå¤§åœ°é™ä½äº†éœ€è¦ç¼–å†™çš„å¼‚å¸¸ä»£ç æ•°é‡ï¼ˆä¾‹å¦‚æ‰“å¼€å’Œå…³é—­è¿æ¥ï¼‰ã€‚Spring DAO çš„é¢å‘ JDBC çš„å¼‚å¸¸éµä»é€šç”¨çš„ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</li><li><strong>Spring ORM</strong>ï¼šSpring æ¡†æ¶æ’å…¥äº†è‹¥å¹²ä¸ª ORM æ¡†æ¶ï¼Œä»è€Œæä¾›äº† ORM çš„å¯¹è±¡å…³ç³»å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬ JDOã€Hibernate å’Œ iBatis SQL Mapã€‚æ‰€æœ‰è¿™äº›éƒ½éµä» Spring çš„é€šç”¨äº‹åŠ¡å’Œ DAO å¼‚å¸¸å±‚æ¬¡ç»“æ„ã€‚</li><li><strong>Spring Web æ¨¡å—</strong>ï¼šWeb ä¸Šä¸‹æ–‡æ¨¡å—å»ºç«‹åœ¨åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ¨¡å—ä¹‹ä¸Šï¼Œä¸ºåŸºäº Web çš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥ï¼ŒSpring æ¡†æ¶æ”¯æŒä¸ Jakarta Struts çš„é›†æˆã€‚Web æ¨¡å—è¿˜ç®€åŒ–äº†å¤„ç†å¤šéƒ¨åˆ†è¯·æ±‚ä»¥åŠå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°åŸŸå¯¹è±¡çš„å·¥ä½œã€‚</li><li><strong>Spring MVC æ¡†æ¶</strong>ï¼šMVC æ¡†æ¶æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„æ„å»º Web åº”ç”¨ç¨‹åºçš„ MVC å®ç°ã€‚é€šè¿‡ç­–ç•¥æ¥å£ï¼ŒMVC æ¡†æ¶å˜æˆä¸ºé«˜åº¦å¯é…ç½®çš„ï¼ŒMVC å®¹çº³äº†å¤§é‡è§†å›¾æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬ JSPã€Velocityã€Tilesã€iText å’Œ POIã€‚</li></ul><h3 id="1-4ã€æ‹“å±•"><a href="#1-4ã€æ‹“å±•" class="headerlink" title="1.4ã€æ‹“å±•"></a>1.4ã€æ‹“å±•</h3><p>åœ¨Springçš„å®˜ç½‘æœ‰è¿™ä¸ªä»‹ç»ï¼šç°ä»£åŒ–çš„javaå¼€å‘ï¼è¯´ç™½å°±æ˜¯åŸºäºSpringçš„å¼€å‘ï¼</p><p><img src="/images/1.png" alt="1078856-20170205160357354-490660449"></p><ul><li>Spring Boot<ul><li>ä¸€ä¸ªå¿«é€Ÿå¼€å‘çš„è„šæ‰‹æ¶</li><li>åŸºäºSpringBootå¯ä»¥å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡</li><li>çº¦å®šå¤§äºé…ç½®ï¼</li></ul></li><li>Spring Cloud<ul><li>Spring CLoudæ˜¯åŸºäºSpringBootå®ç°çš„</li></ul></li></ul><p>å› ä¸ºç°åœ¨å¤§æ‰€è¿°å…¬å¸éƒ½åœ¨ä½¿ç”¨SpringBootè¿›è¡Œå¿«é€Ÿå¼€å‘ï¼Œå­¦ä¹ SpringBootçš„å‰æï¼Œéœ€è¦å®Œå…¨æŒæ¡SpringåŠSpringMVCï¼æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨</p><p><strong>å¼Šç«¯ï¼šå‘å±•å¤ªä¹…äº†ä¹‹åï¼Œè¿èƒŒäº†åŸæ¥çš„ç†å¿µï¼é…ç½®ååˆ†ç¹çï¼Œäººç§°ï¼šâ€œé…ç½®åœ°ç‹±â€ï¼</strong></p><br><h2 id="2ã€IOCç†è®ºæ¨å¯¼"><a href="#2ã€IOCç†è®ºæ¨å¯¼" class="headerlink" title="2ã€IOCç†è®ºæ¨å¯¼"></a>2ã€IOCç†è®ºæ¨å¯¼</h2><h3 id="2-1ã€IoCåŸºç¡€"><a href="#2-1ã€IoCåŸºç¡€" class="headerlink" title="2.1ã€IoCåŸºç¡€"></a>2.1ã€IoCåŸºç¡€</h3><p>1.UserDaoæ¥å£</p><p>2.UserDaoImplå®ç°ç±»</p><p>3.UserServiceä¸šåŠ¡æ¥å£</p><p>4.UserServiceImplä¸šåŠ¡å®ç°ç±»</p><p>åœ¨ä¹‹å‰çš„ä¸šåŠ¡ä¸­ï¼Œç”¨æˆ·çš„éœ€æ±‚å¯èƒ½ä¼šå½±å“æˆ‘ä»¬åŸæ¥çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚å»ä¿®æ”¹æºä»£ç ï¼å¦‚æœç¨‹åºä»£ç é‡ååˆ†å¤§ï¼Œä¿®æ”¹ä¸€æ¬¡çš„æˆæœ¬ä»£ä»·ååˆ†æ˜‚è´µï¼</p><p><img src="/images/2.png" alt="1078856-20170205160357354-490660449"></p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªSetæ¥å£å®ç°ï¼Œå·²ç»å‘ç”Ÿäº†é©å‘½æ€§çš„å˜åŒ–ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> UserDao userDao;<br><br><span class="hljs-comment">// åˆ©ç”¨setè¿›è¡ŒåŠ¨æ€å®ç°å€¼çš„æ³¨å…¥</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUserDao</span><span class="hljs-params">(UserDao userDao)</span> </span>&#123;<br>    <span class="hljs-keyword">this</span>.userDao = userDao;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>ä¹‹å‰ï¼Œç¨‹åºæ˜¯ä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼æ§åˆ¶æƒåœ¨ç¨‹åºå‘˜æ‰‹ä¸Šï¼</strong></li><li><strong>ä½¿ç”¨äº†setæ³¨å…¥ä¹‹åï¼Œç¨‹åºä¸å†æœ‰ä¸»åŠ¨æ€§ï¼Œè€Œæ˜¯å˜æˆäº†è¢«åŠ¨çš„æ¥å—å¯¹è±¡ï¼</strong></li></ul><p>è¿™ç§æ€æƒ³ä»æœ¬è´¨ä¸Šå®ç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬ç¨‹åºå‘˜ä¸ç”¨å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»ºäº†ã€‚ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œå¯ä»¥æ›´åŠ ä¸“æ³¨çš„åœ¨ä¸šåŠ¡çš„å®ç°ä¸Šï¼è¿™æ˜¯IOCçš„åŸå‹ï¼</p><p><img src="/images/3.png" alt="1078856-20170205160357354-490660449"></p><h3 id="2-2ã€IOCæœ¬è´¨"><a href="#2-2ã€IOCæœ¬è´¨" class="headerlink" title="2.2ã€IOCæœ¬è´¨"></a>2.2ã€IOCæœ¬è´¨</h3><p><strong>æ§åˆ¶åè½¬IoC(Inversion of Control)ï¼Œæ˜¯ä¸€ç§è®¾è®¡æ€æƒ³ï¼ŒDI(ä¾èµ–æ³¨å…¥)æ˜¯å®ç°IoCçš„ä¸€ç§æ–¹æ³•</strong>ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºDIåªæ˜¯IoCçš„å¦ä¸€ç§è¯´æ³•ã€‚æ²¡æœ‰IoCçš„ç¨‹åºä¸­ , æˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ , <strong>å¯¹è±¡çš„åˆ›å»ºä¸å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚</strong></p><p>é‡‡ç”¨XMLæ–¹å¼é…ç½®Beançš„æ—¶å€™ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯æ˜¯å’Œå®ç°åˆ†ç¦»çš„ï¼Œè€Œé‡‡ç”¨æ³¨è§£çš„æ–¹å¼å¯ä»¥æŠŠä¸¤è€…åˆä¸ºä¸€ä½“ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯ç›´æ¥ä»¥æ³¨è§£çš„å½¢å¼å®šä¹‰åœ¨å®ç°ç±»ä¸­ï¼Œä»è€Œè¾¾åˆ°äº†é›¶é…ç½®çš„ç›®çš„ã€‚</p><p><strong>æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆXMLæˆ–æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Springä¸­å®ç°æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨ï¼Œå…¶å®ç°æ–¹æ³•æ˜¯ä¾èµ–æ³¨å…¥ï¼ˆDependency Injection,DIï¼‰ã€‚</strong></p><br><h2 id="3ã€HelloSpring"><a href="#3ã€HelloSpring" class="headerlink" title="3ã€HelloSpring"></a>3ã€HelloSpring</h2><p><strong>å¯¼å…¥JaråŒ…</strong></p><p>æ³¨ : spring éœ€è¦å¯¼å…¥commons-loggingè¿›è¡Œæ—¥å¿—è®°å½• . æˆ‘ä»¬åˆ©ç”¨maven , ä»–ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„ä¾èµ–é¡¹ .</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.7.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>ç¼–å†™ä»£ç </strong></p><p>1ã€ç¼–å†™ä¸€ä¸ªHelloå®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String str;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getStr</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> str;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setStr</span><span class="hljs-params">(String str)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.str = str;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Hello&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;str=&#x27;&quot;</span> + str + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>2ã€ç¼–å†™æˆ‘ä»¬çš„springçš„èµ„æºæ–‡ä»¶ , è¿™é‡Œæˆ‘ä»¬å‘½åä¸ºbeans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--beanå°±æ˜¯javaå¯¹è±¡ , ç”±Springåˆ›å»ºå’Œç®¡ç†</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    ç±»å‹ å˜é‡å = new ç±»å‹();</span><br><span class="hljs-comment">    Hello hello = new Hello();</span><br><span class="hljs-comment">    bean = å¯¹è±¡   new Hello();</span><br><span class="hljs-comment">    id = å˜é‡å</span><br><span class="hljs-comment">    class = newçš„å¯¹è±¡</span><br><span class="hljs-comment">    property ç›¸å½“äºç»™å¯¹è±¡ä¸­çš„å±æ€§è®¾ç½®ä¸€ä¸ªå˜é‡</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Hello&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;str&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;HelloSpring&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>3ã€æˆ‘ä»¬å¯ä»¥å»è¿›è¡Œæµ‹è¯•äº† </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">// è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span><br>        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br>        <span class="hljs-comment">//æˆ‘ä»¬çš„å¯¹è±¡ç°åœ¨éƒ½åœ¨Springå®¹å™¨ä¸­ç®¡ç†äº†ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ï¼Œç›´æ¥å»é‡Œé¢å–å‡ºæ¥å°±å¯ä»¥</span><br>        Hello hello = (Hello)context.getBean(<span class="hljs-string">&quot;hello&quot;</span>);<br>        System.out.println(hello);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨ï¼š</p><p><strong>ApplicationContext å°±æ˜¯ Spring å®¹å™¨</strong>ï¼›</p><p>åœ¨ Spring å®¹å™¨ä¸­<strong>å–å¯¹è±¡çš„æ—¶å€™æ ¹æ® bean çš„ id è·å–</strong>ã€‚</p><p><strong>æ€è€ƒé—®é¢˜ï¼Ÿ</strong></p><p>Hello å¯¹è±¡æ˜¯è°åˆ›å»ºçš„ ?  </p><ul><li>hello å¯¹è±¡æ˜¯ç”±Springåˆ›å»ºçš„</li></ul><p>Hello å¯¹è±¡çš„å±æ€§æ˜¯æ€ä¹ˆè®¾ç½®çš„ ?  </p><ul><li>hello å¯¹è±¡çš„å±æ€§æ˜¯ç”±Springå®¹å™¨è®¾ç½®çš„</li></ul><p>è¿™ä¸ªè¿‡ç¨‹å°±å«æ§åˆ¶åè½¬ :</p><ul><li>æ§åˆ¶ : è°æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»º , ä¼ ç»Ÿåº”ç”¨ç¨‹åºçš„å¯¹è±¡æ˜¯ç”±ç¨‹åºæœ¬èº«æ§åˆ¶åˆ›å»ºçš„ , ä½¿ç”¨Springå , å¯¹è±¡æ˜¯ç”±Springæ¥åˆ›å»ºçš„</li><li>åè½¬ : <strong>ç¨‹åºæœ¬èº«ä¸åˆ›å»ºå¯¹è±¡ , è€Œå˜æˆè¢«åŠ¨çš„æ¥æ”¶å¯¹è±¡</strong> </li><li>ä¾èµ–æ³¨å…¥ : å°±æ˜¯åˆ©ç”¨<strong>set</strong>æ–¹æ³•æ¥è¿›è¡Œæ³¨å…¥çš„.</li></ul><p> <strong>IOCæ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œç”±ä¸»åŠ¨çš„ç¼–ç¨‹å˜æˆè¢«åŠ¨çš„æ¥æ”¶</strong></p><p>å¯ä»¥é€šè¿‡new ClassPathXmlApplicationContextå»æµè§ˆä¸€ä¸‹åº•å±‚æºç  </p><p>**OK , åˆ°äº†ç°åœ¨ , æˆ‘ä»¬å½»åº•ä¸ç”¨å†ç¨‹åºä¸­å»æ”¹åŠ¨äº† , è¦å®ç°ä¸åŒçš„æ“ä½œ , åªéœ€è¦åœ¨xmlé…ç½®æ–‡ä»¶ä¸­è¿›è¡Œä¿®æ”¹ , æ‰€è°“çš„IoC,ä¸€å¥è¯æå®š : <u>å¯¹è±¡ç”±Spring æ¥åˆ›å»º , ç®¡ç† , è£…é…</u> ! **</p><p><img src="/images/image-20220331150858366.png" alt="image-20220331150858366"></p><br><h2 id="4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a href="#4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a>4ã€IOCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h2><p>1.ä½¿ç”¨<strong>æ— å‚</strong>æ„é€ åˆ›å»ºå¯¹è±¡ï¼Œé»˜è®¤ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ— å‚æ„é€ å™¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2.å‡è®¾æˆ‘ä»¬è¦ä½¿ç”¨<strong>æœ‰å‚</strong>æ„é€ åˆ›å»ºå¯¹è±¡ã€‚</p><ol><li><p>ä¸‹æ ‡èµ‹å€¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æœ‰å‚æ„é€ å™¨1ï¼Œä¸‹æ ‡èµ‹å€¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥è¯´Java&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç±»å‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æœ‰å‚æ„é€ å™¨2ï¼Œç±»å‹ï¼Œä½†åŒç±»å‹åªèƒ½ä¸€ä¸ªï¼Œä¸å»ºè®®ä½¿ç”¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;java.lang.String&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å‚æ•°å</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æœ‰å‚æ„é€ å™¨3ï¼Œå‚æ•°å--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ol><p>æ€»ç»“ï¼š<strong>åœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ã€‚å…¶ä¸­ç®¡ç†çš„å¯¹è±¡éƒ½å·²ç»åˆå§‹åŒ–äº†ï¼</strong></p><br><h2 id="5ã€Springé…ç½®"><a href="#5ã€Springé…ç½®" class="headerlink" title="5ã€Springé…ç½®"></a>5ã€Springé…ç½®</h2><h3 id="5-1ã€åˆ«å"><a href="#5-1ã€åˆ«å" class="headerlink" title="5.1ã€åˆ«å"></a>5.1ã€åˆ«å</h3><p>beans.xml ä¸­æ·»åŠ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--åˆ«åï¼Œå¦‚æœæ·»åŠ äº†åˆ«åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«åè·å–åˆ°è¿™ä¸ªå¯¹è±¡</span><br><span class="hljs-comment">ä¸”åˆ«åå’ŒåŸåéƒ½èƒ½è·å–åˆ°å¯¹è±¡--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">&quot;userNew&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼šï¼ˆ<strong>æ ¹æ®idè·å–beanå¯¹è±¡</strong>ï¼‰</p><img src="/.io//image-20220331201947915.png" alt="image-20220331201947915" style="zoom: 50%;"><img src="/.io//image-20220331202008772.png" alt="image-20220331202008772" style="zoom:50%;"><img src="/.io//image-20220331202027483.png" alt="image-20220331202027483" style="zoom:50%;"><h3 id="5-2ã€Beançš„é…ç½®"><a href="#5-2ã€Beançš„é…ç½®" class="headerlink" title="5.2ã€Beançš„é…ç½®"></a>5.2ã€Beançš„é…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        idï¼šbeançš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±ç›¸å½“äºå¯¹è±¡å</span><br><span class="hljs-comment">        classï¼šbean å¯¹è±¡æ‰€å¯¹åº”çš„æƒé™å®šåï¼šåŒ…å + ç±»å‹</span><br><span class="hljs-comment">        name: ä¹Ÿæ˜¯åˆ«åï¼Œè€Œä¸”nameæ›´é«˜çº§ï¼Œå¯ä»¥èµ·å¤šä¸ªåˆ«åï¼Œé€šè¿‡é€—å·ç©ºæ ¼åˆ†å·ç­‰åˆ†å‰²</span><br><span class="hljs-comment">--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userT&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;userT2,t2&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è¥¿éƒ¨å¼€æº&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="5-3ã€import"><a href="#5-3ã€import" class="headerlink" title="5.3ã€import"></a>5.3ã€import</h3><p>å›¢é˜Ÿçš„åˆä½œé€šè¿‡importæ¥å®ç° ,å¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ª</p><p>å‡è®¾ï¼Œç°åœ¨é¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå¼€å‘ï¼Œè¿™ä¸‰ä¸ªäººå¤åˆ¶ä¸åŒçš„ç±»å¼€å‘ï¼Œä¸åŒçš„ç±»éœ€è¦ä¸åŒçš„beanä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨importå°†æ‰€æœ‰äººçš„beans.xmlåˆå¹¶ä¸ºä¸€ä¸ªæ€»çš„</p><ul><li>å¼ ä¸‰ beans.xml</li><li>æå›› beans2.xml</li><li>ç‹äº” beans3.xml</li></ul><p>æ€»çš„ applicationContext.xmlï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;beans.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;beans2.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;beans3.xml&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥ä½¿ç”¨æ€»çš„é…ç½®å°±å¯ä»¥äº†</p><br><h2 id="6ã€ä¾èµ–æ³¨å…¥"><a href="#6ã€ä¾èµ–æ³¨å…¥" class="headerlink" title="6ã€ä¾èµ–æ³¨å…¥"></a>6ã€ä¾èµ–æ³¨å…¥</h2><p><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šå½“ä¸€ä¸ªç±»çš„å®ä¾‹éœ€è¦å¦ä¸€ä¸ªç±»çš„å®ä¾‹ååŠ©æ—¶ï¼Œåœ¨ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ç”±è°ƒç”¨è€…æ¥åˆ›å»ºè¢«è°ƒç”¨è€…çš„å®ä¾‹ã€‚ç„¶è€Œ<strong>é‡‡ç”¨ä¾èµ–æ³¨å…¥çš„æ–¹å¼ï¼Œåˆ›å»ºè¢«è°ƒç”¨è€…çš„å·¥ä½œä¸å†ç”±è°ƒç”¨è€…æ¥å®Œæˆï¼Œåˆ›å»ºè¢«è°ƒç”¨è€…çš„å®ä¾‹çš„å·¥ä½œç”± IOC å®¹å™¨æ¥å®Œæˆã€‚ç„¶åæ³¨å…¥è°ƒç”¨è€…ï¼Œç§°ä¸ºä¾èµ–æ³¨å…¥</strong></p><h3 id="6-1ã€æ„é€ å™¨æ³¨å…¥"><a href="#6-1ã€æ„é€ å™¨æ³¨å…¥" class="headerlink" title="6.1ã€æ„é€ å™¨æ³¨å…¥"></a>6.1ã€æ„é€ å™¨æ³¨å…¥</h3><p>å‰é¢å·²ç»è¯´è¿‡äº†</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æœ‰å‚æ„é€ å™¨1ï¼Œä¸‹æ ‡èµ‹å€¼--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥è¯´Java&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="6-2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"><a href="#6-2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘" class="headerlink" title="6.2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"></a>6.2ã€setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘</h3><ul><li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼ˆDependency Injection,DIï¼‰ã€‚<ul><li>ä¾èµ– : <strong>æŒ‡Beanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨ï¼ˆSpringï¼‰ï¼ŒBeanå¯¹è±¡çš„ä¾èµ–èµ„æº</strong></li><li>æ³¨å…¥ : <strong>æŒ‡Beanå¯¹è±¡æ‰€ä¾èµ–çš„èµ„æº , ç”±å®¹å™¨æ¥è®¾ç½®å’Œè£…é…</strong></li></ul></li></ul><p>ã€ç¯å¢ƒæ­å»ºã€‘</p><ol><li><p>å¤æ‚ç±»å‹ Address.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Address</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String address;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getAddress</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> address;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAddress</span><span class="hljs-params">(String address)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.address = address;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Address&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;address=&#x27;&quot;</span> + address + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>çœŸå®æµ‹è¯•å¯¹è±¡ Student.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> Address address;<br>    <span class="hljs-keyword">private</span> String[] books;<br>    <span class="hljs-keyword">private</span> List&lt;String&gt; hobbies;<br>    <span class="hljs-keyword">private</span> Map&lt;String,String&gt; card;<br>    <span class="hljs-keyword">private</span> Set&lt;String&gt; games;<br>    <span class="hljs-keyword">private</span> String wife;<br>    <span class="hljs-keyword">private</span> Properties info;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Address <span class="hljs-title">getAddress</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> address;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAddress</span><span class="hljs-params">(Address address)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.address = address;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String[] getBooks() &#123;<br>        <span class="hljs-keyword">return</span> books;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setBooks</span><span class="hljs-params">(String[] books)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.books = books;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title">getHobbies</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> hobbies;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setHobbies</span><span class="hljs-params">(List&lt;String&gt; hobbies)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.hobbies = hobbies;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, String&gt; <span class="hljs-title">getCard</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> card;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCard</span><span class="hljs-params">(Map&lt;String, String&gt; card)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.card = card;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Set&lt;String&gt; <span class="hljs-title">getGames</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> games;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setGames</span><span class="hljs-params">(Set&lt;String&gt; games)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.games = games;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getWife</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> wife;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setWife</span><span class="hljs-params">(String wife)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.wife = wife;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Properties <span class="hljs-title">getInfo</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> info;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setInfo</span><span class="hljs-params">(Properties info)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.info = info;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, address=&quot;</span> + address.toString +<br>                <span class="hljs-string">&quot;, books=&quot;</span> + Arrays.toString(books) +<br>                <span class="hljs-string">&quot;, hobbies=&quot;</span> + hobbies +<br>                <span class="hljs-string">&quot;, card=&quot;</span> + card +<br>                <span class="hljs-string">&quot;, games=&quot;</span> + games +<br>                <span class="hljs-string">&quot;, wife=&#x27;&quot;</span> + wife + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, info=&quot;</span> + info +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>beans.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;address123&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Address&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;China&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;student&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Student&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸€ç§ï¼Œæ™®é€šå€¼æ³¨å…¥ value--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;wang&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬äºŒç§ï¼š Beanæ³¨å…¥ ref--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;address&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;address123&quot;</span>/&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸‰ç§ï¼š æ•°ç»„æ³¨å…¥ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;books&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çº¢æ¥¼æ¢¦<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è¥¿æ¸¸è®°<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ°´æµ’ä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¸‰å›½æ¼”ä¹‰<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬å››ç§ï¼šlistæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbies&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Music<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ•²ä»£ç <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>Basketball<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>çœ‹ç”µå½±<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬äº”ç§ï¼šmapæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;èº«ä»½è¯&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;111111111111111111&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;é“¶è¡Œå¡&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;22222222222222222222&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬å…­ç§ï¼šsetæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;games&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>NBA<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>077<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>KD<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸ƒç§ï¼šnullæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;wife&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br><br>        <span class="hljs-comment">&lt;!--ç¬¬ä¸ƒç§ï¼šPropertiesæ³¨å…¥--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;driver&quot;</span>&gt;</span>com.mysql.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span>localhost://3306<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br>        Student student = (Student)context.getBean(<span class="hljs-string">&quot;student&quot;</span>);<br>        System.out.println(student);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="6-3ã€æ‹“å±•æ–¹å¼æ³¨å…¥"><a href="#6-3ã€æ‹“å±•æ–¹å¼æ³¨å…¥" class="headerlink" title="6.3ã€æ‹“å±•æ–¹å¼æ³¨å…¥"></a>6.3ã€æ‹“å±•æ–¹å¼æ³¨å…¥</h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨på‘½ä»¤ç©ºé—´å’Œcå‘½ä»¤ç©ºé—´è¿›è¡Œæ³¨å…¥</p><p>å®˜æ–¹è§£é‡Šï¼š</p><p><img src="/images/4.png" alt="1078856-20170205160357354-490660449"></p><p>ä½¿ç”¨ï¼š</p><ul><li>på‘½åç©ºé—´å¯ä»¥ç›´æ¥æ³¨å…¥<strong>å±æ€§</strong>çš„å€¼ï¼ˆpropertyï¼‰</li><li>cå‘½åç©ºé—´å¯ä»¥é€šè¿‡<strong>æ„é€ å™¨</strong>æ³¨å…¥ï¼ˆconstructorï¼‰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/p&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:c</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/c&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--på‘½åç©ºé—´å¯ä»¥ç›´æ¥æ³¨å…¥å±æ€§çš„å€¼ property--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span> <span class="hljs-attr">p:name</span>=<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span> <span class="hljs-attr">p:age</span>=<span class="hljs-string">&quot;18&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--cå‘½åç©ºé—´å¯ä»¥é€šè¿‡æ„é€ å™¨æ³¨å…¥ construct-args--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span> <span class="hljs-attr">c:age</span>=<span class="hljs-string">&quot;18&quot;</span> <span class="hljs-attr">c:name</span>=<span class="hljs-string">&quot;ç‹‚ç¥2&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> </span>&#123;<br>    ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;userBeans.xml&quot;</span>);<br>    <span class="hljs-comment">//User user = (User)context.getBean(&quot;user&quot;);</span><br>    User user = context.getBean(<span class="hljs-string">&quot;user&quot;</span>, User.class);<br>    System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼špå‘½åå’Œcå‘½åç©ºé—´ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å¼•å…¥xmlçº¦æŸ!</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;<br>xmlns:c=&quot;http://www.springframework.org/schema/c&quot;<br></code></pre></td></tr></table></figure><h3 id="6-4ã€Beançš„ä½œç”¨åŸŸ"><a href="#6-4ã€Beançš„ä½œç”¨åŸŸ" class="headerlink" title="6.4ã€Beançš„ä½œç”¨åŸŸ"></a>6.4ã€Beançš„ä½œç”¨åŸŸ</h3><p><img src="/images/5.png" alt="1078856-20170205160357354-490660449"></p><ol><li><p><strong>å•ä¾‹æ¨¡å¼</strong>ï¼ˆSpring <strong>é»˜è®¤æœºåˆ¶</strong>ï¼‰</p><img src="/.io//image-20220401171935837.png" alt="image-20220401171935837" style="zoom: 50%;"><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;singleton&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>æ¯æ¬¡åªåˆ›å»ºä¸€ä¸ªbeanå®ä¾‹ï¼š</p><img src="/.io//image-20220401172306906.png" alt="image-20220401172306906" style="zoom: 50%;"></li><li><p>åŸå‹æ¨¡å¼ï¼šæ¯æ¬¡ä»å®¹å™¨ä¸­getçš„æ—¶å€™ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å…¶ä½™çš„requestã€sessionã€applicationè¿™äº›ä¸ªåªèƒ½åœ¨webå¼€å‘ä¸­ä½¿ç”¨åˆ°</p></li></ol><p>æ³¨ï¼šå¤šçº¿ç¨‹é€‚åˆåŸå‹ï¼Œå•çº¿ç¨‹é€‚åˆå•ä¾‹</p><br><h2 id="7ã€Beançš„è‡ªåŠ¨è£…é…"><a href="#7ã€Beançš„è‡ªåŠ¨è£…é…" class="headerlink" title="7ã€Beançš„è‡ªåŠ¨è£…é…"></a>7ã€Beançš„è‡ªåŠ¨è£…é…</h2><ul><li><strong>è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼</strong></li><li>Springä¼šåœ¨ä¸Šä¸‹æ–‡è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶<strong>è‡ªåŠ¨ç»™beanè£…é…å±æ€§</strong>ï¼</li></ul><p><strong>ä¾èµ–æ³¨å…¥çš„æœ¬è´¨å°±æ˜¯è£…é…ï¼Œè£…é…æ˜¯ä¾èµ–æ³¨å…¥çš„å…·ä½“è¡Œä¸º</strong></p><p>åœ¨Springä¸­æœ‰ä¸‰ç§è‡ªåŠ¨è£…é…çš„æ–¹å¼</p><ol><li>åœ¨xmlä¸­æ˜¾ç¤ºçš„é…ç½®</li><li>åœ¨javaä¸­æ˜¾ç¤ºé…ç½®</li><li><strong>éšå¼çš„è‡ªåŠ¨è£…é…beanã€é‡è¦ã€‘</strong></li></ol><p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦è®²ç¬¬ä¸‰ç§ï¼šè‡ªåŠ¨åŒ–çš„è£…é…beanã€‚</p><h3 id="7-1ã€æµ‹è¯•"><a href="#7-1ã€æµ‹è¯•" class="headerlink" title="7.1ã€æµ‹è¯•"></a>7.1ã€æµ‹è¯•</h3><p>ç¯å¢ƒæ­å»ºï¼šä¸€ä¸ªäººæœ‰ä¸¤ä¸ªå® ç‰©</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dog</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shout</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;wangwang~~&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cat</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">shout</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;miao~~&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Cat cat;<br>    <span class="hljs-keyword">private</span> Dog dog;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Cat <span class="hljs-title">getCat</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> cat;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setCat</span><span class="hljs-params">(Cat cat)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.cat = cat;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Dog <span class="hljs-title">getDog</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> dog;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setDog</span><span class="hljs-params">(Dog dog)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.dog = dog;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure><p>MyTest.javaï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.wang.pojo.Person;<br><span class="hljs-keyword">import</span> org.springframework.context.ApplicationContext;<br><span class="hljs-keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br><br>        Person p = (Person)context.getBean(<span class="hljs-string">&quot;person&quot;</span>);<br>        p.getCat().shout();<br>        p.getDog().shout();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="7-2ã€ByNameè‡ªåŠ¨è£…é…"><a href="#7-2ã€ByNameè‡ªåŠ¨è£…é…" class="headerlink" title="7.2ã€ByNameè‡ªåŠ¨è£…é…"></a>7.2ã€ByNameè‡ªåŠ¨è£…é…</h3><p>byName: ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­å¥—æ¥ï¼Œå’Œè‡ªå·±å¯¹è±¡çš„<strong>setæ–¹æ³•åé¢çš„å€¼</strong>ç›¸å¯¹åº”çš„bean_id</p><p>ï¼ˆ<em>æŠŠä¸ <code>bean</code> çš„å±æ€§å…·æœ‰ç›¸åŒåå­—çš„å…¶ä»– <code>bean</code> è‡ªåŠ¨è£…é…åˆ° <code>bean</code> çš„å¯¹åº”å±æ€§ä¸­</em>ï¼‰</p><p>ï¼ˆperson ä¸ç”¨å†è®¾ç½® dog å’Œ cat çš„ propertyï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        byName:ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­å¥—æ¥ï¼Œå’Œè‡ªå·±å¯¹è±¡çš„setæ–¹æ³•åé¢çš„å€¼ç›¸å¯¹åº”çš„beanid</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Person&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byName&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="7-3ã€ByTypeè‡ªåŠ¨è£…é…"><a href="#7-3ã€ByTypeè‡ªåŠ¨è£…é…" class="headerlink" title="7.3ã€ByTypeè‡ªåŠ¨è£…é…"></a>7.3ã€ByTypeè‡ªåŠ¨è£…é…</h3><p>byType: ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­å¥—æ¥ï¼Œå’Œè‡ªå·±<strong>å¯¹è±¡å±æ€§ç±»å‹</strong>ç›¸åŒçš„bean_id</p><p>ï¼ˆperson ä¸ç”¨å†è®¾ç½® dog å’Œ cat çš„ propertyï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        byName:ä¼šè‡ªåŠ¨åœ¨å®¹å™¨ä¸Šä¸‹æ–‡ä¸­å¥—æ¥ï¼Œå’Œè‡ªå·±å¯¹è±¡çš„setæ–¹æ³•åé¢çš„å€¼ç›¸å¯¹åº”çš„beanid</span><br><span class="hljs-comment">    --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Person&quot;</span> <span class="hljs-attr">autowire</span>=<span class="hljs-string">&quot;byType&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;name&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‹‚ç¥&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å°ç»“ï¼š</p><ul><li>bynameçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰beançš„idå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„setæ–¹æ³•çš„å€¼ä¸€è‡´</li><li>bytypeçš„æ—¶å€™ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰beançš„classå”¯ä¸€ï¼Œå¹¶ä¸”è¿™ä¸ªbeanéœ€è¦å’Œè‡ªåŠ¨æ³¨å…¥çš„å±æ€§çš„ç±»å‹ä¸€è‡´</li></ul><h3 id="7-4ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"><a href="#7-4ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…" class="headerlink" title="7.4ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"></a>7.4ã€ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…</h3><p>jdk1.5æ”¯æŒçš„æ³¨è§£ï¼ŒSpring2.5å°±æ”¯æŒæ³¨è§£äº†ï¼</p><p>The introduction of annotation-based configuration raised the question of whether this approach is â€œbetterâ€ than XML. </p><p>è¦ä½¿ç”¨æ³¨è§£éœ€çŸ¥ï¼š</p><ol><li><p>å¯¼å…¥çº¦æŸï¼šcontextæ”¯æŒ</p></li><li><p>é…ç½®æ³¨è§£çš„æ”¯æŒï¼š<a href="context:annotation-config/">context:annotation-config/</a></p><p>åŠ å…¥ context æ”¯æŒï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="Autowiredæ³¨è§£"><a href="#Autowiredæ³¨è§£" class="headerlink" title="@Autowiredæ³¨è§£"></a>@Autowiredæ³¨è§£</h4><p><strong>ï¼ˆè‡ªåŠ¨è½¬é…beanï¼‰</strong></p><p><strong>(1) å½“æ³¨å…¥å®¹å™¨å­˜åœ¨å¤šä¸ªåŒä¸€ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œå°±æ˜¯æ ¹æ®byNameè¿›è¡Œè£…é…</strong></p><p><strong>(2) å½“æ³¨å…¥åœ¨IoCå®¹å™¨ä¸­è¯¥ç±»å‹åªæœ‰ä¸€ä¸ªæ—¶ï¼Œå°±é€šè¿‡byTypeè¿›è¡Œè£…é…</strong></p><ul><li><p><strong>ç›´æ¥åœ¨å±æ€§ä¸Šä½¿ç”¨å³å¯ï¼ä¹Ÿå¯ä»¥åœ¨setæ–¹å¼ä¸Šä½¿ç”¨ï¼</strong></p></li><li><p>ä½¿ç”¨Autowiredæˆ‘ä»¬å¯ä»¥ä¸ç”¨ç¼–å†™setæ–¹æ³•ï¼Œ<strong>å‰ææ˜¯ä½ è¿™ä¸ªè‡ªåŠ¨è£…é…çš„å±æ€§åœ¨IOCï¼ˆSpringï¼‰å®¹å™¨ä¸­å­˜åœ¨</strong>ï¼Œä¸”ç¬¦åˆåå­—byNameå’Œç±»å‹byTypeï¼</p><ul><li><p>æ­£å¸¸1ï¼ˆbyNameï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat12&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog12&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Person&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ­£å¸¸2ï¼ˆbyTypeï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat111&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog222&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Person&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æ­£å¸¸3ï¼ˆæ··åˆä½¿ç”¨ï¼Œ<strong>å…ˆç±»å‹ååå­—</strong>ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat11&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog222&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Person&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ä¸æ­£å¸¸ï¼ˆå¤šç§ç±»å‹ä¸”åå­—ä¹Ÿä¸åŒ¹é…ï¼ŒæŠ¥é”™ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat11&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cat111&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Cat&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog22&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog222&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Dog&quot;</span>/&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.pojo.Person&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>ç§‘æ™®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xm">@Nullable å­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¿™ä¸ªå­—æ®µå¯ä»¥ä¸ºnull<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Autowired &#123;<br>    <span class="hljs-function"><span class="hljs-keyword">boolean</span> <span class="hljs-title">required</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">true</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>&#123;<br>    <span class="hljs-comment">//å¦‚æœæ˜¾ç¤ºçš„å®šä¹‰äº†Autowiredçš„requiredå±æ€§ä¸ºfalseï¼Œè¯´æ˜è¿™ä¸ªå¯¹è±¡å¯ä»¥ä¸ºnullï¼Œå¦åˆ™ä¸å…è®¸ä¸ºç©º</span><br>    <span class="hljs-meta">@Autowired(required = false)</span><br>    <span class="hljs-keyword">private</span> Cat cat;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-keyword">private</span> Dog dog;<br>    <span class="hljs-keyword">private</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å¦‚æœ@Autowiredè‡ªåŠ¨è£…é…çš„ç¯å¢ƒæ¯”è¾ƒå¤æ‚ï¼Œè‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ªæ³¨è§£ã€@Autowiredã€‘å®Œæˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@Qualifilter(value=â€xxxâ€)å»é…åˆ@Autowiredçš„ä½¿ç”¨ï¼ŒæŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„beanå¯¹è±¡æ³¨å…¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>&#123;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(value = &quot;cat11&quot;)</span><br>    <span class="hljs-keyword">private</span> Cat cat;<br>    <span class="hljs-meta">@Autowired</span><br>    <span class="hljs-meta">@Qualifier(value=&quot;dog222&quot;)</span><br>    <span class="hljs-keyword">private</span> Dog dog;<br>    <span class="hljs-keyword">private</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="Resourceæ³¨è§£"><a href="#Resourceæ³¨è§£" class="headerlink" title="Resourceæ³¨è§£"></a>Resourceæ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>&#123;<br>    <span class="hljs-meta">@Resource(name = &quot;cat1&quot;)</span><br>    <span class="hljs-keyword">private</span> Cat cat;<br>    <span class="hljs-meta">@Resource</span><br>    <span class="hljs-keyword">private</span> Dog dog;<br>    <span class="hljs-keyword">private</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å°ç»“ï¼š</strong></p><p><strong>@Resource</strong>  å’Œ  <strong>@Autowired</strong></p><ul><li>éƒ½æ˜¯ç”¨æ¥è‡ªåŠ¨è£…é…çš„ï¼Œéƒ½å¯ä»¥æ”¾åœ¨å±æ€§å­—æ®µä¸Š</li><li>å®ç°æ–¹å¼ä¸åŒ<ul><li><strong>@Autowiredé»˜è®¤é€šè¿‡bytypeçš„æ–¹å¼å®ç°ï¼Œå¦‚æœæœ‰å¤šä¸ªç±»å‹ï¼Œåˆ™é€šè¿‡bynameå®ç°ï¼Œå¦‚æœä¸¤ä¸ªéƒ½æ‰¾ä¸åˆ°ï¼Œå°±æŠ¥é”™ï¼</strong></li><li><strong>@Resourceé»˜è®¤é€šè¿‡bynameçš„æ–¹å¼å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°åå­—ï¼Œåˆ™é€šè¿‡bytypeå®ç°ï¼Œå¦‚æœä¸¤ä¸ªéƒ½æ‰¾ä¸åˆ°ï¼Œå°±æŠ¥é”™ï¼</strong></li></ul></li><li>æ‰§è¡Œçš„é¡ºåºä¸åŒï¼š<ul><li><strong>@Autowiredé»˜è®¤é€šè¿‡bytypeçš„æ–¹å¼å®ç°</strong></li><li><strong>@Resourceé»˜è®¤é€šè¿‡bynameçš„æ–¹å¼å®ç°</strong></li></ul></li><li>ç±»å‹é‡å¤çš„è¯ï¼Œå¦‚æœåå­—ä¸æ˜¯é»˜è®¤çš„ï¼ˆå¦‚cat11ï¼Œcat111ï¼Œè€Œæ²¡æœ‰é»˜è®¤çš„catï¼‰<ul><li>@Autowiredé…åˆ@Qualifier(value = â€œcat11â€)ä½¿ç”¨</li><li>@Resourceç›´æ¥ä½¿ç”¨@Resource(name = â€œcat11â€)</li></ul></li></ul></li></ol><br><h2 id="8-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8.ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8.ä½¿ç”¨æ³¨è§£å¼€å‘</h2><p>åœ¨Spring4ä¹‹åï¼Œè¦ä½¿ç”¨æ³¨è§£å¼€å‘ï¼Œå¿…é¡»è¦ä¿è¯aopçš„åŒ…å¯¼å…¥äº†</p><p><img src="/images/6.png" alt="1078856-20170205160357354-490660449"></p><p>ä½¿ç”¨æ³¨è§£éœ€è¦å¯¼å…¥contextçº¦æŸï¼Œå¢åŠ æ³¨è§£çš„æ”¯æŒï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">        http://www.springframework.org/schema/context</span></span><br><span class="hljs-string"><span class="hljs-tag">        https://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure><ol><li><p>bean</p><p><strong>@Component</strong> æ”¾åœ¨ç±»ä¸Šï¼Œè¡¨æ˜è¿™ä¸ªç±»è¢«Springç®¡ç†äº†ï¼Œå°±æ˜¯bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ç­‰ä»·äº &lt;bean id=&quot;user&quot; class=&quot;com.wang.pojo.User&quot;/&gt;</span><br><span class="hljs-meta">@Component</span><br></code></pre></td></tr></table></figure></li><li><p>å±æ€§å¦‚ä½•æ³¨å…¥ <strong>@Value</strong>(â€œxxxâ€)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-comment">//ç›¸å½“äº&lt;property name=&quot;name&quot; value=&quot;ç‹‚ç¥&quot;/&gt;</span><br>    <span class="hljs-meta">@Value(&quot;ç‹‚ç¥&quot;)</span><br>    <span class="hljs-keyword">public</span> String name;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è¡ç”Ÿçš„æ³¨è§£</p><p>@Component æœ‰å‡ ä¸ªè¡ç”Ÿçš„æ³¨è§£ï¼Œæˆ‘ä»¬åœ¨webå¼€å‘ä¸­ï¼Œä¼šæŒ‰ç…§mvcä¸‰å±‚æ¶æ„åˆ†å±‚ï¼</p><ul><li><p>daoã€**@Repository**ã€‘</p></li><li><p>service ã€**@Service**ã€‘</p></li><li><p>controller ã€**@Controller**ã€‘</p><p><strong>è¿™å››ä¸ªæ³¨è§£åŠŸèƒ½éƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»£è¡¨å°†æŸä¸ªæ³¨å†Œç±»æ³¨å…¥åˆ°Springä¸­ï¼Œè£…é…Bean</strong></p></li></ul></li><li><p>è‡ªåŠ¨è£…é…ç½®</p><ul><li><strong>@Autowired</strong>ï¼šè‡ªåŠ¨è£…é…é€šè¿‡ç±»å‹ã€åå­—<ul><li>å¦‚æœAutowiredä¸èƒ½å”¯ä¸€è‡ªåŠ¨è£…é…ä¸Šå±æ€§ï¼Œåˆ™éœ€è¦é€šè¿‡@Qualifilter(value=â€xxxâ€)</li></ul></li><li><strong>@Nullable</strong>ï¼šå­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¿™ä¸ªå­—æ®µå¯ä»¥ä¸ºnull</li><li><strong>@Resource</strong>ï¼šè‡ªåŠ¨è£…é…é€šè¿‡åå­—ã€ç±»å‹ </li></ul></li><li><p>ä½œç”¨åŸŸ <strong>@Scope</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Component</span><br><span class="hljs-meta">@Scope(&quot;singleton&quot;)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> String name;<br><br>    <span class="hljs-comment">//ç›¸å½“äº&lt;property name=&quot;name&quot; value=&quot;ç‹‚ç¥&quot;/&gt;</span><br>    <span class="hljs-meta">@Value(&quot;ç‹‚ç¥&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å°ç»“</p><p>xmlä¸æ³¨è§£</p><ul><li>xmlæ›´åŠ ä¸‡èƒ½ï¼Œé€‚ç”¨äºä»»ä½•åœºåˆï¼ç»´æŠ¤ç®€å•æ–¹ä¾¿ï¼ˆå¤æ‚çš„ç±»å»ºè®®ç”¨xmlï¼‰</li><li>æ³¨è§£ä¸æ˜¯è‡ªå·±çš„ç±»ç”¨ä¸äº†ï¼Œç»´æŠ¤ç›¸å¯¹å¤æ‚</li></ul><p>xmlä¸æ³¨è§£çš„æœ€ä½³å®è·µï¼š</p><ul><li><p>xmlç”¨æ¥ç®¡ç†bean;</p></li><li><p>æ³¨è§£åªè´Ÿè´£å®Œæˆå±æ€§çš„æ³¨å…¥;</p></li><li><p>æˆ‘ä»¬åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œåªéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼šå¿…é¡»è®©æ³¨è§£ç”Ÿæ•ˆï¼Œå³éœ€è¦å¼€å¯æ³¨è§£æ”¯æŒ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æŒ‡å®šè¦æ‰«æçš„åŒ…ï¼Œè¿™ä¸ªåŒ…ä¸‹é¢çš„æ³¨è§£å°±ä¼šç”Ÿæ•ˆ--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.wang&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context:annotation-config</span>/&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li></ol><br><h2 id="9-ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring"><a href="#9-ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring" class="headerlink" title="9.ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring"></a>9.ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring</h2><p>æˆ‘ä»¬ç°åœ¨è¦å®Œå…¨ä¸é€‚ç”¨Springçš„xmlé…ç½®äº†ï¼Œå…¨æƒäº¤ç»™javaæ¥åš</p><p>javaConfigæ˜¯Springçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œåœ¨Spring4ä¹‹åï¼Œå®ƒæˆä¸ºäº†ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼</p><p><img src="/images/7.png" alt="1078856-20170205160357354-490660449"></p><p>å®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-comment">//è¿™é‡Œè¿™ä¸ªæ³¨è§£çš„æ„æ€ï¼Œå°±æ˜¯è¯´æ˜è¿™ä¸ªç±»è¢«Springæ¥ç®¡äº†ã€‚æ³¨è§£åˆ°äº†å®¹å™¨ä¸­</span><br><span class="hljs-meta">@Component</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-comment">//å±æ€§æ³¨å…¥å€¼</span><br>    <span class="hljs-meta">@Value(&quot;ç‹‚ç¥&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//è¿™ä¸ªä¹Ÿè¢«Springå®¹å™¨æ‰˜ç®¡ï¼Œæ³¨å†Œåˆ°å®¹å™¨é‡Œï¼Œå› ä¸ºä»–æœ¬æ¥å°±æ˜¯ä¸€ä¸ª@Componentï¼Œ</span><br><span class="hljs-comment">// @Configurationä»£è¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œå°±å’Œæˆ‘ä»¬ä¹‹å‰çœ‹çš„beans.xmlæ˜¯ä¸€æ ·çš„</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-meta">@ComponentScan(&quot;com.wang.pojo&quot;)</span><br><span class="hljs-meta">@Import(MyConfig2.class)</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyConfig</span> </span>&#123;<br><br>    <span class="hljs-comment">//æ³¨å†Œä¸€ä¸ªbeanï¼Œå°±ç›¸å½“äºæˆ‘ä»¬ä¹‹å‰å†™çš„ä¸€ä¸ªbeanæ ‡ç­¾ï¼Œ</span><br>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•çš„åå­—å°±ç›¸å½“äºbeanæ ‡ç­¾çš„idå±æ€§</span><br>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼,å°±ç›¸å½“äºbeanæ ‡ç­¾ä¸­çš„classå±æ€§</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> User <span class="hljs-title">getUser</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> User();<span class="hljs-comment">//å°±æ˜¯è¦è¿”å›æ³¨å…¥åˆ°beançš„å¯¹è±¡!</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// å¦‚æœå®Œå…¨ä½¿ç”¨äº†é…ç½®ç±»çš„æ–¹å¼å»åš,æˆ‘ä»¬å°±åªèƒ½é€šè¿‡AnnotationConfig ä¸Šä¸‹æ–‡æ¥è·å–å®¹å™¨,é€šè¿‡é…ç½®ç±»çš„classå¯¹è±¡åŠ è½½!</span><br>    ApplicationContext context = <span class="hljs-keyword">new</span> AnnotationConfigApplicationContext(MyConfig.class);<br>    User getUser = context.getBean(<span class="hljs-string">&quot;getUser&quot;</span>, User.class);<br>    System.out.println(getUser.getName());<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™ç§çº¯javaçš„é…ç½®æ–¹å¼ï¼Œåœ¨SpringBootä¸­éšå¤„å¯è§ï¼</p><br><h2 id="10ã€ä»£ç†æ¨¡å¼"><a href="#10ã€ä»£ç†æ¨¡å¼" class="headerlink" title="10ã€ä»£ç†æ¨¡å¼"></a>10ã€ä»£ç†æ¨¡å¼</h2><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä»£ç†æ¨¡å¼ï¼Ÿå› ä¸º<strong>ä»£ç†æ¨¡å¼å°±æ˜¯SpringAOPçš„åº•å±‚</strong>ï¼ã€SpringAOPå’ŒSpringMVCã€‘</p><p>ä»£ç†æ¨¡å¼çš„åˆ†ç±»ï¼š</p><ul><li>é™æ€ä»£ç†</li><li>åŠ¨æ€ä»£ç†</li></ul><p><img src="/images/8.png" alt="1078856-20170205160357354-490660449"></p><br><h3 id="10-1ã€é™æ€ä»£ç†"><a href="#10-1ã€é™æ€ä»£ç†" class="headerlink" title="10.1ã€é™æ€ä»£ç†"></a>10.1ã€é™æ€ä»£ç†</h3><p>è§’è‰²åˆ†æï¼š</p><ul><li>æŠ½è±¡è§’è‰²ï¼šä¸€èˆ¬ä¼šä½¿ç”¨æ¥å£æˆ–è€…æŠ½è±¡ç±»æ¥è§£å†³</li><li>çœŸå®è§’è‰²ï¼šè¢«ä»£ç†çš„è§’è‰²</li><li>ä»£ç†è§’è‰²ï¼šä»£ç†çœŸå®è§’è‰²ï¼Œä»£ç†çœŸå®è§’è‰²åï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåšä¸€äº›é™„å±æ“ä½œ</li><li>å®¢æˆ·ï¼šè®¿é—®ä»£ç†å¯¹è±¡çš„äººï¼</li></ul><p>ä»£ç æ­¥éª¤ï¼š</p><ol><li><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Rent</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>çœŸå®è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æˆ¿ä¸œ</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Host</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Rent</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Proxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Rent</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> Host host;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Proxy</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Proxy</span><span class="hljs-params">(Host host)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.host = host;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rent</span><span class="hljs-params">()</span> </span>&#123;<br>        seeHouse();<br>        fare();<br>        contract();<br>        host.rent();<br>    &#125;<br><br>    <span class="hljs-comment">//çœ‹æˆ¿</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">seeHouse</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¸­ä»‹å¸¦ä½ çœ‹æˆ¿&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//æ”¶ä¸­ä»‹è´¹</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fare</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ”¶ä¸­ä»‹è´¹&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//æ”¶ä¸­ä»‹è´¹</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">contract</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;ç­¾ç§ŸèµåˆåŒ&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯è®¿é—®ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        <span class="hljs-comment">//æˆ¿ä¸œè¦ç§Ÿæˆ¿å­</span><br>        Host host = <span class="hljs-keyword">new</span> Host();<br>        <span class="hljs-comment">//ä»£ç†ï¼Œä¸­ä»‹å¸®æˆ¿ä¸œç§Ÿæˆ¿å­ï¼Œä½†æ˜¯ä»£ç†ä¸€èˆ¬ä¼šæœ‰ä¸€äº›é™„å±æ“ä½œ</span><br>        Proxy proxy = <span class="hljs-keyword">new</span> Proxy(host);<br><br>        <span class="hljs-comment">//ä½ ä¸ç”¨é¢å¯¹æˆ¿ä¸œï¼Œç›´æ¥é¢å¯¹ä¸­ä»‹</span><br>        proxy.rent();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>é™æ€ä»£ç†æ¨¡å¼çš„å¥½å¤„ï¼š</p><ul><li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼ä¸ç”¨å»å…³æ³¨ä¸€äº›å…¬å…±çš„ä¸šåŠ¡</li><li>å…¬å…±ä¹Ÿå°±äº¤ç»™ä»£ç†è§’è‰²ï¼å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ï¼</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†ï¼</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>ä¸€ä¸ªçœŸå®è§’è‰²å°±ä¼šäº§ç”Ÿä¸€ä¸ªä»£ç†è§’è‰²ï¼›</li><li>ä»£ç é‡ä¼šç¿»å€ â€”â€” å¼€å‘æ•ˆç‡ä¼šå˜ä½</li></ul><h3 id="10-2-ã€åŠ æ·±ç†è§£"><a href="#10-2-ã€åŠ æ·±ç†è§£" class="headerlink" title="10.2 ã€åŠ æ·±ç†è§£"></a>10.2 ã€åŠ æ·±ç†è§£</h3><p>ä»£ç ï¼š</p><ol><li><p>æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br></code></pre></td></tr></table></figure></li><li><p>çœŸå®è§’è‰²ï¼šæ”¹åŠ¨åŸæœ‰çš„ä¸šåŠ¡ä»£ç ï¼Œåœ¨å…¬å¸ä¸­æ˜¯å¤§å¿Œï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//çœŸå®å¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;ä¿®æ”¹äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>éœ€æ±‚æ¥äº†ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å¢åŠ ä¸€ä¸ªæ—¥å¿—åŠŸèƒ½ï¼Œæ€ä¹ˆå®ç°ï¼</p><ul><li>æ€è·¯1 ï¼šåœ¨å®ç°ç±»ä¸Šå¢åŠ ä»£ç  ã€éº»çƒ¦ï¼ã€‘</li><li>æ€è·¯2ï¼šä½¿ç”¨ä»£ç†æ¥åšï¼Œèƒ½å¤Ÿä¸æ”¹å˜åŸæ¥çš„ä¸šåŠ¡æƒ…å†µä¸‹ï¼Œå®ç°æ­¤åŠŸèƒ½å°±æ˜¯æœ€å¥½çš„äº†ï¼</li></ul></li><li><p>è®¾ç½®ä¸€ä¸ªä»£ç†ç±»æ¥å¤„ç†æ—¥å¿—ï¼ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceProxy</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> UserService userService;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setUserService</span><span class="hljs-params">(UserService userService)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.userService = userService;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;<br>        log(<span class="hljs-string">&quot;add&quot;</span>);<br>        userService.add();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span> </span>&#123;<br>        log(<span class="hljs-string">&quot;delete&quot;</span>);<br>        userService.delete();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span> </span>&#123;<br>        log(<span class="hljs-string">&quot;update&quot;</span>);<br>        userService.update();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">()</span> </span>&#123;<br>        log(<span class="hljs-string">&quot;query&quot;</span>);<br>        userService.query();<br>    &#125;<br><br>    <span class="hljs-comment">//æ—¥å¿—æ–¹æ³•</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">log</span><span class="hljs-params">(String msg)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;ä½¿ç”¨äº†&quot;</span> + msg + <span class="hljs-string">&quot;æ–¹æ³•&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯è®¿é—®ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Client</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        UserService userService = <span class="hljs-keyword">new</span> UserServiceImpl();<br><br>        UserServiceProxy proxy = <span class="hljs-keyword">new</span> UserServiceProxy();<br>        proxy.setUserService(userService);<br><br>        proxy.add();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>ç¬¦åˆå¼€é—­åŸåˆ™ï¼šè½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ï¼Œæ¨¡å—ï¼Œå‡½æ•°ç­‰ç­‰ï¼‰å¯¹äºæ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„</p><p><strong>æˆ‘ä»¬åœ¨ä¸æ”¹å˜åŸæ¥çš„ä»£ç çš„æƒ…å†µä¸‹ï¼Œå®ç°äº†å¯¹åŸæœ‰åŠŸèƒ½çš„å¢å¼ºï¼Œè¿™æ˜¯AOPä¸­æœ€æ ¸å¿ƒçš„æ€æƒ³</strong></p><p>èŠèŠAOPï¼šçºµå‘å¼€å‘ï¼Œæ¨ªå‘å¼€å‘</p><p><img src="/images/9.png" alt="1078856-20170205160357354-490660449"></p><h3 id="10-3ã€åŠ¨æ€ä»£ç†"><a href="#10-3ã€åŠ¨æ€ä»£ç†" class="headerlink" title="10.3ã€åŠ¨æ€ä»£ç†"></a>10.3ã€åŠ¨æ€ä»£ç†</h3><ul><li>åŠ¨æ€ä»£ç†å’Œé™æ€ä»£ç†è§’è‰²ä¸€æ ·</li><li>åŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸æ˜¯ æˆ‘ä»¬ç›´æ¥å†™å¥½çš„ï¼</li><li>åŠ¨æ€ä»£ç†åˆ†ä¸ºä¸¤å¤§ç±»ï¼šåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†ã€åŸºäºç±»çš„åŠ¨æ€ä»£ç†<ul><li>åŸºäºæ¥å£ï¼šJDKåŠ¨æ€ä»£ç†ã€æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ã€‘</li><li>åŸºäºç±»ï¼šcglib</li><li>javaå­—èŠ‚ç å®ç°ï¼šjavasist</li></ul></li></ul><p>éœ€è¦äº†è§£ä¸¤ä¸ªç±»ï¼šProxyï¼šä»£ç†ï¼ŒInvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åº</p><p>åŠ¨æ€ä»£ç†çš„å¥½å¤„ï¼š</p><ul><li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼ä¸ç”¨å»å…³æ³¨ä¸€äº›å…¬å…±çš„ä¸šåŠ¡</li><li>å…¬å…±ä¹Ÿå°±äº¤ç»™ä»£ç†è§’è‰²ï¼å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ï¼</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†ï¼</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»ä»£ç†çš„æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸€èˆ¬å°±æ˜¯å¯¹åº”çš„ä¸€ç±»ä¸šåŠ¡</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œåªè¦æ˜¯å®ç°äº†åŒä¸€ä¸ªæ¥å£å³å¯ã€æ ¸å¿ƒã€‘</li></ul><br><h2 id="11ã€AOP"><a href="#11ã€AOP" class="headerlink" title="11ã€AOP"></a>11ã€AOP</h2><h3 id="11-1ã€ä»€ä¹ˆæ˜¯AOP"><a href="#11-1ã€ä»€ä¹ˆæ˜¯AOP" class="headerlink" title="11.1ã€ä»€ä¹ˆæ˜¯AOP"></a>11.1ã€ä»€ä¹ˆæ˜¯AOP</h3><p>AOPï¼ˆAspect Oriented Programmingï¼‰æ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p><p><img src="https://mmbiz.qpic.cn/mmbiz_png/uJDAUKrGC7JAeTYOaaH6rZ6WmLLgwQLHf5pmH30gj6mZm81PC7iauicFu55sicJtspU7K3vTCVdZCDTSHq7D5XHlw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p><h3 id="11-2ã€Aopåœ¨Springä¸­çš„ä½œç”¨"><a href="#11-2ã€Aopåœ¨Springä¸­çš„ä½œç”¨" class="headerlink" title="11.2ã€Aopåœ¨Springä¸­çš„ä½œç”¨"></a>11.2ã€Aopåœ¨Springä¸­çš„ä½œç”¨</h3><p><strong>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼›å…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢</strong></p><p>ä»¥ä¸‹åè¯éœ€è¦äº†è§£ä¸‹ï¼š</p><ul><li>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å¦‚æ—¥å¿— , å®‰å…¨ , ç¼“å­˜ , äº‹åŠ¡ç­‰ç­‰ â€¦.</li><li>åˆ‡é¢ï¼ˆASPECTï¼‰ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹ è¢«æ¨¡å—åŒ– çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ã€‚<font color="red">Log</font></li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œã€‚å³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚<font color="red">Logæ–¹æ³•</font></li><li>ç›®æ ‡ï¼ˆTargetï¼‰ï¼šè¢«é€šçŸ¥å¯¹è±¡ã€‚<font color="red">æ¥å£</font></li><li>ä»£ç†ï¼ˆProxyï¼‰ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡ã€‚<font color="red">ä»£ç†ç±»</font></li><li>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰ï¼šåˆ‡é¢é€šçŸ¥ æ‰§è¡Œçš„ â€œåœ°ç‚¹â€çš„å®šä¹‰ã€‚<font color="red">method</font></li><li>è¿æ¥ç‚¹ï¼ˆJointPointï¼‰ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚<font color="red">invoke</font></li></ul><p><img src="/images/10.png" alt="1078856-20170205160357354-490660449"></p><p>SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringä¸­æ”¯æŒ5ç§ç±»å‹çš„Advice:</p><table><thead><tr><th align="center">é€šçŸ¥ç±»å‹</th><th align="center">è¿æ¥ç‚¹</th><th align="center">å®ç°æ¥å£</th></tr></thead><tbody><tr><td align="center">å‰ç½®é€šçŸ¥</td><td align="center">æ–¹æ³•å‰</td><td align="center">org.springframework.aop.MethodBeforeAdvice</td></tr><tr><td align="center">åç½®é€šçŸ¥</td><td align="center">æ–¹æ³•å</td><td align="center">org.springframework.aop.AfterReturningAdvice</td></tr><tr><td align="center">ç¯ç»•é€šçŸ¥</td><td align="center">æ–¹æ³•å‰å</td><td align="center">org.aopalliance.intercept.MethodInterceptor</td></tr><tr><td align="center">å¼‚å¸¸æŠ›å‡ºé€šçŸ¥</td><td align="center">æ–¹æ³•æŠ›å‡ºå¼‚å¸¸</td><td align="center">org.springframework.aop.ThrowsAdvice</td></tr><tr><td align="center">å¼•ä»‹é€šçŸ¥</td><td align="center">ç±»ä¸­å¢åŠ æ–°çš„æ–¹æ³•å±æ€§</td><td align="center">org.springframework.aop.IntroductionInterceptor</td></tr></tbody></table><p><strong>å³ Aop åœ¨ ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ , å»å¢åŠ æ–°çš„åŠŸèƒ½ã€‚</strong></p><p>**Springçš„Aopå°±æ˜¯å°†å…¬å…±çš„ä¸šåŠ¡ (æ—¥å¿— , å®‰å…¨ç­‰) å’Œé¢†åŸŸä¸šåŠ¡ç»“åˆèµ·æ¥ï¼Œå½“æ‰§è¡Œé¢†åŸŸä¸šåŠ¡æ—¶ï¼Œå°†ä¼šæŠŠå…¬å…±ä¸šåŠ¡åŠ è¿›æ¥ã€‚å®ç°å…¬å…±ä¸šåŠ¡çš„é‡å¤åˆ©ç”¨ã€‚é¢†åŸŸä¸šåŠ¡æ›´çº¯ç²¹ï¼Œç¨‹åºçŒ¿ä¸“æ³¨é¢†åŸŸä¸šåŠ¡ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯åŠ¨æ€ä»£ç†ã€‚ **</p><h3 id="11-3ã€ä½¿ç”¨Springå®ç°Aop"><a href="#11-3ã€ä½¿ç”¨Springå®ç°Aop" class="headerlink" title="11.3ã€ä½¿ç”¨Springå®ç°Aop"></a>11.3ã€ä½¿ç”¨Springå®ç°Aop</h3><p>ã€é‡ç‚¹ã€‘ä½¿ç”¨AOPç»‡å…¥ï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–åŒ…ï¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>   <br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="æ–¹å¼ä¸€ï¼šSpringçš„APIæ¥å£"><a href="#æ–¹å¼ä¸€ï¼šSpringçš„APIæ¥å£" class="headerlink" title="æ–¹å¼ä¸€ï¼šSpringçš„APIæ¥å£"></a>æ–¹å¼ä¸€ï¼šSpringçš„APIæ¥å£</h5><p><strong>ä½¿ç”¨Springçš„APIæ¥å£ã€ä¸»è¦SpringAPIæ¥å£å®ç°ã€‘</strong></p><ol><li><p>é¦–å…ˆç¼–å†™æˆ‘ä»¬çš„<strong>ä¸šåŠ¡æ¥å£å’Œå®ç°ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> </span>&#123;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span></span>;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span></span>;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span></span>;<br><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">select</span><span class="hljs-params">()</span></span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span></span>&#123;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>&#123;<br>       System.out.println(<span class="hljs-string">&quot;å¢åŠ ç”¨æˆ·&quot;</span>);<br>  &#125;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">delete</span><span class="hljs-params">()</span> </span>&#123;<br>       System.out.println(<span class="hljs-string">&quot;åˆ é™¤ç”¨æˆ·&quot;</span>);<br>  &#125;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span> </span>&#123;<br>       System.out.println(<span class="hljs-string">&quot;æ›´æ–°ç”¨æˆ·&quot;</span>);<br>  &#125;<br><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">select</span><span class="hljs-params">()</span> </span>&#123;<br>       System.out.println(<span class="hljs-string">&quot;æŸ¥è¯¢ç”¨æˆ·&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å†™æˆ‘ä»¬çš„<strong>å¢å¼ºç±»</strong> , æˆ‘ä»¬ç¼–å†™ä¸¤ä¸ª , ä¸€ä¸ªå‰ç½®å¢å¼º ä¸€ä¸ªåç½®å¢å¼º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Log</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">MethodBeforeAdvice</span> </span>&#123;<br><br>   <span class="hljs-comment">//method : è¦æ‰§è¡Œçš„ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</span><br>   <span class="hljs-comment">//objects : è¢«è°ƒç”¨çš„æ–¹æ³•çš„å‚æ•°</span><br>   <span class="hljs-comment">//Object : ç›®æ ‡å¯¹è±¡</span><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">(Method method, Object[] objects, Object o)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;<br>       System.out.println( o.getClass().getName() + <span class="hljs-string">&quot;çš„&quot;</span> + method.getName() + <span class="hljs-string">&quot;æ–¹æ³•è¢«æ‰§è¡Œäº†&quot;</span>);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AfterLog</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">AfterReturningAdvice</span> </span>&#123;<br>   <span class="hljs-comment">//returnValue è¿”å›å€¼</span><br>   <span class="hljs-comment">//methodè¢«è°ƒç”¨çš„æ–¹æ³•</span><br>   <span class="hljs-comment">//args è¢«è°ƒç”¨çš„æ–¹æ³•çš„å¯¹è±¡çš„å‚æ•°</span><br>   <span class="hljs-comment">//target è¢«è°ƒç”¨çš„ç›®æ ‡å¯¹è±¡</span><br>   <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">afterReturning</span><span class="hljs-params">(Object returnValue, Method method, Object[] args, Object target)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;<br>       System.out.println(<span class="hljs-string">&quot;æ‰§è¡Œäº†&quot;</span> + target.getClass().getName()<br>       +<span class="hljs-string">&quot;çš„&quot;</span>+method.getName()+<span class="hljs-string">&quot;æ–¹æ³•,&quot;</span><br>       +<span class="hljs-string">&quot;è¿”å›å€¼ï¼š&quot;</span>+returnValue);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨springçš„æ–‡ä»¶ä¸­<strong>æ³¨å†Œ</strong> , å¹¶<strong>å®ç°aopåˆ‡å…¥</strong>å®ç° , æ³¨æ„å¯¼å…¥çº¦æŸ .</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xmlns:aop</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/aop&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/aop/spring-aop.xsd&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.service.UserServiceImpl&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.Log.Log&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;afterLog&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.Log.AfterLog&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--aopçš„é…ç½®--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--åˆ‡å…¥ç‚¹ expression:è¡¨è¾¾å¼åŒ¹é…è¦æ‰§è¡Œçš„æ–¹æ³•--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;pointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.wang.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!--æ‰§è¡Œç¯ç»•; advice-refæ‰§è¡Œæ–¹æ³• . pointcut-refåˆ‡å…¥ç‚¹--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;log&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;pointcut&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;afterLog&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;pointcut&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;beans.xml&quot;</span>);<br>        UserService userService = (UserService) context.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br>        userService.select();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>Aopçš„é‡è¦æ€§ : å¾ˆé‡è¦ ï¼Œä¸€å®šè¦ç†è§£å…¶ä¸­çš„æ€è·¯ï¼Œ ä¸»è¦æ˜¯æ€æƒ³çš„ç†è§£è¿™ä¸€å—ã€‚</p><p>**Springçš„Aopå°±æ˜¯å°†å…¬å…±çš„ä¸šåŠ¡ (æ—¥å¿— , å®‰å…¨ç­‰) å’Œé¢†åŸŸä¸šåŠ¡ç»“åˆèµ·æ¥ï¼Œå½“æ‰§è¡Œé¢†åŸŸä¸šåŠ¡æ—¶ï¼Œå°†ä¼šæŠŠå…¬å…±ä¸šåŠ¡åŠ è¿›æ¥ã€‚å®ç°å…¬å…±ä¸šåŠ¡çš„é‡å¤åˆ©ç”¨ã€‚é¢†åŸŸä¸šåŠ¡æ›´çº¯ç²¹ï¼Œç¨‹åºçŒ¿ä¸“æ³¨é¢†åŸŸä¸šåŠ¡ï¼Œå…¶æœ¬è´¨è¿˜æ˜¯åŠ¨æ€ä»£ç†ã€‚ **</p><h5 id="æ–¹å¼äºŒï¼šè‡ªå®šä¹‰æ¥å®ç°ã€ä¸»è¦æ˜¯åˆ‡é¢å®šä¹‰ã€‘"><a href="#æ–¹å¼äºŒï¼šè‡ªå®šä¹‰æ¥å®ç°ã€ä¸»è¦æ˜¯åˆ‡é¢å®šä¹‰ã€‘" class="headerlink" title="æ–¹å¼äºŒï¼šè‡ªå®šä¹‰æ¥å®ç°ã€ä¸»è¦æ˜¯åˆ‡é¢å®šä¹‰ã€‘"></a>æ–¹å¼äºŒï¼šè‡ªå®šä¹‰æ¥å®ç°ã€ä¸»è¦æ˜¯åˆ‡é¢å®šä¹‰ã€‘</h5><p>ç›®æ ‡ä¸šåŠ¡ç±»ä¸å˜ä¾æ—§æ˜¯userServiceImpl</p><ol><li><p>å†™æˆ‘ä»¬è‡ªå·±çš„ä¸€ä¸ªåˆ‡å…¥ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DiyPointCut</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;==========æ–¹æ³•æ‰§è¡Œå‰============&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">after</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;==========æ–¹æ³•æ‰§è¡Œå============&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å»springä¸­é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.service.UserServiceImpl&quot;</span>/&gt;</span><br>   <br>   <span class="hljs-comment">&lt;!--æ–¹å¼äºŒï¼šè‡ªå®šä¹‰ç±»--&gt;</span><br>   <span class="hljs-comment">&lt;!--æ³¨å†Œbean--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;diy&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.DIY.DiyPointCut&quot;</span>/&gt;</span><br>   <br>   <span class="hljs-comment">&lt;!--aopçš„é…ç½®--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--è‡ªå®šä¹‰åˆ‡é¢ï¼Œrefè¦å¼•ç”¨çš„ç±»--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspect</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;diy&quot;</span>&gt;</span><br>           <span class="hljs-comment">&lt;!--åˆ‡å…¥ç‚¹--&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;point&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.wang.service.UserServiceImpl.*(..))&quot;</span>/&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">aop:before</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;before&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;point&quot;</span>/&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">aop:after</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;after&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;point&quot;</span>/&gt;</span><br>           <span class="hljs-comment">&lt;!--é€šçŸ¥--&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">aop:aspect</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><p>*(..)    * è¡¨ç¤ºæ–¹æ³•ååŒ¹é…ï¼›.. è¡¨ç¤ºæ–¹æ³•çš„å‚æ•°ä¸é™</p></li><li><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span> </span>&#123;<br>    ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;applicationContext.xml&quot;</span>);<br><br>    UserService userService = (UserService)context.getBean(<span class="hljs-string">&quot;userService&quot;</span>);<br><br>    userService.add();<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h5 id="æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°ï¼"><a href="#æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°ï¼" class="headerlink" title="æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°ï¼"></a>æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£å®ç°ï¼</h5><ol><li><p>ç¼–å†™ä¸€ä¸ªæ³¨è§£å®ç°çš„<strong>å¢å¼ºç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£çš„æ–¹å¼å®ç°AOP</span><br><span class="hljs-meta">@Aspect</span><span class="hljs-comment">//æ ‡æ³¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnnotationPointCut</span> </span>&#123;<br>    <span class="hljs-meta">@Before(&quot;execution(* com.wang.service.UserServiceImpl.*(..))&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">before</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;==========æ–¹æ³•æ‰§è¡Œå‰============&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-meta">@After(&quot;execution(* com.wang.service.UserServiceImpl.*(..))&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">after</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;==========æ–¹æ³•æ‰§è¡Œå============&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//åœ¨ç¯ç»•å¢å¼ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®šä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨æˆ‘ä»¬è¦è·å–å¤„ç†åˆ‡å…¥çš„ç‚¹</span><br>    <span class="hljs-meta">@Around(&quot;execution(* com.wang.service.UserServiceImpl.*(..))&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">around</span><span class="hljs-params">(ProceedingJoinPoint jp)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;==========ç¯ç»•å‰============&quot;</span>);<br><br>        <span class="hljs-comment">//è·å–ç­¾å</span><br>        <span class="hljs-comment">//Signature signature = jp.getSignature();</span><br>        <span class="hljs-comment">//System.out.println(&quot;signature:&quot; + signature);</span><br><br>        <span class="hljs-comment">//æ‰§è¡Œæ–¹æ³•</span><br>        Object proceed = jp.proceed();<br><br>        System.out.println(<span class="hljs-string">&quot;==========ç¯ç»•å============&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>åœ¨Springé…ç½®æ–‡ä»¶ä¸­ï¼Œæ³¨å†Œbeanï¼Œå¹¶å¢åŠ æ”¯æŒæ³¨è§£çš„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ–¹å¼ä¸‰ï¼šæ³¨è§£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;annotationPointCut&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.DIY.AnnotationPointCut&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!--å¼€å¯æ³¨è§£æ”¯æŒ: JDKï¼ˆé»˜è®¤proxy-target-class=&quot;false&quot;ï¼‰ cglibï¼ˆé»˜è®¤proxy-target-class=&quot;true&quot;ï¼‰--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span> <span class="hljs-attr">proxy-target-class</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure></li></ol><br><h2 id="12ã€æ•´åˆMybatis"><a href="#12ã€æ•´åˆMybatis" class="headerlink" title="12ã€æ•´åˆMybatis"></a>12ã€æ•´åˆMybatis</h2><p>æ­¥éª¤ï¼š</p><ol><li><p>å¯¼å…¥ç›¸å…³jaråŒ…</p><ul><li><p>junit</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>mybatis</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>mysqlæ•°æ®åº“ï¼šmysql-connector-java</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.27<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>springç›¸å…³çš„ï¼šspring-webmvc</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!--Springæ“ä½œæ•°æ®åº“ï¼Œè¿˜éœ€è¦ä¸€ä¸ªspring-jdbc--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-jdbc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.10.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>aspectJ AOP ç»‡å…¥å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.aspectj<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>aspectjweaver<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.9.4<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>mybatis-springæ•´åˆåŒ…ã€é‡ç‚¹ã€‘</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>é…ç½®Mavené™æ€èµ„æºè¿‡æ»¤é—®é¢˜ï¼ï¼ˆæ”¾è¿›pom.xmlé…ç½®ä¸­ï¼‰</p><p><strong>æ³¨ï¼šæ”¾åœ¨æœ€å¤–å±‚çš„ä¸»pom.xmlé…ç½®ä¸­</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><p>ç¼–å†™é…ç½®æ–‡ä»¶</p></li><li><p>æµ‹è¯•</p></li></ol><h3 id="12-1ã€å›å¿†mybatis"><a href="#12-1ã€å›å¿†mybatis" class="headerlink" title="12.1ã€å›å¿†mybatis"></a>12.1ã€å›å¿†mybatis</h3><ol><li><p>ç¼–å†™å®ä½“ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.pojo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>   <span class="hljs-keyword">private</span> String name;<br>   <span class="hljs-keyword">private</span> String pwd;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶mybatis-config.xml</p><p>ä¹‹åéœ€è¦å°† mybatis-config.xml ä¸­çš„ <u>mapperæ³¨å†Œ</u> å»æ‰ï¼Œå¦åˆ™ä¼šæŠ¥é‡å¤å®šä¹‰çš„é”™è¯¯</p><p>ï¼ˆå› ä¸ºåœ¨spring-dao.xmlä¸­å·²ç»ç»‘å®šmybatis-configäº†ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--configurationæ ¸å¿ƒé…ç½®æ–‡ä»¶--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=UTF-8&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;com/wang/mapper/UserMapper.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>&#123;<br>   <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™Mapper.xml</p><p><strong>æœ‰æ—¶ä¼šæŠ¥é”™éœ€è¦åˆ é™¤ä¸­æ–‡æ³¨é‡Š</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">mapper</span></span><br><span class="hljs-meta">        <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span><br><span class="hljs-meta">        <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--namespace=ç»‘å®šä¸€ä¸ªå¯¹åº”çš„Dao/Mapperæ¥å£--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.wang.mapper.UserMapper&quot;</span>&gt;</span><br><br>    <span class="hljs-comment">&lt;!--selectæŸ¥è¯¢è¯­å¥--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserList&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.wang.pojo.User&quot;</span>&gt;</span><br>        select * from mybatis.user<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>å·¥å…·ç±»MybatisUtilsï¼ˆåé¢å¯ä»¥ä¸ç”¨å•ç‹¬å†å†™ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.utils;<br><br><span class="hljs-keyword">import</span> org.apache.ibatis.io.Resources;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;<br><br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><br><span class="hljs-comment">//sqlSessionFactory --&gt; sqlSession</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MybatisUtils</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> SqlSessionFactory sqlSessionFactory; <span class="hljs-comment">//æå‡ä½œç”¨åŸŸ</span><br><br>    <span class="hljs-keyword">static</span>&#123;<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-comment">//ä½¿ç”¨Mybatisç¬¬ä¸€æ­¥ï¼šè·å–sqlSessionFactoryå¯¹è±¡</span><br>            String resource = <span class="hljs-string">&quot;mybatis-config.xml&quot;</span>;<br>            InputStream inputStream = Resources.getResourceAsStream(resource);<br>            sqlSessionFactory = <span class="hljs-keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);<br>        &#125; <span class="hljs-keyword">catch</span> (IOException e) &#123;<br>            e.printStackTrace();<br>        &#125;<br><br>    &#125;<br><br>    <span class="hljs-comment">//æ—¢ç„¶æœ‰äº† SqlSessionFactoryï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»ä¸­è·å¾— SqlSession çš„å®ä¾‹äº†ã€‚</span><br>    <span class="hljs-comment">// SqlSession å®Œå…¨åŒ…å«äº†é¢å‘æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³•ã€‚</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SqlSession <span class="hljs-title">getSqlSession</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> sqlSessionFactory.openSession();<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.wang.mapper.UserMapper;<br><span class="hljs-keyword">import</span> org.apache.ibatis.session.SqlSession;<br><span class="hljs-keyword">import</span> org.junit.Test;<br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> com.wang.utils.MybatisUtils;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTest</span> </span>&#123;<br>    <span class="hljs-meta">@Test</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">//ç¬¬ä¸€æ­¥ï¼šè·å¾—SqlSessionå¯¹è±¡</span><br>        SqlSession sqlSession = MybatisUtils.getSqlSession();<br><br>        UserMapper userDao = sqlSession.getMapper(UserMapper.class);<br>        List&lt;User&gt; userList = userDao.getUserList();<br><br>        <span class="hljs-keyword">for</span> (User user : userList) &#123;<br>            System.out.println(user);<br>        &#125;<br><br>        <span class="hljs-comment">//å…³é—­SqlSession</span><br>        sqlSession.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="12-2ã€Mybatis-Spring"><a href="#12-2ã€Mybatis-Spring" class="headerlink" title="12.2ã€Mybatis-Spring"></a>12.2ã€Mybatis-Spring</h3><p>å¼•å…¥Springä¹‹å‰éœ€è¦äº†è§£mybatis-springåŒ…ä¸­çš„ä¸€äº›é‡è¦ç±»ï¼›</p><p><a href="http://www.mybatis.org/spring/zh/index.html">mybatis-springå®˜ç½‘</a></p><p><img src="/images/13.png" alt="1078856-20170205160357354-490660449"></p><p><strong>ä»€ä¹ˆæ˜¯ MyBatis-Springï¼Ÿ</strong></p><p>MyBatis-Spring ä¼šå¸®åŠ©ä½ å°† MyBatis ä»£ç æ— ç¼åœ°æ•´åˆåˆ° Spring ä¸­ã€‚</p><p><strong>çŸ¥è¯†åŸºç¡€</strong></p><p>åœ¨å¼€å§‹ä½¿ç”¨ MyBatis-Spring ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆç†Ÿæ‚‰ Spring å’Œ MyBatis è¿™ä¸¤ä¸ªæ¡†æ¶å’Œæœ‰å…³å®ƒä»¬çš„æœ¯è¯­ï¼Œè¿™å¾ˆé‡è¦ã€‚</p><p>MyBatis-Spring éœ€è¦ä»¥ä¸‹ç‰ˆæœ¬ï¼š</p><table><thead><tr><th align="center">MyBatis-Spring</th><th align="center">MyBatis</th><th align="center">Spring æ¡†æ¶</th><th align="center">Spring Batch</th><th align="center">Java</th></tr></thead><tbody><tr><td align="center">2.0</td><td align="center">3.5+</td><td align="center">5.0+</td><td align="center">4.0+</td><td align="center">Java 8+</td></tr><tr><td align="center">1.3</td><td align="center">3.4+</td><td align="center">3.2.2+</td><td align="center">2.1+</td><td align="center">Java 6+</td></tr></tbody></table><p>å¦‚æœä½¿ç”¨ Maven ä½œä¸ºæ„å»ºå·¥å…·ï¼Œä»…éœ€è¦åœ¨ pom.xml ä¸­åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-spring<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.0.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="æ•´åˆæ–¹å¼ä¸€"><a href="#æ•´åˆæ–¹å¼ä¸€" class="headerlink" title="æ•´åˆæ–¹å¼ä¸€"></a><strong>æ•´åˆæ–¹å¼ä¸€</strong></h5><ol><li><p>å¼•å…¥é…ç½®æ–‡ä»¶ spring-dao.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span><br><span class="hljs-string"><span class="hljs-tag">       http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>ç¼–å†™æ•°æ®æºé…ç½®DataSource</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®æ•°æ®æºï¼šæ•°æ®æºæœ‰éå¸¸å¤šï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¹Ÿå¯ä½¿ä½¿ç”¨Springçš„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="hljs-symbol">&amp;amp;</span>useUnicode=true<span class="hljs-symbol">&amp;amp;</span>characterEncoding=utf8&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>sqlSessionFactory</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®SqlSessionFactory--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--ç»‘å®šMybatis--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;configLocation&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;mapperLocations&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;classpath:com/wang/mapper/*.xml&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>sqlSessionTemplate</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ³¨å†ŒsqlSessionTemplate , å…³è”sqlSessionFactory--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.mybatis.spring.SqlSessionTemplate&quot;</span>&gt;</span><br>   <span class="hljs-comment">&lt;!--åˆ©ç”¨æ„é€ å™¨æ³¨å…¥,æ²¡æœ‰setæ³¨å…¥ï¼Œåªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥--&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ€»è§ˆï¼šï¼ˆ2ã€3ã€4çš„beanåŸºæœ¬éƒ½ä¸éœ€è¦è¿›è¡Œæ”¹åŠ¨ï¼‰</p><p><img src="/.io//image-20220406214353187.png" alt="image-20220406214353187"></p></li><li><p><strong>éœ€è¦ç»™æ¥å£åŠ å®ç°ç±»</strong>ã€æ–°åŠ çš„ã€‘</p><p>ï¼ˆæ•´åˆspringå’Œmybatiséœ€è¦æ–°åŠ å®ç°ç±»ï¼Œä½¿å¾—springå¯ä»¥åˆ›å»ºSqlSessionTemplateï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.wang.mapper;<br><br><span class="hljs-keyword">import</span> com.wang.pojo.User;<br><span class="hljs-keyword">import</span> org.mybatis.spring.SqlSessionTemplate;<br><br><span class="hljs-keyword">import</span> java.util.List;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserMapper</span> </span>&#123;<br>    <span class="hljs-comment">//sqlSessionä¸ç”¨æˆ‘ä»¬è‡ªå·±åˆ›å»ºäº†ï¼ŒSpringæ¥ç®¡ç†</span><br>    <span class="hljs-keyword">private</span> SqlSessionTemplate sqlSession;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setSqlSession</span><span class="hljs-params">(SqlSessionTemplate sqlSession)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.sqlSession = sqlSession;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span> </span>&#123;<br>        UserMapper mapper = sqlSession.getMapper(UserMapper.class);<br>        <span class="hljs-keyword">return</span> mapper.getUserList();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>å°†è‡ªå·±å†™çš„å®ç°ç±»ï¼Œæ³¨å…¥åˆ°Springä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userMapper&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.mapper.UserMapperImpl&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSession&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSession&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•ä½¿ç”¨å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span></span>&#123;<br>    ClassPathXmlApplicationContext  context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;spring-dao.xml&quot;</span>);<br>    UserMapper mapper = (UserMapper) context.getBean(<span class="hljs-string">&quot;userMapper&quot;</span>);<br>    List&lt;User&gt; user = mapper.getUserList();<br>    System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p>ç»“æœæˆåŠŸè¾“å‡ºï¼<strong>ç°åœ¨æˆ‘ä»¬çš„Mybatisé…ç½®æ–‡ä»¶çš„çŠ¶æ€ï¼Œå‘ç°éƒ½å¯ä»¥è¢«Springæ•´åˆï¼</strong></p><p><strong>æ³¨æ„ï¼ï¼ï¼</strong></p><p>éœ€è¦å°† mybatis-config.xml ä¸­çš„ <u>mapperæ³¨å†Œ</u> å»æ‰ï¼Œå¦åˆ™ä¼šæŠ¥é‡å¤å®šä¹‰çš„é”™è¯¯</p><p>ï¼ˆå› ä¸ºåœ¨spring-dao.xmlä¸­å·²ç»ç»‘å®šmybatis-configäº†ï¼‰</p><p><code>&lt;mapper resource=&quot;com/wang/mapper/UserMapper.xml&quot;/&gt;</code></p><p><strong>æŠ¥é”™ä¿¡æ¯ï¼š</strong></p><p>Mapped Statements collection already contains value for com.wang.mapper.UserMapper.getUserList</p><p>ä¸ºäº†ç»™mybatis-config.xmlç•™ç‚¹é¢å­(ä½¿ç”¨æ–¹ä¾¿)ï¼Œåœ¨å…¶ä¸­å¯å°†åˆ«åå’Œè®¾ç½®ç•™ä¸‹æ¥</p>   <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span><br><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">configuration</span></span><br><span class="hljs-meta">          <span class="hljs-meta-keyword">PUBLIC</span> <span class="hljs-meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="hljs-meta">          <span class="hljs-meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">typeAliases</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;com.wang.pojo&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">typeAliases</span>&gt;</span><br><br>   <span class="hljs-comment">&lt;!-- &lt;settings&gt;</span><br><span class="hljs-comment">    &lt;setting&gt;&lt;/setting&gt;</span><br><span class="hljs-comment">    &lt;/settings&gt; --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="æ•´åˆå®ç°äºŒ"><a href="#æ•´åˆå®ç°äºŒ" class="headerlink" title="**æ•´åˆå®ç°äºŒ  **"></a>**æ•´åˆå®ç°äºŒ  **</h5><p>mybatis-spring1.2.3ç‰ˆä»¥ä¸Šçš„æ‰æœ‰è¿™ä¸ªã€‚</p><p>å®˜æ–¹æ–‡æ¡£æˆªå›¾ï¼š</p><p>daoç»§æ‰¿Supportç±»ï¼Œç›´æ¥åˆ©ç”¨ getSqlSession() è·å¾—ï¼Œç„¶åç›´æ¥æ³¨å…¥SqlSessionFactoryã€‚</p><p>æ¯”èµ·æ–¹å¼1ï¼Œä¸éœ€è¦ç®¡ç†SqlSessionTemplateï¼Œè€Œä¸”å¯¹äº‹åŠ¡çš„æ”¯æŒæ›´åŠ å‹å¥½ã€‚å¯è·Ÿè¸ªæºç æŸ¥çœ‹</p><p><img src="/images/12.png" alt="1078856-20170205160357354-490660449"></p><p>æµ‹è¯•ï¼š</p><ol><li><p>å°†æˆ‘ä»¬ä¸Šé¢å†™çš„UserMapperImplä¿®æ”¹ä¸€ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserMapperImpl2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">SqlSessionDaoSupport</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserMapper</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">getUserList</span><span class="hljs-params">()</span> </span>&#123;<br>        UserMapper mapper = getSqlSession().getMapper(UserMapper.class);<br>        <span class="hljs-keyword">return</span> mapper.getUserList();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ä¿®æ”¹beançš„é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userMapper2&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.wang.mapper.UserMapperImpl2&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;sqlSessionFactory&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">()</span></span>&#123;<br>    ApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;spring-dao.xml&quot;</span>);<br>    UserMapper mapper = (UserMapper) context.getBean(<span class="hljs-string">&quot;userMapper2&quot;</span>);<br>    List&lt;User&gt; user = mapper.getUserList();<br>    System.out.println(user);<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><p><strong><font color="red">æ€»ç»“ : æ•´åˆåˆ°springä»¥åå¯ä»¥å®Œå…¨ä¸è¦mybatisçš„é…ç½®æ–‡ä»¶ï¼Œé™¤äº†è¿™äº›æ–¹å¼å¯ä»¥å®ç°æ•´åˆä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨æ³¨è§£æ¥å®ç°ï¼Œè¿™ä¸ªç­‰æˆ‘ä»¬åé¢å­¦ä¹ SpringBootçš„æ—¶å€™è¿˜ä¼šæµ‹è¯•æ•´åˆï¼</font></strong></p><br><h2 id="13ã€å£°æ˜å¼äº‹åŠ¡"><a href="#13ã€å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="13ã€å£°æ˜å¼äº‹åŠ¡"></a>13ã€å£°æ˜å¼äº‹åŠ¡</h2><h3 id="13-1ã€å›é¡¾äº‹åŠ¡"><a href="#13-1ã€å›é¡¾äº‹åŠ¡" class="headerlink" title="13.1ã€å›é¡¾äº‹åŠ¡"></a>13.1ã€å›é¡¾äº‹åŠ¡</h3><ul><li>æŠŠä¸€ç»„ä¸šåŠ¡å½“æˆä¸€ä¸ªä¸šåŠ¡æ¥åšï¼›è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼</li><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œååˆ†é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œä¸èƒ½é©¬è™</li><li>ç¡®ä¿å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li></ul><p><strong>äº‹åŠ¡çš„ACIDåŸåˆ™</strong></p><ul><li>åŸå­æ€§ï¼ˆatomicityï¼‰<ul><li>äº‹åŠ¡æ˜¯åŸå­æ€§æ“ä½œï¼Œç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆï¼Œäº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨</li></ul></li><li>ä¸€è‡´æ€§ï¼ˆconsistencyï¼‰<ul><li>ä¸€æ—¦æ‰€æœ‰äº‹åŠ¡åŠ¨ä½œå®Œæˆï¼Œäº‹åŠ¡å°±è¦è¢«æäº¤ã€‚æ•°æ®å’Œèµ„æºå¤„äºä¸€ç§æ»¡è¶³ä¸šåŠ¡è§„åˆ™çš„ä¸€è‡´æ€§çŠ¶æ€ä¸­</li></ul></li><li>éš”ç¦»æ€§ï¼ˆisolationï¼‰<ul><li>å¤šä¸ªä¸šåŠ¡å¯èƒ½æ“ä½œåŒä¸€ä¸ªèµ„æºï¼Œé˜²æ­¢æ•°æ®æŸå</li></ul></li><li>æŒä¹…æ€§ï¼ˆdurabilityï¼‰<ul><li>äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œæ— è®ºç³»ç»Ÿå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œç»“æœéƒ½ä¸ä¼šå†è¢«å½±å“ï¼Œè¢«æŒä¹…åŒ–çš„å†™åˆ°å­˜å‚¨å™¨ä¸­ï¼</li></ul></li></ul><h3 id="13-2ã€Springä¸­çš„äº‹åŠ¡ç®¡ç†"><a href="#13-2ã€Springä¸­çš„äº‹åŠ¡ç®¡ç†" class="headerlink" title="13.2ã€Springä¸­çš„äº‹åŠ¡ç®¡ç†"></a>13.2ã€Springä¸­çš„äº‹åŠ¡ç®¡ç†</h3><ul><li><p><strong>å£°æ˜å¼äº‹åŠ¡</strong>ï¼š<strong>AOP</strong></p><ul><li>ä¸€èˆ¬æƒ…å†µä¸‹æ¯”ç¼–ç¨‹å¼äº‹åŠ¡å¥½ç”¨ã€‚</li><li>å°†äº‹åŠ¡ç®¡ç†ä»£ç ä»ä¸šåŠ¡æ–¹æ³•ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œä»¥å£°æ˜çš„æ–¹å¼æ¥å®ç°äº‹åŠ¡ç®¡ç†ã€‚</li><li>å°†äº‹åŠ¡ç®¡ç†ä½œä¸ºæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼Œé€šè¿‡aopæ–¹æ³•æ¨¡å—åŒ–ã€‚Springä¸­é€šè¿‡Spring AOPæ¡†æ¶æ”¯æŒå£°æ˜å¼äº‹åŠ¡ç®¡ç†</li></ul></li><li><p><strong>ç¼–ç¨‹å¼äº‹åŠ¡</strong>ï¼šéœ€è¦åœ¨ä»£ç ä¸­ï¼Œè¿›è¡Œäº‹åŠ¡çš„ç®¡ç†</p><ul><li>å°†äº‹åŠ¡ç®¡ç†ä»£ç åµŒåˆ°ä¸šåŠ¡æ–¹æ³•ä¸­æ¥æ§åˆ¶äº‹åŠ¡çš„æäº¤å’Œå›æ»š</li><li>ç¼ºç‚¹ï¼šå¿…é¡»åœ¨æ¯ä¸ªäº‹åŠ¡æ“ä½œä¸šåŠ¡é€»è¾‘ä¸­åŒ…å«é¢å¤–çš„äº‹åŠ¡ç®¡ç†ä»£ç </li></ul></li><li><p><strong>ä½¿ç”¨Springç®¡ç†äº‹åŠ¡ï¼Œæ³¨æ„å¤´æ–‡ä»¶çš„çº¦æŸå¯¼å…¥ : tx</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;<br><br>http://www.springframework.org/schema/tx<br>http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;<br></code></pre></td></tr></table></figure></li><li><p><strong>äº‹åŠ¡ç®¡ç†å™¨</strong></p><ul><li>æ— è®ºä½¿ç”¨Springçš„å“ªç§äº‹åŠ¡ç®¡ç†ç­–ç•¥ï¼ˆç¼–ç¨‹å¼æˆ–è€…å£°æ˜å¼ï¼‰äº‹åŠ¡ç®¡ç†å™¨éƒ½æ˜¯å¿…é¡»çš„ã€‚</li><li>å°±æ˜¯ Springçš„æ ¸å¿ƒäº‹åŠ¡ç®¡ç†æŠ½è±¡ï¼Œç®¡ç†å°è£…äº†ä¸€ç»„ç‹¬ç«‹äºæŠ€æœ¯çš„æ–¹æ³•ã€‚</li></ul></li><li><p><strong>JDBCäº‹åŠ¡</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;dataSource&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>é…ç½®äº‹åŠ¡çš„é€šçŸ¥</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®äº‹åŠ¡é€šçŸ¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">tx:advice</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">tx:attributes</span>&gt;</span><br>       <span class="hljs-comment">&lt;!--é…ç½®å“ªäº›æ–¹æ³•ä½¿ç”¨ä»€ä¹ˆæ ·çš„äº‹åŠ¡,é…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§--&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;add&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;delete&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;update&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;search*&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;get&quot;</span> <span class="hljs-attr">read-only</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">tx:method</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;*&quot;</span> <span class="hljs-attr">propagation</span>=<span class="hljs-string">&quot;REQUIRED&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">tx:attributes</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">tx:advice</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p><strong>springäº‹åŠ¡ä¼ æ’­ç‰¹æ€§ï¼š</strong></p><p>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºå°±æ˜¯å¤šä¸ªäº‹åŠ¡æ–¹æ³•ç›¸äº’è°ƒç”¨æ—¶ï¼Œäº‹åŠ¡å¦‚ä½•åœ¨è¿™äº›æ–¹æ³•é—´ä¼ æ’­ã€‚springæ”¯æŒ7ç§äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼š</p><ul><li><strong>propagation_requierd</strong>ï¼šå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œå¦‚æœå·²å­˜åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼ŒåŠ å…¥åˆ°è¿™ä¸ªäº‹åŠ¡ä¸­ï¼Œè¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ã€‚</li><li><strong>propagation_nested</strong>ï¼šå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™åœ¨åµŒå¥—äº‹åŠ¡å†…æ‰§è¡Œã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™æ‰§è¡Œä¸propagation_requiredç±»ä¼¼çš„æ“ä½œ</li></ul></li><li><p><strong>é…ç½®AOP</strong>ï¼ˆå¯¼å…¥aopçš„å¤´æ–‡ä»¶ï¼ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é…ç½®aopç»‡å…¥äº‹åŠ¡--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">aop:config</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">aop:pointcut</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;txPointcut&quot;</span> <span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;execution(* com.wang.mapper.*.*(..))&quot;</span>/&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">aop:advisor</span> <span class="hljs-attr">advice-ref</span>=<span class="hljs-string">&quot;txAdvice&quot;</span> <span class="hljs-attr">pointcut-ref</span>=<span class="hljs-string">&quot;txPointcut&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">aop:config</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¹‹åï¼Œåªéœ€è¦ä¿®æ”¹ä¸Šé¢è¿™å—ä»£ç å°±è¡Œ</p></li></ul><p>æ€è€ƒï¼š</p><p>ä¸ºä»€ä¹ˆéœ€è¦äº‹åŠ¡ï¼Ÿ</p><ul><li>å¦‚æœä¸é…ç½®ï¼Œå¯èƒ½å­˜åœ¨æ•°æ®æäº¤ä¸ä¸€è‡´çš„æƒ…å†µï¼›</li><li>å¦‚æœæˆ‘ä»¬ä¸åœ¨Springä¸­å»é…ç½®å£°æ˜å¼äº‹åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä»£ç ä¸­æ‰‹åŠ¨é…ç½®äº‹åŠ¡ï¼</li><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹éå¸¸é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œä¸å®¹é©¬è™ï¼</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/06/21/%E5%B7%B2%E6%95%B4%E7%90%86/"/>
    <url>/2022/06/21/%E5%B7%B2%E6%95%B4%E7%90%86/</url>
    
    <content type="html"><![CDATA[<ul><li>ACM</li><li>AJAX</li><li>Djangoåç«¯</li><li>LeetCode</li><li>Vue.js</li><li>å‰ç«¯æ‚è®°</li><li>æ–‡ä»¶å¤„ç†</li><li>å°Skills</li><li>java<ul><li>æ³¨è§£ä¸åå°„</li><li>JavaåŸºç¡€</li><li>Spring</li><li>JavaWebå…¥é—¨</li><li>Mybatis</li><li>SpringMVC</li><li>SSMæ•´åˆ</li></ul></li><li>Debugæ±‡æ€»</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>created &amp; mounted</title>
    <link href="/2022/05/24/Vue.js/created%20&amp;%20mounted/"/>
    <url>/2022/05/24/Vue.js/created%20&amp;%20mounted/</url>
    
    <content type="html"><![CDATA[<h3 id="createdï¼š"><a href="#createdï¼š" class="headerlink" title="createdï¼š"></a>createdï¼š</h3><p><strong>åœ¨æ¨¡æ¿æ¸²æŸ“æˆ html å‰è°ƒç”¨</strong>ï¼Œå³é€šå¸¸åˆå§‹åŒ–æŸäº›å±æ€§å€¼ï¼Œç„¶åå†æ¸²æŸ“æˆè§†å›¾ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">methods: &#123;<br>            <span class="hljs-attr">indexs</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>                <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&#x27;&#123;:url(&quot;Index/fun&quot;)&#125;&#x27;</span>)<br>                    .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>&#123;<br>                        <span class="hljs-built_in">this</span>.items=res.data;<br>                        <span class="hljs-built_in">console</span>.log(res.data);<br>                    &#125;)<br>                    .catch(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)</span>&#123;<br>                        <span class="hljs-built_in">console</span>.log(error);<br>                    &#125;);<br>            &#125;<br>        &#125;,<br>        <span class="hljs-function"><span class="hljs-title">created</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-comment">//è‡ªåŠ¨åŠ è½½indexsæ–¹æ³•</span><br>            <span class="hljs-built_in">this</span>.indexs();<br>        &#125;<br><br></code></pre></td></tr></table></figure><br><h3 id="mountedï¼š"><a href="#mountedï¼š" class="headerlink" title="mountedï¼š"></a>mountedï¼š</h3><p>ï¼ˆå¤šç”¨äºé¡µé¢åˆå§‹åŒ–ï¼‰</p><p><strong>åœ¨æ¨¡æ¿æ¸²æŸ“æˆ html åè°ƒç”¨</strong>ï¼Œé€šå¸¸æ˜¯åˆå§‹åŒ–é¡µé¢å®Œæˆåï¼Œå†å¯¹htmlçš„domèŠ‚ç‚¹è¿›è¡Œä¸€äº›éœ€è¦çš„æ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">methods: &#123;<br>            <span class="hljs-attr">indexs</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>                <span class="hljs-built_in">this</span>.$http.post(<span class="hljs-string">&#x27;&#123;:url(&quot;Index/fun&quot;)&#125;&#x27;</span>)<br>                    .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>&#123;<br>                        <span class="hljs-built_in">this</span>.items=res.data;<br>                        <span class="hljs-built_in">console</span>.log(res.data);<br>                    &#125;)<br>                    .catch(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)</span>&#123;<br>                        <span class="hljs-built_in">console</span>.log(error);<br>                    &#125;);<br>            &#125;<br>        &#125;,<br>        <span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-comment">//è‡ªåŠ¨åŠ è½½indexsæ–¹æ³•</span><br>            <span class="hljs-built_in">this</span>.indexs();<br>        &#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</title>
    <link href="/2022/04/08/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E8%BD%AC%E5%8F%91/"/>
    <url>/2022/04/08/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/%E9%87%8D%E5%AE%9A%E5%90%91%E5%92%8C%E8%BD%AC%E5%8F%91/</url>
    
    <content type="html"><![CDATA[<h4 id="é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«"><a href="#é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" class="headerlink" title="é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«"></a>é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</h4><ul><li>ç›¸åŒç‚¹ï¼š<ul><li>é¡µé¢éƒ½ä¼šå®ç°è·³è½¬</li></ul></li><li>ä¸åŒç‚¹ï¼š<ul><li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurl ä¸ä¼šå‘ç”Ÿå˜åŒ–         307</li><li>é‡å®šå‘çš„æ—¶å€™ï¼Œurl åœ°å€æ ä¼šå‘ç”Ÿæ”¹å˜     302</li></ul></li></ul><img src="/images/image-20220408112026044.png" alt="image-20220408112026044" style="zoom: 60%;">]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/03/26/%E5%B0%8FSkills/Python%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%E5%8E%BB%E9%87%8D/"/>
    <url>/2022/03/26/%E5%B0%8FSkills/Python%E5%88%97%E8%A1%A8%E5%85%83%E7%B4%A0%E5%8E%BB%E9%87%8D/</url>
    
    <content type="html"><![CDATA[<h4 id="ä¸€èˆ¬æƒ…å†µï¼š"><a href="#ä¸€èˆ¬æƒ…å†µï¼š" class="headerlink" title="ä¸€èˆ¬æƒ…å†µï¼š"></a>ä¸€èˆ¬æƒ…å†µï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å°†list1è½¬åŒ–ä¸ºé›†åˆçš„å½¢å¼è¿›è¡Œå»é‡ï¼ˆé›†åˆå…·æœ‰å”¯ä¸€æ€§ï¼‰ï¼Œå•è·å–çš„æ–°åˆ—è¡¨æ˜¯ç»è¿‡å‡åºå±•ç¤ºçš„</span><br>list3 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(list1))  <span class="hljs-comment"># é™åº</span><br><span class="hljs-comment"># list3.sort(reverse=True)  # å‡åº</span><br><span class="hljs-built_in">print</span>(list3)<br></code></pre></td></tr></table></figure><h4 id="å½“åˆ—è¡¨listçš„å…ƒç´ ä¸ºå­—å…¸dicæ—¶ï¼š"><a href="#å½“åˆ—è¡¨listçš„å…ƒç´ ä¸ºå­—å…¸dicæ—¶ï¼š" class="headerlink" title="å½“åˆ—è¡¨listçš„å…ƒç´ ä¸ºå­—å…¸dicæ—¶ï¼š"></a>å½“åˆ—è¡¨listçš„å…ƒç´ ä¸ºå­—å…¸dicæ—¶ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> reduce<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deleteDuplicate</span>(<span class="hljs-params">li</span>):</span><br>    func = <span class="hljs-keyword">lambda</span> x, y: x <span class="hljs-keyword">if</span> y <span class="hljs-keyword">in</span> x <span class="hljs-keyword">else</span> x + [y]<br>    li = reduce(func, [[], ] + li)<br>    <span class="hljs-keyword">return</span> li<br><br><br>a=[&#123;<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">2</span>&#125;,<br>   &#123;<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">3</span>&#125;,<br>   &#123;<span class="hljs-string">&#x27;name&#x27;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">2</span>&#125;]<br><br><span class="hljs-built_in">print</span>(a)<br><br><span class="hljs-built_in">print</span>(deleteDuplicate(a))<br></code></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs scheme">[&#123;<span class="hljs-symbol">&#x27;name</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">1</span>, <span class="hljs-symbol">&#x27;a</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-symbol">&#x27;name</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">2</span>, <span class="hljs-symbol">&#x27;a</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">3</span>&#125;, &#123;<span class="hljs-symbol">&#x27;name</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">1</span>, <span class="hljs-symbol">&#x27;a</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">2</span>&#125;]<br>[&#123;<span class="hljs-symbol">&#x27;name</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">1</span>, <span class="hljs-symbol">&#x27;a</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">2</span>&#125;, &#123;<span class="hljs-symbol">&#x27;name</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">2</span>, <span class="hljs-symbol">&#x27;a</span><span class="hljs-symbol">&#x27;:</span> <span class="hljs-number">3</span>&#125;]<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title></title>
    <link href="/2022/03/25/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Word%20%E5%A4%84%E7%90%86/"/>
    <url>/2022/03/25/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/Word%20%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> docx <span class="hljs-keyword">import</span> Document<br><br><span class="hljs-comment">######################## åˆ›å»º ########################</span><br>document = Document()  <span class="hljs-comment"># æ–°å»ºæ–‡æ¡£å¯¹è±¡</span><br><span class="hljs-keyword">for</span> issue <span class="hljs-keyword">in</span> issue_type:<br>    file = <span class="hljs-string">&#x27;data/&#x27;</span> + issue + <span class="hljs-string">&#x27;.docx&#x27;</span><br>    document.save(file)<br><br><span class="hljs-comment">######################## è¿½åŠ å†™docx ########################</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(comment)):<br>    file = <span class="hljs-string">&#x27;data/&#x27;</span> + issue_id[i] + <span class="hljs-string">&#x27;.docx&#x27;</span><br>    document = Document(file)<br>    document.add_heading(comment_id[i], level=<span class="hljs-number">1</span>)<br>    document.add_heading(<span class="hljs-string">&#x27;issue_title: &#x27;</span> + issue_title[issue_id[i]], level=<span class="hljs-number">2</span>)<br>    document.add_heading(author_association[i], level=<span class="hljs-number">3</span>)<br>    document.add_heading(<span class="hljs-string">&#x27;user: &#x27;</span> + user[i], level=<span class="hljs-number">4</span>)<br>    p1 = document.add_paragraph(comment[i])<br>    document.save(file)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>9-MVCä¸‰å±‚æ¶æ„</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/9-MVC%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/9-MVC%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84/</url>
    
    <content type="html"><![CDATA[<h2 id="MVCä¸‰å±‚æ¶æ„"><a href="#MVCä¸‰å±‚æ¶æ„" class="headerlink" title="MVCä¸‰å±‚æ¶æ„"></a>MVCä¸‰å±‚æ¶æ„</h2><ul><li>ä»€ä¹ˆæ˜¯MVCï¼š Model view Controller æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨</li></ul><h3 id="1ã€ä»¥å‰çš„æ¶æ„"><a href="#1ã€ä»¥å‰çš„æ¶æ„" class="headerlink" title="1ã€ä»¥å‰çš„æ¶æ„"></a>1ã€ä»¥å‰çš„æ¶æ„</h3><p><img src="/.io//image-20220319224720058.png" alt="image-20220319224720058"></p><p>ç”¨æˆ·ç›´æ¥è®¿é—®æ§åˆ¶å±‚ï¼Œæ§åˆ¶å±‚å°±å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®åº“ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">servlet--CRUD--&gt;æ•°æ®åº“<br>    <br>å¼Šç«¯ï¼šç¨‹åºååˆ†è‡ƒè‚¿ï¼Œä¸åˆ©äºç»´æŠ¤  <br>servletçš„ä»£ç ä¸­ï¼šå¤„ç†è¯·æ±‚ã€å“åº”ã€è§†å›¾è·³è½¬ã€å¤„ç†JDBCã€å¤„ç†ä¸šåŠ¡ä»£ç ã€å¤„ç†é€»è¾‘ä»£ç <br><br>æ¶æ„ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„ï¼<br>ç¨‹åºçŒ¿è°ƒç”¨<br>â†‘<br>JDBC ï¼ˆå®ç°è¯¥æ¥å£ï¼‰<br>â†‘<br>Mysql Oracle SqlServer ....ï¼ˆä¸åŒå‚å•†ï¼‰<br></code></pre></td></tr></table></figure><h3 id="2ã€MVCä¸‰å±‚æ¶æ„"><a href="#2ã€MVCä¸‰å±‚æ¶æ„" class="headerlink" title="2ã€MVCä¸‰å±‚æ¶æ„"></a>2ã€MVCä¸‰å±‚æ¶æ„</h3><p><img src="/.io//image-20220319224732879.png" alt="image-20220319224732879"></p><p>Model</p><ul><li>ä¸šåŠ¡å¤„ç† ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆServiceï¼‰</li><li>æ•°æ®æŒä¹…å±‚ï¼šCRUD ï¼ˆDao - æ•°æ®æŒä¹…åŒ–å¯¹è±¡ï¼‰</li></ul><p>View</p><ul><li>å±•ç¤ºæ•°æ®</li><li>æä¾›é“¾æ¥å‘èµ·Servletè¯·æ±‚ ï¼ˆaï¼Œformï¼Œimgâ€¦ï¼‰</li></ul><p>Controller ï¼ˆServletï¼‰</p><ul><li>æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ ï¼šï¼ˆreqï¼šè¯·æ±‚å‚æ•°ã€Sessionä¿¡æ¯â€¦.ï¼‰</li><li>äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†å¯¹åº”çš„ä»£ç </li><li>æ§åˆ¶è§†å›¾çš„è·³è½¬</li></ul><p>æµç¨‹ï¼š</p><p>ç™»å½•â€”&gt;æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚â€”&gt;å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ˆè·å–ç”¨æˆ·ç™»å½•çš„å‚æ•°ï¼Œusernameï¼Œpasswordï¼‰â€”-&gt;äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†ç™»å½•ä¸šåŠ¡ï¼ˆåˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ï¼šäº‹åŠ¡ï¼‰â€”&gt;Daoå±‚æŸ¥è¯¢ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®â€“&gt;æ•°æ®åº“</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>8-JavaBean</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/8-JavaBean/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/8-JavaBean/</url>
    
    <content type="html"><![CDATA[<h2 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h2><p>å®ä½“ç±»</p><p>JavaBeanæœ‰ç‰¹å®šçš„å†™æ³•ï¼š</p><ul><li>å¿…é¡»è¦æœ‰ä¸€ä¸ªæ— å‚æ„é€ </li><li>å±æ€§å¿…é¡»ç§æœ‰åŒ–</li><li>å¿…é¡»æœ‰å¯¹åº”çš„get/setæ–¹æ³•ï¼›</li></ul><p>ä¸€èˆ¬ç”¨æ¥å’Œæ•°æ®åº“çš„å­—æ®µåšæ˜ å°„ ORMï¼›</p><p><strong>ORM ï¼šå¯¹è±¡å…³ç³»æ˜ å°„</strong></p><ul><li>è¡¨â€”&gt;ç±»</li><li>å­—æ®µâ€“&gt;å±æ€§</li><li>è¡Œè®°å½•â€”-&gt;å¯¹è±¡</li></ul><p>peopleè¡¨</p><table><thead><tr><th>id</th><th>name</th><th>age</th><th>address</th></tr></thead><tbody><tr><td>1</td><td>ç§¦ç–†1å·</td><td>3</td><td>è¥¿å®‰</td></tr><tr><td>2</td><td>ç§¦ç–†2å·</td><td>18</td><td>è¥¿å®‰</td></tr><tr><td>3</td><td>ç§¦ç–†3å·</td><td>100</td><td>è¥¿å®‰</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> String address;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span></span>&#123;<br>    <span class="hljs-keyword">new</span> People(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;ç§¦ç–†1å·&quot;</span>,<span class="hljs-number">3</span>ï¼Œ<span class="hljs-string">&quot;è¥¿å®‰&quot;</span>);<br>    <span class="hljs-keyword">new</span> People(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;ç§¦ç–†2å·&quot;</span>,<span class="hljs-number">3</span>ï¼Œ<span class="hljs-string">&quot;è¥¿å®‰&quot;</span>);<br>    <span class="hljs-keyword">new</span> People(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;ç§¦ç–†3å·&quot;</span>,<span class="hljs-number">3</span>ï¼Œ<span class="hljs-string">&quot;è¥¿å®‰&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>è¿‡æ»¤å™¨  â€”â€”  è¿‡æ»¤å™¨å®ç°ç™»å½•æ‹¦æˆªåŠŸèƒ½ï¼Œæ”¾ä¸€ä¸ªå¸¸é‡æ ‡è®°æ˜¯å¦å·²ç™»å½•ã€‚</li><li>æ–‡ä»¶ä¸Šä¼ </li><li>é‚®ä»¶å‘é€</li><li>JDBC å¤ä¹  ï¼š å¦‚ä½•ä½¿ç”¨JDBC , JDBC crudï¼Œ jdbc äº‹åŠ¡</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>7-JSP</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/7-JSP/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/7-JSP/</url>
    
    <content type="html"><![CDATA[<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯JSP"><a href="#1ã€ä»€ä¹ˆæ˜¯JSP" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯JSP"></a>1ã€ä»€ä¹ˆæ˜¯JSP</h3><p>Java Server Pages ï¼š JavaæœåŠ¡å™¨ç«¯é¡µé¢ï¼Œä¹Ÿå’ŒServletä¸€æ ·ï¼Œç”¨äºåŠ¨æ€WebæŠ€æœ¯ï¼</p><p>æœ€å¤§çš„ç‰¹ç‚¹ï¼š</p><ul><li>å†™JSPå°±åƒåœ¨å†™HTML</li><li>åŒºåˆ«ï¼š<ul><li>HTMLåªç»™ç”¨æˆ·æä¾›é™æ€çš„æ•°æ®</li><li>JSPé¡µé¢ä¸­å¯ä»¥åµŒå…¥JAVAä»£ç ï¼Œä¸ºç”¨æˆ·æä¾›åŠ¨æ€æ•°æ®ï¼›</li></ul></li></ul><h3 id="2ã€JSPåŸç†"><a href="#2ã€JSPåŸç†" class="headerlink" title="2ã€JSPåŸç†"></a>2ã€JSPåŸç†</h3><p>æ€è·¯ï¼šJSPåˆ°åº•æ€ä¹ˆæ‰§è¡Œçš„ï¼</p><ul><li><p>ä»£ç å±‚é¢æ²¡æœ‰ä»»ä½•é—®é¢˜</p></li><li><p>æœåŠ¡å™¨å†…éƒ¨å·¥ä½œ</p><ul><li>tomcatä¸­æœ‰ä¸€ä¸ªworkç›®å½•</li></ul></li><li><p>åœ¨IDEAä¸­ä½¿ç”¨Tomcatä¼šåœ¨IDEAçš„Tomcatä¸­ç”Ÿæˆä¸€ä¸ªworkç›®å½•</p><ul><li>**æµè§ˆå™¨å‘æµè§ˆå™¨å‘é€è¯·æ±‚ï¼Œä¸ç®¡è®¿é—®ä»€ä¹ˆèµ„æºï¼Œå…¶å®éƒ½æ˜¯åœ¨è®¿é—®<u>Servlet</u>**ã€‚</li></ul></li><li><p>JSPæœ€ç»ˆä¹Ÿä¼šè¢«è½¬åŒ–ä¸ºä¸€ä¸ªJavaç±»</p><ul><li><strong>JSP æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet</strong></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åˆå§‹åŒ–</span><br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">_jspInit</span><span class="hljs-params">()</span> </span>&#123;&#125;<br><br><span class="hljs-comment">//é”€æ¯</span><br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">_jspDestroy</span><span class="hljs-params">()</span> </span>&#123;&#125;<br><br><span class="hljs-comment">//JSPService</span><br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">_jspService</span><span class="hljs-params">(.HttpServletRequest request,HttpServletResponse response)</span></span><br></code></pre></td></tr></table></figure><p>åˆ¤æ–­è¯·æ±‚</p><p>å†…ç½®ä¸€äº›å¯¹è±¡ï¼ˆå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> javax.servlet.jsp.PageContext pageContext;  <span class="hljs-comment">//é¡µé¢ä¸Šä¸‹æ–‡</span><br>javax.servlet.http.HttpSession session = <span class="hljs-keyword">null</span>;    <span class="hljs-comment">//session</span><br><span class="hljs-keyword">final</span> javax.servlet.ServletContext application;   <span class="hljs-comment">//applicationContext</span><br><span class="hljs-keyword">final</span> javax.servlet.ServletConfig config;         <span class="hljs-comment">//config</span><br>javax.servlet.jsp.JspWriter out = <span class="hljs-keyword">null</span>;           <span class="hljs-comment">//out</span><br><span class="hljs-keyword">final</span> java.lang.Object page = <span class="hljs-keyword">this</span>;               <span class="hljs-comment">//pageï¼šå½“å‰</span><br>HttpServletRequest request                        <span class="hljs-comment">//è¯·æ±‚</span><br>HttpServletResponse response                      <span class="hljs-comment">//å“åº”</span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºé¡µé¢å‰å¢åŠ çš„ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">response.setContentType(<span class="hljs-string">&quot;text/html&quot;</span>);       <span class="hljs-comment">//è®¾ç½®å“åº”çš„é¡µé¢ç±»å‹</span><br>pageContext = _jspxFactory.getPageContext(<span class="hljs-keyword">this</span>, request, response,<br>       <span class="hljs-keyword">null</span>, <span class="hljs-keyword">true</span>, <span class="hljs-number">8192</span>, <span class="hljs-keyword">true</span>);<br>_jspx_page_context = pageContext;<br>application = pageContext.getServletContext();<br>config = pageContext.getServletConfig();<br>session = pageContext.getSession();<br>out = pageContext.getOut();<br>_jspx_out = out;<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šçš„è¿™äº›ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥åœ¨JSPé¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ï¼</p><p><img src="/.io//1711857-20210816225159513-816497645.png" alt="image"></p><p><strong>åœ¨JSPé¡µé¢ä¸­ï¼š</strong></p><p><strong>åªè¦æ˜¯ JAVAä»£ç å°±ä¼šåŸå°ä¸åŠ¨çš„è¾“å‡ºï¼›</strong></p><p><strong>å¦‚æœæ˜¯HTMLä»£ç ï¼Œå°±ä¼šè¢«è½¬æ¢ä¸ºï¼š</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">out</span>.<span class="hljs-keyword">write</span>(&quot;&lt;html&gt;\r\n&quot;);<br></code></pre></td></tr></table></figure><p>è¿™æ ·çš„æ ¼å¼ï¼Œè¾“å‡ºåˆ°å‰ç«¯ï¼</p><h3 id="3ã€JSPåŸºç¡€è¯­æ³•"><a href="#3ã€JSPåŸºç¡€è¯­æ³•" class="headerlink" title="3ã€JSPåŸºç¡€è¯­æ³•"></a>3ã€JSPåŸºç¡€è¯­æ³•</h3><p>JSPä¸ä»…æ”¯æŒJavaçš„æ‰€æœ‰è¯­æ³•ï¼Œè¿˜æœ‰è‡ªå·±çš„ä¸€äº›æ‰©å……è¯­æ³•ã€‚</p><h4 id="JSPè¡¨è¾¾å¼"><a href="#JSPè¡¨è¾¾å¼" class="headerlink" title="JSPè¡¨è¾¾å¼"></a>JSPè¡¨è¾¾å¼</h4><p>æ³¨ï¼š&lt;%â€“æ³¨é‡Šå†…å®¹â€“%&gt;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%--JSPè¡¨è¾¾å¼<br>ä½œç”¨ï¼šç”¨æ¥å°†ç¨‹åºçš„è¾“å‡ºï¼Œè¾“å‡ºåˆ°å®¢æˆ·ç«¯<br>&lt;%= å˜é‡æˆ–è€…è¡¨è¾¾å¼%&gt;<br>--%&gt;<br>&lt;%= <span class="hljs-keyword">new</span> java.util.Date()%&gt;<br></code></pre></td></tr></table></figure><h4 id="jspè„šæœ¬ç‰‡æ®µ"><a href="#jspè„šæœ¬ç‰‡æ®µ" class="headerlink" title="jspè„šæœ¬ç‰‡æ®µ"></a>jspè„šæœ¬ç‰‡æ®µ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%--jspè„šæœ¬ç‰‡æ®µ--%&gt;<br>&lt;%<br>  <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=<span class="hljs-number">100</span> ; i++) &#123;<br>    sum+=i;<br>  &#125;<br>  out.println(<span class="hljs-string">&quot;&lt;h1&gt;Sum=&quot;</span>+sum+<span class="hljs-string">&quot;&lt;/h1&gt;&quot;</span>);<br>%&gt;<br></code></pre></td></tr></table></figure><p>è„šæœ¬ç‰‡æ®µçš„å†å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%<br>  <span class="hljs-keyword">int</span> x = <span class="hljs-number">10</span>;<br>  out.println(x);<br>%&gt;<br>&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªJSPæ–‡æ¡£&lt;/p&gt;<br>&lt;%<br>  <span class="hljs-keyword">int</span> y = <span class="hljs-number">2</span>;<br>  out.println(y);<br>%&gt;<br><br>&lt;hr&gt;<br><br><br>&lt;%--åœ¨ä»£ç åµŒå…¥HTMLå…ƒç´ --%&gt;<br>&lt;%<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>%&gt;<br>  &lt;h1&gt;Hello,World  &lt;%=i%&gt; &lt;/h1&gt;<br>&lt;%<br>  &#125;<br>%&gt;<br></code></pre></td></tr></table></figure><h4 id="JSPå£°æ˜"><a href="#JSPå£°æ˜" class="headerlink" title="JSPå£°æ˜"></a>JSPå£°æ˜</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%!<br>  <span class="hljs-keyword">static</span> &#123;<br>    System.out.println(<span class="hljs-string">&quot;Loading Servlet!&quot;</span>);<br>  &#125;<br><br>  <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> globalVar = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">kuang</span><span class="hljs-params">()</span></span>&#123;<br>    System.out.println(<span class="hljs-string">&quot;è¿›å…¥äº†æ–¹æ³•Kuangï¼&quot;</span>);<br>  &#125;<br>%&gt;<br></code></pre></td></tr></table></figure><p>JSPå£°æ˜ï¼šä¼šè¢«ç¼–è¯‘åˆ°JSPç”ŸæˆJavaçš„ç±»ä¸­ï¼å…¶ä»–çš„ï¼Œå°±ä¼šè¢«ç”Ÿæˆåˆ°_jspServiceæ–¹æ³•ä¸­ï¼</p><p>åœ¨JSPï¼ŒåµŒå…¥Javaä»£ç å³å¯ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%%&gt;<br>&lt;%=%&gt;<br>&lt;%!%&gt;<br><br>&lt;%--æ³¨é‡Š--%&gt;<br></code></pre></td></tr></table></figure><p><strong>JSPçš„æ³¨é‡Šï¼Œä¸ä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºï¼ŒHTMLå°±ä¼šï¼</strong></p><h3 id="4ã€JSPæŒ‡ä»¤"><a href="#4ã€JSPæŒ‡ä»¤" class="headerlink" title="4ã€JSPæŒ‡ä»¤"></a>4ã€JSPæŒ‡ä»¤</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%<span class="hljs-meta">@page</span> args.... %&gt;<br>&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;&quot;</span>%&gt;<br><br>&lt;%--<span class="hljs-meta">@include</span>ä¼šå°†ä¸¤ä¸ªé¡µé¢åˆäºŒä¸ºä¸€--%&gt;<br><br>&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;common/header.jsp&quot;</span>%&gt;<br>&lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;<br><br>&lt;%<span class="hljs-meta">@include</span> file=<span class="hljs-string">&quot;common/footer.jsp&quot;</span>%&gt;<br><br>&lt;hr&gt;<br><br><br>&lt;%--jSPæ ‡ç­¾<br>    jsp:includeï¼šæ‹¼æ¥é¡µé¢ï¼Œæœ¬è´¨è¿˜æ˜¯ä¸‰ä¸ªï¼ˆæ¨èä½¿ç”¨ï¼‰<br>    --%&gt;<br>&lt;jsp:include page=<span class="hljs-string">&quot;/common/header.jsp&quot;</span>/&gt;<br>&lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;<br>&lt;jsp:include page=<span class="hljs-string">&quot;/common/footer.jsp&quot;</span>/&gt;<br></code></pre></td></tr></table></figure><p>å¯¹äºç¬¬ä¸€ç§å¾ˆå¯èƒ½ä¼šå‡ºç°å˜é‡åé‡å¤çš„é—®é¢˜ï¼Œç¬¬äºŒç§å½“å˜é‡åé‡å¤æ—¶åœ¨ç¼–ç é˜¶æ®µå°±ä¼šæŠ¥é”™ã€‚è¿˜æœ‰è¦æ³¨æ„çš„æ˜¯æ–¹æ³•ä¸€æ˜¯æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„</p><p>æ–¹æ³•äºŒæ˜¯ç½‘é¡µè·¯å¾„ï¼Œå¤šäº†ä¸€ä¸ª\æ¥è¡¨ç¤ºé»˜è®¤çš„æ ¹è·¯å¾„ã€‚</p><p><img src="/.io//1363376-20210216220926289-1784071746.png" alt="img"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br>&lt;%--è‡ªå®šä¹‰å‡ºé”™è·¯å¾„--%&gt;<br>&lt;%@page errorPage=&quot;error/error.jsp&quot; %&gt;<br>&lt;%--å¯¼åŒ…--%&gt;<br>&lt;%@page import=&quot;java.util.Date&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>&lt;%<br>    Date date = new Date();<br>    out.print(date);<br>    int i = 1/0;<br>%&gt;<br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ã€€ã€€</p><h3 id="5ã€9å¤§å†…ç½®å¯¹è±¡"><a href="#5ã€9å¤§å†…ç½®å¯¹è±¡" class="headerlink" title="5ã€9å¤§å†…ç½®å¯¹è±¡"></a>5ã€9å¤§å†…ç½®å¯¹è±¡</h3><ul><li>PageContext å­˜ä¸œè¥¿</li><li>Request å­˜ä¸œè¥¿</li><li>Response</li><li>Session å­˜ä¸œè¥¿</li><li>Application ã€SerlvetContextã€‘ å­˜ä¸œè¥¿</li><li>config ã€SerlvetConfigã€‘</li><li>out</li><li>page ï¼Œä¸ç”¨äº†è§£</li><li>exception</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">pageContext.setAttribute(<span class="hljs-string">&quot;name1&quot;</span>,<span class="hljs-string">&quot;ç§¦ç–†1å·&quot;</span>); <span class="hljs-comment">//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</span><br>request.setAttribute(<span class="hljs-string">&quot;name2&quot;</span>,<span class="hljs-string">&quot;ç§¦ç–†2å·&quot;</span>); <span class="hljs-comment">//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®</span><br>session.setAttribute(<span class="hljs-string">&quot;name3&quot;</span>,<span class="hljs-string">&quot;ç§¦ç–†3å·&quot;</span>); <span class="hljs-comment">//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨</span><br>application.setAttribute(<span class="hljs-string">&quot;name4&quot;</span>,<span class="hljs-string">&quot;ç§¦ç–†4å·&quot;</span>);  <span class="hljs-comment">//ä¿å­˜çš„æ•°æ®åªåœ¨æœåŠ¡å™¨ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨</span><br></code></pre></td></tr></table></figure><p>requestï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·çœ‹å®Œå°±æ²¡ç”¨äº†ï¼Œæ¯”å¦‚ï¼šæ–°é—»ï¼Œç”¨æˆ·çœ‹å®Œæ²¡ç”¨çš„ï¼</p><p>sessionï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·ç”¨å®Œä¸€ä¼šè¿˜æœ‰ç”¨ï¼Œæ¯”å¦‚ï¼šè´­ç‰©è½¦ï¼›</p><p>applicationï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·ç”¨å®Œäº†ï¼Œå…¶ä»–ç”¨æˆ·è¿˜å¯èƒ½ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šèŠå¤©æ•°æ®ï¼›</p><p>testJsp2.jspæ–‡ä»¶</p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="vbscript">&lt;%--</span><br><span class="vbscript">  Created by IntelliJ IDEA.</span><br><span class="vbscript">  User: <span class="hljs-number">19575</span></span><br><span class="vbscript">  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">2</span>/<span class="hljs-number">16</span></span><br><span class="vbscript">  Time: <span class="hljs-number">22</span>:<span class="hljs-number">22</span></span><br><span class="vbscript">  <span class="hljs-keyword">To</span> change this template use File | Settings | File Templates.</span><br><span class="vbscript">--%&gt;</span><span class="xml"></span><br><span class="xml"></span><span class="vbscript">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æµ‹è¯•å†…ç½®å¯¹è±¡<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"></span><span class="vbscript">&lt;%</span><br><span class="vbscript">    pageContext.setAttribute(<span class="hljs-string">&quot;name1&quot;</span>,<span class="hljs-string">&quot;åˆ˜1&quot;</span>);</span><br><span class="vbscript">    <span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">&quot;name2&quot;</span>,<span class="hljs-string">&quot;åˆ˜2&quot;</span>);</span><br><span class="vbscript">    session.setAttribute(<span class="hljs-string">&quot;name3&quot;</span>,<span class="hljs-string">&quot;åˆ˜3&quot;</span>);</span><br><span class="vbscript">    application.setAttribute(<span class="hljs-string">&quot;name4&quot;</span>,<span class="hljs-string">&quot;åˆ˜4&quot;</span>);</span><br><span class="vbscript"></span><br><span class="vbscript">    String name1 = (String) pageContext.getAttribute(<span class="hljs-string">&quot;name1&quot;</span>);</span><br><span class="vbscript">    String name2 = (String) <span class="hljs-built_in">request</span>.getAttribute(<span class="hljs-string">&quot;name2&quot;</span>);</span><br><span class="vbscript">    String name3 = (String) session.getAttribute(<span class="hljs-string">&quot;name3&quot;</span>);</span><br><span class="vbscript">    String name4 = (String) application.getAttribute(<span class="hljs-string">&quot;name4&quot;</span>);</span><br><span class="vbscript">    String name5 = (String) application.getAttribute(<span class="hljs-string">&quot;name5&quot;</span>);</span><br><span class="vbscript"></span><br><span class="vbscript">%&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å–å‡ºçš„å€¼ä¸º:<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name1&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name2&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name3&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name4&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"></span><span class="vbscript">&lt;%--ä¼šè¾“å‡º<span class="hljs-literal">null</span>--%&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name5&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"></span><span class="vbscript">&lt;%--æ›´ä¸¥æ ¼ï¼Œæ²¡æœ‰å€¼å°±ç›´æ¥ä¸è¾“å‡º--%&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="vbscript">&lt;%= name5 %&gt;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><img src="/.io//1363376-20210216223311190-2004601916.png" alt="img"></p><p>testJsp3.jspæ–‡ä»¶</p><figure class="highlight vbscript-html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vbscript-html"><span class="vbscript">&lt;%--</span><br><span class="vbscript">  Created by IntelliJ IDEA.</span><br><span class="vbscript">  User: <span class="hljs-number">19575</span></span><br><span class="vbscript">  Date: <span class="hljs-number">2021</span>/<span class="hljs-number">2</span>/<span class="hljs-number">16</span></span><br><span class="vbscript">  Time: <span class="hljs-number">22</span>:<span class="hljs-number">22</span></span><br><span class="vbscript">  <span class="hljs-keyword">To</span> change this template use File | Settings | File Templates.</span><br><span class="vbscript">--%&gt;</span><span class="xml"></span><br><span class="xml"></span><span class="vbscript">&lt;%@ page contentType=<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="hljs-string">&quot;java&quot;</span> %&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æµ‹è¯•å†…ç½®å¯¹è±¡<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"></span><span class="vbscript">&lt;%</span><br><span class="vbscript">    pageContext.setAttribute(<span class="hljs-string">&quot;name1&quot;</span>,<span class="hljs-string">&quot;åˆ˜1&quot;</span>);</span><br><span class="vbscript">    <span class="hljs-built_in">request</span>.setAttribute(<span class="hljs-string">&quot;name2&quot;</span>,<span class="hljs-string">&quot;åˆ˜2&quot;</span>);</span><br><span class="vbscript">    session.setAttribute(<span class="hljs-string">&quot;name3&quot;</span>,<span class="hljs-string">&quot;åˆ˜3&quot;</span>);</span><br><span class="vbscript">    application.setAttribute(<span class="hljs-string">&quot;name4&quot;</span>,<span class="hljs-string">&quot;åˆ˜4&quot;</span>);</span><br><span class="vbscript"></span><br><span class="vbscript">    String name1 = (String) pageContext.getAttribute(<span class="hljs-string">&quot;name1&quot;</span>);</span><br><span class="vbscript">    String name2 = (String) <span class="hljs-built_in">request</span>.getAttribute(<span class="hljs-string">&quot;name2&quot;</span>);</span><br><span class="vbscript">    String name3 = (String) session.getAttribute(<span class="hljs-string">&quot;name3&quot;</span>);</span><br><span class="vbscript">    String name4 = (String) application.getAttribute(<span class="hljs-string">&quot;name4&quot;</span>);</span><br><span class="vbscript">    String name5 = (String) application.getAttribute(<span class="hljs-string">&quot;name5&quot;</span>);</span><br><span class="vbscript"></span><br><span class="vbscript">%&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å–å‡ºçš„å€¼ä¸º:<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name1&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name2&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name3&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name4&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"></span><span class="vbscript">&lt;%--ä¼šè¾“å‡º<span class="hljs-literal">null</span>--%&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>$&#123;name5&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"></span><span class="vbscript">&lt;%--æ›´ä¸¥æ ¼ï¼Œæ²¡æœ‰å€¼å°±ç›´æ¥ä¸è¾“å‡º--%&gt;</span><span class="xml"></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="vbscript">&lt;%= name5 %&gt;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure><p><a href="javascript:void(0);"><img src="/.io//copycode.gif" alt="å¤åˆ¶ä»£ç "></a></p><p><img src="/.io//1363376-20210216224529290-293287669.png" alt="img"></p><p>ä¼šå‘ç°æ¢äº†ä¸ªé¡µé¢åï¼ŒpageContextå°±æ— æ³•å–åˆ°name1çš„å€¼ï¼Œå› ä¸ºname1åªåœ¨å½“å‰é¡µé¢æœ‰æ•ˆã€‚</p><p><img src="/.io//20200507213158259.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¯¹äºpageContextå»æ‰¾å˜é‡çš„æ—¶å€™å…ˆæ˜¯åœ¨å½“å‰é¡µå¯»æ‰¾ï¼Œå†å»requestï¼Œsessionï¼Œapplicationï¼Œæ‰¾ä¸åˆ°å°±ä¸ºnullï¼Œæ‰¾åˆ°å°±ä¸å†å‘ä¸Šæ‰¾ï¼ŒåŒäº²å§”æ´¾æœºåˆ¶åŸç†ç±»ä¼¼ï¼Œé¡ºåºç›¸åï¼Œæ˜¯ä»é«˜åˆ°ä½ï¼Œé«˜è¦†ç›–åº¦ã€‚æ¯”å¦‚è‡ªå·±å£°æ˜çš„Stringç±»æ˜¯æ— æ•ˆçš„ï¼Œå› ä¸ºrtæ¶åŒ…æœ‰äº†ï¼Œè‡ªå®šä¹‰çš„å°±æ˜¯æ— æ•ˆã€‚å¯¹äºpageContextåˆ™æ˜¯å…ˆçœ‹æœ¬é¡µå£°æ˜äº†å—ï¼Œæ²¡æœ‰çœ‹requestæœ‰æ²¡æœ‰è®¾ç½®çš„ï¼Œå†çœ‹sessionçš„å†…å®¹ï¼Œå†çœ‹applicationé‡Œçš„å†…å®¹ã€‚</p><h3 id="6ã€JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼"><a href="#6ã€JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼" class="headerlink" title="6ã€JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼"></a>6ã€JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- JSTLè¡¨è¾¾å¼çš„ä¾èµ– --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jstl-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><span class="hljs-comment">&lt;!-- standardæ ‡ç­¾åº“ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>taglibs<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>standard<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ELè¡¨è¾¾å¼ï¼š ${ }</p><ul><li>è·å–æ•°æ®</li><li>æ‰§è¡Œè¿ç®—</li><li>è·å–webå¼€å‘çš„å¸¸ç”¨å¯¹è±¡</li></ul><p>JSPæ ‡ç­¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%--jsp:include--%&gt;<br><br>&lt;%--<br>http:<span class="hljs-comment">//localhost:8080/jsptag.jsp?name=kuangshen&amp;age=12</span><br>--%&gt;<br><br>&lt;jsp:forward page=<span class="hljs-string">&quot;/jsptag2.jsp&quot;</span>&gt;<br>    &lt;jsp:param name=<span class="hljs-string">&quot;name&quot;</span> value=<span class="hljs-string">&quot;kuangshen&quot;</span>&gt;&lt;/jsp:param&gt;<br>    &lt;jsp:param name=<span class="hljs-string">&quot;age&quot;</span> value=<span class="hljs-string">&quot;12&quot;</span>&gt;&lt;/jsp:param&gt;<br>&lt;/jsp:forward&gt;<br>å¦ä¸€ä¸ªé¡µé¢æ˜¯<br>&lt;%=request.getParameter(<span class="hljs-string">&quot;name&quot;</span>)%&gt;<br>&lt;%=request.getParameter(<span class="hljs-string">&quot;age&quot;</span>)%&gt;<br></code></pre></td></tr></table></figure><p>JSTLè¡¨è¾¾å¼</p><p>JSTLæ ‡ç­¾åº“çš„ä½¿ç”¨å°±æ˜¯ä¸ºäº†å¼¥è¡¥HTMLæ ‡ç­¾çš„ä¸è¶³ï¼›å®ƒè‡ªå®šä¹‰è®¸å¤šæ ‡ç­¾ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæ ‡ç­¾çš„åŠŸèƒ½å’ŒJavaä»£ç ä¸€æ ·ï¼</p><p>æ ¼å¼åŒ–æ ‡ç­¾</p><p>SQLæ ‡ç­¾</p><p>XML æ ‡ç­¾</p><p>æ ¸å¿ƒæ ‡ç­¾ ï¼ˆæŒæ¡éƒ¨åˆ†ï¼‰</p><p><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>JSTLæ ‡ç­¾åº“ä½¿ç”¨æ­¥éª¤</p><ul><li>å¼•å…¥å¯¹åº”çš„ taglib</li><li>ä½¿ç”¨å…¶ä¸­çš„æ–¹æ³•</li><li>åœ¨Tomcat ä¹Ÿéœ€è¦å¼•å…¥ jstlçš„åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šJSTLè§£æé”™è¯¯</li></ul><p>cï¼šif</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;head&gt;<br>    &lt;title&gt;Title&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br><br>&lt;h4&gt;<span class="hljs-keyword">if</span>æµ‹è¯•&lt;/h4&gt;<br><br>&lt;hr&gt;<br><br>&lt;form action=<span class="hljs-string">&quot;coreif.jsp&quot;</span> method=<span class="hljs-string">&quot;get&quot;</span>&gt;<br>    &lt;%--<br>    ELè¡¨è¾¾å¼è·å–è¡¨å•ä¸­çš„æ•°æ®<br>    $&#123;param.å‚æ•°å&#125;<br>    --%&gt;<br>    &lt;input type=<span class="hljs-string">&quot;text&quot;</span> name=<span class="hljs-string">&quot;username&quot;</span> value=<span class="hljs-string">&quot;$&#123;param.username&#125;&quot;</span>&gt;<br>    &lt;input type=<span class="hljs-string">&quot;submit&quot;</span> value=<span class="hljs-string">&quot;ç™»å½•&quot;</span>&gt;<br>&lt;/form&gt;<br><br>&lt;%--åˆ¤æ–­å¦‚æœæäº¤çš„ç”¨æˆ·åæ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç™»å½•æˆåŠŸ--%&gt;<br>&lt;c:<span class="hljs-keyword">if</span> test=<span class="hljs-string">&quot;$&#123;param.username==&#x27;admin&#x27;&#125;&quot;</span> <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;isAdmin&quot;</span>&gt;<br>    &lt;c:out value=<span class="hljs-string">&quot;ç®¡ç†å‘˜æ¬¢è¿æ‚¨ï¼&quot;</span>/&gt;<br>&lt;/c:<span class="hljs-keyword">if</span>&gt;<br><br>&lt;%--è‡ªé—­åˆæ ‡ç­¾--%&gt;<br>&lt;c:out value=<span class="hljs-string">&quot;$&#123;isAdmin&#125;&quot;</span>/&gt;<br><br>&lt;/body&gt;<br></code></pre></td></tr></table></figure><p>c:choose c:when</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;body&gt;<br><br>&lt;%--å®šä¹‰ä¸€ä¸ªå˜é‡scoreï¼Œå€¼ä¸º<span class="hljs-number">85</span>--%&gt;<br>&lt;c:set <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;score&quot;</span> value=<span class="hljs-string">&quot;55&quot;</span>/&gt;<br><br>&lt;c:choose&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;score&gt;=90&#125;&quot;</span>&gt;<br>        ä½ çš„æˆç»©ä¸ºä¼˜ç§€<br>    &lt;/c:when&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;score&gt;=80&#125;&quot;</span>&gt;<br>        ä½ çš„æˆç»©ä¸ºä¸€èˆ¬<br>    &lt;/c:when&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;score&gt;=70&#125;&quot;</span>&gt;<br>        ä½ çš„æˆç»©ä¸ºè‰¯å¥½<br>    &lt;/c:when&gt;<br>    &lt;c:when test=<span class="hljs-string">&quot;$&#123;score&lt;=60&#125;&quot;</span>&gt;<br>        ä½ çš„æˆç»©ä¸ºä¸åŠæ ¼<br>    &lt;/c:when&gt;<br>&lt;/c:choose&gt;<br><br>&lt;/body&gt;<br></code></pre></td></tr></table></figure><p>c:forEach</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java">&lt;%<br><br>    ArrayList&lt;String&gt; people = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>    people.add(<span class="hljs-number">0</span>,<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>);<br>    people.add(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;æå››&quot;</span>);<br>    people.add(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;ç‹äº”&quot;</span>);<br>    people.add(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;èµµå…­&quot;</span>);<br>    people.add(<span class="hljs-number">4</span>,<span class="hljs-string">&quot;ç”°å…­&quot;</span>);<br>    request.setAttribute(<span class="hljs-string">&quot;list&quot;</span>,people);<br>%&gt;<br><br><br>&lt;%--<br><span class="hljs-keyword">var</span> , æ¯ä¸€æ¬¡éå†å‡ºæ¥çš„å˜é‡<br>items, è¦éå†çš„å¯¹è±¡<br>begin,   å“ªé‡Œå¼€å§‹<br>end,     åˆ°å“ªé‡Œ<br>step,   æ­¥é•¿<br>--%&gt;<br>&lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;people&quot;</span> items=<span class="hljs-string">&quot;$&#123;list&#125;&quot;</span>&gt;<br>    &lt;c:out value=<span class="hljs-string">&quot;$&#123;people&#125;&quot;</span>/&gt; &lt;br&gt;<br>&lt;/c:forEach&gt;<br><br>&lt;hr&gt;<br><br>&lt;c:forEach <span class="hljs-keyword">var</span>=<span class="hljs-string">&quot;people&quot;</span> items=<span class="hljs-string">&quot;$&#123;list&#125;&quot;</span> begin=<span class="hljs-string">&quot;1&quot;</span> end=<span class="hljs-string">&quot;3&quot;</span> step=<span class="hljs-string">&quot;1&quot;</span> &gt;<br>    &lt;c:out value=<span class="hljs-string">&quot;$&#123;people&#125;&quot;</span>/&gt; &lt;br&gt;<br>&lt;/c:forEach&gt;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>6-Cookie &amp; Session</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/6-Cookie%20&amp;%20Session/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/6-Cookie%20&amp;%20Session/</url>
    
    <content type="html"><![CDATA[<h1 id="Cookieã€Session"><a href="#Cookieã€Session" class="headerlink" title="Cookieã€Session"></a>Cookieã€Session</h1><h4 id="ä¼šè¯"><a href="#ä¼šè¯" class="headerlink" title="ä¼šè¯"></a>ä¼šè¯</h4><p>ä¼šè¯ï¼šç”¨æˆ·æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»äº†å¾ˆå¤šè¶…é“¾æ¥ï¼Œè®¿é—®å¤šä¸ªwebèµ„æºï¼Œå…³é—­æµè§ˆå™¨ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç§°ä¹‹ä¸ºä¼šè¯ï¼›</p><p>æœ‰çŠ¶æ€ä¼šè¯ï¼šä¸€ä¸ªåŒå­¦æ¥è¿‡æ•™å®¤ï¼Œä¸‹æ¬¡å†æ¥æ•™å®¤ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“è¿™ä¸ªåŒå­¦ï¼Œæ›¾ç»æ¥è¿‡ï¼Œç§°ä¹‹ä¸ºæœ‰çŠ¶æ€ä¼šè¯ï¼›</p><p>ä¸€ä¸ªç½‘ç«™ï¼Œæ€ä¹ˆè¯æ˜ä½ æ¥è¿‡ï¼Ÿ</p><p>å®¢æˆ·ç«¯ æœåŠ¡ç«¯</p><ol><li>æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ä¸€ä¸ª ä¿¡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹æ¬¡è®¿é—®æœåŠ¡ç«¯å¸¦ä¸Šä¿¡ä»¶å°±å¯ä»¥äº†ï¼› cookie</li><li>æœåŠ¡å™¨ç™»è®°ä½ æ¥è¿‡äº†ï¼Œä¸‹æ¬¡ä½ æ¥çš„æ—¶å€™æˆ‘æ¥åŒ¹é…ä½ ï¼› seesion</li></ol><h4 id="ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"><a href="#ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯" class="headerlink" title="ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"></a>ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯</h4><p>cookie</p><ul><li>å®¢æˆ·ç«¯æŠ€æœ¯ ï¼ˆå“åº”ï¼Œè¯·æ±‚ï¼‰</li></ul><p>session</p><ul><li>æœåŠ¡å™¨æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ã€‚ æˆ‘ä»¬å¯ä»¥æŠŠä¿¡æ¯æˆ–è€…æ•°æ®æ”¾åœ¨Sessionä¸­ï¼</li></ul><p>å¸¸è§å¸¸è§ï¼šç½‘ç«™ç™»å½•ä¹‹åï¼Œä½ ä¸‹æ¬¡ä¸ç”¨å†ç™»å½•äº†ï¼Œç¬¬äºŒæ¬¡è®¿é—®ç›´æ¥å°±ä¸Šå»äº†ï¼</p><h3 id="1ã€Cookie"><a href="#1ã€Cookie" class="headerlink" title="1ã€Cookie"></a>1ã€Cookie</h3><p>![image-20220318104130414](6-Cookie &amp; Session.assets/image-20220318104130414.png)</p><ol><li>ä»è¯·æ±‚ä¸­æ‹¿åˆ°cookieä¿¡æ¯</li><li>æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯cookie</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">Cookie[] cookies = req.getCookies(); <span class="hljs-comment">//è·å¾—Cookie</span><br>cookie.getName(); <span class="hljs-comment">//è·å¾—cookieä¸­çš„key</span><br>cookie.getValue(); <span class="hljs-comment">//è·å¾—cookieä¸­çš„vlaue</span><br><span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>); <span class="hljs-comment">//æ–°å»ºä¸€ä¸ªcookie</span><br>cookie.setMaxAge(<span class="hljs-number">24</span>*<span class="hljs-number">60</span>*<span class="hljs-number">60</span>); <span class="hljs-comment">//è®¾ç½®cookieçš„æœ‰æ•ˆæœŸ</span><br>resp.addCookie(cookie); <span class="hljs-comment">//å“åº”ç»™å®¢æˆ·ç«¯ä¸€ä¸ªcookie</span><br></code></pre></td></tr></table></figure><p>cookieï¼šä¸€èˆ¬ä¼šä¿å­˜åœ¨æœ¬åœ°çš„ ç”¨æˆ·ç›®å½•ä¸‹ appdataï¼›</p><p>ä¿å­˜ä¸Šæ¬¡ç™»å½•æ—¶é—´çš„ä¾‹å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.maple.servlet;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.Cookie;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ä¿å­˜ç”¨æˆ·ä¸Šä¸€æ¬¡è®¿é—®çš„æ—¶é—´</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> maple_w</span><br><span class="hljs-comment"> * Created on 21/07/28 028 19:59</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CookieServlet01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        req.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br><br>        PrintWriter out = resp.getWriter();<br><br>        <span class="hljs-comment">// Cookie, æœåŠ¡å™¨ç«¯ä»å®¢æˆ·ç«¯è·å–</span><br>        Cookie[] cookies = req.getCookies();<br><br>        <span class="hljs-comment">// åˆ¤æ–­Cookieæ˜¯å¦å­˜åœ¨</span><br>        <span class="hljs-keyword">if</span> (cookies != <span class="hljs-keyword">null</span>) &#123;<br>            out.write(<span class="hljs-string">&quot;ä¸Šæ¬¡è®¿é—®çš„æ—¶é—´ï¼š&quot;</span>);<br>            <span class="hljs-keyword">for</span> (Cookie cookie : cookies) &#123;<br>                String name = cookie.getName();<br>                String value = cookie.getValue();<br>                <span class="hljs-keyword">if</span> (name.equals(<span class="hljs-string">&quot;lastLoginTime&quot;</span>)) &#123;<br>                    <span class="hljs-keyword">long</span> l = Long.parseLong(value);<br>                    Date date = <span class="hljs-keyword">new</span> Date(l);<br>                    out.write(date.toLocaleString());<br>                &#125;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            out.write(<span class="hljs-string">&quot;é¦–æ¬¡è®¿é—®&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">// æœåŠ¡å™¨ç»™å®¢æˆ·ç«¯å“åº”ä¸€ä¸ªcookie</span><br>        Cookie cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis() + <span class="hljs-string">&quot;&quot;</span>);<br><br>        <span class="hljs-comment">// è®¾ç½®cookieæœ‰æ•ˆæœŸä¸º1å¤©</span><br>        cookie.setMaxAge(<span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span>);<br><br>        resp.addCookie(cookie);<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸€ä¸ªç½‘ç«™cookieæ˜¯å¦å­˜åœ¨ä¸Šé™ï¼ŸèŠèŠç»†èŠ‚é—®é¢˜</p><ul><li>ä¸€ä¸ªCookieåªèƒ½ä¿å­˜ä¸€ä¸ªä¿¡æ¯ï¼›</li><li>ä¸€ä¸ªwebç«™ç‚¹å¯ä»¥ç»™æµè§ˆå™¨å‘é€å¤šä¸ªcookieï¼Œæœ€å¤šå­˜æ”¾20ä¸ªcookieï¼›</li><li>Cookieå¤§å°æœ‰é™åˆ¶4kbï¼›</li><li>300ä¸ªcookieæµè§ˆå™¨ä¸Šé™</li></ul><p>åˆ é™¤Cookieï¼›</p><ul><li>ä¸è®¾ç½®æœ‰æ•ˆæœŸï¼Œå…³é—­æµè§ˆå™¨ï¼Œè‡ªåŠ¨å¤±æ•ˆï¼›</li><li>è®¾ç½®æœ‰æ•ˆæœŸæ—¶é—´ä¸º 0 ï¼›</li></ul><p>ç¼–ç è§£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">URLEncoder.encode(<span class="hljs-string">&quot;ç§¦ç–†&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>)<br>URLDecoder.decode(cookie.getValue(),<span class="hljs-string">&quot;UTF-8&quot;</span>)<br></code></pre></td></tr></table></figure><p> å¦‚æœè¦è¯»å–ä¸­æ–‡Cookieï¼Œåå°æ˜¾ç¤ºä¸­æ–‡æ­£å¸¸ä¹Ÿä¸è¡Œï¼Œå¦‚æœè¦æµè§ˆå™¨æ˜¾ç¤ºæ­£å¸¸ï¼Œè¿˜éœ€è¦æ·»åŠ ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æ·»åŠ è¿™ä¸ªæ‰èƒ½æœ‰æ•ˆè®©é¡µé¢æ˜¾ç¤ºä¸­æ–‡ä¸ä¹±ç </span><br>resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br></code></pre></td></tr></table></figure><p>å°æ —å­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.bupt.cookie;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.Cookie;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.PrintWriter;<br><span class="hljs-keyword">import</span> java.net.URLDecoder;<br><span class="hljs-keyword">import</span> java.net.URLEncoder;<br><span class="hljs-keyword">import</span> java.util.Date;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CookieDemo01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        req.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        PrintWriter out = resp.getWriter();<br>        Cookie[] cookies = req.getCookies();<br>        <span class="hljs-keyword">if</span> (cookies != <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cookies.length; i++) &#123;<br>                Cookie cookie = cookies[i];<br>                <span class="hljs-keyword">if</span>(cookie.getName().equals(<span class="hljs-string">&quot;lastLoginTime&quot;</span>))&#123;<br>                    <span class="hljs-keyword">long</span> lastLoginTime = Long.parseLong(cookie.getValue());<br>                    Date date = <span class="hljs-keyword">new</span> Date(lastLoginTime);<br>                    out.println(date.toLocaleString());<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    out.println(URLDecoder.decode(cookies[i].getValue(),<span class="hljs-string">&quot;utf-8&quot;</span>));<br>                &#125;<br>                out.println(<span class="hljs-string">&quot;=====================&quot;</span>);<br>            &#125;<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            out.write(<span class="hljs-string">&quot;è¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡è®¿é—®&quot;</span>);<br>        &#125;<br>        Cookie cookie = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;liulei&quot;</span>);<br>        Cookie cookie2 = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;name&quot;</span>, URLEncoder.encode(<span class="hljs-string">&quot;liulei&quot;</span>,<span class="hljs-string">&quot;utf-8&quot;</span>));<span class="hljs-comment">//é‡åˆ°ä¹±ç åï¼Œå¤„ç†ä¹±ç æœ€å¿«çš„æ–¹å¼ï¼Œ</span><br><br>        Cookie cookie1 = <span class="hljs-keyword">new</span> Cookie(<span class="hljs-string">&quot;lastLoginTime&quot;</span>, System.currentTimeMillis()+<span class="hljs-string">&quot;&quot;</span>);<br>        cookie.setMaxAge(<span class="hljs-number">0</span>);<span class="hljs-comment">//å…³é—­æµè§ˆå™¨ä¼šç«‹åˆ»è¿‡æœŸï¼Œæ›´å…·æœ‰å®‰å…¨æ€§ï¼Œ</span><br>        cookie1.setMaxAge(<span class="hljs-number">50</span>);<span class="hljs-comment">//è®¾ç½®æœ‰æ•ˆæœŸï¼Œè¿™ä¸ªæœ‰æ•ˆæœŸæŒ‡çš„æ˜¯å…³é—­æµè§ˆå™¨cookieä»ç„¶å¯ä»¥å­˜æ´»çš„æ—¶é—´</span><br>        resp.addCookie(cookie);<br>        resp.addCookie(cookie1);<br>        resp.addCookie(cookie2);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>é…ç½®mapping</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.bupt.cookie.CookieDemo01<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/test<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2ã€Sessionï¼ˆé‡ç‚¹ï¼‰"><a href="#2ã€Sessionï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2ã€Sessionï¼ˆé‡ç‚¹ï¼‰"></a>2ã€Sessionï¼ˆé‡ç‚¹ï¼‰</h3><p>ä»€ä¹ˆæ˜¯Sessionï¼š</p><ul><li>æœåŠ¡å™¨ä¼šç»™æ¯ä¸€ä¸ªç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰åˆ›å»ºä¸€ä¸ªSeesionå¯¹è±¡ï¼›</li><li>ä¸€ä¸ªSeesionç‹¬å ä¸€ä¸ªæµè§ˆå™¨ï¼Œåªè¦æµè§ˆå™¨æ²¡æœ‰å…³é—­ï¼Œè¿™ä¸ªSessionå°±å­˜åœ¨ï¼›</li><li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œæ•´ä¸ªç½‘ç«™å®ƒéƒ½å¯ä»¥è®¿é—®ï¼â€“&gt; ä¿å­˜ç”¨æˆ·çš„ä¿¡æ¯ï¼›ä¿å­˜è´­ç‰©è½¦çš„ä¿¡æ¯â€¦â€¦</li></ul><p>Sessionå’Œcookieçš„åŒºåˆ«ï¼š</p><ul><li>Cookieæ˜¯æŠŠç”¨æˆ·çš„æ•°æ®å†™ç»™ç”¨æˆ·çš„æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¿å­˜ ï¼ˆå¯ä»¥ä¿å­˜å¤šä¸ªï¼‰</li><li>SessionæŠŠç”¨æˆ·çš„æ•°æ®å†™åˆ°ç”¨æˆ·ç‹¬å Sessionä¸­ï¼ŒæœåŠ¡å™¨ç«¯ä¿å­˜ ï¼ˆä¿å­˜é‡è¦çš„ä¿¡æ¯ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æºçš„æµªè´¹ï¼‰</li><li>Sessionå¯¹è±¡ç”±æœåŠ¡åˆ›å»ºï¼›</li></ul><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>ä¿å­˜ä¸€ä¸ªç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼›</li><li>è´­ç‰©è½¦ä¿¡æ¯ï¼›</li><li>åœ¨æ•´ä¸ªç½‘ç«™ä¸­ç»å¸¸ä¼šä½¿ç”¨çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†å®ƒä¿å­˜åœ¨Sessionä¸­ï¼›</li></ul><p>ä½¿ç”¨Sessionï¼š</p><p>å¾€Sessionä¸­å†™ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.servlet;<br><br><span class="hljs-keyword">import</span> com.kuang.pojo.Person;<br><br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.*;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SessionDemo01</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        <br>        <span class="hljs-comment">//è§£å†³ä¹±ç é—®é¢˜</span><br>        req.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>        resp.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>        resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br>        <br>        <span class="hljs-comment">//å¾—åˆ°Session</span><br>        HttpSession session = req.getSession();<br>        <span class="hljs-comment">//ç»™Sessionä¸­å­˜ä¸œè¥¿</span><br>        session.setAttribute(<span class="hljs-string">&quot;name&quot;</span>,<span class="hljs-keyword">new</span> Person(<span class="hljs-string">&quot;ç§¦ç–†&quot;</span>,<span class="hljs-number">1</span>));<br>        <span class="hljs-comment">//è·å–Sessionçš„ID</span><br>        String sessionId = session.getId();<br><br>        <span class="hljs-comment">//åˆ¤æ–­Sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»º</span><br>        <span class="hljs-keyword">if</span> (session.isNew())&#123;<br>            resp.getWriter().write(<span class="hljs-string">&quot;sessionåˆ›å»ºæˆåŠŸ,ID:&quot;</span>+sessionId);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            resp.getWriter().write(<span class="hljs-string">&quot;sessionä»¥åŠåœ¨æœåŠ¡å™¨ä¸­å­˜åœ¨äº†,ID:&quot;</span>+sessionId);<br>        &#125;<br><br>        <span class="hljs-comment">//Sessionåˆ›å»ºçš„æ—¶å€™åšäº†ä»€ä¹ˆäº‹æƒ…ï¼›</span><br><span class="hljs-comment">//        Cookie cookie = new Cookie(&quot;JSESSIONID&quot;,sessionId);</span><br><span class="hljs-comment">//        resp.addCookie(cookie);</span><br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»Sessionä¸­è¯»å–ä¿¡æ¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    <span class="hljs-comment">// è§£å†³ä¹±ç é—®é¢˜</span><br>    req.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>    resp.setCharacterEncoding(<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>    resp.setContentType(<span class="hljs-string">&quot;text/html;charset=utf-8&quot;</span>);<br><br>    <span class="hljs-comment">// å¾—åˆ°Session</span><br>    HttpSession session = req.getSession();<br><br>    <span class="hljs-comment">// String name = (String) session.getAttribute(&quot;name&quot;);</span><br>    Person person = (Person) session.getAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br>    System.out.println(person);<br><br>&#125;<br></code></pre></td></tr></table></figure><p>æ¸…é™¤Sessionï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span>  <br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;  <br> HttpSession session = req.getSession();  <br> session.removeAttribute(<span class="hljs-string">&quot;name&quot;</span>);  <br> <span class="hljs-comment">// æ‰‹åŠ¨æ³¨é”€sessionï¼Œä½†å› ä¸ºæµè§ˆå™¨åœ¨è®¿é—®ï¼Œä¼šç«‹å³ç”Ÿæˆä¸€ä¸ªæ–°çš„session  </span><br> session.invalidate();  <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å¾—åˆ°Session</span><br>HttpSession session = req.getSession();<br><br>Person person = (Person) session.getAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br><br>System.out.println(person.toString());<br><br>HttpSession session = req.getSession();<br>session.removeAttribute(<span class="hljs-string">&quot;name&quot;</span>);<br><span class="hljs-comment">//æ‰‹åŠ¨æ³¨é”€Session</span><br>session.invalidate();<br></code></pre></td></tr></table></figure><p>ä¼šè¯è‡ªåŠ¨è¿‡æœŸï¼ˆä½¿å¾—sessionè‡ªåŠ¨å¤±æ•ˆï¼‰ï¼šweb.xmlé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--è®¾ç½®Sessioné»˜è®¤çš„å¤±æ•ˆæ—¶é—´--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--15åˆ†é’ŸåSessionè‡ªåŠ¨å¤±æ•ˆï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></table></figure><p>![image](6-Cookie &amp; Session.assets/1711857-20210728214629458-1942385174.png)</p><p>ServletContext ï¼ˆApplicationContextï¼‰æ˜¯åœ¨Sessionä¹‹ä¸Šæ›´é«˜çº§çš„ä¸€ä¸ªæ¦‚å¿µï¼Œå¯ä»¥å­˜å‚¨å¤šä¸ªä¸åŒç”¨æˆ·çš„å…±äº«ä¿¡æ¯ï¼Œå¦‚ç”¨æˆ·ç»Ÿè®¡ç­‰ã€‚</p><p><a href="https://www.cnblogs.com/l199616j/p/11195667.html">sessionå’Œcookieä»‹ç»ï¼ŒåŒºåˆ«å’Œè”ç³»</a></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>5-Servlet</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/5-Servlet/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/5-Servlet/</url>
    
    <content type="html"><![CDATA[<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h3 id="1ã€Servletç®€ä»‹"><a href="#1ã€Servletç®€ä»‹" class="headerlink" title="1ã€Servletç®€ä»‹"></a>1ã€Servletç®€ä»‹</h3><ul><li>Servletå°±æ˜¯sunå…¬å¸å¼€å‘åŠ¨æ€webçš„ä¸€é—¨æŠ€æœ¯</li><li>Sunåœ¨è¿™äº›APiä¸­æä¾›ä¸€ä¸ªæ¥å£å«åšï¼šServletï¼Œå¦‚æœä½ æƒ³å¼€å‘ä¸€ä¸ªServletç¨‹åºï¼Œåªéœ€è¦å®Œæˆä¸¤ä¸ªå°æ­¥éª¤ï¼š<ul><li>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°Serletæ¥å£</li><li>æŠŠå¼€å‘å¥½javaç±»éƒ¨ç½²åˆ°webæœåŠ¡å™¨ä¸­ã€‚</li></ul></li></ul><p><strong>æŠŠå®ç°äº†Servletæ¥å£çš„ Java ç¨‹åºå«åšï¼ŒServletã€‚</strong></p><h3 id="2ã€HelloServlet"><a href="#2ã€HelloServlet" class="headerlink" title="2ã€HelloServlet"></a>2ã€HelloServlet</h3><p>Serlvetæ¥å£Sunå…¬å¸æœ‰ä¸¤ä¸ªé»˜è®¤çš„å®ç°ç±»ï¼š<strong>HttpServletï¼ŒGenericServled</strong></p><p>æ„å»ºä¸€ä¸ªæ™®é€šçš„Mavené¡¹ç›®ï¼Œåˆ æ‰é‡Œé¢çš„srcç›®å½•ï¼Œä»¥åæˆ‘ä»¬çš„å­¦ä¹ å°±åœ¨è¿™ä¸ªé¡¹ç›®é‡Œé¢å»ºç«‹Moudelï¼›è¿™ä¸ªç©ºçš„å·¥ç¨‹å°±é¢˜Mavenä¸»å·¥ç¨‹ï¼›</p><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><img src="/.io//image-20220315232237510.png" alt="image-20220315232237510" style="zoom:50%;"><p><img src="/.io//image-20220315232311162.png" alt="image-20220315232311162"></p><p><strong>Maven ä¸­æ·»åŠ  servletã€jsp ä¾èµ–</strong></p><p>æ³¨ï¼štomcat10ä¹‹å servlet ä¾èµ–åŒ…åä¸æ˜¯ javax.servletï¼Œè€Œæ˜¯ jakarta.servlet</p><p><a href="https://blog.csdn.net/qq_40905896/article/details/115257610">https://blog.csdn.net/qq_40905896/article/details/115257610</a></p><p><a href="https://www.cnblogs.com/fanwd/p/15022270.html">https://www.cnblogs.com/fanwd/p/15022270.html</a></p><p><img src="/.io//image-20220316000147832.png" alt="image-20220316000147832"></p><p>æ–°å»ºServleté¡¹ç›®ï¼š</p><p><img src="/.io//image-20220316001217339.png" alt="image-20220316001217339"></p><p>ï¼ˆä¸€ä¸ªçˆ¶é¡¹ç›®å¯ä»¥æœ‰å¤šä¸ªModuleï¼‰</p><p>å…³äºMavençˆ¶å­å·¥ç¨‹çš„ç†è§£ï¼š<br>çˆ¶é¡¹ç›®ä¸­ä¼šæœ‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">modules</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">module</span>&gt;</span>servlet-01<span class="hljs-tag">&lt;/<span class="hljs-name">module</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">modules</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å­é¡¹ç›®ä¼šæœ‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">parent</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javaweb-02-servlet<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.kuang<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">parent</span>&gt;</span><br></code></pre></td></tr></table></figure><p>çˆ¶é¡¹ç›®ä¸­çš„javaå­é¡¹ç›®å¯ä»¥ç›´æ¥ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">son extends father<br></code></pre></td></tr></table></figure><p><strong>Mavenç¯å¢ƒä¼˜åŒ–</strong></p><p>ä¿®æ”¹web.xmlä¸ºæœ€æ–°çš„</p><p>å°†mavençš„ç»“æ„æ­å»ºå®Œæ•´</p><p><strong>ç¼–å†™ä¸€ä¸ªServletç¨‹åº</strong></p><p>ç¼–å†™ä¸€ä¸ªæ™®é€šç±»</p><p>å®ç°Servletæ¥å£ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ç»§æ‰¿HttpServlet</p><p>ï¼ˆIDEAä¼šæç¤ºæ€ä¹ˆè¿›è¡Œimportï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br><br>    <span class="hljs-comment">//ç”±äºgetæˆ–è€…poståªæ˜¯è¯·æ±‚å®ç°çš„ä¸åŒçš„æ–¹å¼ï¼Œå¯ä»¥ç›¸äº’è°ƒç”¨ï¼Œä¸šåŠ¡é€»è¾‘éƒ½ä¸€æ ·ï¼›</span><br>     <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>         <span class="hljs-comment">//ServletOutputStream outputStream = resp.getOutputStream();</span><br>        PrintWriter writer = resp.getWriter(); <span class="hljs-comment">//å“åº”æµ</span><br>         writer.print(<span class="hljs-string">&quot;Hello,Serlvet&quot;</span>);<br>     &#125;<br><br>    <span class="hljs-meta">@Override</span><br>     <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>     &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>ç¼–å†™Servletçš„æ˜ å°„</strong></p><p>ï¼ˆé…ç½®è®¿é—®è·¯å¾„ï¼‰</p><p>ä¸ºä»€ä¹ˆéœ€è¦æ˜ å°„ï¼šæˆ‘ä»¬å†™çš„æ˜¯JAVAç¨‹åºï¼Œä½†æ˜¯è¦é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œè€Œæµè§ˆå™¨éœ€è¦è¿æ¥webæœåŠ¡å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†webæœåŠ¡ä¸­æ³¨å†Œæˆ‘ä»¬å†™çš„Servletï¼Œè¿˜éœ€ç»™ä»–ä¸€ä¸ªæµè§ˆå™¨èƒ½å¤Ÿè®¿é—®çš„è·¯å¾„ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ³¨å†ŒServlet--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br> <span class="hljs-comment">&lt;!--Servletçš„è¯·æ±‚è·¯å¾„--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p><img src="/.io//image-20220316231612281.png" alt="image-20220316231612281"></p><p><strong>é…ç½®Tomcat</strong><br>æ³¨æ„ï¼šé…ç½®é¡¹ç›®å‘å¸ƒçš„è·¯å¾„å°±å¯ä»¥äº†<br><img src="/.io//20200426163446264.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¯åŠ¨æµ‹è¯•ï¼ŒOKï¼</p><h3 id="3ã€ServletåŸç†"><a href="#3ã€ServletåŸç†" class="headerlink" title="3ã€ServletåŸç†"></a>3ã€ServletåŸç†</h3><p>Servletæ˜¯ç”±WebæœåŠ¡å™¨è°ƒç”¨ï¼ŒwebæœåŠ¡å™¨åœ¨æ”¶åˆ°æµè§ˆå™¨è¯·æ±‚ä¹‹åï¼Œä¼šï¼š</p><p>æ³¨ï¼šTomcat å°±æ˜¯ä¸€ç§ Web å®¹å™¨ï¼ˆ Web æœåŠ¡å™¨ï¼‰</p><p><img src="https://img-blog.csdnimg.cn/20200506180639329.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="4ã€Mappingé—®é¢˜"><a href="#4ã€Mappingé—®é¢˜" class="headerlink" title="4ã€Mappingé—®é¢˜"></a>4ã€Mappingé—®é¢˜</h3><ul><li>ä¸€ä¸ªServletå¯ä»¥æŒ‡å®šä¸€ä¸ªæ˜ å°„è·¯å¾„<br>.</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>ä¸€ä¸ªservletå¯ä»¥æŒ‡å®šå¤šä¸ªæ˜ å°„è·¯å¾„</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello2<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello3<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello4<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello5<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br></code></pre></td></tr></table></figure><ul><li>ä¸€ä¸ªservletå¯ä»¥æŒ‡å®šé€šç”¨æ˜ å°„è·¯å¾„</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>é»˜è®¤è¯·æ±‚è·¯å¾„</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é»˜è®¤è¯·æ±‚è·¯å¾„--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>æŒ‡å®šä¸€äº›åç¼€æˆ–è€…å‰ç¼€ç­‰ç­‰â€¦</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-comment">&lt;!--å¯ä»¥è‡ªå®šä¹‰åç¼€å®ç°è¯·æ±‚æ˜ å°„</span><br><span class="hljs-comment">     æ³¨æ„ï¼š*å‰é¢ä¸èƒ½åŠ é¡¹ç›®æ˜ å°„çš„è·¯å¾„</span><br><span class="hljs-comment">    hello/sajdlkajda.qinjiang</span><br><span class="hljs-comment">     --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>*.qinjiang<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li>ä¼˜å…ˆçº§é—®é¢˜<br><u>æŒ‡å®šäº†å›ºæœ‰çš„æ˜ å°„è·¯å¾„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±ä¼šèµ°é»˜è®¤çš„å¤„ç†è¯·æ±‚ï¼›</u></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--404--&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>error<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.ErrorServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>error<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h3 id="5ã€ServletContext"><a href="#5ã€ServletContext" class="headerlink" title="5ã€ServletContext"></a>5ã€ServletContext</h3><p>webå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šä¸ºæ¯ä¸ªwebç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†å½“å‰çš„webåº”ç”¨ï¼›</p><h4 id="5-1ã€å…±äº«æ•°æ®"><a href="#5-1ã€å…±äº«æ•°æ®" class="headerlink" title="5.1ã€å…±äº«æ•°æ®"></a>5.1ã€å…±äº«æ•°æ®</h4><p>æˆ‘åœ¨è¿™ä¸ªServletä¸­ä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªservletä¸­æ‹¿åˆ°ï¼›</p><img src="/.io//image-20220317010844971.png" alt="image-20220317010844971" style="zoom:67%;"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br><br>        <span class="hljs-comment">//this.getInitParameter()   åˆå§‹åŒ–å‚æ•°</span><br>       <span class="hljs-comment">//this.getServletConfig()   Servleté…ç½®</span><br>        <span class="hljs-comment">//this.getServletContext()  Servletä¸Šä¸‹æ–‡</span><br>        ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br><br>        String username = <span class="hljs-string">&quot;ç§¦ç–†&quot;</span>; <span class="hljs-comment">//æ•°æ®</span><br>        context.setAttribute(<span class="hljs-string">&quot;username&quot;</span>,username); <span class="hljs-comment">//å°†ä¸€ä¸ªæ•°æ®ä¿å­˜åœ¨äº†ServletContextä¸­ï¼Œåå­—ä¸ºï¼šusername ï¼›å€¼ï¼šusername</span><br><br>   &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GetServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>        String username = (String) context.getAttribute(<span class="hljs-string">&quot;username&quot;</span>);<br><br>        resp.setContentType(<span class="hljs-string">&quot;text/html&quot;</span>);<br>       resp.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        resp.getWriter().print(<span class="hljs-string">&quot;åå­—&quot;</span>+username);<br><br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.HelloServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/hello<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>getc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.GetServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>getc<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/getc<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="5-2ã€è·å–åˆå§‹åŒ–å‚æ•°"><a href="#5-2ã€è·å–åˆå§‹åŒ–å‚æ•°" class="headerlink" title="5.2ã€è·å–åˆå§‹åŒ–å‚æ•°"></a>5.2ã€è·å–åˆå§‹åŒ–å‚æ•°</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-comment">&lt;!--é…ç½®ä¸€äº›webåº”ç”¨åˆå§‹åŒ–å‚æ•°--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">context-param</span>&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>url<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">context-param</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>    String url = context.getInitParameter(<span class="hljs-string">&quot;url&quot;</span>);<br>    resp.getWriter().print(url);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5-3ã€è¯·æ±‚è½¬å‘"><a href="#5-3ã€è¯·æ±‚è½¬å‘" class="headerlink" title="5.3ã€è¯·æ±‚è½¬å‘"></a>5.3ã€è¯·æ±‚è½¬å‘</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    ServletContext context = <span class="hljs-keyword">this</span>.getServletContext();<br>    System.out.println(<span class="hljs-string">&quot;è¿›å…¥äº†ServletDemo04&quot;</span>);<br>    <span class="hljs-comment">//RequestDispatcher requestDispatcher = context.getRequestDispatcher(&quot;/gp&quot;); //è½¬å‘çš„è¯·æ±‚è·¯å¾„</span><br>    <span class="hljs-comment">//requestDispatcher.forward(req,resp); //è°ƒç”¨forwardå®ç°è¯·æ±‚è½¬å‘ï¼›</span><br>    context.getRequestDispatcher(<span class="hljs-string">&quot;/gp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="è½¬å‘-VS-é‡å®šå‘ï¼š"><a href="#è½¬å‘-VS-é‡å®šå‘ï¼š" class="headerlink" title="è½¬å‘ VS é‡å®šå‘ï¼š"></a>è½¬å‘ VS é‡å®šå‘ï¼š</h5><p>è½¬å‘çš„ url ä¸å˜ï¼›é‡å®šå‘çš„ url ä¼šæ”¹å˜</p><p>ï¼ˆAï¼šå‘é€è¯·æ±‚è€…ï¼‰</p><p><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-164714981892918" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="5-4ã€è¯»å–èµ„æºæ–‡ä»¶"><a href="#5-4ã€è¯»å–èµ„æºæ–‡ä»¶" class="headerlink" title="5.4ã€è¯»å–èµ„æºæ–‡ä»¶"></a>5.4ã€è¯»å–èµ„æºæ–‡ä»¶</h4><p>Properties</p><ul><li>åœ¨javaç›®å½•ä¸‹æ–°å»ºproperties</li><li>åœ¨resourcesç›®å½•ä¸‹æ–°å»ºproperties</li></ul><p>å‘ç°ï¼šéƒ½è¢«æ‰“åŒ…åˆ°äº†åŒä¸€ä¸ªè·¯å¾„ä¸‹ï¼šclassesï¼Œæˆ‘ä»¬ä¿—ç§°è¿™ä¸ªè·¯å¾„ä¸ºclasspath:<br>æ€è·¯ï¼šéœ€è¦ä¸€ä¸ªæ–‡ä»¶æµ</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">username</span>=root12312<br><span class="hljs-attr">password</span>=zxczxczxc<br></code></pre></td></tr></table></figure><p><img src="/.io//20200505153908944.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ServletDemo05</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>   <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br><br>        InputStream is = <span class="hljs-keyword">this</span>.getServletContext().getResourceAsStream(<span class="hljs-string">&quot;/WEB-INF/classes/com/kuang/servlet/aa.properties&quot;</span>);<span class="hljs-comment">//è¿™ä¸ªç›®å½•æ˜¯ç”Ÿæˆçš„targetç›®å½•ä¸‹çš„æ–‡ä»¶</span><br><br>        Properties prop = <span class="hljs-keyword">new</span> Properties();<br>        prop.load(is);<br>        String user = prop.getProperty(<span class="hljs-string">&quot;username&quot;</span>);<br>        String pwd = prop.getProperty(<span class="hljs-string">&quot;password&quot;</span>);<br><br>        resp.getWriter().print(user+<span class="hljs-string">&quot;:&quot;</span>+pwd);<br><br>   &#125;<br><br>   <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>       doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6ã€HttpServletResponse"><a href="#6ã€HttpServletResponse" class="headerlink" title="6ã€HttpServletResponse"></a>6ã€HttpServletResponse</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs undefined">webæœåŠ¡å™¨æ¥æ”¶åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œé’ˆå¯¹è¿™ä¸ªè¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯·æ±‚çš„HttpServletRequest<br>å¯¹è±¡ä»¥åŠä»£è¡¨å“åº”çš„ä¸€ä¸ªHttpServletResponseã€‚<br></code></pre></td></tr></table></figure><ul><li>å¦‚æœè¦è·å–å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•°ï¼šæ‰¾HttpServletRequest</li><li>å¦‚æœè¦ç»™å®¢æˆ·ç«¯å“åº”ä¸€äº›ä¿¡æ¯ï¼šæ‰¾HttpServletResponse</li></ul><h4 id="1ã€ç®€å•åˆ†ç±»"><a href="#1ã€ç®€å•åˆ†ç±»" class="headerlink" title="1ã€ç®€å•åˆ†ç±»"></a>1ã€ç®€å•åˆ†ç±»</h4><p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function">servletOutputstream <span class="hljs-title">getOutputstream</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException</span>;<br>   <span class="hljs-function">Printwriter <span class="hljs-title">getwriter</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> IOException</span>;<br></code></pre></td></tr></table></figure><p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setCharacterEncoding</span><span class="hljs-params">(String var1)</span>ï¼›</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setContentLength</span><span class="hljs-params">(<span class="hljs-keyword">int</span> var1)</span>ï¼›</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setContentLengthLong</span><span class="hljs-params">(<span class="hljs-keyword">long</span> var1)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setContentType</span><span class="hljs-params">(String var1)</span>ï¼›</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setDateHeader</span><span class="hljs-params">(String varl,<span class="hljs-keyword">long</span> var2)</span></span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addDateHeader</span><span class="hljs-params">(String var1,<span class="hljs-keyword">long</span> var2)</span></span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setHeader</span><span class="hljs-params">(String var1,String var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addHeader</span><span class="hljs-params">(String var1,String var2)</span>ï¼›</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setIntHeader</span><span class="hljs-params">(String var1,<span class="hljs-keyword">int</span> var2)</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addIntHeader</span><span class="hljs-params">(String varl,<span class="hljs-keyword">int</span> var2)</span></span>;<br></code></pre></td></tr></table></figure><p>å“åº”çš„çŠ¶æ€ç <br><img src="https://img-blog.csdnimg.cn/20200505155751598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-164714981892921" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="2ã€ä¸‹è½½æ–‡ä»¶"><a href="#2ã€ä¸‹è½½æ–‡ä»¶" class="headerlink" title="2ã€ä¸‹è½½æ–‡ä»¶"></a>2ã€ä¸‹è½½æ–‡ä»¶</h4><ol><li>å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯ï¼ˆä¸€ç›´åœ¨è®²ï¼Œå°±ä¸è¯´äº†ï¼‰</li><li>ä¸‹è½½æ–‡ä»¶<ol><li>è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</li><li>ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ</li><li>è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿</li><li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</li><li>åˆ›å»ºç¼“å†²åŒº</li><li>è·å–OutputStreamå¯¹è±¡</li><li>å°†FileOutputStreamæµå†™å…¥åˆ°buferç¼“å†²åŒº</li><li>ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼</li></ol></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    <span class="hljs-comment">// 1. è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</span><br>    String realPath = <span class="hljs-keyword">this</span>.getServletContext().getRealPath(<span class="hljs-string">&quot;/1.png&quot;</span>) ;<br>    System.out.println(<span class="hljs-string">&quot;ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ï¼š&quot;</span>+realPath);<br>   <span class="hljs-comment">// 2. ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ</span><br>    String fileName = realPath.substring(realPath.lastIndexOf(<span class="hljs-string">&quot;\\&quot;</span>) + <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">// 3. è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒ(Content-Disposition)ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿,ä¸­æ–‡æ–‡ä»¶åURLEncoder.encodeç¼–ç ï¼Œå¦åˆ™æœ‰å¯èƒ½ä¹±ç </span><br>    resp.setHeader(<span class="hljs-string">&quot;Content-Disposition&quot;</span>,<span class="hljs-string">&quot;attachment;filename=&quot;</span>+URLEncoder.encode(fileName,<span class="hljs-string">&quot;UTF-8&quot;</span>));<br>    <span class="hljs-comment">// 4. è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</span><br>   FileInputStream in = <span class="hljs-keyword">new</span> FileInputStream(realPath);<br>    <span class="hljs-comment">// 5. åˆ›å»ºç¼“å†²åŒº</span><br>   <span class="hljs-keyword">int</span> len = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];<br>   <span class="hljs-comment">// 6. è·å–OutputStreamå¯¹è±¡</span><br>    ServletOutputStream out = resp.getOutputStream();<br>   <span class="hljs-comment">// 7. å°†FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒº,ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼</span><br>    <span class="hljs-keyword">while</span> ((len=in.read(buffer))&gt;<span class="hljs-number">0</span>)&#123;<br>       out.write(buffer,<span class="hljs-number">0</span>,len);<br>    &#125;<br><br>    in.close();<br>    out.close();<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3ã€éªŒè¯ç åŠŸèƒ½"><a href="#3ã€éªŒè¯ç åŠŸèƒ½" class="headerlink" title="3ã€éªŒè¯ç åŠŸèƒ½"></a>3ã€éªŒè¯ç åŠŸèƒ½</h4><p>éªŒè¯æ€ä¹ˆæ¥çš„?</p><ul><li>å‰ç«¯å®ç°</li><li>åç«¯å®ç°ï¼Œéœ€è¦ç”¨åˆ°Javaçš„å›¾ç‰‡ç±»ï¼Œç”Ÿäº§ä¸€ä¸ªå›¾ç‰‡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.kuang.servlet;<br><br><span class="hljs-keyword">import</span> javax.imageio.ImageIO;<br><span class="hljs-keyword">import</span> javax.servlet.ServletException;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServlet;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletRequest;<br><span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;<br><span class="hljs-keyword">import</span> java.awt.*;<br><span class="hljs-keyword">import</span> java.awt.image.BufferedImage;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ImageServlet</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br><br>   <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br><br>        <span class="hljs-comment">//å¦‚ä½•è®©æµè§ˆå™¨3ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡;</span><br>        resp.setHeader(<span class="hljs-string">&quot;refresh&quot;</span>,<span class="hljs-string">&quot;3&quot;</span>);<br><br>        <span class="hljs-comment">//åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span><br>        BufferedImage image = <span class="hljs-keyword">new</span> BufferedImage(<span class="hljs-number">80</span>,<span class="hljs-number">20</span>,BufferedImage.TYPE_INT_RGB);<br>        <span class="hljs-comment">//å¾—åˆ°å›¾ç‰‡</span><br>        Graphics2D g = (Graphics2D) image.getGraphics(); <span class="hljs-comment">//ç¬”</span><br>        <span class="hljs-comment">//è®¾ç½®å›¾ç‰‡çš„èƒŒæ™¯é¢œè‰²</span><br>       g.setColor(Color.white);<br>        g.fillRect(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">80</span>,<span class="hljs-number">20</span>);<br>        <span class="hljs-comment">//ç»™å›¾ç‰‡å†™æ•°æ®</span><br>        g.setColor(Color.BLUE);<br>        g.setFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-keyword">null</span>,Font.BOLD,<span class="hljs-number">20</span>));<br>        g.drawString(makeNum(),<span class="hljs-number">0</span>,<span class="hljs-number">20</span>);<br><br>        <span class="hljs-comment">//å‘Šè¯‰æµè§ˆå™¨ï¼Œè¿™ä¸ªè¯·æ±‚ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span><br>        resp.setContentType(<span class="hljs-string">&quot;image/jpeg&quot;</span>);<br>        <span class="hljs-comment">//ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span><br>        resp.setDateHeader(<span class="hljs-string">&quot;expires&quot;</span>,-<span class="hljs-number">1</span>);<br>        resp.setHeader(<span class="hljs-string">&quot;Cache-Control&quot;</span>,<span class="hljs-string">&quot;no-cache&quot;</span>);<br>        resp.setHeader(<span class="hljs-string">&quot;Pragma&quot;</span>,<span class="hljs-string">&quot;no-cache&quot;</span>);<br><br>        <span class="hljs-comment">//æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span><br>        ImageIO.write(image,<span class="hljs-string">&quot;jpg&quot;</span>, resp.getOutputStream());<br><br>    &#125;<br><br>    <span class="hljs-comment">//ç”Ÿæˆéšæœºæ•°</span><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> String <span class="hljs-title">makeNum</span><span class="hljs-params">()</span></span>&#123;<br>        Random random = <span class="hljs-keyword">new</span> Random();<br>        String num = random.nextInt(<span class="hljs-number">9999999</span>) + <span class="hljs-string">&quot;&quot;</span>;<br>        StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>-num.length() ; i++) &#123;<br>            sb.append(<span class="hljs-string">&quot;0&quot;</span>);<br>        &#125;<br>       num = sb.toString() + num;<br>        <span class="hljs-keyword">return</span> num;<br>   &#125;<br><br><br>    <span class="hljs-meta">@Override</span><br>   <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doPost</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>        doGet(req, resp);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>ImageServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com.kuang.servlet.ImageServlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>Imageservlet<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/img<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="4ã€å®ç°é‡å®šå‘"><a href="#4ã€å®ç°é‡å®šå‘" class="headerlink" title="4ã€å®ç°é‡å®šå‘"></a>4ã€å®ç°é‡å®šå‘</h4><p><img src="/.io//image-20220317204420530.png" alt="image-20220317204420530"><br>å¸¸è§åœºæ™¯:</p><ul><li>ç”¨æˆ·ç™»å½•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sendRedirect</span><span class="hljs-params">(String var1)</span> <span class="hljs-keyword">throws</span> IOException</span>;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpservletRequest req, HttpservletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br><br>    resp. sendRedirect(<span class="hljs-string">&quot;/r/img&quot;</span>);<span class="hljs-comment">//é‡å®šå‘</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    resp. setHeader(&quot;Location&quot;,&quot;/r/img&quot;);</span><br><span class="hljs-comment">    resp. setstatus (302);</span><br><span class="hljs-comment">    *</span><br><span class="hljs-comment">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«"><a href="#é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«" class="headerlink" title="é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«"></a>é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</h4><ul><li>ç›¸åŒç‚¹ï¼š<ul><li>é¡µé¢éƒ½ä¼šå®ç°è·³è½¬</li></ul></li><li>ä¸åŒç‚¹ï¼š<ul><li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurl ä¸ä¼šå‘ç”Ÿå˜åŒ–         307</li><li>é‡å®šå‘çš„æ—¶å€™ï¼Œurl åœ°å€æ ä¼šå‘ç”Ÿæ”¹å˜     302</li></ul></li></ul><p><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-164714981892924" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>index.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Hel1o World!<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br>&lt;%--è¿™é‡Œè¶…äº¤çš„è·¯å¾„,éœ€è¦å¯»æ‰¾åˆ°é¡¹ç›®çš„è·¯å¾„--%&gt;<br>&lt;%--$&#123;pageContext. request, contextPath&#125;ä»£è¡¨å½“å‰çš„é¡¹ç›®--%&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;$&#123;pageContext. request.contextPath&#125;/login&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>ç”¨æˆ·å: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>å¯†ç : <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>RequestTest.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RequestTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">HttpServlet</span> </span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br>    <span class="hljs-comment">//å¤„ç†æ–¹æ±‚</span><br>    String username = req.getParameter( s: <span class="hljs-string">&quot;username&quot;</span>);<br>    String password  rea.getParameter( s: <span class="hljs-string">&quot;password&quot;</span>);<br><br>   System.out.println(username+<span class="hljs-string">&quot;:&quot;</span>+password);<br><br>   resp.sendRedirect(s: <span class="hljs-string">&quot;/r/success.jsp&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>é‡å®šå‘é¡µé¢success.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs html">&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; language=&quot;java&quot; %&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Title<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>success<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>web.xmlé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>requset<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>com. kuang. servlet. RequestTest<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-class</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>requset<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/login<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯¼å…¥ä¾èµ–çš„jaråŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"> <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br> <span class="hljs-comment">&lt;!-- https://mvnrepository. com/artifact/javax. servLet/javax. servlet-opi --&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">groupld</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">grouptd</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax. servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-comment">&lt;!-- https://mvnrepository.com/artifact/javax. servLet.jsp/javax. servLet.jsp-opi --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet.jsp<span class="hljs-tag">&lt;/<span class="hljs-name">groupld</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax. servlet.jsp-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.3.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br> <span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="7ã€HttpServletRequest"><a href="#7ã€HttpServletRequest" class="headerlink" title="7ã€HttpServletRequest"></a>7ã€HttpServletRequest</h3><p>HttpServletRequestä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚,ç”¨æˆ·é€šè¿‡Httpåè®®è®¿é—®æœåŠ¡å™¨, HTTPè¯·æ±‚ä¸­çš„æ‰€æœ‰ä¿¡æ¯ä¼šè¢«å°è£…åˆ°HttpServletRequestï¼Œé€šè¿‡è¿™ä¸ªHttpServletRequestçš„æ–¹æ³•ï¼Œè·å¾—å®¢æˆ·ç«¯çš„æ‰€æœ‰ä¿¡æ¯<br><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-164714981892925" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200505165618601.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h4 id="è·å–å‚æ•°-è¯·æ±‚è½¬å‘"><a href="#è·å–å‚æ•°-è¯·æ±‚è½¬å‘" class="headerlink" title="è·å–å‚æ•°,è¯·æ±‚è½¬å‘"></a>è·å–å‚æ•°,è¯·æ±‚è½¬å‘</h4><p><img src="/.io//20200505165652729.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è‡ªå·±åˆ›å»ºç±»ï¼Œä¸”éœ€è¦ç»§æ‰¿HttpServletç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doGet</span><span class="hljs-params">(HttpservletRequest req. HttpservletResponse resp)</span> <span class="hljs-keyword">throws</span> ServletException, IOException </span>&#123;<br><br>req. setcharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>resp.setcharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>String username = req.getParameter(<span class="hljs-string">&quot;username&quot;</span>);<br>String password = req.getParameter(<span class="hljs-string">&quot;password&quot;</span>);<br>String[] hobbys = req.getParameterValues(<span class="hljs-string">&quot;hobbys&quot;</span>);<br>System.out.println(<span class="hljs-string">&quot;==========&quot;</span>);<br><span class="hljs-comment">//åå°æ¥æ”¶ä¸­æ–‡ä¹±ç é—®é¢˜</span><br>System. out.println(username);<br>System. out.println(password);<br>System. out.println(Arrays.tostring(hobbys));<br>System. out.println(<span class="hljs-string">&quot;============&quot;</span>);<br>system. out.println(req.getContextPath());<br><span class="hljs-comment">//é€šè¿‡è¯·æ±‚è½¬å‘</span><br><span class="hljs-comment">//è¿™é‡Œçš„/ä»£è¡¨å½“å‰çš„webåº”ç”¨</span><br>req.getRequestDispatcher(<span class="hljs-string">&quot;/success.jsp&quot;</span>).forward(req,resp);<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«-1"><a href="#é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«-1" class="headerlink" title="é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«"></a>é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«</h4><ul><li>ç›¸åŒç‚¹ï¼š<ul><li>é¡µé¢éƒ½ä¼šå®ç°è·³è½¬</li></ul></li><li>ä¸åŒç‚¹ï¼š<ul><li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurl ä¸ä¼šå‘ç”Ÿå˜åŒ–         307</li><li>é‡å®šå‘çš„æ—¶å€™ï¼Œurl åœ°å€æ ä¼šå‘ç”Ÿæ”¹å˜     302</li></ul></li></ul><p><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-164714981892924" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>4-Maven</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/4-Maven/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/4-Maven/</url>
    
    <content type="html"><![CDATA[<h2 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h2><p>æˆ‘ä¸ºä»€ä¹ˆè¦å­¦ä¹ è¿™ä¸ªæŠ€æœ¯ï¼Ÿ</p><ul><li><p>åœ¨Javawebå¼€å‘ä¸­ï¼Œéœ€è¦ä½¿ç”¨å¤§é‡çš„jaråŒ…ï¼Œæˆ‘ä»¬æ‰‹åŠ¨å»å¯¼å…¥ï¼›</p></li><li><p>å¦‚ä½•èƒ½å¤Ÿè®©ä¸€ä¸ªä¸œè¥¿è‡ªåŠ¨å¸®æˆ‘å¯¼å…¥å’Œé…ç½®è¿™ä¸ªjaråŒ…ã€‚</p><p>ç”±æ­¤ï¼ŒMavenè¯ç”Ÿäº†ï¼</p></li></ul><h3 id="1-Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"><a href="#1-Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·" class="headerlink" title="1 Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"></a>1 Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·</h3><p>æˆ‘ä»¬ç›®å‰ç”¨æ¥å°±æ˜¯æ–¹ä¾¿å¯¼å…¥jaråŒ…çš„ï¼<br>Mavençš„æ ¸å¿ƒæ€æƒ³ï¼š</p><h4 id="çº¦å®šå¤§äºé…ç½®"><a href="#çº¦å®šå¤§äºé…ç½®" class="headerlink" title="çº¦å®šå¤§äºé…ç½®"></a>çº¦å®šå¤§äºé…ç½®</h4><p><strong>==&gt;</strong> <strong>æœ‰çº¦æŸï¼Œä¸è¦å»è¿å</strong></p><p>Mavenä¼šè§„å®šå¥½ä½ è¯¥å¦‚ä½•å»ç¼–å†™æˆ‘ä»¬ Java ä»£ç ï¼Œå¿…é¡»è¦æŒ‰ç…§è¿™ä¸ªè§„èŒƒæ¥ï¼›</p><h3 id="2-ä¸‹è½½å®‰è£…Maven"><a href="#2-ä¸‹è½½å®‰è£…Maven" class="headerlink" title="2 ä¸‹è½½å®‰è£…Maven"></a>2 ä¸‹è½½å®‰è£…Maven</h3><p>å®˜ç½‘ï¼š<a href="https://maven.apache.org/">https://maven.apache.org/</a><br><img src="/.io//image-20220314165921789.png" alt="image-20220314165921789"></p><p>ä¸‹è½½å®Œæˆåï¼Œè§£å‹å³å¯ï¼›<br>å°ç‹‚ç¥å‹æƒ…å»ºè®®ï¼šç”µè„‘ä¸Šçš„æ‰€æœ‰ç¯å¢ƒéƒ½æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œæ–¹ä¾¿ç®¡ç†ï¼›</p><h3 id="3-é…ç½®ç¯å¢ƒå˜é‡"><a href="#3-é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="3 é…ç½®ç¯å¢ƒå˜é‡"></a>3 é…ç½®ç¯å¢ƒå˜é‡</h3><p>åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­é…ç½®å¦‚ä¸‹é…ç½®ï¼š</p><ul><li><p>M2_HOME mavenç›®å½•ä¸‹çš„binç›®å½•</p></li><li><p>MAVEN_HOME mavençš„ç›®å½•</p></li><li><p>åœ¨ç³»ç»Ÿçš„pathä¸­é…ç½®%MAVEN_HOME%\bin<br><img src="/.io//20200423213124579.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æµ‹è¯•Mavenæ˜¯å¦å®‰è£…æˆåŠŸï¼Œä¿è¯å¿…é¡»é…ç½®å®Œæ¯•ï¼</p></li></ul><h3 id="4-é˜¿é‡Œäº‘é•œåƒ"><a href="#4-é˜¿é‡Œäº‘é•œåƒ" class="headerlink" title="4 é˜¿é‡Œäº‘é•œåƒ"></a>4 é˜¿é‡Œäº‘é•œåƒ</h3><p>é•œåƒï¼šmirrors</p><p>ä½œç”¨ï¼šåŠ é€Ÿæˆ‘ä»¬çš„ä¸‹è½½</p><p>å›½å†…å»ºè®®ä½¿ç”¨é˜¿é‡Œäº‘çš„é•œåƒ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mirror</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>nexus-aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="hljs-tag">&lt;/<span class="hljs-name">mirrorOf</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>Nexus aliyun<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>  <br>    <span class="hljs-tag">&lt;<span class="hljs-name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/groups/public<span class="hljs-tag">&lt;/<span class="hljs-name">url</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">mirror</span>&gt;</span><br></code></pre></td></tr></table></figure><p>D:Enmvironment\apache-maven-3.6.2\conf\settings.xml<br>ï¼ˆç‹‚ç¥è€å¸ˆé…ç½®æºå’Œä»“åº“çš„æ–‡ä»¶ä½ç½®ï¼‰</p><h3 id="5-æœ¬åœ°ä»“åº“"><a href="#5-æœ¬åœ°ä»“åº“" class="headerlink" title="5 æœ¬åœ°ä»“åº“"></a>5 æœ¬åœ°ä»“åº“</h3><p>å»ºç«‹ä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼šlocalRepository</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">&lt;localRepository&gt;D:\Environment\apache-maven-<span class="hljs-number">3.6</span>.<span class="hljs-number">2</span>\maven-repo&lt;/localRepository&gt;<br></code></pre></td></tr></table></figure><p>å¯ä»¥æŠŠMavençš„ä»“åº“åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>æœ¬åœ°ä»“åº“</li><li>è¿œç¨‹ä»“åº“</li></ul><p>Mavenå¯»æ‰¾ä¸€ä¸ªdependencyæ—¶ä¼šå…ˆä»æœ¬åœ°ä»“åº“æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™åœ¨è¿œç¨‹ä»“åº“æŸ¥æ‰¾ï¼Œå‘ç°åˆ™ä¸‹è½½åˆ°æœ¬åœ°ä»“åº“ä½¿ç”¨ã€‚å¦‚æœéƒ½æŸ¥æ‰¾å¤±è´¥ï¼Œä¼šæç¤ºbuild failureã€‚</p><h3 id="6-åœ¨-IDEA-ä¸­ä½¿ç”¨-Maven"><a href="#6-åœ¨-IDEA-ä¸­ä½¿ç”¨-Maven" class="headerlink" title="6 åœ¨ IDEA ä¸­ä½¿ç”¨ Maven"></a>6 åœ¨ IDEA ä¸­ä½¿ç”¨ Maven</h3><p>1ã€å¯åŠ¨IDEA</p><p>2ã€åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</p><p><img src="/.io//clip_image002.jpg" alt="img"></p><img src="/.io//clip_image004.jpg" alt="img" style="zoom:50%;"><p><img src="/.io//clip_image006.jpg" alt="img"></p><p>3ã€ç­‰å¾…é¡¹ç›®åˆå§‹åŒ–å®Œæ¯•</p><p>ï¼ˆè®°å¾—é…ç½®é˜¿é‡Œäº‘é•œåƒï¼‰</p><p><img src="/.io//clip_image016.jpg" alt="img"></p><p>4ã€IDEAä¸­çš„Mavené…ç½®</p><p>â€‹    IDEAé¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œçœ‹ä¸€çœ¼Mavençš„é…ç½®</p><p><img src="/.io//image-20220315190254221.png" alt="image-20220315190254221"></p><p><img src="/.io//clip_image022.jpg" alt="img"></p><p>5ã€IDEAä¸­çš„Mavené…ç½®åŸºæœ¬å®Œæˆ</p><h3 id="7-åˆ›å»ºä¸€ä¸ªæ™®é€šçš„Mavené¡¹ç›®"><a href="#7-åˆ›å»ºä¸€ä¸ªæ™®é€šçš„Mavené¡¹ç›®" class="headerlink" title="7 åˆ›å»ºä¸€ä¸ªæ™®é€šçš„Mavené¡¹ç›®"></a>7 åˆ›å»ºä¸€ä¸ªæ™®é€šçš„Mavené¡¹ç›®</h3><p><img src="/.io//image-20220315190553652.png" alt="image-20220315190553652"></p><p><img src="/.io//clip_image028.jpg" alt="img"><img src="/.io//clip_image030.jpg" alt="img"></p><h3 id="8-æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"><a href="#8-æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½" class="headerlink" title="8 æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"></a>8 æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½</h3><p><img src="/.io//clip_image034.jpg" alt="img"></p><p><img src="/.io//clip_image036.jpg" alt="img"></p><p><img src="/.io//clip_image038.jpg" alt="img"></p><p><img src="/.io//clip_image040.jpg" alt="img"></p><p><img src="/.io//clip_image042.jpg" alt="img"></p><p>å¼¹å¹•è¯„è®º:å‹æƒ…æç¤ºä¸è¦ç”¨é«˜ç‰ˆæœ¬çš„maven, ç”¨3.6.1</p><h3 id="9-åœ¨-IDEA-ä¸­é…ç½®-Tomcat"><a href="#9-åœ¨-IDEA-ä¸­é…ç½®-Tomcat" class="headerlink" title="9 åœ¨ IDEA ä¸­é…ç½® Tomcat"></a>9 åœ¨ IDEA ä¸­é…ç½® Tomcat</h3><img src="/.io//image-20220315191744680.png" alt="image-20220315191744680" style="zoom:67%;"><p><img src="/.io//clip_image046.jpg" alt="img"></p><p><img src="/.io//clip_image048.jpg" alt="img"></p><p><img src="/.io//clip_image050.jpg" alt="img"></p><p><img src="/.io//clip_image052.jpg" alt="img"></p><p><img src="/.io//clip_image054.jpg" alt="img"></p><p><img src="/.io//clip_image056.jpg" alt="img"></p><p><img src="/.io//clip_image058.jpg" alt="img"></p><h3 id="10-pom-xml-æ–‡ä»¶"><a href="#10-pom-xml-æ–‡ä»¶" class="headerlink" title="10 pom.xml æ–‡ä»¶"></a>10 pom.xml æ–‡ä»¶</h3><p><strong>pom.xml æ˜¯Mavençš„æ ¸å¿ƒé…ç½®æ–‡ä»¶</strong></p><p><img src="/.io//clip_image062.jpg" alt="img"></p><p><img src="/.io//clip_image064.jpg" alt="img"></p><p><img src="/.io//image-20220315235923572.png" alt="image-20220315235923572"></p><p><img src="/.io//clip_image066.jpg" alt="img"></p><p><img src="/.io//clip_image068.jpg" alt="img"></p><p>æœ€æ–°ç‰ˆæœ¬å’Œideaä¸å…¼å®¹ï¼Œ3.62~3.63éƒ½ä¸å…¼å®¹</p><p><img src="/.io//clip_image070.jpg" alt="img"></p><p>è¦ç”¨çš„</p><p><img src="/.io//clip_image072.jpg" alt="img"></p><p><img src="/.io//clip_image074.jpg" alt="img"></p><p><img src="/.io//clip_image076.jpg" alt="img"></p><h3 id="11-IDEA-æ“ä½œ"><a href="#11-IDEA-æ“ä½œ" class="headerlink" title="11 IDEA æ“ä½œ"></a>11 IDEA æ“ä½œ</h3><h5 id="å¯¼åŒ…ä¸¾ä¾‹â€”â€”Maven-ä¸­æ·»åŠ -servletã€jsp-ä¾èµ–"><a href="#å¯¼åŒ…ä¸¾ä¾‹â€”â€”Maven-ä¸­æ·»åŠ -servletã€jsp-ä¾èµ–" class="headerlink" title="å¯¼åŒ…ä¸¾ä¾‹â€”â€”Maven ä¸­æ·»åŠ  servletã€jsp ä¾èµ–"></a>å¯¼åŒ…ä¸¾ä¾‹â€”â€”<strong>Maven ä¸­æ·»åŠ  servletã€jsp ä¾èµ–</strong></h5><p><a href="https://www.cnblogs.com/fanwd/p/15022270.html">https://www.cnblogs.com/fanwd/p/15022270.html</a></p><img src="/.io//image-20220322232824593.png" alt="image-20220322232824593" style="zoom:67%;"><p><img src="/.io//clip_image080.jpg" alt="img"></p><p><img src="/.io//clip_image082.jpg" alt="img"></p><h3 id="12-è§£å†³é‡åˆ°çš„é—®é¢˜"><a href="#12-è§£å†³é‡åˆ°çš„é—®é¢˜" class="headerlink" title="12 è§£å†³é‡åˆ°çš„é—®é¢˜"></a>12 è§£å†³é‡åˆ°çš„é—®é¢˜</h3><p><img src="/.io//image-20220315201505359.png" alt="image-20220315201505359"></p><p><strong>Solveï¼š</strong></p><p>1ã€é™çº§ä¸º3.6.1</p><p>2ã€</p><p><img src="/.io//clip_image086.jpg" alt="img"></p><p>3ã€</p><p><img src="/.io//clip_image088.jpg" alt="img"></p><p><img src="/.io//clip_image090.jpg" alt="img"></p><p>4ã€ä¸‹é¢5~6æ˜¯è§£å†³æ–¹æ³•</p><p><img src="/.io//clip_image092.jpg" alt="img"></p><p><img src="/.io//clip_image094.jpg" alt="img"></p><p><img src="/.io//clip_image096.jpg" alt="img"></p><h3 id="13-Maven-ä»“åº“çš„ä½¿ç”¨"><a href="#13-Maven-ä»“åº“çš„ä½¿ç”¨" class="headerlink" title="13 Maven ä»“åº“çš„ä½¿ç”¨"></a>13 Maven ä»“åº“çš„ä½¿ç”¨</h3><p>åœ°å€ï¼š    <a href="https://mvnrepository.com/">https://mvnrepository.com/</a></p><p><img src="/.io//clip_image100.jpg" alt="img"></p><p><img src="/.io//clip_image102.jpg" alt="img"></p><p><img src="/.io//clip_image104.jpg" alt="img"></p><p><img src="/.io//clip_image106.jpg" alt="img"></p><p><img src="/.io//clip_image108.jpg" alt="img"></p><p>ä½œç”¨åŸŸä¸€èˆ¬å¯ä»¥åˆ æ‰</p><p>æ­£å¸¸æƒ…å†µåº”è¯¥å¯¼å…¥å®Œä¸Šé¢çš„åŒ…å°±OKäº†</p><h5 id="å¯¼åŒ…ä¸¾ä¾‹â€”â€”Maven-ä¸­æ·»åŠ -servletã€jsp-ä¾èµ–-1"><a href="#å¯¼åŒ…ä¸¾ä¾‹â€”â€”Maven-ä¸­æ·»åŠ -servletã€jsp-ä¾èµ–-1" class="headerlink" title="å¯¼åŒ…ä¸¾ä¾‹â€”â€”Maven ä¸­æ·»åŠ  servletã€jsp ä¾èµ–"></a>å¯¼åŒ…ä¸¾ä¾‹â€”â€”<strong>Maven ä¸­æ·»åŠ  servletã€jsp ä¾èµ–</strong></h5><p><a href="https://www.cnblogs.com/fanwd/p/15022270.html">https://www.cnblogs.com/fanwd/p/15022270.html</a></p><img src="/.io//image-20220322232836560.png" alt="image-20220322232836560" style="zoom:67%;">]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>3-HTTP</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/3-HTTP/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/3-HTTP/</url>
    
    <content type="html"><![CDATA[<h2 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h2><h3 id="1ã€ä»€ä¹ˆæ˜¯HTTP"><a href="#1ã€ä»€ä¹ˆæ˜¯HTTP" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯HTTP"></a>1ã€ä»€ä¹ˆæ˜¯HTTP</h3><p>(è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚â€“å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚</p><ul><li>æ–‡æœ¬ï¼šhtmlï¼Œå­—ç¬¦ä¸²ï¼Œâ€¦</li><li>è¶…æ–‡æœ¬ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ï¼Œå®šä½ï¼Œåœ°å›¾.â€¦â€¦</li><li>ç«¯å£:80</li></ul><p>Httpsï¼šå®‰å…¨çš„ï¼Œé»˜è®¤ç«¯å£ï¼š443</p><h3 id="2ã€ä¸¤ä¸ªæ—¶ä»£"><a href="#2ã€ä¸¤ä¸ªæ—¶ä»£" class="headerlink" title="2ã€ä¸¤ä¸ªæ—¶ä»£"></a>2ã€ä¸¤ä¸ªæ—¶ä»£</h3><p>http/1.1è¯·æ±‚ä¸€æ¬¡èµ„æºå¯ä»¥è¿ç»­è·å–å¤šä¸ªwebèµ„æºï¼Œä¸éœ€è¦æ¯æ¬¡è·å–ä¸€ä¸ªwebèµ„æºå°±å¿…é¡»å†æ¬¡è¿æ¥ä¸€æ¬¡</p><ul><li>http1.0<ul><li>HTTP/1.0ï¼šå®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥åï¼Œåªèƒ½è·å¾—ä¸€ä¸ªwebèµ„æºï¼Œæ–­å¼€è¿æ¥ã€‚è¿™æ˜¯ä¸€ç§çŸ­é“¾æ¥</li></ul></li><li>http2.0<ul><li>HTTP/1.1ï¼šå®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥åï¼Œå¯ä»¥è·å¾—å¤šä¸ªwebèµ„æºã€‚è¿™æ˜¯ä¸€ç§é•¿è¿æ¥ã€‚</li></ul></li></ul><p><a href="https://blog.csdn.net/m0_37865510/article/details/83349488">é•¿è¿æ¥å’ŒçŸ­è¿æ¥çš„åŒºåˆ«æ˜¯å•¥</a></p><ul><li><p>é•¿è¿æ¥å¤šç”¨äºæ“ä½œé¢‘ç¹ï¼Œç‚¹å¯¹ç‚¹çš„é€šè®¯ï¼Œè€Œä¸”è¿æ¥æ•°ä¸èƒ½å¤ªå¤šæƒ…å†µã€‚æ¯ä¸ªTCPè¿æ¥éƒ½éœ€è¦ä¸‰æ­¥æ¡æ‰‹ï¼Œè¿™éœ€è¦æ—¶é—´ï¼Œå¦‚æœæ¯ä¸ªæ“ä½œéƒ½æ˜¯å…ˆè¿æ¥ï¼Œå†æ“ä½œçš„è¯é‚£ä¹ˆå¤„ç†é€Ÿåº¦ä¼šé™ä½å¾ˆå¤šï¼Œæ‰€ä»¥æ¯ä¸ªæ“ä½œå®Œåéƒ½ä¸æ–­å¼€ï¼Œæ¬¡å¤„ç†æ—¶ç›´æ¥å‘é€æ•°æ®åŒ…å°±OKäº†ä¸ç”¨å»ºç«‹TCPè¿æ¥ã€‚ä¾‹å¦‚ï¼šæ•°æ®åº“çš„è¿æ¥ç”¨é•¿è¿æ¥ï¼Œ å¦‚æœç”¨çŸ­è¿æ¥é¢‘ç¹çš„é€šä¿¡ä¼šé€ æˆsocketé”™è¯¯ï¼Œè€Œä¸”é¢‘ç¹çš„socket åˆ›å»ºä¹Ÿæ˜¯å¯¹èµ„æºçš„æµªè´¹ã€‚</p></li><li><p>è€ŒåƒWEBç½‘ç«™çš„httpæœåŠ¡ä¸€èˆ¬éƒ½ç”¨çŸ­é“¾æ¥ï¼Œå› ä¸ºé•¿è¿æ¥å¯¹äºæœåŠ¡ç«¯æ¥è¯´ä¼šè€—è´¹ä¸€å®šçš„èµ„æºï¼Œè€ŒåƒWEBç½‘ç«™è¿™ä¹ˆé¢‘ç¹çš„æˆåƒä¸Šä¸‡ç”šè‡³ä¸Šäº¿å®¢æˆ·ç«¯çš„è¿æ¥ç”¨çŸ­è¿æ¥ä¼šæ›´çœä¸€äº›èµ„æºï¼Œå¦‚æœç”¨é•¿è¿æ¥ï¼Œè€Œä¸”åŒæ—¶æœ‰æˆåƒä¸Šä¸‡çš„ç”¨æˆ·ï¼Œå¦‚æœæ¯ä¸ªç”¨æˆ·éƒ½å ç”¨ä¸€ä¸ªè¿æ¥çš„è¯ï¼Œé‚£å¯æƒ³è€ŒçŸ¥å§ã€‚æ‰€ä»¥å¹¶å‘é‡å¤§ï¼Œä½†æ¯ä¸ªç”¨æˆ·æ— éœ€é¢‘ç¹æ“ä½œæƒ…å†µä¸‹éœ€ç”¨çŸ­è¿å¥½ã€‚</p></li></ul><h3 id="3ã€Httpè¯·æ±‚"><a href="#3ã€Httpè¯·æ±‚" class="headerlink" title="3ã€Httpè¯·æ±‚"></a>3ã€Httpè¯·æ±‚</h3><ul><li>å®¢æˆ·ç«¯â€“å‘è¯·æ±‚ï¼ˆRequestï¼‰â€“æœåŠ¡å™¨</li></ul><p>ç™¾åº¦ï¼š</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">Request</span> URL:https:<span class="hljs-comment">//www.baidu.com/   è¯·æ±‚åœ°å€</span><br><span class="hljs-symbol">Request</span> Method:<span class="hljs-meta">GET</span>    <span class="hljs-meta">get</span>æ–¹æ³•/postæ–¹æ³•<br><span class="hljs-symbol">Status</span> <span class="hljs-meta">Code</span>:<span class="hljs-number">200</span> OK    çŠ¶æ€ç ï¼š<span class="hljs-number">200</span><br><span class="hljs-symbol">Remote</span>ï¼ˆè¿œç¨‹ï¼‰ Address:<span class="hljs-number">14</span>.<span class="hljs-number">215</span>.<span class="hljs-number">177</span>.<span class="hljs-number">39</span>:<span class="hljs-number">443</span><br><br><span class="hljs-symbol">Accept:</span>text/html  <br><span class="hljs-symbol">Accept</span>-Encoding:gzip, deflate, <span class="hljs-keyword">br</span><br><span class="hljs-symbol">Accept</span>-Language:zh-<span class="hljs-meta">CN</span>,zh<span class="hljs-comment">;q=0.9    è¯­è¨€</span><br><span class="hljs-symbol">Cache</span>-Control:max-age<span class="hljs-number">=0</span><br><span class="hljs-symbol">Connection:</span><span class="hljs-meta">keep</span>-alive<br></code></pre></td></tr></table></figure><h4 id="3-1ã€è¯·æ±‚è¡Œ"><a href="#3-1ã€è¯·æ±‚è¡Œ" class="headerlink" title="3.1ã€è¯·æ±‚è¡Œ"></a>3.1ã€è¯·æ±‚è¡Œ</h4><ul><li>è¯·æ±‚è¡Œä¸­çš„è¯·æ±‚æ–¹å¼ï¼šGET</li><li>è¯·æ±‚æ–¹å¼ï¼šGetï¼ŒPostï¼ŒHEADï¼ŒDELETEï¼ŒPUTï¼ŒTRACT.â€¦<ul><li>getï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ¯”è¾ƒå°‘ï¼Œå¤§å°æœ‰é™åˆ¶ï¼Œä¼šåœ¨æµè§ˆå™¨çš„URLåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œä¸å®‰å…¨ï¼Œä½†é«˜æ•ˆ</li><li>postï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ²¡æœ‰é™åˆ¶ï¼Œå¤§å°æ²¡æœ‰é™åˆ¶ï¼Œä¸ä¼šåœ¨æµè§ˆå™¨çš„URLåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œå®‰å…¨ï¼Œä½†ä¸é«˜æ•ˆã€‚</li></ul></li></ul><h4 id="3-2ã€æ¶ˆæ¯å¤´"><a href="#3-2ã€æ¶ˆæ¯å¤´" class="headerlink" title="3.2ã€æ¶ˆæ¯å¤´"></a>3.2ã€æ¶ˆæ¯å¤´</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">Acceptï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹<br>Accept-Encodingï¼šæ”¯æŒå“ªç§ç¼–ç æ ¼å¼  GBK   UTF-8   GB2312  ISO8859-1<br>Accept-Languageï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ<br>Cache-Controlï¼šç¼“å­˜æ§åˆ¶<br>Connectionï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œè¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥<br>HOSTï¼šä¸»æœº..../.<br></code></pre></td></tr></table></figure><h3 id="4ã€Httpå“åº”"><a href="#4ã€Httpå“åº”" class="headerlink" title="4ã€Httpå“åº”"></a>4ã€Httpå“åº”</h3><ul><li>æœåŠ¡å™¨â€“å“åº”â€¦â€¦.å®¢æˆ·ç«¯</li></ul><p>ç™¾åº¦ï¼š</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">Cache-Control:private    ç¼“å­˜æ§åˆ¶</span><br><span class="hljs-section">Connection:Keep-Alive    è¿æ¥</span><br><span class="hljs-section">Content-Encoding:gzip    ç¼–ç </span><br><span class="hljs-section">Content-Type:text/html   ç±»å‹  </span><br></code></pre></td></tr></table></figure><h4 id="4-1ã€å“åº”ä½“"><a href="#4-1ã€å“åº”ä½“" class="headerlink" title="4.1ã€å“åº”ä½“"></a>4.1ã€å“åº”ä½“</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">Acceptï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹<br>Accept-Encodingï¼šæ”¯æŒå“ªç§ç¼–ç æ ¼å¼  GBK   UTF-8   GB2312  ISO8859-1<br>Accept-Languageï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œå®ƒçš„è¯­è¨€ç¯å¢ƒ<br>Cache-Controlï¼šç¼“å­˜æ§åˆ¶<br>Connectionï¼šå‘Šè¯‰æµè§ˆå™¨ï¼Œè¯·æ±‚å®Œæˆæ˜¯æ–­å¼€è¿˜æ˜¯ä¿æŒè¿æ¥<br>HOSTï¼šä¸»æœº..../.<br>Refreshï¼šå‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¤šä¹…åˆ·æ–°ä¸€æ¬¡ï¼›<br>Locationï¼šè®©ç½‘é¡µé‡æ–°å®šä½ï¼›<br></code></pre></td></tr></table></figure><h4 id="4-2ã€å“åº”çŠ¶æ€ç "><a href="#4-2ã€å“åº”çŠ¶æ€ç " class="headerlink" title="4.2ã€å“åº”çŠ¶æ€ç "></a>4.2ã€å“åº”çŠ¶æ€ç </h4><p>200ï¼šè¯·æ±‚å“åº”æˆåŠŸ200<br>3xx:è¯·æ±‚é‡å®šå‘Â·é‡å®šå‘ï¼šä½ é‡æ–°åˆ°æˆ‘ç»™ä½ æ–°ä½ç½®å»ï¼›<br>4xx:æ‰¾ä¸åˆ°èµ„æº404Â·èµ„æºä¸å­˜åœ¨ï¼›<br>5xx:æœåŠ¡å™¨ä»£ç é”™è¯¯ 500 502:ç½‘å…³é”™è¯¯</p><h3 id="5ã€ç¯å¢ƒå˜é‡çš„ä½œç”¨"><a href="#5ã€ç¯å¢ƒå˜é‡çš„ä½œç”¨" class="headerlink" title="5ã€ç¯å¢ƒå˜é‡çš„ä½œç”¨"></a>5ã€<strong>ç¯å¢ƒå˜é‡çš„ä½œç”¨</strong></h3><p>1ã€éšç€ç”µè„‘å®‰è£…çš„è½¯ä»¶è¶Šæ¥è¶Šå¤šï¼Œæˆ‘ä»¬è®°ä¸ä½æ‰€æœ‰è½¯ä»¶çš„å®‰è£…è·¯å¾„ï¼Œæƒ³è¿è¡ŒæŸä¸€è½¯ä»¶å°±å¾ˆéº»çƒ¦ã€‚</p><p>2ã€å¦‚æœæƒ³åœ¨æŸä¸€è·¯å¾„ä¸‹ç›´æ¥è¿è¡ŒæŸæ¬¾è½¯ä»¶ï¼Œæˆ‘ä»¬æ— èƒ½ä¸ºåŠ›ã€‚</p><p>é€šè¿‡åœ¨ç¯å¢ƒå˜é‡é‡Œé¢åŠ å…¥æ‰€æœ‰è½¯ä»¶çš„å®‰è£…è·¯å¾„ï¼Œå½“æˆ‘ä»¬æƒ³è¿è¡ŒæŸä¸€è½¯ä»¶æ—¶åŒå‡»å…¶å¿«æ·æ–¹å¼æˆ–è€…åœ¨DOSç•Œé¢è¾“å…¥è½¯ä»¶åç§°ï¼Œæ­¤æ—¶ï¼Œè®¡ç®—æœºé™¤äº†åœ¨å…¶å½“å‰ç›®å½•ä¸‹å¯»æ‰¾è¯¥è½¯ä»¶çš„.exeæ–‡ä»¶å¤–ï¼Œè¿˜åœ¨ç¯å¢ƒå˜é‡ä¸­æœç´¢è½¯ä»¶çš„è·¯å¾„ï¼Œæ‰¾åˆ°ï¼Œè¿è¡Œã€‚</p><p>ç»¼ä¸Šï¼ŒWindowså’ŒDOSæ“ä½œç³»ç»Ÿä¸­çš„pathç¯å¢ƒå˜é‡ï¼Œå½“è¦æ±‚ç³»ç»Ÿè¿è¡Œä¸€ä¸ªç¨‹åºè€Œæ²¡æœ‰å‘Šè¯‰å®ƒç¨‹åºæ‰€åœ¨çš„å®Œæ•´è·¯å¾„æ—¶ï¼Œç³»ç»Ÿé™¤äº†åœ¨å½“å‰ç›®å½•ä¸‹é¢å¯»æ‰¾æ­¤ç¨‹åºå¤–ï¼Œè¿˜åº”åˆ°pathä¸­æŒ‡å®šçš„è·¯å¾„å»æ‰¾ã€‚ç”¨æˆ·é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œæ¥æ›´å¥½çš„è¿è¡Œè¿›ç¨‹ã€‚</p><h3 id="6ã€ç½‘å…³å’Œ502é”™è¯¯"><a href="#6ã€ç½‘å…³å’Œ502é”™è¯¯" class="headerlink" title="6ã€ç½‘å…³å’Œ502é”™è¯¯"></a>6ã€<strong>ç½‘å…³å’Œ502é”™è¯¯</strong></h3><p>ä»ç½‘ç»œè®¾å¤‡ä¸Šçš„â€œç½‘å…³â€è®²ï¼Œè¿™ä¸ªè®¾å¤‡æœ‰æ—¶å€™åˆå«â€œè·¯ç”±å™¨â€æˆ–è€…â€œé˜²ç«å¢™â€åˆæˆ–è€…å«â€œï¼ˆä¸‰å±‚ï¼‰äº¤æ¢æœºâ€ã€‚å¦‚æœç»™å‡ºä¸€å¼ æ‹“æ‰‘å›¾ï¼Œå¯ä»¥æƒ³è§ç½‘å…³æ˜¯å¤„äºä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„ç½‘ç»œä¹‹é—´çš„ï¼Œè´Ÿè´£è·¯ç”±è½¬å‘æˆ–è€…åœ°å€è½¬æ¢æˆ–è€…æ‰§è¡Œæ•°æ®åŒ…è¿‡æ»¤çš„è®¾å¤‡ã€‚<em>ä»åˆ«çš„è§’åº¦çœ‹æè¿°èµ·æ¥ä¸ä¼šè¿™ä¹ˆç»•ï¼Œæ¯”å¦‚è¯´ç»ˆç«¯é…ç½®çš„ç½‘å…³åœ°å€ï¼Œå®ƒçš„æ„ä¹‰å°±åœ¨äºè®¿é—®æœ¬ç½‘æ®µä»¥å¤–çš„åœ°å€éƒ½ç»ç”±æ‰€é…ç½®ç½‘å…³åœ°å€æ‰€åœ¨çš„ç½‘å…³è®¾å¤‡è½¬å‘ã€‚</em></p><p>å‡ºç°502çš„åŸå› æ˜¯ï¼š<br>å¯¹ç”¨æˆ·è®¿é—®è¯·æ±‚çš„å“åº”è¶…æ—¶é€ æˆçš„ï¼Œç®€å•æ¥è¯´ 502 æ˜¯æŠ¥é”™ç±»å‹ä»£ç  bad gateway é”™è¯¯çš„ç½‘å…³ã€‚è¿æ¥è¶…æ—¶ æˆ‘ä»¬å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ ç”±äºæœåŠ¡å™¨å½“å‰é“¾æ¥å¤ªå¤šï¼Œå¯¼è‡´æœåŠ¡å™¨æ–¹é¢æ— æ³•ç»™äºæ­£å¸¸çš„å“åº”,äº§ç”Ÿæ­¤ç±»æŠ¥é”™ã€‚åœ¨æœ€åŸºæœ¬çš„çº§åˆ«ä¸Šï¼Œ502é”™è¯¯ç½‘å…³è¡¨ç¤ºæœåŠ¡å™¨é€šä¿¡å‡ºç°äº†é—®é¢˜ã€‚å®ƒæ¶‰åŠç½‘å…³æˆ–ä»£ç†æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï¼Œè¿™äº›ç½‘å…³æˆ–ä»£ç†æœåŠ¡å™¨æ¥å—æ¥è‡ªä¸Šæ¸¸ï¼ˆæˆ–æºï¼‰æœåŠ¡å™¨çš„æ— æ•ˆå“åº”ã€‚å½“ä¸Šæ¸¸æœåŠ¡å™¨å’Œç½‘å…³æœåŠ¡å™¨æ— æ³•å†³å®šäº¤æ¢æ•°æ®çš„åè®®ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼Œå› æ­¤æ— æ³•æ˜¾ç¤ºç½‘ç«™ã€‚502é”™è¯¯é€šå¸¸æ„å‘³ç€åœ¨ä½ çš„ç½‘ç«™è®¾ç½®è¿‡ç¨‹ä¸­å‡ºç°äº†é”™è¯¯é…ç½®ã€‚</p><p>å…·ä½“åˆ†ææœ‰å‡ ä¸‹å‡ ç‚¹ï¼š</p><p>æœåŠ¡å™¨è¶…è½½â€”â€”å¦‚æœæœåŠ¡å™¨è€—å°½å†…å­˜ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå´©æºƒï¼ŒåŸå› æ˜¯ç«™ç‚¹ä¸Šæœ‰å¤§é‡è®¿é—®è€…æˆ–DDOSæ”»å‡»ã€‚</p><p>é˜²ç«å¢™é˜»æ­¢è¯·æ±‚â€”â€”é˜²ç«å¢™å¯èƒ½ä¼šé˜»æ­¢è¾¹ç¼˜æœåŠ¡å™¨å’Œä¸Šæ¸¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚æŸäº›DDoSä¿æŠ¤ç³»ç»Ÿå¯èƒ½ä¼šè¿‡åº¦ååº”å¹¶é˜»æ­¢æ¥è‡ªå†…å®¹ä¼ é€ç³»ç»Ÿçš„è¯·æ±‚ã€‚<br>ç¼–ç¨‹é”™è¯¯â€”â€”æœ‰æ—¶ç½‘ç«™ä»£ç ä¸­çš„ä¸€ä¸ªé”™è¯¯å¯èƒ½æ„å‘³ç€è¯·æ±‚ä¸èƒ½å¾—åˆ°æ­£ç¡®çš„å“åº”ï¼Œä»è€Œå¯¼è‡´å‡ºç°è¿™ä¸ªé”™è¯¯ã€‚</p><p>ç½‘ç»œé”™è¯¯â€”â€”DNSé—®é¢˜ã€è·¯ç”±é—®é¢˜å’ŒISPç›¸å…³çš„é—®é¢˜ä¹Ÿå¯ä»¥å¯¼è‡´é”™è¯¯ç½‘å…³ã€‚<br>æœåŠ¡å™¨è½¯ä»¶è¶…æ—¶â€”â€”å½“WebæœåŠ¡å™¨éœ€è¦æ›´å¤šæ—¶é—´æ¥å®Œæˆå¹¶ä¸”ç¼“å­˜å·¥å…·è¾¾åˆ°å…¶è¶…æ—¶å€¼æ—¶ï¼Œä¹Ÿä¼šå‘ç”Ÿæ­¤é”™è¯¯ã€‚æ…¢æŸ¥è¯¢ä¹Ÿä¼šå¯¼è‡´æ­¤é—®é¢˜ã€‚</p><p>è§£å†³åŠæ³•ï¼š<br>1.æé«˜ Web æœåŠ¡å™¨çš„å“åº”é€Ÿåº¦ï¼Œä¹Ÿå³å‡å°‘å†…éƒ¨çš„è°ƒç”¨å…³ç³»ï¼Œå¯ä»¥æŠŠéœ€è¦çš„é¡µé¢ã€ç´ ææˆ–æ•°æ®ï¼Œç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥æ˜¯ä¸“é—¨çš„ç¼“å­˜æœåŠ¡å™¨ ï¼Œä¹Ÿå¯ä»¥WebæœåŠ¡å™¨è‡ªèº«çš„ç¼“å­˜ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼›</p><p>2.ç½‘ç»œå¸¦å®½çš„é—®é¢˜ï¼Œåˆ™å¯¹ä¼ è¾“çš„æ•°æ®åŒ…è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œæˆ–è€…å‘IDCç”³è¯·å¢åŠ å¸¦å®½ï¼›</p><p>3.å±äºå†…éƒ¨ç½‘ç»œçš„æ•…éšœæˆ–è®¾ç½®é—®é¢˜ï¼Œä¹Ÿå³å†…éƒ¨ç½‘ç»œæ‹¥å¡ï¼Œå¯èƒ½å†…éƒ¨å­˜åœ¨å¤§é‡çš„æ•°æ®è°ƒç”¨æˆ–äº¤äº’é€ æˆçš„ï¼Œåˆ™éœ€è¦ä¼˜åŒ–å†…éƒ¨ç½‘ç»œä¼ è¾“æˆ–åè®®ï¼›</p><p>4.å¦å¤–å¾ˆå¤§çš„é—®é¢˜åœ¨MySQLæ•°æ®åº“è¿™ä¸€å—ï¼Œå¦‚æœæ•°æ®åº“æ‰§è¡Œå‘½ä»¤è¶…æ—¶ä¹Ÿä¼šå¤§å»¶é•¿phpè„šæœ¬çš„æ‰§è¡Œæ—¶é—´ï¼Œå¯¼è‡´ Nginx ç­‰å¾…è¶…æ—¶ã€‚å¯ä»¥my.cnfçš„ slow logè¿›è¡Œç¡®è®¤æ•ˆèƒ½ä½ä¸‹çš„sqlè¯­å¥æ˜¯å“ªäº›ï¼Œè¿›è¡Œä¼˜åŒ–é…ç½®ã€‚æ•°æ®åº“çš„æ•°æ®è¯»å–é€ æˆå‰ç«¯æœåŠ¡å™¨ ï¼Œå“åº”ç”¨æˆ·çš„è¯·æ±‚å˜æ…¢ï¼Œé‚£ä¹ˆå¿…é¡»æé«˜æ•°æ®åº“çš„å¤„ç†èƒ½åŠ›ï¼Œè‹¥æ˜¯åªè¯»ä¸šåŠ¡å¯ä»¥å¢åŠ æ•°æ®ç¼“å­˜çš„æ¨¡å¼ æˆ–è€…å¢åŠ æ•°æ®åº“å¤‡æœºï¼Œåˆ†æ•£è¯»å‹åŠ›ï¼› è‹¥æ˜¯å†™çš„å‹åŠ›ï¼Œåˆ™å¯ä»¥è€ƒè™‘å»¶è¿Ÿå†™çš„æ¨¡å¼ï¼Œæƒ³è¿™ä¸ªæ—¶å€™åšæ•°æ®å†™åˆ†æ•£è‚¯å®šæ¥ä¸åŠã€‚</p><p>5.åœ¨å‘ç”Ÿé”™è¯¯æ—¶æ£€æŸ¥WebæœåŠ¡å™¨æ—¥å¿—å°†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚å¦‚æœä½ æ˜¯è¯¥ç½‘ç«™çš„æ‰€æœ‰è€…ï¼Œåˆ™å¯ä»¥æ£€æŸ¥ä½ çš„FQDN</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2-Tomcat</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/2-Tomcat/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/2-Tomcat/</url>
    
    <content type="html"><![CDATA[<h2 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h2><h5 id="Tomcat-1"><a href="#Tomcat-1" class="headerlink" title="Tomcat"></a>Tomcat</h5><p><img src="/.io//20200423183331323.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æœ€æ–°çš„Servlet å’Œ JSP è§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcatä¸­å¾—åˆ°ä½“ç°ï¼Œå› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›ã€æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”å…è´¹ï¼Œå› è€Œæ·±å—lavaçˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„Webåº”ç”¨æœåŠ¡å™¨ã€‚</p><p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Webåº”ç”¨æœåŠ¡å™¨ï¼Œå±äº<strong>è½»é‡çº§åº”ç”¨æœåŠ¡å™¨</strong>ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSPç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªJavaåˆå­¦webçš„äººæ¥è¯´ï¼Œå®ƒæ˜¯æœ€ä½³çš„é€‰æ‹©ã€‚</p><h3 id="1ã€å®‰è£…tomcat-tomcat"><a href="#1ã€å®‰è£…tomcat-tomcat" class="headerlink" title="1ã€å®‰è£…tomcat tomcat"></a>1ã€å®‰è£…tomcat tomcat</h3><p>å®˜ç½‘ï¼š<a href="http://tomcat.apache.org/">http://tomcat.apache.org/</a></p><p><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-16471498189275" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="/.io//20200423183826267.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="2ã€Tomcatå¯åŠ¨å’Œé…ç½®"><a href="#2ã€Tomcatå¯åŠ¨å’Œé…ç½®" class="headerlink" title="2ã€Tomcatå¯åŠ¨å’Œé…ç½®"></a>2ã€Tomcatå¯åŠ¨å’Œé…ç½®</h3><p>æ–‡ä»¶å¤¹ä½œç”¨:<br><img src="/.io//image-20220313212603521.png" alt="image-20220313212603521"></p><p><img src="/.io//image-20220313212624598.png" alt="image-20220313212624598"></p><p>è®¿é—®æµ‹è¯•ï¼š<a href="http://localhost:8080/">http://localhost:8080/</a><br>å¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š</p><ol><li>Javaç¯å¢ƒå˜é‡æ²¡æœ‰é…ç½®</li><li>é—ªé€€é—®é¢˜ï¼šéœ€è¦é…ç½®å…¼å®¹æ€§</li><li>ä¹±ç é—®é¢˜ï¼šé…ç½®æ–‡ä»¶ä¸­è®¾ç½®</li></ol><p>å¯ä»¥ä¿®æ”¹ conf/logging.properties ä¸­çš„ java.util.logging.ConsoleHandler.encoding = GBK è§£å†³ä¹±ç é—®é¢˜</p><h3 id="3ã€é…ç½®"><a href="#3ã€é…ç½®" class="headerlink" title="3ã€é…ç½®"></a>3ã€é…ç½®</h3><p><img src="/.io//watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2JlbGxfbG92ZQ==,size_16,color_FFFFFF,t_70-16471498189279" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å¯ä»¥é…ç½®å¯åŠ¨çš„ç«¯å£å·</p><ul><li>tomcatçš„é»˜è®¤ç«¯å£å·ä¸ºï¼š8080</li><li>mysql:3306</li><li>http:80</li><li>httpsï¼š443</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Connector</span> <span class="hljs-attr">port</span>=<span class="hljs-string">&quot;8081&quot;</span> <span class="hljs-attr">protocol</span>=<span class="hljs-string">&quot;HTTP/1.1&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">connectionTimeout</span>=<span class="hljs-string">&quot;20000&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">redirectPort</span>=<span class="hljs-string">&quot;8443&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥é…ç½®ä¸»æœºçš„åç§°</p><ul><li>é»˜è®¤çš„ä¸»æœºåä¸ºï¼šlocalhost-&gt;127.0.0.1</li><li>é»˜è®¤ç½‘ç«™åº”ç”¨å­˜æ”¾çš„ä½ç½®ä¸ºï¼šwebapps</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Host</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;www.qinjiang.com&quot;</span>  <span class="hljs-attr">appBase</span>=<span class="hljs-string">&quot;webapps&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">unpackWARs</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">autoDeploy</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><h5 id="é«˜éš¾åº¦é¢è¯•é¢˜ï¼š"><a href="#é«˜éš¾åº¦é¢è¯•é¢˜ï¼š" class="headerlink" title="é«˜éš¾åº¦é¢è¯•é¢˜ï¼š"></a>é«˜éš¾åº¦é¢è¯•é¢˜ï¼š</h5><p><a href="https://blog.csdn.net/zhongqw_00/article/details/88958000">è¯·ä½ è°ˆè°ˆç½‘ç«™æ˜¯å¦‚ä½•è¿›è¡Œè®¿é—®çš„ï¼</a></p><ol><li><p>è¾“å…¥ä¸€ä¸ªåŸŸåï¼›å›è½¦</p></li><li><p>æ£€æŸ¥æœ¬æœºçš„C:\Windows\System32\drivers\etc\hostsé…ç½®æ–‡ä»¶ä¸‹æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåæ˜ å°„ï¼›</p><ol><li><p>æœ‰ï¼šç›´æ¥è¿”å›å¯¹åº”çš„ipåœ°å€ï¼Œè¿™ä¸ªåœ°å€ä¸­ï¼Œæœ‰æˆ‘ä»¬éœ€è¦è®¿é—®çš„webç¨‹åºï¼Œå¯ä»¥ç›´æ¥è®¿é—®</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span> www.qinjiang.com<br></code></pre></td></tr></table></figure></li><li><p>æ²¡æœ‰ï¼šå»DNSæœåŠ¡å™¨æ‰¾ï¼Œæ‰¾åˆ°çš„è¯å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°å°±è¿”å›æ‰¾ä¸åˆ°ï¼›<br><img src="/.io//image-20220313214253452.png" alt="image-20220313214253452"></p></li></ol></li></ol><h3 id="4ã€å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"><a href="#4ã€å‘å¸ƒä¸€ä¸ªwebç½‘ç«™" class="headerlink" title="4ã€å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"></a>4ã€å‘å¸ƒä¸€ä¸ªwebç½‘ç«™</h3><p>ä¸ä¼šå°±å…ˆæ¨¡ä»¿</p><ul><li><p>å°†è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ”¾åˆ°æœåŠ¡å™¨ï¼ˆTomcat)ä¸­æŒ‡å®šçš„webåº”ç”¨çš„æ–‡ä»¶å¤¹ï¼ˆwebapps)ä¸‹ï¼Œå°±å¯ä»¥è®¿é—®äº†</p></li><li><p><img src="/.io//1363376-20210211000006651-638790997.png" alt="img"></p></li></ul><p>ç½‘ç«™åº”è¯¥æœ‰çš„ç»“æ„</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">--webapps ï¼šTomcatæœåŠ¡å™¨çš„webç›®å½•<br>-ROOT<br>-kuangstudy ï¼šç½‘ç«™çš„ç›®å½•å<br>- WEB-INF<br>-classes : <span class="hljs-keyword">javaç¨‹åº</span><br><span class="hljs-keyword"></span>-libï¼šwebåº”ç”¨æ‰€ä¾èµ–çš„<span class="hljs-keyword">jaråŒ…</span><br><span class="hljs-keyword"></span>-web.xml ï¼šç½‘ç«™é…ç½®æ–‡ä»¶<br>- index.html é»˜è®¤çš„é¦–é¡µ<br>- static <br>            -css<br>            -style.css<br>            -<span class="hljs-keyword">js</span><br><span class="hljs-keyword"></span>            -img<br>         -.....<br></code></pre></td></tr></table></figure><h3 id="5ã€åº”ç”¨æœåŠ¡å™¨-amp-ç‰©ç†æœåŠ¡å™¨"><a href="#5ã€åº”ç”¨æœåŠ¡å™¨-amp-ç‰©ç†æœåŠ¡å™¨" class="headerlink" title="5ã€åº”ç”¨æœåŠ¡å™¨ &amp; ç‰©ç†æœåŠ¡å™¨"></a>5ã€åº”ç”¨æœåŠ¡å™¨ &amp; ç‰©ç†æœåŠ¡å™¨</h3><p>tomcatå¯ä»¥è¯´æˆæ˜¯åº”ç”¨æœåŠ¡å™¨è½¯ä»¶ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä¸­é—´ä»¶ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯Servletå®¹å™¨ï¼ŒWebæœåŠ¡å™¨ã€‚ä½ è¯´çš„ä¸åœè¿è½¬çš„ç‰©ç†æœºå™¨ï¼Œé‚£æ˜¯ç‰©ç†æœºå™¨ï¼Œç‰©ç†æœºå™¨è‚¯å®šæ˜¯ä¸€èµ·çš„åŸºç¡€ï¼Œä½†æ˜¯å°±åƒå°±æœ‰äº†ä¸€å°è£¸ç”µè„‘ï¼Œä½ ä¸è£…æ“ä½œç³»ç»Ÿï¼Œä½ QQæ€ä¹ˆè¿è¡Œå•Šã€‚å…ˆæœ‰ç‰©ç†æœåŠ¡å™¨æœºå™¨ï¼Œå†å®‰è£…tomcatï¼Œç„¶ååœ¨tomcaté‡Œé¢éƒ¨ç½²ä½ çš„JavaEE JavaWebç¨‹åºï¼Œæ‰èƒ½åƒQQä¸€æ ·æä¾›æœåŠ¡ã€‚Tomcatæ˜¯Java Webæ‰éœ€è¦çš„ï¼Œå¦‚æœä½¿ç”¨ASP.netæˆ–è€…PHPå¼€å‘ç½‘ç«™ï¼Œä¸éœ€è¦Tomcatã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>14-SSMæ¡†æ¶</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/14-SSM%E6%A1%86%E6%9E%B6/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/14-SSM%E6%A1%86%E6%9E%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¼ä¸šä¸­ç”¨çš„ä¸¤ç§-Java-æ¡†æ¶"><a href="#ä¼ä¸šä¸­ç”¨çš„ä¸¤ç§-Java-æ¡†æ¶" class="headerlink" title="ä¼ä¸šä¸­ç”¨çš„ä¸¤ç§ Java æ¡†æ¶"></a>ä¼ä¸šä¸­ç”¨çš„ä¸¤ç§ Java æ¡†æ¶</h2><ul><li><h4 id="SSM"><a href="#SSM" class="headerlink" title="SSM"></a>SSM</h4></li><li><h4 id="å¾®æœåŠ¡"><a href="#å¾®æœåŠ¡" class="headerlink" title="å¾®æœåŠ¡"></a>å¾®æœåŠ¡</h4></li></ul><p><img src="/.io//a1879b66217c4bf1b8a3d0ab05e83dce.png" alt="a1879b66217c4bf1b8a3d0ab05e83dce"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>13-Spring Bootå–ä»£JSP</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/13-Spring%20Boot%E5%8F%96%E4%BB%A3JSP/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/13-Spring%20Boot%E5%8F%96%E4%BB%A3JSP/</url>
    
    <content type="html"><![CDATA[<p>Spring Bootä¸€éƒ¨åˆ†å–ä»£äº†jspï¼š<br>ä»¥å‰è€çš„æ–¹å¼æ˜¯ï¼š<br>1.å®¢æˆ·ç«¯è¯·æ±‚<br>2.æœåŠ¡ç«¯çš„servletæˆ–controlleræ¥æ”¶è¯·æ±‚ï¼ˆè·¯ç”±è§„åˆ™ç”±åç«¯åˆ¶å®šï¼Œæ•´ä¸ªé¡¹ç›®å¼€å‘çš„æƒé‡å¤§éƒ¨åˆ†åœ¨åç«¯ï¼‰<br>3.è°ƒç”¨service,daoä»£ç å®Œæˆä¸šåŠ¡é€»è¾‘<br>4.è¿”å›jsp<br>5.jspå±•ç°ä¸€äº›åŠ¨æ€çš„ä»£ç </p><p>æ–°çš„æ–¹å¼æ˜¯ï¼š<br>1.æµè§ˆå™¨å‘é€è¯·æ±‚<br>2.ç›´æ¥åˆ°è¾¾htmlé¡µé¢ï¼ˆè·¯ç”±è§„åˆ™ç”±å‰ç«¯åˆ¶å®šï¼Œæ•´ä¸ªé¡¹ç›®å¼€å‘çš„æƒé‡å‰ç§»ï¼‰<br>3.htmlé¡µé¢è´Ÿè´£è°ƒç”¨æœåŠ¡ç«¯æ¥å£äº§ç”Ÿæ•°æ®ï¼ˆé€šè¿‡ajaxç­‰ç­‰ï¼‰<br>4.å¡«å……htmlï¼Œå±•ç°åŠ¨æ€æ•ˆæœã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š<br>1.å¯ä»¥å®ç°çœŸæ­£çš„å‰åç«¯è§£è€¦ï¼Œå‰ç«¯æœåŠ¡å™¨ä½¿ç”¨nginxã€‚<br>å‰ç«¯æœåŠ¡å™¨æ”¾çš„æ˜¯cssï¼Œjsï¼Œå›¾ç‰‡ç­‰ç­‰ä¸€ç³»åˆ—é™æ€èµ„æºï¼ˆç”šè‡³ä½ è¿˜å¯ä»¥cssï¼Œjsï¼Œå›¾ç‰‡ç­‰èµ„æºæ”¾åˆ°ç‰¹å®šçš„æ–‡ä»¶æœåŠ¡å™¨ï¼Œä¾‹å¦‚é˜¿é‡Œäº‘çš„ossï¼Œå¹¶ä½¿ç”¨cdnåŠ é€Ÿï¼‰ï¼Œå‰ç«¯æœåŠ¡å™¨è´Ÿè´£æ§åˆ¶é¡µé¢å¼•ç”¨ï¼Œè·³è½¬ï¼Œè°ƒç”¨åç«¯çš„æ¥å£ï¼Œåç«¯æœåŠ¡å™¨ä½¿ç”¨tomcatã€‚<br>ï¼ˆè¿™é‡Œéœ€è¦ä½¿ç”¨ä¸€äº›å‰ç«¯å·¥ç¨‹åŒ–çš„æ¡†æ¶æ¯”å¦‚nodejsï¼Œreactï¼Œrouterï¼Œreactï¼Œreduxï¼Œwebpackï¼‰</p><p>2.å‘ç°bugï¼Œå¯ä»¥å¿«é€Ÿå®šä½æ˜¯è°çš„é—®é¢˜ï¼Œä¸ä¼šå‡ºç°äº’ç›¸è¸¢çš®çƒçš„ç°è±¡ã€‚<br>é¡µé¢é€»è¾‘ï¼Œè·³è½¬é”™è¯¯ï¼Œæµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œè„šæœ¬é”™è¯¯ï¼Œé¡µé¢æ ·å¼ç­‰é—®é¢˜ï¼Œå…¨éƒ¨ç”±å‰ç«¯å·¥ç¨‹å¸ˆæ¥è´Ÿè´£ã€‚<br>æ¥å£æ•°æ®å‡ºé”™ï¼Œæ•°æ®æ²¡æœ‰æäº¤æˆåŠŸï¼Œåº”ç­”è¶…æ—¶ç­‰é—®é¢˜ï¼Œå…¨éƒ¨ç”±åç«¯å·¥ç¨‹å¸ˆæ¥è§£å†³ã€‚<br>åŒæ–¹äº’ä¸å¹²æ‰°ï¼Œå‰ç«¯ä¸åç«¯æ˜¯ç›¸äº²ç›¸çˆ±çš„ä¸€å®¶äººã€‚</p><p>3.åœ¨å¤§å¹¶å‘æƒ…å†µä¸‹ï¼Œæˆ‘å¯ä»¥åŒæ—¶æ°´å¹³æ‰©å±•å‰åç«¯æœåŠ¡å™¨ï¼Œæ¯”å¦‚æ·˜å®çš„ä¸€ä¸ªé¦–é¡µå°±éœ€è¦2000å°å‰ç«¯æœåŠ¡å™¨åšé›†ç¾¤æ¥æŠ—ä½æ—¥å‡å¤šå°‘äº¿+çš„æ—¥å‡pvã€‚<br>ï¼ˆå»å‚åŠ é˜¿é‡Œçš„æŠ€æœ¯å³°ä¼šï¼Œå¬ä»–ä»¬è¯´ä»–ä»¬çš„webå®¹å™¨éƒ½æ˜¯è‡ªå·±å†™çš„ï¼Œå°±ç®—ä»–å•å®ä¾‹æŠ—10ä¸‡httpå¹¶å‘ï¼Œ2000å°æ˜¯2äº¿httpå¹¶å‘ï¼Œå¹¶ä¸”ä»–ä»¬è¿˜å¯ä»¥æ ¹æ®é¢„çŸ¥æ´ªå³°æ¥æ— é™æ‹“å±•ï¼Œå¾ˆææ€–ï¼Œå°±ä¸€ä¸ªé¦–é¡µã€‚ã€‚ã€‚ï¼‰</p><p>4.å‡å°‘åç«¯æœåŠ¡å™¨çš„å¹¶å‘å‹åŠ›ï¼Œé™¤äº†æ¥å£ä»¥å¤–çš„å…¶ä»–æ‰€æœ‰httpè¯·æ±‚å…¨éƒ¨è½¬ç§»åˆ°å‰ç«¯nginxä¸Šã€‚</p><p>5.å³ä½¿åç«¯æœåŠ¡æš‚æ—¶è¶…æ—¶æˆ–è€…å®•æœºäº†ï¼Œå‰ç«¯é¡µé¢ä¹Ÿä¼šæ­£å¸¸è®¿é—®ï¼Œåªä¸è¿‡æ•°æ®åˆ·ä¸å‡ºæ¥è€Œå·²ã€‚</p><p>6.ä¹Ÿè®¸ä½ ä¹Ÿéœ€è¦æœ‰å¾®ä¿¡ç›¸å…³çš„è½»åº”ç”¨ï¼Œé‚£æ ·ä½ çš„æ¥å£å®Œå…¨å¯ä»¥å…±ç”¨ï¼Œå¦‚æœä¹Ÿæœ‰appç›¸å…³çš„æœåŠ¡ï¼Œé‚£ä¹ˆåªè¦é€šè¿‡ä¸€äº›ä»£ç é‡æ„ï¼Œä¹Ÿå¯ä»¥å¤§é‡å¤ç”¨æ¥å£ï¼Œæå‡æ•ˆç‡ã€‚</p><p>7.é¡µé¢æ˜¾ç¤ºçš„ä¸œè¥¿å†å¤šä¹Ÿä¸æ€•ï¼Œå› ä¸ºæ˜¯å¼‚æ­¥åŠ è½½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>12-JDBC</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/12-JDBC/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/12-JDBC/</url>
    
    <content type="html"><![CDATA[<h1 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1><h3 id="1ã€ä»€ä¹ˆæ˜¯JDBC"><a href="#1ã€ä»€ä¹ˆæ˜¯JDBC" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯JDBC"></a>1ã€ä»€ä¹ˆæ˜¯JDBC</h3><p>Java Database Connectivity â€”â€” Javaè¿æ¥æ•°æ®åº“</p><p>æ€æƒ³â€”â€”æ¶æ„ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„</p><p><img src="/.io//image-20220320155833170.png" alt="image-20220320155833170"></p><p>éœ€è¦jaråŒ…çš„æ”¯æŒï¼š</p><ul><li>java.sql</li><li>javax.sql</li><li>mysql-conneter-javaâ€¦ è¿æ¥é©±åŠ¨ï¼ˆå¿…é¡»è¦å¯¼å…¥ï¼‰</li></ul><h3 id="2ã€å®éªŒç¯å¢ƒæ­å»º"><a href="#2ã€å®éªŒç¯å¢ƒæ­å»º" class="headerlink" title="2ã€å®éªŒç¯å¢ƒæ­å»º"></a>2ã€<strong>å®éªŒç¯å¢ƒæ­å»º</strong></h3><h4 id="2-1-åˆ›å»ºMySQLæ•°æ®åº“è¡¨æ ¼"><a href="#2-1-åˆ›å»ºMySQLæ•°æ®åº“è¡¨æ ¼" class="headerlink" title="2.1 åˆ›å»ºMySQLæ•°æ®åº“è¡¨æ ¼"></a><strong>2.1 åˆ›å»ºMySQLæ•°æ®åº“è¡¨æ ¼</strong></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> users(<br>    id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY,<br>    `name` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">40</span>),<br>    `password` <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">40</span>),<br>    email <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">60</span>),<br>    birthday <span class="hljs-type">DATE</span><br>);<br><br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(id,`name`,`password`,email,birthday)<br><span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>,<span class="hljs-string">&#x27;zs@qq.com&#x27;</span>,<span class="hljs-string">&#x27;2000-01-01&#x27;</span>);<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(id,`name`,`password`,email,birthday)<br><span class="hljs-keyword">VALUES</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;æå››&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>,<span class="hljs-string">&#x27;ls@qq.com&#x27;</span>,<span class="hljs-string">&#x27;2000-01-01&#x27;</span>);<br><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> users(id,`name`,`password`,email,birthday)<br><span class="hljs-keyword">VALUES</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;ç‹äº”&#x27;</span>,<span class="hljs-string">&#x27;123456&#x27;</span>,<span class="hljs-string">&#x27;ww@qq.com&#x27;</span>,<span class="hljs-string">&#x27;2000-01-01&#x27;</span>);<br><br><br><span class="hljs-keyword">SELECT</span><span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users;<br></code></pre></td></tr></table></figure><h4 id="2-1-å¯¼å…¥æ•°æ®åº“ä¾èµ–"><a href="#2-1-å¯¼å…¥æ•°æ®åº“ä¾èµ–" class="headerlink" title="2.1  å¯¼å…¥æ•°æ®åº“ä¾èµ–"></a>2.1  å¯¼å…¥æ•°æ®åº“ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--mysqlçš„é©±åŠ¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.1.47<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="3ã€IDEAä¸­è¿æ¥æ•°æ®åº“ï¼š"><a href="#3ã€IDEAä¸­è¿æ¥æ•°æ®åº“ï¼š" class="headerlink" title="3ã€IDEAä¸­è¿æ¥æ•°æ®åº“ï¼š"></a>3ã€IDEAä¸­è¿æ¥æ•°æ®åº“ï¼š</h3><ul><li>è¾“å…¥ç”¨æˆ·å’Œå¯†ç </li><li>é€‰æ‹©Schemas</li><li>é€‰æ‹©Driver</li></ul><img src="/.io//image-20220320193034391.png" alt="image-20220320193034391" style="zoom:67%;"><img src="/.io//image-20220320193122424.png" alt="image-20220320193122424" style="zoom:67%;"><img src="/.io//image-20220320193157550.png" alt="image-20220320193157550" style="zoom:67%;"><img src="/.io//image-20220320200024499.png" alt="image-20220320200024499" style="zoom:67%;"><h3 id="4ã€JDBC-å›ºå®šæ­¥éª¤ï¼š"><a href="#4ã€JDBC-å›ºå®šæ­¥éª¤ï¼š" class="headerlink" title="4ã€JDBC å›ºå®šæ­¥éª¤ï¼š"></a>4ã€<strong>JDBC å›ºå®šæ­¥éª¤ï¼š</strong></h3><ol><li>åŠ è½½é©±åŠ¨</li><li>è¿æ¥æ•°æ®åº“ï¼Œä»£è¡¨æ•°æ®åº“</li><li>å‘æ•°æ®åº“å‘é€SQLçš„å¯¹è±¡Statementï¼šCRUD</li><li>ç¼–å†™SQL ï¼ˆæ ¹æ®ä¸šåŠ¡ï¼Œä¸åŒçš„SQLï¼‰</li><li>æ‰§è¡ŒSQL</li><li>å…³é—­è¿æ¥ï¼ˆå…ˆå¼€çš„åå…³ï¼‰</li></ol><p><strong>æ³¨ï¼šæŸ¥è¯¢ç”¨executeQuery()ï¼Œå¢åˆ æ”¹éƒ½ç”¨executeUpdate()</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestJdbc</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;<br>        <span class="hljs-comment">//é…ç½®ä¿¡æ¯</span><br>        <span class="hljs-comment">//useUnicode=true&amp;characterEncoding=utf-8 è§£å†³ä¸­æ–‡ä¹±ç </span><br>        String url=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8&quot;</span>;<br>        String username = <span class="hljs-string">&quot;root&quot;</span>;<br>        String password = <span class="hljs-string">&quot;123456&quot;</span>;<br><br>        <span class="hljs-comment">//1.åŠ è½½é©±åŠ¨</span><br>        Class.forName(<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>);<br>        <span class="hljs-comment">//2.è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</span><br>        Connection connection = DriverManager.getConnection(url, username, password);<br><br>        <span class="hljs-comment">//3.å‘æ•°æ®åº“å‘é€SQLçš„å¯¹è±¡Statement,PreparedStatement : CRUD</span><br>        Statement statement = connection.createStatement();<br><br>        <span class="hljs-comment">//4.ç¼–å†™SQL</span><br>        String sql = <span class="hljs-string">&quot;select * from users&quot;</span>;<br><br>        <span class="hljs-comment">//5.æ‰§è¡ŒæŸ¥è¯¢SQLï¼Œè¿”å›ä¸€ä¸ª ResultSet  ï¼š ç»“æœé›†</span><br>        ResultSet rs = statement.executeQuery(sql);<br><br>        <span class="hljs-keyword">while</span> (rs.next())&#123;<br>            System.out.println(<span class="hljs-string">&quot;id=&quot;</span>+rs.getObject(<span class="hljs-string">&quot;id&quot;</span>));<br>            System.out.println(<span class="hljs-string">&quot;name=&quot;</span>+rs.getObject(<span class="hljs-string">&quot;name&quot;</span>));<br>            System.out.println(<span class="hljs-string">&quot;password=&quot;</span>+rs.getObject(<span class="hljs-string">&quot;password&quot;</span>));<br>            System.out.println(<span class="hljs-string">&quot;email=&quot;</span>+rs.getObject(<span class="hljs-string">&quot;email&quot;</span>));<br>            System.out.println(<span class="hljs-string">&quot;birthday=&quot;</span>+rs.getObject(<span class="hljs-string">&quot;birthday&quot;</span>));<br>        &#125;<br><br>        <span class="hljs-comment">//6.å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼ˆä¸€å®šè¦åšï¼‰ å…ˆå¼€åå…³</span><br>        rs.close();<br>        statement.close();<br>        connection.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5ã€é¢„ç¼–è¯‘SQL"><a href="#5ã€é¢„ç¼–è¯‘SQL" class="headerlink" title="5ã€é¢„ç¼–è¯‘SQL"></a><strong>5ã€é¢„ç¼–è¯‘SQL</strong></h3><h4 id="é¢„ç¼–è¯‘è¯­å¥åŸºæœ¬æ¦‚å¿µ"><a href="#é¢„ç¼–è¯‘è¯­å¥åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="é¢„ç¼–è¯‘è¯­å¥åŸºæœ¬æ¦‚å¿µ"></a>é¢„ç¼–è¯‘è¯­å¥åŸºæœ¬æ¦‚å¿µ</h4><p>é€šå¸¸æˆ‘ä»¬çš„ä¸€æ¡sqlåœ¨dbæ¥æ”¶åˆ°æœ€ç»ˆæ‰§è¡Œå®Œæ¯•è¿”å›å¯ä»¥åˆ†ä¸ºä¸‹é¢ä¸‰ä¸ªè¿‡ç¨‹ï¼š</p><ol><li>è¯æ³•å’Œè¯­ä¹‰è§£æ</li><li>ä¼˜åŒ–sqlè¯­å¥ï¼Œåˆ¶å®šæ‰§è¡Œè®¡åˆ’</li><li>æ‰§è¡Œå¹¶è¿”å›ç»“æœ</li></ol><p>æˆ‘ä»¬æŠŠè¿™ç§æ™®é€šè¯­å¥ç§°ä½œ<strong>Immediate Statements</strong>ã€‚</p><p>ä½†æ˜¯å¾ˆå¤šæƒ…å†µï¼Œæˆ‘ä»¬çš„ä¸€æ¡sqlè¯­å¥å¯èƒ½ä¼šåå¤æ‰§è¡Œï¼Œæˆ–è€…æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™åªæœ‰ä¸ªåˆ«çš„å€¼ä¸åŒï¼ˆæ¯”å¦‚queryçš„whereå­å¥å€¼ä¸åŒï¼Œupdateçš„setå­å¥å€¼ä¸åŒ,insertçš„valueså€¼ä¸åŒï¼‰ã€‚<br>å¦‚æœæ¯æ¬¡éƒ½éœ€è¦ç»è¿‡ä¸Šé¢çš„è¯æ³•è¯­ä¹‰è§£æã€è¯­å¥ä¼˜åŒ–ã€åˆ¶å®šæ‰§è¡Œè®¡åˆ’ç­‰ï¼Œåˆ™æ•ˆç‡å°±æ˜æ˜¾ä¸è¡Œäº†ã€‚</p><p>æ‰€è°“é¢„ç¼–è¯‘è¯­å¥å°±æ˜¯å°†è¿™ç±»è¯­å¥ä¸­çš„å€¼ç”¨å ä½ç¬¦æ›¿ä»£ï¼Œå¯ä»¥è§†ä¸º<strong>å°†sqlè¯­å¥æ¨¡æ¿åŒ–æˆ–è€…è¯´å‚æ•°åŒ–</strong>ï¼Œä¸€èˆ¬ç§°è¿™ç±»è¯­å¥å«<strong>Prepared Statements</strong>æˆ–è€…<strong>Parameterized Statements</strong><br>é¢„ç¼–è¯‘è¯­å¥çš„ä¼˜åŠ¿åœ¨äºå½’çº³ä¸ºï¼š<strong>ä¸€æ¬¡ç¼–è¯‘ã€å¤šæ¬¡è¿è¡Œï¼Œçœå»äº†è§£æä¼˜åŒ–ç­‰è¿‡ç¨‹ï¼›æ­¤å¤–é¢„ç¼–è¯‘è¯­å¥èƒ½é˜²æ­¢sqlæ³¨å…¥</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TestJDBC2</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        <span class="hljs-comment">//é…ç½®ä¿¡æ¯</span><br>        <span class="hljs-comment">//useUnicode=true&amp;characterEncoding=utf-8 è§£å†³ä¸­æ–‡ä¹±ç </span><br>        String url=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8&quot;</span>;<br>        String username = <span class="hljs-string">&quot;root&quot;</span>;<br>        String password = <span class="hljs-string">&quot;123456&quot;</span>;<br><br>        <span class="hljs-comment">//1.åŠ è½½é©±åŠ¨</span><br>        Class.forName(<span class="hljs-string">&quot;com.mysql.jdbc.Driver&quot;</span>);<br>        <span class="hljs-comment">//2.è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</span><br>        Connection connection = DriverManager.getConnection(url, username, password);<br><br>        <span class="hljs-comment">//3.ç¼–å†™SQL</span><br>        String sql = <span class="hljs-string">&quot;insert into  users(id, name, password, email, birthday) values (?,?,?,?,?);&quot;</span>;<br><br>        <span class="hljs-comment">//4.é¢„ç¼–è¯‘</span><br>        PreparedStatement preparedStatement = connection.prepareStatement(sql);<br><br>        preparedStatement.setInt(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>);<span class="hljs-comment">//ç»™ç¬¬ä¸€ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸º1ï¼›</span><br>        preparedStatement.setString(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;ç‹‚ç¥è¯´Java&quot;</span>);<span class="hljs-comment">//ç»™ç¬¬äºŒä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸ºç‹‚ç¥è¯´Javaï¼›</span><br>        preparedStatement.setString(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;123456&quot;</span>);<span class="hljs-comment">//ç»™ç¬¬ä¸‰ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸º123456ï¼›</span><br>        preparedStatement.setString(<span class="hljs-number">4</span>,<span class="hljs-string">&quot;24736743@qq.com&quot;</span>);<span class="hljs-comment">//ç»™ç¬¬å››ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸º1ï¼›</span><br>        preparedStatement.setDate(<span class="hljs-number">5</span>,<span class="hljs-keyword">new</span> Date(<span class="hljs-keyword">new</span> java.util.Date().getTime()));<span class="hljs-comment">//ç»™ç¬¬äº”ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸ºnew Date(new java.util.Date().getTime())ï¼›</span><br><br>        <span class="hljs-comment">//5.æ‰§è¡ŒSQL</span><br>        <span class="hljs-keyword">int</span> i = preparedStatement.executeUpdate();<br><br>        <span class="hljs-keyword">if</span> (i&gt;<span class="hljs-number">0</span>)&#123;<br>            System.out.println(<span class="hljs-string">&quot;æ’å…¥æˆåŠŸ@&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//6.å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼ˆä¸€å®šè¦åšï¼‰ å…ˆå¼€åå…³</span><br>        preparedStatement.close();<br>        connection.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6ã€äº‹åŠ¡-amp-ACIDåŸåˆ™"><a href="#6ã€äº‹åŠ¡-amp-ACIDåŸåˆ™" class="headerlink" title="6ã€äº‹åŠ¡ &amp; ACIDåŸåˆ™"></a><strong>6ã€äº‹åŠ¡ &amp; ACIDåŸåˆ™</strong></h3><p>è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼</p><p>ACIDåŸåˆ™ï¼šä¿è¯æ•°æ®çš„å®‰å…¨ã€‚</p><p><strong>åŸå­æ€§(Atomicity)ï¼š</strong>æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªäº‹åŠ¡ä¸å¯èƒ½åªæ‰§è¡Œäº†ä¸€åŠå°±åœæ­¢äº†ã€‚</p><p>**ä¸€è‡´æ€§(Consistency)**ï¼šæ˜¯æŒ‡äº‹åŠ¡çš„è¿è¡Œå¹¶ä¸æ”¹å˜æ•°æ®åº“ä¸­æ•°æ®çš„ä¸€è‡´æ€§ã€‚ä¾‹å¦‚ï¼Œå®Œæ•´æ€§çº¦æŸäº†a+b=10ï¼Œä¸€ä¸ªäº‹åŠ¡æ”¹å˜äº†aï¼Œé‚£ä¹ˆbä¹Ÿåº”è¯¥éšä¹‹æ”¹å˜ã€‚</p><p><strong>ç‹¬ç«‹æ€§(Isolationï¼‰ï¼š</strong>äº‹åŠ¡çš„ç‹¬ç«‹æ€§ä¹Ÿç§°ä½œéš”ç¦»æ€§ï¼Œæ˜¯æŒ‡ä¸¤ä¸ªä»¥ä¸Šçš„äº‹åŠ¡ä¸ä¼šå‡ºç°äº¤é”™æ‰§è¡Œçš„çŠ¶æ€ã€‚å› ä¸ºè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œæ›´åŠ å…·ä½“çš„æ¥è®²ï¼Œå°±æ˜¯äº‹åŠ¡ä¹‹é—´çš„æ“ä½œæ˜¯ç‹¬ç«‹çš„ã€‚</p><p><strong>æŒä¹…æ€§(Durabilityï¼‰ï¼š</strong>äº‹åŠ¡çš„æŒä¹…æ€§æ˜¯æŒ‡äº‹åŠ¡æ‰§è¡ŒæˆåŠŸä»¥åï¼Œè¯¥äº‹åŠ¡å¯¹æ•°æ®åº“æ‰€ä½œçš„æ›´æ”¹ä¾¿æ˜¯æŒä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¹‹ä¸­ï¼Œä¸ä¼šæ— ç¼˜æ— æ•…çš„å›æ»šã€‚</p><figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs isbl">æ‰§è¡Œé¡ºåºï¼š<br><br>å¼€å¯äº‹åŠ¡<br>äº‹åŠ¡æäº¤  <span class="hljs-function"><span class="hljs-title">commit</span>()</span><br>äº‹åŠ¡å›æ»š  <span class="hljs-function"><span class="hljs-title">rollback</span>()</span><br>å…³é—­äº‹åŠ¡<br><br></code></pre></td></tr></table></figure><h3 id="7ã€Junitå•å…ƒæµ‹è¯•"><a href="#7ã€Junitå•å…ƒæµ‹è¯•" class="headerlink" title="7ã€Junitå•å…ƒæµ‹è¯•"></a>7ã€<strong>Junitå•å…ƒæµ‹è¯•</strong></h3><p>ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--å•å…ƒæµ‹è¯•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç®€å•ä½¿ç”¨ï¼š</p><p><strong>@Testæ³¨è§£åªæœ‰åœ¨æ–¹æ³•ä¸Šæœ‰æ•ˆï¼Œåªè¦åŠ äº†è¿™ä¸ªæ³¨è§£çš„æ–¹æ³•ï¼Œå°±å¯ä»¥ç›´æ¥è¿è¡Œï¼</strong></p><p>ï¼ˆå¯ä»¥åªè¿è¡Œæ³¨è§£æ ‡æ³¨çš„æ–¹æ³•ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Test</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span>&#123;<br>    System.out.println(<span class="hljs-string">&quot;Hello&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/.io//image-20220320203844328.png" alt="image-20220320203844328"></p><p>å¤±è´¥çš„æ—¶å€™æ˜¯çº¢è‰²ï¼š</p><p><img src="/.io//image-20220320203902937.png" alt="image-20220320203902937"></p>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>11-ç›‘å¬å™¨</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/11-%E7%9B%91%E5%90%AC%E5%99%A8/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/11-%E7%9B%91%E5%90%AC%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h2><p>å®ç°ä¸€ä¸ªç›‘å¬å™¨çš„æ¥å£ï¼›ï¼ˆæœ‰nç§ç›‘å¬å™¨ï¼‰</p><ol><li><p>ç¼–å†™ä¸€ä¸ªç›‘å¬å™¨</p><p>å®ç°ç›‘å¬å™¨çš„æ¥å£ä¾èµ–çš„jaråŒ…</p></li></ol><p><img src="/.io//image-20220320142749339.png" alt="image-20220320142749339"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç»Ÿè®¡ç½‘ç«™åœ¨çº¿äººæ•° ï¼š ç»Ÿè®¡session</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OnlineCountListener</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">HttpSessionListener</span> </span>&#123;<br><br>    <span class="hljs-comment">//åˆ›å»ºsessionç›‘å¬ï¼š çœ‹ä½ çš„ä¸€ä¸¾ä¸€åŠ¨</span><br>    <span class="hljs-comment">//ä¸€æ—¦åˆ›å»ºSessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶ï¼</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sessionCreated</span><span class="hljs-params">(HttpSessionEvent se)</span> </span>&#123;<br>        ServletContext ctx = se.getSession().getServletContext();<br><br>        System.out.println(se.getSession().getId());<br><br>        Integer onlineCount = (Integer) ctx.getAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>);<br><br>        <span class="hljs-keyword">if</span> (onlineCount==<span class="hljs-keyword">null</span>)&#123;<br>            onlineCount = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">1</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">int</span> count = onlineCount.intValue();<br>            onlineCount = <span class="hljs-keyword">new</span> Integer(count+<span class="hljs-number">1</span>);<br>        &#125;<br><br>        ctx.setAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>,onlineCount);<br><br>    &#125;<br><br>    <span class="hljs-comment">//é”€æ¯sessionç›‘å¬</span><br>    <span class="hljs-comment">//ä¸€æ—¦é”€æ¯Sessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶ï¼</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sessionDestroyed</span><span class="hljs-params">(HttpSessionEvent se)</span> </span>&#123;<br>        ServletContext ctx = se.getSession().getServletContext();<br><br>        Integer onlineCount = (Integer) ctx.getAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>);<br><br>        <span class="hljs-keyword">if</span> (onlineCount==<span class="hljs-keyword">null</span>)&#123;<br>            onlineCount = <span class="hljs-keyword">new</span> Integer(<span class="hljs-number">0</span>);<br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">int</span> count = onlineCount.intValue();<br>            onlineCount = <span class="hljs-keyword">new</span> Integer(count-<span class="hljs-number">1</span>);<br>        &#125;<br><br>        ctx.setAttribute(<span class="hljs-string">&quot;OnlineCount&quot;</span>,onlineCount);<br><br>    &#125;<br><br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">    Sessioné”€æ¯ï¼š</span><br><span class="hljs-comment">    1. æ‰‹åŠ¨é”€æ¯  getSession().invalidate();</span><br><span class="hljs-comment">    2. è‡ªåŠ¨é”€æ¯</span><br><span class="hljs-comment">     */</span><br>&#125;<br><br><br></code></pre></td></tr></table></figure><ol start="2"><li>web.xmlä¸­æ³¨å†Œç›‘å¬å™¨</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--æ³¨å†Œç›‘å¬å™¨--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">listener</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">listener-class</span>&gt;</span>com.kuang.listener.OnlineCountListener<span class="hljs-tag">&lt;/<span class="hljs-name">listener-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">listener</span>&gt;</span><br>1234<br></code></pre></td></tr></table></figure><ol start="3"><li>çœ‹æƒ…å†µæ˜¯å¦ä½¿ç”¨ï¼</li></ol>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>10-Filterè¿‡æ»¤å™¨</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/10-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/10-Filter%E8%BF%87%E6%BB%A4%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h2><p>æ¯”å¦‚ Shiroå®‰å…¨æ¡†æ¶æŠ€æœ¯å°±æ˜¯ç”¨Filteræ¥å®ç°çš„</p><p>Filterï¼šè¿‡æ»¤å™¨ ï¼Œç”¨æ¥è¿‡æ»¤ç½‘ç«™çš„æ•°æ®ï¼›</p><ul><li>å¤„ç†ä¸­æ–‡ä¹±ç </li><li>ç™»å½•éªŒè¯â€¦.</li></ul><p>ï¼ˆæ¯”å¦‚ç”¨æ¥è¿‡æ»¤ç½‘ä¸Šéª‚äººçš„è¯ï¼Œæˆ‘***æˆ‘è‡ªå·± 0-0ï¼‰</p><p><img src="/.io//image-20220320141837571.png" alt="image-20220320141837571"><br>Filterå¼€å‘æ­¥éª¤ï¼š</p><ol><li><p>å¯¼åŒ…</p></li><li><p>ç¼–å†™è¿‡æ»¤å™¨</p><p>å¯¼åŒ…ä¸è¦é”™ ï¼ˆæ³¨æ„ï¼‰</p></li></ol><p><img src="/.io//image-20220320141850491.png" alt="image-20220320141850491"></p><p>å®ç°Filteræ¥å£ï¼Œé‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CharacterEncodingFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Filter</span> </span>&#123;<br><br>    <span class="hljs-comment">//åˆå§‹åŒ–ï¼šwebæœåŠ¡å™¨å¯åŠ¨ï¼Œå°±ä»¥åŠåˆå§‹åŒ–äº†ï¼Œéšæ—¶ç­‰å¾…è¿‡æ»¤å¯¹è±¡å‡ºç°ï¼</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteråˆå§‹åŒ–&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//Chain : é“¾</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">          1. è¿‡æ»¤ä¸­çš„æ‰€æœ‰ä»£ç ï¼Œåœ¨è¿‡æ»¤ç‰¹å®šè¯·æ±‚çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ</span><br><span class="hljs-comment">          2. å¿…é¡»è¦è®©è¿‡æ»¤å™¨ç»§ç»­åŒè¡Œ</span><br><span class="hljs-comment">              chain.doFilter(request,response);</span><br><span class="hljs-comment">   */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException </span>&#123;<br>        request.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        response.setCharacterEncoding(<span class="hljs-string">&quot;utf-8&quot;</span>);<br>        response.setContentType(<span class="hljs-string">&quot;text/html;charset=UTF-8&quot;</span>);<br><br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteræ‰§è¡Œå‰....&quot;</span>);<br>        chain.doFilter(request,response); <span class="hljs-comment">//è®©æˆ‘ä»¬çš„è¯·æ±‚ç»§ç»­èµ°ï¼Œå¦‚æœä¸å†™ï¼Œç¨‹åºåˆ°è¿™é‡Œå°±è¢«æ‹¦æˆªåœæ­¢ï¼</span><br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteræ‰§è¡Œå....&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//é”€æ¯ï¼šwebæœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼Œè¿‡æ»¤å™¨ä¼šé”€æ¯</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">destroy</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;CharacterEncodingFilteré”€æ¯&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>åœ¨web.xmlä¸­é…ç½® Filter</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span>com.kuang.filter.CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--åªè¦æ˜¯ /servletçš„ä»»ä½•è¯·æ±‚ï¼Œä¼šç»è¿‡è¿™ä¸ªè¿‡æ»¤å™¨--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/servlet/*<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--&lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span><br>    <span class="hljs-comment">&lt;!-- åˆ«å·æ‡’å†™ä¸ª /* --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="Filterå®ç°æƒé™æ‹¦æˆª"><a href="#Filterå®ç°æƒé™æ‹¦æˆª" class="headerlink" title="Filterå®ç°æƒé™æ‹¦æˆª"></a>Filterå®ç°æƒé™æ‹¦æˆª</h4><p>ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½è¿›å…¥ä¸»é¡µï¼ç”¨æˆ·æ³¨é”€åå°±ä¸èƒ½è¿›å…¥ä¸»é¡µäº†ï¼</p><ol><li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œå‘Sesisonä¸­æ”¾å…¥ç”¨æˆ·çš„æ•°æ®</li><li>è¿›å…¥ä¸»é¡µçš„æ—¶å€™è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼›è¦æ±‚ï¼šåœ¨è¿‡æ»¤å™¨ä¸­å®ç°ï¼</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">HttpServletRequest request = (HttpServletRequest) req;<br>HttpServletResponse response = (HttpServletResponse) resp;<br><br><span class="hljs-keyword">if</span> (request.getSession().getAttribute(Constant.USER_SESSION)==<span class="hljs-keyword">null</span>)&#123;<br>    response.sendRedirect(<span class="hljs-string">&quot;/error.jsp&quot;</span>);<br>&#125;<br><br>chain.doFilter(request,response);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>1-åŸºæœ¬æ¦‚å¿µ</title>
    <link href="/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/"/>
    <url>/2022/03/24/java/JavaWeb%E5%85%A5%E9%97%A8/1-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<h2 id="1ã€åŸºæœ¬æ¦‚å¿µ"><a href="#1ã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1ã€åŸºæœ¬æ¦‚å¿µ"></a>1ã€åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-1ã€å‰è¨€"><a href="#1-1ã€å‰è¨€" class="headerlink" title="1.1ã€å‰è¨€"></a>1.1ã€å‰è¨€</h3><p>webå¼€å‘ï¼š</p><ul><li>webï¼Œç½‘é¡µçš„æ„æ€ï¼Œ<a href="http://www.baidu.comÂ·/">www.baidu.comÂ·</a></li><li>é™æ€web<ul><li>html,css</li><li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼</li></ul></li><li>åŠ¨æ€web<ul><li>æ·˜å®ï¼Œå‡ ä¹æ˜¯æ‰€æœ‰çš„ç½‘ç«™ï¼›</li><li>æä¾›ç»™æ‰€æœ‰äººçœ‹çš„æ•°æ®å§‹ç»ˆä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¯ä¸ªäººåœ¨ä¸åŒçš„æ—¶é—´ï¼Œä¸åŒçš„åœ°ç‚¹çœ‹åˆ°çš„ä¿¡æ¯å„ä¸ç›¸åŒï¼</li><li>æŠ€æœ¯æ ˆï¼šServlet/JSPï¼ŒASPï¼ŒPHP</li></ul></li></ul><h3 id="1-2ã€webåº”ç”¨ç¨‹åºwebåº”ç”¨ç¨‹åºï¼š"><a href="#1-2ã€webåº”ç”¨ç¨‹åºwebåº”ç”¨ç¨‹åºï¼š" class="headerlink" title="1.2ã€webåº”ç”¨ç¨‹åºwebåº”ç”¨ç¨‹åºï¼š"></a>1.2ã€webåº”ç”¨ç¨‹åºwebåº”ç”¨ç¨‹åºï¼š</h3><p>å¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºï¼›</p><ul><li>a.htmlã€b.html.â€¦.å¤šä¸ªwebèµ„æºï¼Œè¿™äº›webèµ„æºå¯ä»¥è¢«å¤–ç•Œè®¿é—®ï¼Œå¯¹å¤–ç•Œæä¾›æœåŠ¡ï¼›</li><li>ä½ ä»¬èƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢æˆ–è€…èµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºä¸Šã€‚</li><li>URL</li><li>è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œwebåº”ç”¨ç¨‹åºâ€”-&gt;Tomcatï¼šæœåŠ¡å™¨</li><li>ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨åˆ†ç»„æˆï¼ˆé™æ€webï¼ŒåŠ¨æ€web)<ul><li>html,css,js</li><li>jsp,servlet</li><li>Javaç¨‹åº</li><li>jaråŒ…</li><li>é…ç½®æ–‡ä»¶ï¼ˆProperties)</li></ul></li></ul><p>Webç¨‹åºç¼–å†™å®Œæ¯•åï¼Œè‹¥æƒ³æä¾›ç»™å¤–ç•Œè®¿é—®ï¼›éœ€è´¹ç»Ÿä¸€ç®¡ç†</p><h3 id="1-3ã€é™æ€web"><a href="#1-3ã€é™æ€web" class="headerlink" title="1.3ã€é™æ€web"></a>1.3ã€é™æ€web</h3><ul><li>*.htmï¼Œ *.htmlè¿™äº›éƒ½æ˜¯ç½‘å‘˜çš„åå¢ƒã€å¦‚æœæœåŠ¡å™¨ä¸Šä¸€ç›´å­˜åœ¨è¿™äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿›è¡Œè¯»å–ã€éœ€è¦ç½‘ç»œï¼›</li><li><img src="/.io//image-20220313202759516.png" alt="image-20220313202759516"></li><li>é™æ€webå­˜åœ¨çš„ç¼ºç‚¹<ul><li>Webé¡µé¢æ— æ³•åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°éƒ½æ˜¯åŒä¸€ä¸ªé¡µé¢<ul><li>è½®æ’­å›¾ï¼Œç‚¹å‡»ç‰¹æ•ˆï¼šä¼ªåŠ¨æ€</li><li>JavaScript[å®é™…å¼€å‘ä¸­ï¼Œå®ƒç”¨çš„æœ€å¤š]</li><li>VBScript</li></ul></li><li>å®ƒæ— æ³•å’Œæ•°æ®åº“äº¤äº’ï¼ˆæ•°æ®æ— æ³•æŒä¹…åŒ–ï¼Œç”¨æˆ·æ— æ³•äº¤äº’ï¼‰</li></ul></li></ul><h3 id="1-4ã€-åŠ¨æ€web"><a href="#1-4ã€-åŠ¨æ€web" class="headerlink" title="1.4ã€ åŠ¨æ€web"></a>1.4ã€ åŠ¨æ€web</h3><p>é¡µé¢ä¼šåŠ¨æ€å±•ç¤ºï¼Œâ€œwebé¡µé¢çš„å±•ç¤ºæ•ˆæœå› äººè€Œå¼‚â€<br><img src="/.io//image-20220324201353344.png" alt="image-20220324201353344"><br>ç¼ºç‚¹ï¼š</p><ul><li>åŠ å…¥æœåŠ¡å™¨çš„åŠ¨æ€webèµ„æºå‡ºç°äº†é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°ç¼–å†™æˆ‘ä»¬çš„åå°ç¨‹åºï¼Œé‡æ–°å‘å¸ƒï¼›</li><li>Webé¡µé¢å¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œæ‰€æœ‰ç”¨æˆ·çœ‹åˆ°éƒ½ä¸æ˜¯åŒä¸€ä¸ªé¡µé¢</li><li>å®ƒå¯ä»¥ä¸æ•°æ®åº“äº¤äº’ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼šæ³¨å†Œï¼Œå•†å“ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯â€¦â€¦â€¦ï¼‰<br><img src="/.io//image-20220313202841050.png" alt="image-20220313202841050"></li></ul><br><h2 id="2ã€webæœåŠ¡å™¨"><a href="#2ã€webæœåŠ¡å™¨" class="headerlink" title="2ã€webæœåŠ¡å™¨"></a>2ã€webæœåŠ¡å™¨</h2><h3 id="2-1ã€æŠ€æœ¯è®²è§£"><a href="#2-1ã€æŠ€æœ¯è®²è§£" class="headerlink" title="2.1ã€æŠ€æœ¯è®²è§£"></a>2.1ã€æŠ€æœ¯è®²è§£</h3><h5 id="ASP"><a href="#ASP" class="headerlink" title="ASP:"></a>ASP:</h5><ul><li>å¾®è½¯ï¼šå›½å†…æœ€æ—©æµè¡Œçš„å°±æ˜¯ASPï¼›</li><li>åœ¨HTMLä¸­åµŒå…¥äº†VBçš„è„šæœ¬ï¼ŒASP+COMï¼›</li><li>åœ¨ASPå¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸€ä¸ªé¡µé¢éƒ½æœ‰å‡ å¹²è¡Œçš„ä¸šåŠ¡ä»£ç ï¼Œé¡µé¢æå…¶æ¢ä¹±</li><li>ç»´æŠ¤æˆæœ¬é«˜ï¼</li><li>C#</li><li>IIS</li></ul><h5 id="php"><a href="#php" class="headerlink" title="php:"></a>php:</h5><ul><li>PHPå¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè·¨å¹³å°ï¼Œä»£ç å¾ˆç®€å•ï¼ˆ70%ï¼ŒWPï¼‰</li><li>æ— æ³•æ‰¿è½½å¤§è®¿é—®é‡çš„æƒ…å†µï¼ˆå±€é™æ€§ï¼‰</li></ul><h5 id="jSP-Servlet"><a href="#jSP-Servlet" class="headerlink" title="jSP/Servlet:"></a>jSP/Servlet:</h5><p>B/Sï¼›æµè§ˆå’ŒæœåŠ¡å™¨        C/Sï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨</p><ul><li>sunå…¬å¸ä¸»æ¨çš„B/Sæ¶æ„</li><li>åŸºäºJavaè¯­è¨€çš„ï¼ˆæ‰€æœ‰çš„å¤§å…¬å¸ï¼Œæˆ–è€…ä¸€äº›å¼€æºçš„ç»„ä»¶ï¼Œéƒ½æ˜¯ç”¨Javaå†™çš„ï¼‰</li><li>å¯ä»¥æ‰¿è½½ä¸‰é«˜é—®é¢˜å¸¦æ¥çš„å½±å“ï¼›</li><li>è¯­æ³•åƒASPï¼ŒASP-&gt;JSPï¼ŒåŠ å¼ºå¸‚åœºå¼ºåº¦ï¼›</li></ul><h3 id="2-2ã€webæœåŠ¡å™¨"><a href="#2-2ã€webæœåŠ¡å™¨" class="headerlink" title="2.2ã€webæœåŠ¡å™¨"></a>2.2ã€webæœåŠ¡å™¨</h3><p>æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œ<strong>ç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç»™ç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯</strong></p><h5 id="lIS"><a href="#lIS" class="headerlink" title="lIS"></a>lIS</h5><ul><li>å¾®è½¯çš„ï¼›ASP, Windowsä¸­è‡ªå¸¦çš„</li></ul><h5 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h5><p><img src="/.io//20200423183331323.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æœ€æ–°çš„Servlet å’Œ JSP è§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcatä¸­å¾—åˆ°ä½“ç°ï¼Œå› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›ã€æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”å…è´¹ï¼Œå› è€Œæ·±å—lavaçˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„Webåº”ç”¨æœåŠ¡å™¨ã€‚</p><p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Webåº”ç”¨æœåŠ¡å™¨ï¼Œå±äº<strong>è½»é‡çº§åº”ç”¨æœåŠ¡å™¨</strong>ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSPç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªJavaåˆå­¦webçš„äººæ¥è¯´ï¼Œå®ƒæ˜¯æœ€ä½³çš„é€‰æ‹©ã€‚</p><p>Tomcat å®é™…ä¸Šè¿è¡ŒJSPé¡µé¢å’ŒSerletã€‚</p><p>å·¥ä½œ3-5å¹´ä¹‹åï¼Œå¯ä»¥å°è¯•æ‰‹å†™TomcatæœåŠ¡å™¨ï¼›</p><p>ä¸‹è½½tomcatï¼š</p><ol><li>å®‰è£…orè§£å‹</li><li>äº†è§£é…ç½®æ–‡ä»¶åŠç›®å½•ç»“æ„</li><li>è¿™ä¸ªä¸œè¥¿çš„ä½œç”¨</li></ol>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
      <category>JavaWebå…¥é—¨</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åˆå¹¶å¤šä¸ªTXTæ–‡ä»¶</title>
    <link href="/2022/03/11/%E5%B0%8FSkills/%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AATXT%E6%96%87%E4%BB%B6/"/>
    <url>/2022/03/11/%E5%B0%8FSkills/%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AATXT%E6%96%87%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<p>1ã€å°†éœ€è¦åˆå¹¶çš„å¤šä¸ªTXTæ–‡ä»¶å¤åˆ¶åˆ°åŒä¸€æ–‡ä»¶å¤¹ä¸‹ï¼ŒæŒ‰ä¸‹â€œwin+Râ€ï¼Œè¾“å…¥â€œcmdâ€ï¼Œç‚¹å‡»â€œç¡®å®šâ€</p><p>2ã€åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œè¾“å…¥æ–‡ä»¶å¤¹æ‰€åœ¨çš„ç£ç›˜ï¼Œä»¥Fç›˜ä¸ºä¾‹ï¼Œè¾“å…¥å®ŒæˆæŒ‰ä¸‹â€œå›è½¦â€ï¼Œå†æ¬¡è¾“å…¥ä¾‹å¦‚â€œcd Fï¼š\baiduâ€ï¼Œè¾“å…¥å®ŒæˆæŒ‰ä¸‹â€œå›è½¦â€ã€‚</p><p>3ã€è¾“å…¥â€œtype *.txt.&gt;&gt;fï¼š\baidu\111.txtâ€ï¼ŒæŒ‰ä¸‹â€œå›è½¦â€é”®å³å¯ã€‚</p><p>4ã€æ­¤æ—¶ç•Œé¢ä¸‹æ–¹ä¼šæ˜¾ç¤ºæ‰€å¤åˆ¶çš„txtå’Œåˆå¹¶åçš„txtçš„åç§°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å°Skills</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ‰¹é‡ä¿®æ”¹æ–‡ä»¶ååç¼€</title>
    <link href="/2022/03/11/%E5%B0%8FSkills/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D%E5%90%8E%E7%BC%80/"/>
    <url>/2022/03/11/%E5%B0%8FSkills/%E6%89%B9%E9%87%8F%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%90%8D%E5%90%8E%E7%BC%80/</url>
    
    <content type="html"><![CDATA[<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚ä½•å°†Word 97 -2003æ–‡æ¡£(*.doc)çš„åç¼€åæ‰¹é‡æ›´æ”¹ä¸º.docxï¼Ÿ</p><p><img src="/images/image-20220311141728193.png" alt="image-20220311141728193"></p><br><p>åœ¨æ–‡ä»¶å¤¹é‡Œé¢æ–°å»ºä¸€ä¸ªtxtï¼Œä¹‹åè¾“å…¥ä»£ç ren *.doc *.docxï¼Œç„¶åæŒ‰Ctrl+Sä¿å­˜ï¼Œéšåå°†è®°äº‹æœ¬çš„åç¼€åæ›´æ”¹ä¸ºbatï¼ŒåŒå‡»å³å¯æ›´æ”¹ã€‚</p><br><p>æ³¨æ„ï¼šrenåé¢æ˜¯æœ‰ç©ºæ ¼çš„ã€‚</p><br><p>renæ˜¯DOSå‘½ä»¤ä¹‹ä¸€ï¼Œrenameçš„ç¼©å†™ï¼Œå¦‚æœéœ€è¦ç»™æ–‡ä»¶é‡å‘½åï¼Œå°±å¯ä»¥ä½¿ç”¨renameå‘½ä»¤ã€‚</p><p>*è¡¨ç¤ºä»»æ„å­—ç¬¦</p>]]></content>
    
    
    <categories>
      
      <category>å°Skills</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ³¨è§£ä¸åå°„</title>
    <link href="/2022/03/11/java/%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/"/>
    <url>/2022/03/11/java/%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/</url>
    
    <content type="html"><![CDATA[<h1 id="1ã€æ³¨è§£"><a href="#1ã€æ³¨è§£" class="headerlink" title="1ã€æ³¨è§£"></a>1ã€æ³¨è§£</h1><ul><li>æ³¨é‡Šï¼šcomment    ç»™äººçœ‹</li><li>æ³¨è§£ï¼šannotation    ç»™äººå’Œç¨‹åºçœ‹</li></ul><h2 id="1-1ã€ä»€ä¹ˆæ˜¯æ³¨è§£"><a href="#1-1ã€ä»€ä¹ˆæ˜¯æ³¨è§£" class="headerlink" title="1.1ã€ä»€ä¹ˆæ˜¯æ³¨è§£"></a>1.1ã€ä»€ä¹ˆæ˜¯æ³¨è§£</h2><ul><li>Annotationæ˜¯ä»JDK 5.0å¼€å§‹å¼•å…¥çš„æ–°æŠ€æœ¯</li><li>Annotationçš„ä½œç”¨ï¼š<ul><li>ä¸æ˜¯ç¨‹åºæœ¬èº«ï¼Œå¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Šã€‚(è¿™ä¸€ç‚¹å’Œæ³¨é‡Š(comment)æ²¡ä»€ä¹ˆåŒºåˆ«)</li><li>å¯ä»¥è¢«å…¶ä»–ç¨‹åº(æ¯”å¦‚:ç¼–è¯‘å™¨ç­‰)è¯»å–</li></ul></li><li>Annotationçš„æ ¼å¼:<ul><li>æ³¨è§£æ˜¯ä»¥â€@æ³¨é‡Šåâ€åœ¨ä»£ç ä¸­å­˜åœ¨çš„ï¹è¿˜å¯ä»¥æ·»åŠ ä¸€äº›å‚æ•°å€¼ï¼Œä¾‹å¦‚:@SuppressWarnings(value=â€uncheckedâ€)</li></ul></li><li>Annotationåœ¨å“ªé‡Œä½¿ç”¨?<ul><li>å¯ä»¥é™„åŠ åœ¨package , class , method , fieldç­‰ä¸Šé¢ï¼Œç›¸å½“äºç»™ä»–ä»¬æ·»åŠ äº†é¢å¤–çš„è¾…åŠ©ä¿¡æ¯</li><li>æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç¼–ç¨‹å®ç°å¯¹è¿™äº›å…ƒæ•°æ®çš„è®¿é—®</li></ul></li></ul><h2 id="1-2ã€å†…ç½®æ³¨è§£"><a href="#1-2ã€å†…ç½®æ³¨è§£" class="headerlink" title="1.2ã€å†…ç½®æ³¨è§£"></a>1.2ã€å†…ç½®æ³¨è§£</h2><ul><li><p>@Override:å®šä¹‰åœ¨java.lang.Overrideä¸­,æ­¤æ³¨é‡Šåªé€‚ç”¨äºä¿®è¾æ–¹æ³•ï¼Œè¡¨ç¤ºä¸€ä¸ªæ–¹æ³•å£°æ˜æ‰“ç®—é‡å†™è¶…ç±»ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•å£°æ˜.</p></li><li><p>@Deprecated :å®šä¹‰åœ¨java.lang.Deprecatedä¸­,æ­¤æ³¨é‡Šå¯ä»¥ç”¨äºä¿®è¾æ–¹æ³•ï¼Œå±æ€§ã€ç±»ï¼Œè¡¨ç¤ºä¸é¼“åŠ±ç¨‹åºå‘˜ä½¿ç”¨è¿™æ ·çš„å…ƒç´ ï¼Œé€šå¸¸æ˜¯å› ä¸ºå®ƒå¾ˆå±é™©æˆ–è€…å­˜åœ¨æ›´å¥½çš„é€‰æ‹©ã€‚</p></li><li><p>@suppressWarningsâˆ¶</p><p>å®šä¹‰åœ¨java.lang.SuppressWarningsä¸­ï¼Œç”¨æ¥æŠ‘åˆ¶ç¼–è¯‘æ—¶çš„è­¦å‘Šä¿¡æ¯ã€‚ä¸å‰ä¸¤ä¸ªæ³¨é‡Šæœ‰æ‰€ä¸åŒï¼Œä½ éœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°æ‰èƒ½æ­£ç¡®ä½¿ç”¨ï¼Œè¿™äº›å‚æ•°éƒ½æ˜¯å·²ç»å®šä¹‰å¥½äº†çš„ï¼Œæˆ‘ä»¬é€‰æ‹©æ€§çš„ä½¿ç”¨å°±å¥½äº†ã€‚</p><ul><li>@SuppressWarnings(â€œallâ€)</li><li>@SuppressWarnings(â€œuncheckedâ€)</li><li>@SuppressWarnings(value={â€œuncheckedâ€ , â€œdeprecationâ€})</li><li>ç­‰ç­‰â€¦..</li></ul></li></ul><h2 id="1-3ã€å…ƒæ³¨è§£"><a href="#1-3ã€å…ƒæ³¨è§£" class="headerlink" title="1.3ã€å…ƒæ³¨è§£"></a>1.3ã€å…ƒæ³¨è§£</h2><ul><li><p><strong>å…ƒæ³¨è§£</strong>çš„ä½œç”¨å°±æ˜¯è´Ÿè´£<strong>æ³¨è§£å…¶ä»–æ³¨è§£</strong>ï¼ŒJavaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»–annotationç±»å‹ä½œè¯´æ˜ã€‚</p></li><li><p>è¿™äº›ç±»å‹å’Œå®ƒä»¬æ‰€æ”¯æŒçš„ç±»åœ¨java.lang.annotationåŒ…ä¸­å¯ä»¥æ‰¾åˆ°ã€‚(@Target , @Retention ,@Documented , @Inherited )</p><ul><li><p>@Targetï¼šç”¨äº<strong>æè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´</strong> (å³:<strong>è¢«æè¿°çš„<u>æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹</u></strong>)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.ANNOTATION_TYPE)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Target &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Returns an array of the kinds of elements an annotation type</span><br><span class="hljs-comment">     * can be applied to.</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> an array of the kinds of elements an annotation type</span><br><span class="hljs-comment">     * can be applied to</span><br><span class="hljs-comment">     */</span><br>    ElementType[] value();<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>@Retentionï¼šè¡¨ç¤ºéœ€è¦åœ¨<strong>ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯</strong>ï¼Œç”¨äº<u>æè¿°æ³¨è§£åœ¨ä»€ä¹ˆåœ°æ–¹æœ‰æ•ˆ</u></p><ul><li>(SOURCE&lt; CLASS&lt; RUNTIME)</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(ElementType.ANNOTATION_TYPE)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Retention &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * Returns the retention policy.</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> the retention policy</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-function">RetentionPolicy <span class="hljs-title">value</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>@Documentï¼šè¯´æ˜<strong>è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­</strong></li><li>@Inheritedï¼šè¯´æ˜<strong>å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</strong></li></ul></li></ul><p><strong>æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.annotation;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><br><span class="hljs-comment">//æµ‹è¯•å…ƒæ³¨è§£</span><br><span class="hljs-meta">@MyAnnotation</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test01</span> </span>&#123;<br>    <span class="hljs-meta">@MyAnnotation</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ³¨è§£</span><br><span class="hljs-comment">//Target:è¡¨ç¤ºæ³¨è§£å¯ä»¥ç”¨åœ¨å“ªäº›åœ°æ–¹</span><br><span class="hljs-comment">//Retention:è¡¨ç¤ºæ³¨è§£åœ¨å“ªäº›åœ°æ–¹æœ‰æ•ˆ runtime&gt;class&gt;sources</span><br><span class="hljs-comment">//Documented:è¡¨ç¤ºæ˜¯å¦å°†æ³¨è§£ç”Ÿæˆåœ¨Javadocä¸­</span><br><span class="hljs-comment">//Inherited:è¡¨ç¤ºå­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»</span><br><span class="hljs-meta">@Inherited</span><br><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Retention(value = RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(value = &#123;ElementType.METHOD, ElementType.TYPE&#125;)</span><br><span class="hljs-meta">@interface</span> MyAnnotation &#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ä» <strong>Java 7</strong> å¼€å§‹ï¼Œé¢å¤–æ·»åŠ äº† 3 ä¸ªæ³¨è§£ï¼š</p><ul><li>@SafeVarargsï¼š Java 7 å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Šã€‚</li><li>@FunctionalInterfaceï¼š Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°å¼æ¥å£ã€‚</li><li>@Repeatableï¼š Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ã€‚</li></ul><h2 id="1-4ã€è‡ªå®šä¹‰æ³¨è§£"><a href="#1-4ã€è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="1.4ã€è‡ªå®šä¹‰æ³¨è§£"></a>1.4ã€è‡ªå®šä¹‰æ³¨è§£</h2><p>ä½¿ç”¨@interfaceè‡ªå®šä¹‰æ³¨è§£æ—¶ï¼Œè‡ªåŠ¨ç»§æ‰¿äº†java.lang.annotation.Annotationæ¥å£ã€‚</p><p><strong>åˆ†æ:</strong></p><ul><li>interfaceç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ï¼Œæ ¼å¼:public @interfaceæ³¨è§£å{å®šä¹‰å†…å®¹}</li><li>å…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°</li><li>æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°</li><li>è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ï¼ˆè¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹,Class , String , enum ).âˆšå¯ä»¥é€šè¿‡defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼</li><li>å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œä¸€èˆ¬å‚æ•°åä¸ºvalue</li><li>æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ï¼Œæˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶,ç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²,0ä½œä¸ºé»˜è®¤å€¼</li></ul><p><strong>æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.annotation;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><br><span class="hljs-comment">//è‡ªå®šä¹‰æ³¨è§£</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test02</span> </span>&#123;<br><br>    <span class="hljs-comment">//æ³¨è§£å‚æ•°å¯ä»¥æ˜¾ç¤ºèµ‹å€¼ï¼Œå¦‚æœæ²¡æœ‰é»˜è®¤å€¼ï¼Œå°±å¿…é¡»æ˜¾ç¤ºèµ‹å€¼</span><br>    <span class="hljs-meta">@MyAnnotation2(name = &quot;nty&quot;, schools = &#123;&quot;å—å¸ˆ&quot;, &quot;è‹å¤§&quot;&#125;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>&#123;<br><br>    &#125;<br><br>    <span class="hljs-comment">//å½“æ³¨è§£ä¸­çš„å‚æ•°åªæœ‰ä¸€ä¸ªå€¼æ—¶ï¼Œå®šä¹‰å‚æ•°ä¸ºvalueï¼Œåœ¨ä½¿ç”¨è¯¥æ³¨è§£æ—¶ï¼Œå¯ä»¥çœç•¥value</span><br>    <span class="hljs-meta">@MyAnnotation3(&quot;nty&quot;)</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> </span>&#123;<br><br>    &#125;<br>&#125;<br><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(value = &#123;ElementType.TYPE, ElementType.METHOD&#125;)</span><br><span class="hljs-meta">@interface</span> MyAnnotation2 &#123;<br><br>    <span class="hljs-comment">//æ³¨è§£å‚æ•°ï¼šç±»å‹ + å˜é‡å();</span><br>    <span class="hljs-comment">//æ— é»˜è®¤å€¼æ—¶å¿…é¡»å†™å‚æ•°</span><br>    <span class="hljs-comment">//æœ‰é»˜è®¤å€¼æ—¶ï¼Œå¯ä»¥ä¸å†™å‚æ•°</span><br>    <span class="hljs-function">String <span class="hljs-title">name</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> &quot;&quot;</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">age</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> 0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">id</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> -1</span>;<span class="hljs-comment">//å¦‚æœé»˜è®¤å€¼ä¸º-1ï¼Œä»£è¡¨ä¸å­˜åœ¨</span><br><br>    String[] schools() <span class="hljs-keyword">default</span> &#123;<span class="hljs-string">&quot;åŒ—å¤§&quot;</span>, <span class="hljs-string">&quot;æ¸…å&quot;</span>&#125;;<br>&#125;<br><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@Target(value = &#123;ElementType.TYPE, ElementType.METHOD&#125;)</span><br><span class="hljs-meta">@interface</span> MyAnnotation3 &#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="2ã€åå°„æœºåˆ¶"><a href="#2ã€åå°„æœºåˆ¶" class="headerlink" title="2ã€åå°„æœºåˆ¶"></a>2ã€åå°„æœºåˆ¶</h1><p><strong>ä¸»è¦å†…å®¹ï¼š</strong></p><ul><li>Javaåå°„æœºåˆ¶æ¦‚è¿°</li><li>ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹</li><li>ç±»çš„åŠ è½½ä¸ClassLoader</li><li>åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</li><li>è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„</li><li>è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„</li></ul><h2 id="2-1ã€Javaåå°„æœºåˆ¶æ¦‚è¿°"><a href="#2-1ã€Javaåå°„æœºåˆ¶æ¦‚è¿°" class="headerlink" title="2.1ã€Javaåå°„æœºåˆ¶æ¦‚è¿°"></a>2.1ã€Javaåå°„æœºåˆ¶æ¦‚è¿°</h2><p>Summaryï¼š</p><p><strong>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡(<u>ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</u>)ï¼Œ<u>è¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„</u>ã€‚</strong>è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œ é€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥,æˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸º: <strong>åå°„</strong>ã€‚</p><p><strong>1ã€é™æ€VSåŠ¨æ€è¯­è¨€</strong></p><p><strong>åŠ¨æ€è¯­è¨€ï¼š</strong></p><ul><li>æ˜¯ä¸€ç±»åœ¨è¿è¡Œæ—¶å¯ä»¥æ”¹å˜å…¶ç»“æ„çš„è¯­è¨€:ä¾‹å¦‚æ–°çš„å‡½æ•°ã€å¯¹è±¡ã€ç”šè‡³ä»£ç å¯ä»¥è¢«<br>å¼•è¿›ï¼Œå·²æœ‰çš„å‡½æ•°å¯ä»¥è¢«åˆ é™¤æˆ–æ˜¯å…¶ä»–ç»“æ„ä¸Šçš„å˜åŒ–ã€‚é€šä¿—ç‚¹è¯´å°±æ˜¯åœ¨è¿è¡Œæ—¶ä»£<br>ç å¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ”¹å˜è‡ªèº«ç»“æ„ã€‚</li><li>ä¸»è¦åŠ¨æ€è¯­è¨€: Object-Cã€ C#ã€JavaScriptã€ PHPã€ Pythonç­‰ã€‚</li></ul><p><strong>é™æ€è¯­è¨€ï¼š</strong></p><ul><li>ä¸åŠ¨æ€è¯­è¨€ç›¸å¯¹åº”çš„ï¼Œ<strong>è¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„è¯­è¨€å°±æ˜¯é™æ€è¯­è¨€</strong>ã€‚å¦‚Javaã€ Cã€C++ã€‚</li><li>Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ï¼Œä½†Javaå¯ä»¥ç§°ä¹‹ä¸º**â€å‡†åŠ¨æ€è¯­è¨€â€<strong>ã€‚å³Javaæœ‰ä¸€å®šçš„åŠ¨æ€æ€§,<br>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨</strong>åå°„æœºåˆ¶è·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§**ã€‚Javaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹çš„æ—¶å€™æ›´<br>åŠ çµæ´»!</li></ul><p><strong>2ã€Java Reflection</strong></p><ul><li>Reflection (åå°„)æ˜¯Javaè¢«è§†ä¸ºåŠ¨æ€è¯­è¨€çš„å…³é”®ï¼Œåå°„æœºåˆ¶å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸå€ŸåŠ©äºReflection API<strong>å–å¾—ä»»ä½•ç±»çš„æ‰€æœ‰å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•ã€‚</strong></li></ul><blockquote><p>Class C = Class forName(â€œjava.lang.Stringâ€)</p></blockquote><p><strong>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡(<u>ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</u>)ï¼Œ<u>è¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„</u>ã€‚</strong>è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œ é€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œæ‰€ä»¥,æˆ‘ä»¬å½¢è±¡çš„ç§°ä¹‹ä¸º: <strong>åå°„</strong>ã€‚</p><p><img src="/images/image-20220310090924864.png" alt="image-20220310090924864"></p><p><img src="/images/image-20220309205728679.png" alt="image-20220309205728679"></p><p><img src="/images/format,png.png" alt="image-20200804161913264"></p><img src="/images/image-20220309114139264.png" alt="image-20220309114139264" style="zoom:67%;"><p><strong>3ã€Javaåå°„æœºåˆ¶ç ”ç©¶åŠåº”ç”¨</strong></p><p><strong>Javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½</strong></p><ul><li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»</li><li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</li><li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li><li>åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯</li><li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li><li>åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£</li><li>ç”ŸæˆåŠ¨æ€ä»£ç†</li><li>ã€‚ã€‚ã€‚ã€‚</li></ul><p><strong>4ã€Javaåå°„ä¼˜ç‚¹å’Œç¼ºç‚¹</strong></p><p><strong>ä¼˜ç‚¹</strong>:</p><ul><li>å¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œä½“ç°å‡ºå¾ˆå¤§çš„çµæ´»æ€§</li></ul><p><strong>ç¼ºç‚¹:</strong></p><ul><li>å¯¹æ€§èƒ½æœ‰å½±å“ï¼Œä½¿ç”¨åå°„åŸºæœ¬ä¸Šæ˜¯ä¸€ç§<strong>è§£é‡Šæ“ä½œ</strong>ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰JVM,æˆ‘ä»¬å¸Œæœ›åšä»€ä¹ˆå¹¶ä¸”å®ƒæ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è¿™ç±»æ“ä½œæ€»æ˜¯<strong>æ…¢äºç›´æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œ</strong>ã€‚</li></ul><p><strong>5ã€åå°„ç›¸å…³çš„API</strong></p><ul><li>java.lang.Class ï¼šä»£è¡¨ä¸€ä¸ªç±»</li><li>java.lang.reflect.Method ï¼šä»£è¡¨ç±»çš„æ–¹æ³•</li><li>java.reflect.Field ï¼šä»£è¡¨ç±»çš„æˆå‘˜å˜é‡</li><li>java.lang.reflect.Constructor ï¼šä»£è¡¨ç±»çš„æ„é€ å™¨</li><li>â€¦</li></ul><p><strong>æ³¨ï¼š</strong></p><p><strong>æ¯ä¸ªç±»éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆClassç±»çš„å¯¹è±¡ï¼‰ï¼Œä¸”ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</strong></p><p><u><strong>ä¸€ä¸ªç±»è¢«åŠ è½½åï¼Œç±»çš„æ•´ä¸ªç»“æ„éƒ½ä¼šè¢«å°è£…åœ¨Classå¯¹è±¡ä¸­</strong></u></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> test;<br><span class="hljs-keyword">import</span> java.util.*;<br><br><span class="hljs-comment">//ä»€ä¹ˆå«åå°„</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">bbb</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br><br>        <span class="hljs-comment">//é€šè¿‡åå°„è·å–ç±»çš„classå¯¹è±¡</span><br>        Class aClass = Class.forName(<span class="hljs-string">&quot;test.User&quot;</span>);<br><br>        System.out.println(aClass);<br><br>        System.out.println(aClass.getClass());<br><br>        User use = <span class="hljs-keyword">new</span> User(<span class="hljs-string">&quot;111&quot;</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>);<br>        System.out.println(use.getClass());<br><br>        <span class="hljs-comment">//ç»“è®ºï¼šä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</span><br>        <span class="hljs-comment">//ä¸€ä¸ªç±»è¢«åŠ è½½åï¼Œç±»çš„æ•´ä¸ªç»“æ„éƒ½ä¼šè¢«å°è£…åœ¨Classå¯¹è±¡ä¸­</span><br>        Class c2 = Class.forName(<span class="hljs-string">&quot;test.User&quot;</span>);<br>        Class c3 = Class.forName(<span class="hljs-string">&quot;test.User&quot;</span>);<br>        Class c4 = Class.forName(<span class="hljs-string">&quot;test.User&quot;</span>);<br><br>        System.out.println(<span class="hljs-string">&quot;c2:&quot;</span> + c2.hashCode());<br>        System.out.println(<span class="hljs-string">&quot;c3:&quot;</span> + c3.hashCode());<br>        System.out.println(<span class="hljs-string">&quot;c3:&quot;</span> + c3.hashCode());<br><br>        <span class="hljs-comment">/*ç»“æœï¼š</span><br><span class="hljs-comment">        c2:460141958</span><br><span class="hljs-comment">        c3:460141958</span><br><span class="hljs-comment">        c3:460141958</span><br><span class="hljs-comment">        */</span><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//å®ä½“ç±»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> id, <span class="hljs-keyword">int</span> age)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vbnet"><span class="hljs-symbol">Output:</span><br><br><span class="hljs-keyword">class</span> test.User<br><span class="hljs-keyword">class</span> java.lang.<span class="hljs-keyword">Class</span><br><span class="hljs-keyword">class</span> test.User<br><span class="hljs-symbol">c2:</span><span class="hljs-number">1134712904</span><br><span class="hljs-symbol">c3:</span><span class="hljs-number">1134712904</span><br><span class="hljs-symbol">c3:</span><span class="hljs-number">1134712904</span><br></code></pre></td></tr></table></figure><h2 id="2-2ã€ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹"><a href="#2-2ã€ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹" class="headerlink" title="2.2ã€ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹"></a>2.2ã€ç†è§£Classç±»å¹¶è·å–Classå®ä¾‹</h2><p><strong>1ã€Classç±»</strong></p><p>åœ¨Objectç±»ä¸­å®šä¹‰äº†ä»¥ä¸‹çš„æ–¹æ³•ï¼Œæ­¤æ–¹æ³•å°†è¢«æ‰€æœ‰å­ç±»ç»§æ‰¿ã€‚</p><blockquote><p>public final Class getClass()</p></blockquote><p>ä»¥ä¸Šçš„æ–¹æ³•è¿”å›å€¼çš„ç±»å‹æ˜¯ä¸€ä¸ªClassç±»ï¼Œæ­¤ç±»æ˜¯Javaåå°„çš„æºå¤´ï¼Œå®é™…ä¸Šæ‰€è°“åå°„ä»ç¨‹åºçš„è¿è¡Œç»“æœæ¥çœ‹ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œ</p><p>å³: <strong>å¯ä»¥é€šè¿‡å¯¹è±¡åå°„æ±‚å‡ºç±»çš„åç§°</strong>ã€‚</p><p>å¯¹è±¡ç…§é•œå­åå¯ä»¥å¾—åˆ°çš„ä¿¡æ¯:æŸä¸ªç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨ã€æŸä¸ªç±»åˆ°åº•å®ç°äº†å“ªäº›æ¥å£ã€‚</p><p>å¯¹äºæ¯ä¸ªç±»è€Œè¨€ï¼ŒJREéƒ½ä¸ºå…¶ä¿ç•™ä¸€ä¸ª<strong>ä¸å˜çš„Classç±»å‹çš„å¯¹è±¡</strong>ã€‚ä¸€ä¸ªClasså¯¹è±¡åŒ…å«äº†ç‰¹å®šæŸä¸ªç»“æ„</p><p>**(class/interface/enum/annotation/primitive type/void/[])**çš„æœ‰å…³ä¿¡æ¯ã€‚</p><p><strong>Classæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼š</strong></p><ul><li>Class å¯¹è±¡åªèƒ½<strong>ç”±ç³»ç»Ÿå»ºç«‹å¯¹è±¡</strong></li><li>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­<strong>åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹</strong></li><li>ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶</li><li>æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—è‡ªå·±æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆ</li><li>é€šè¿‡Classå¯ä»¥å®Œæ•´åœ°å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„</li><li>Classç±» æ˜¯Reflectionçš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡</li></ul><p><strong>2ã€Classç±»çš„å¸¸ç”¨æ–¹æ³•</strong></p><p><img src="/images/format,png.png" alt="image-20200804163721938"></p><p><strong>3ã€è·å–Classç±»çš„å®ä¾‹</strong></p><p><strong>3.1 classç±»çš„åˆ›å»ºæ–¹å¼</strong></p><p>a) è‹¥<strong>å·²çŸ¥å…·ä½“çš„ç±»</strong>,é€šè¿‡ç±»çš„classå±æ€§è·å–ï¼Œè¯¥æ–¹æ³•æœ€ä¸ºå®‰å…¨å¯é ï¼Œç¨‹åºæ€§èƒ½æœ€é«˜ã€‚</p><blockquote><p>Class clazz = Person.class;</p></blockquote><p>b) å·²çŸ¥æŸä¸ª<strong>ç±»çš„å®ä¾‹</strong>ï¼Œ è°ƒç”¨è¯¥å®ä¾‹çš„getClass()æ–¹æ³•è·å–Classå¯¹è±¡</p><blockquote><p>Class clazz = person.getClass();</p></blockquote><p>c) å·²çŸ¥ä¸€ ä¸ªç±»çš„<strong>å…¨ç±»å</strong>ï¼Œä¸”è¯¥ç±»åœ¨ç±»è·¯å¾„ä¸‹ï¼Œå¯é€šè¿‡Classç±»çš„é™æ€æ–¹æ³•forName()è·å–,å¯èƒ½æŠ›å‡ºClassNotFoundException</p><blockquote><p>Class clazz = Class.forName(â€œdemo01.Studentâ€);</p></blockquote><p>d) å†…ç½®åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ç”¨<strong>ç±»å.Type</strong></p><p>e) è¿˜å¯ä»¥åˆ©ç”¨ClassLoaderæˆ‘ä»¬ä¹‹åè®²è§£</p><p><strong>æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> test;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">bbb</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br>        Person person = <span class="hljs-keyword">new</span> Student();<br>        System.out.println(<span class="hljs-string">&quot;è¿™ä¸ªäººæ˜¯ï¼š&quot;</span> + person.name);<span class="hljs-comment">//è¿™ä¸ªäººæ˜¯ï¼šå­¦ç”Ÿ</span><br><br>        <span class="hljs-comment">//æ–¹å¼ä¸€ï¼šé€šè¿‡å¯¹è±¡è·å¾—</span><br>        Class c1 = person.getClass();<br>        System.out.println(c1.hashCode());<span class="hljs-comment">//21685669</span><br>        System.out.println(c1);<br><br>        <span class="hljs-comment">//æ–¹å¼äºŒï¼šClassForNameè·å¾—</span><br>        Class c2 = Class.forName(<span class="hljs-string">&quot;test.Student&quot;</span>);<br>        System.out.println(c2.hashCode());<span class="hljs-comment">//21685669</span><br><br>        <span class="hljs-comment">//é€šè¿‡ç±»å.class</span><br>        Class c3 = Student.class;<br>        System.out.println(c3.hashCode());<span class="hljs-comment">//21685669</span><br><br>        <span class="hljs-comment">//æ–¹å¼å››ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ªTypeå±æ€§</span><br>        Class&lt;Integer&gt; c4 = Integer.TYPE;<br>        System.out.println(c4);<span class="hljs-comment">//int</span><br><br>        <span class="hljs-comment">//è·å¾—çˆ¶ç±»ç±»å‹</span><br>        Class c5 = c1.getSuperclass();<br>        System.out.println(c5);<span class="hljs-comment">//class com.nty.reflection.Person</span><br><br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> String name;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Person</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = <span class="hljs-string">&quot;å­¦ç”Ÿ&quot;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Teacher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Person</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Teacher</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = <span class="hljs-string">&quot;è€å¸ˆ&quot;</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs stata">Output:<br><br>è¿™ä¸ªäººæ˜¯ï¼šå­¦ç”Ÿ<br>985922955<br><span class="hljs-keyword">class</span> <span class="hljs-keyword">test</span>.Student<br>985922955<br>985922955<br>int<br><span class="hljs-keyword">class</span> <span class="hljs-keyword">test</span>.Person<br></code></pre></td></tr></table></figure><p><strong>3.2 é‚£äº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼Ÿ</strong></p><ul><li>classï¼šå¤–éƒ¨ç±»ï¼Œæˆå‘˜ï¼ˆæˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»ï¼‰ï¼Œå±€éƒ¨å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»</li><li>interfaceï¼šæ¥å£</li><li>[]ï¼šæ•°ç»„</li><li>enumï¼šæšä¸¾</li><li>annotationï¼šæ³¨è§£@interface</li><li>primitive typeï¼šåŸºæœ¬æ•°æ®ç±»å‹</li><li>void</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.ElementType;<br><br><span class="hljs-comment">//æ‰€æœ‰ç±»å‹çš„class</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test02</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Class c1 = Object.class;<span class="hljs-comment">//ç±»  class java.lang.Object</span><br>        Class c2 = String[].class;<span class="hljs-comment">//ä¸€ç»´æ•°ç»„  class [Ljava.lang.String;</span><br>        Class c3 = <span class="hljs-keyword">int</span>[][].class;<span class="hljs-comment">//äºŒç»´æ•°ç»„  class [[I</span><br>        Class c4 = Comparable.class;<span class="hljs-comment">//æ¥å£  interface java.lang.Comparable</span><br>        Class c5 = Override.class;<span class="hljs-comment">//æ³¨è§£  interface java.lang.Override</span><br>        Class c6 = Integer.class;<span class="hljs-comment">//åŸºæœ¬æ•°æ®ç±»å‹  class java.lang.Integer</span><br>        Class c7 = <span class="hljs-keyword">void</span>.class;<span class="hljs-comment">//void  void</span><br>        Class c8 = Class.class;<span class="hljs-comment">//Classæœ¬èº«   class java.lang.Class</span><br>        Class c9 = ElementType.class;<span class="hljs-comment">//æšä¸¾  class java.lang.annotation.ElementType</span><br><br>        System.out.println(c1);<br>        System.out.println(c2);<br>        System.out.println(c3);<br>        System.out.println(c4);<br>        System.out.println(c5);<br>        System.out.println(c6);<br>        System.out.println(c7);<br>        System.out.println(c8);<br>        System.out.println(c9);<br><br>        <span class="hljs-comment">//åªè¦å…ƒç´ ç±»å‹ä¸ç»´åº¦ä¸€æ ·ï¼Œclassç±»å‹å°±ä¸€æ ·</span><br><br>        <span class="hljs-keyword">int</span>[] a = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">10</span>];<br>        <span class="hljs-keyword">int</span>[] b = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">100</span>];<br>        System.out.println(a.getClass().hashCode());     <span class="hljs-comment">//460141958</span><br>        System.out.println(b.getClass().hashCode());     <span class="hljs-comment">//460141958</span><br><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨ï¼šåªè¦å…ƒç´ ç±»å‹ä¸ç»´åº¦ä¸€æ ·ï¼Œclassç±»å‹å°±ä¸€æ ·</strong></p><p><strong>3.3 java å†…å­˜åˆ†æ</strong></p><p><img src="/images/image-20220310085654670.png" alt="image-20220310085654670"></p><h2 id="2-3ã€ç±»çš„åŠ è½½ä¸ClassLoader"><a href="#2-3ã€ç±»çš„åŠ è½½ä¸ClassLoader" class="headerlink" title="2.3ã€ç±»çš„åŠ è½½ä¸ClassLoader"></a>2.3ã€ç±»çš„åŠ è½½ä¸ClassLoader</h2><p><strong>1ã€äº†è§£ï¼šç±»çš„åŠ è½½è¿‡ç¨‹</strong></p><p>å½“ç¨‹åºä¸»åŠ¨ä½¿ç”¨æŸä¸ªç±»æ—¶ï¼Œå¦‚æœè¯¥ç±»è¿˜æœªè¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œåˆ™ç³»ç»Ÿä¼šé€šè¿‡å¦‚ä¸‹ä¸‰ä¸ªæ­¥éª¤æ¥å¯¹è¯¥ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p><img src="/images/image-20220310085729619.png" alt="image-20220310085729619"></p><p><img src="/images/image-20220310090759477.png" alt="image-20220310090759477"></p><p><strong>2ã€ç±»åŠ è½½ä¸ClassLoaderçš„ç†è§£</strong></p><ul><li><p>1ã€åŠ è½½ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“  æ„,ç„¶å<strong>ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡</strong>.</p></li><li><p>2ã€é“¾æ¥:</p><p>å°†Javaç±»çš„äºŒè¿›åˆ¶ä»£ç åˆå¹¶åˆ°JVMçš„è¿è¡ŒçŠ¶æ€ä¹‹ä¸­çš„è¿‡ç¨‹ã€‚</p><ul><li>éªŒè¯:ç¡®ä¿åŠ è½½çš„ç±»ä¿¡æ¯ç¬¦åˆJVMè§„èŒƒï¼Œæ²¡æœ‰å®‰å…¨æ–¹é¢çš„é—®é¢˜</li><li>å‡†å¤‡:æ­£å¼ä¸ºç±»å˜é‡(static) åˆ†é…å†…å­˜å¹¶è®¾ç½®ç±»å˜é‡é»˜è®¤åˆå§‹å€¼çš„é˜¶æ®µï¼Œè¿™äº›å†…å­˜éƒ½å°†åœ¨æ–¹æ³•åŒºä¸­è¿›è¡Œåˆ†é…</li><li>è§£æ:è™šæ‹Ÿæœºå¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨(å¸¸é‡å)æ›¿æ¢ä¸ºç›´æ¥å¼•ç”¨(åœ°å€)çš„è¿‡ç¨‹</li></ul></li><li><p>3ã€åˆå§‹åŒ–:</p><ul><li>æ‰§è¡Œç±»æ„é€ å™¨clinit&gt; ()æ–¹æ³•çš„è¿‡ç¨‹ï¼Œç±»æ„é€ å™¨&lt; clinit&gt; ()æ–¹æ³•æ˜¯ç”±ç¼–è¯‘æœŸè‡ªåŠ¨æ”¶é›†ç±»ä¸­æ‰€æœ‰ç±»å˜é‡çš„èµ‹å€¼åŠ¨ä½œå’Œé™æ€ä»£ç å—ä¸­çš„è¯­å¥åˆå¹¶äº§ç”Ÿçš„ã€‚(ç±»æ„é€  å™¨æ˜¯æ„é€ ç±»ä¿¡æ¯çš„ï¼Œä¸æ˜¯æ„é€ è¯¥ç±»å¯¹è±¡çš„æ„é€ å™¨)ã€‚</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å…¶çˆ¶ç±»è¿˜æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ™éœ€è¦å…ˆè§¦å‘å…¶çˆ¶ç±»çš„åˆå§‹åŒ–ã€‚</li><li>è™šæ‹Ÿæœºä¼šä¿è¯ä¸€ä¸ªç±»çš„&lt; clinit&gt; ()æ–¹æ³•åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­è¢«æ­£ç¡®åŠ é”å’ŒåŒæ­¥ã€‚</li></ul></li></ul><p><strong>3ã€ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿç±»åˆå§‹åŒ–</strong></p><ul><li><p>ç±»çš„ä¸»åŠ¨å¼•ç”¨(ä¸€å®šä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–)</p><ul><li>å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œ<strong>å…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»</strong></li><li>newä¸€ä¸ªç±»çš„å¯¹è±¡</li><li>è°ƒç”¨ç±»çš„é™æ€æˆå‘˜(é™¤äº†finalå¸¸é‡)å’Œé™æ€æ–¹æ³•</li><li>ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨</li><li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»</li></ul></li><li><p>ç±»çš„è¢«åŠ¨å¼•ç”¨(ä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–)</p><ul><li><p>å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–ã€‚å¦‚:å½“é€šè¿‡<strong>å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–</strong></p><ul><li>```java<br>//ä¸ä¼šå¯¹å­ç±»äº§ç”Ÿåˆå§‹åŒ–ï¼š<br>//é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–**<br>System.out.println(Son.b);main ç±»è¢«åŠ è½½<br>çˆ¶ç±»è¢«åˆå§‹åŒ–<br>2<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>- é€šè¿‡**æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–**<br><br>  - ```java<br>    //<span class="hljs-number">2</span>ã€æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–<br>    Son[] arr  = <span class="hljs-keyword">new</span> Son[<span class="hljs-number">5</span>]<span class="hljs-comment">;</span><br>    <br>    main ç±»è¢«åŠ è½½<br></code></pre></td></tr></table></figure></li></ul></li><li><p><strong>å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–</strong>(å¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†)</p></li></ul></li></ul><p><strong>æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-comment">//æµ‹è¯•ç±»ä»€ä¹ˆæ—¶å€™ä¼šåˆå§‹åŒ–</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test05</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;main ç±»è¢«åŠ è½½&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br>        <br>        <span class="hljs-comment">//1ã€ä¸»åŠ¨å¼•ç”¨</span><br>        <span class="hljs-comment">//Son son = new Son();</span><br><br>        <span class="hljs-comment">//2ã€é€šè¿‡åå°„äº§ç”Ÿä¸»åŠ¨å¼•ç”¨</span><br>        Class.forName(<span class="hljs-string">&quot;com.nty.reflection.Son&quot;</span>);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Father</span> </span>&#123;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> b = <span class="hljs-number">2</span>;<br><br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;çˆ¶ç±»è¢«åˆå§‹åŒ–&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Son</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Father</span> </span>&#123;<br>    <span class="hljs-keyword">static</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å­ç±»è¢«åŠ è½½&quot;</span>);<br>        m = <span class="hljs-number">300</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> m = <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> M = <span class="hljs-number">1</span>;<br>&#125;<br><br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">* main ç±»è¢«åŠ è½½</span><br><span class="hljs-comment">çˆ¶ç±»è¢«åˆå§‹åŒ–</span><br><span class="hljs-comment">å­ç±»è¢«åŠ è½½</span><br><span class="hljs-comment">* */</span><br></code></pre></td></tr></table></figure><p><strong>4ã€ç±»åŠ è½½å™¨çš„ä½œç”¨</strong></p><ul><li><strong>ç±»åŠ è½½çš„ä½œç”¨ï¼š</strong>å°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œ ä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ã€‚</li><li><strong>ç±»ç¼“å­˜:æ ‡å‡†çš„JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»</strong>ï¼Œä½†ä¸€æ—¦æŸä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œå®ƒå°†ç»´<br>æŒåŠ è½½(ç¼“å­˜) ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡<strong>JVMåƒåœ¾å›æ”¶æœºåˆ¶</strong>å¯ä»¥å›æ”¶è¿™äº›Classå¯¹è±¡</li></ul><p><img src="/images/image-20220310092206516.png" alt="image-20220310092206516"></p><ul><li>ç±»åŠ è½½å™¨ä½œç”¨æ˜¯ç”¨æ¥æŠŠç±»(class)è£…è½½è¿›å†…å­˜çš„ï¼ŒJVMè§„èŒƒå®šä¹‰äº†å¦‚ä¸‹ç±»å‹çš„ç±»çš„åŠ è½½å™¨ã€‚</li></ul><p><strong>5ã€ç±»åŠ è½½å™¨</strong></p><p><img src="/images/image-20220310092258374.png" alt="image-20220310092258374"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test06</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br><br>        <span class="hljs-comment">//è·å–ç³»ç»Ÿçš„ç±»åŠ è½½å™¨</span><br>        ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();<br>        System.out.println(systemClassLoader);<span class="hljs-comment">//sun.misc.Launcher$AppClassLoader@18b4aac2</span><br><br>        <span class="hljs-comment">//è·å–ç³»ç»ŸåŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨---&gt;æ‰©å±•ç±»åŠ è½½å™¨</span><br>        ClassLoader parent = systemClassLoader.getParent();<br>        System.out.println(parent);<span class="hljs-comment">//sun.misc.Launcher$ExtClassLoader@14ae5a5</span><br><br>        <span class="hljs-comment">//è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨--&gt;æ ¹åŠ è½½å™¨ï¼ˆç”¨C/C++å†™çš„)  è·å–ä¸åˆ°</span><br>        ClassLoader parent1 = parent.getParent();<br>        System.out.println(parent1);<span class="hljs-comment">//null</span><br><br>        <span class="hljs-comment">//æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªç±»åŠ è½½å™¨åŠ è½½çš„</span><br>        ClassLoader classLoader = Class.forName(<span class="hljs-string">&quot;com.nty.reflection.Test06&quot;</span>).getClassLoader();<br>        System.out.println(classLoader);<span class="hljs-comment">//sun.misc.Launcher$AppClassLoader@18b4aac2</span><br><br>        <span class="hljs-comment">//æµ‹è¯•JDKå†…éƒ¨ç±»è°åŠ è½½çš„---&gt;æ˜¯ç”±æ ¹åŠ è½½å™¨åŠ è½½çš„ï¼Œæ‰€ä»¥æ‰“å°ä¸å‡ºæ¥</span><br>        ClassLoader classLoader1 = Class.forName(<span class="hljs-string">&quot;java.lang.Object&quot;</span>).getClassLoader();<br>        System.out.println(classLoader1);<span class="hljs-comment">//null</span><br><br>        <span class="hljs-comment">//è·å–ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„</span><br>        System.out.println(System.getProperty(<span class="hljs-string">&quot;java.class.path&quot;</span>));<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\charsets.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\deploy.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\access-bridge-64.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\cldrdata.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\dnsns.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\jaccess.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\jfxrt.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\localedata.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\nashorn.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\sunec.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\sunjce_provider.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\sunmscapi.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\sunpkcs11.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\ext\zipfs.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\javaws.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\jce.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\jfr.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\jfxswt.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\jsse.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\management-agent.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\plugin.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\resources.jar;</span><br><span class="hljs-comment">        C:\Program Files\Java\jdk1.8.0_211\jre\lib\rt.jar;</span><br><span class="hljs-comment">        D:\code\JavaProject\annotation\out\production\annotation;</span><br><span class="hljs-comment">        D:\IntelliJ IDEA 2020.3.2\lib\idea_rt.jar</span><br><span class="hljs-comment">        */</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-4ã€è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„"><a href="#2-4ã€è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„" class="headerlink" title="2.4ã€è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„"></a>2.4ã€è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„</h2><p>é€šè¿‡åå°„è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ï¼š</p><p>Fieldã€Methodã€Constructorã€Superclassã€Interfaceã€Annotation</p><ul><li>å®ç°çš„å…¨éƒ¨æ¥å£</li><li>æ‰€ç»§æ‰¿çš„çˆ¶ç±»</li><li>å…¨éƒ¨çš„æ„é€ å™¨</li><li>å…¨éƒ¨çš„æ–¹æ³•</li><li>å…¨éƒ¨çš„Field</li><li>æ³¨è§£</li><li>ã€‚ã€‚ã€‚ã€‚</li></ul><p><strong>ç›¸å…³æ¥å£ï¼š</strong></p><ul><li>è·å¾—ç±»çš„åå­—<ul><li>c1.getName()</li><li>c1.getSimpleName()</li></ul></li><li>è·å¾—ç±»çš„å±æ€§<ul><li>è·å¾—publicçš„å±æ€§    c1.getFields()</li><li>è·å¾—æ‰€æœ‰çš„å±æ€§       c1.getDeclaredFields()</li><li>è·å¾—æŒ‡å®šçš„å±æ€§        c1.getDeclaredField(â€œnameâ€)</li></ul></li><li>è·å¾—ç±»çš„æ–¹æ³•<ul><li>c1.getMethods()</li><li>c1.getDeclaredMethods()</li><li>c1.getMethod(â€œgetNameâ€, null)</li></ul></li><li>è·å–æŒ‡å®šçš„æ„é€ å™¨<ul><li>c1.getConstructors()</li><li>c1.getDeclaredConstructor(String.class, int.class, int.class)</li></ul></li></ul><p><strong>å…·ä½“æ¡ˆä¾‹å¦‚ä¸‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> test;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">bbb</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchFieldException, NoSuchMethodException </span>&#123;<br>        Class c1 = Class.forName(<span class="hljs-string">&quot;test.User&quot;</span>);<br><br>        <span class="hljs-comment">//1ã€è·å¾—ç±»çš„åå­—---&gt;è·å¾—åŒ…å+ç±»å</span><br>        System.out.println(c1.getName());<span class="hljs-comment">//test.User</span><br><br>        <span class="hljs-comment">//2ã€è·å¾—ç±»çš„ç®€å•åå­—--&gt;è·å¾—ç±»å</span><br>        System.out.println(c1.getSimpleName());<span class="hljs-comment">//User</span><br><br>        System.out.println(<span class="hljs-string">&quot;=======================&quot;</span>);<br><br>        <span class="hljs-comment">//3ã€è·å¾—ç±»çš„å±æ€§</span><br>        <span class="hljs-comment">//3.1 è·å¾—publicçš„å±æ€§</span><br>        Field[] fields = c1.getFields();<span class="hljs-comment">//åªèƒ½æ‰¾åˆ°publicçš„å±æ€§</span><br><br>        <span class="hljs-comment">//3.2  èƒ½å¤Ÿæ‰¾åˆ°æ‰€æœ‰çš„å±æ€§</span><br>        Field[] fields1 = c1.getDeclaredFields();<br>        <span class="hljs-keyword">for</span> (Field field : fields1) &#123;<br>            System.out.println(field);<br>        &#125;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * private java.lang.String com.nty.reflection.User.name</span><br><span class="hljs-comment">         * private int com.nty.reflection.User.id</span><br><span class="hljs-comment">         * private int com.nty.reflection.User.age</span><br><span class="hljs-comment">         * private java.lang.String com.nty.reflection.User.name</span><br><span class="hljs-comment">         */</span><br><br>        <span class="hljs-comment">//3.3ã€è·å¾—æŒ‡å®šçš„å±æ€§</span><br>        Field name = c1.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br>        System.out.println(name);<span class="hljs-comment">//private java.lang.String test.User.name</span><br><br>        <span class="hljs-comment">//4ã€è·å¾—ç±»çš„æ–¹æ³•</span><br>        System.out.println(<span class="hljs-string">&quot;====================================&quot;</span>);<br>        Method[] methods = c1.getMethods();<span class="hljs-comment">//è·å¾—æœ¬ç±»åŠå…¶çˆ¶ç±»çš„å…¨éƒ¨publicæ–¹æ³•</span><br>        <span class="hljs-keyword">for</span> (Method method : methods) &#123;<br>            System.out.println(<span class="hljs-string">&quot;c1.getMethods():&quot;</span> + method);<br>        &#125;<br>        Method[] methods1 = c1.getDeclaredMethods();<span class="hljs-comment">//è·å¾—æœ¬ç±»çš„å…¨éƒ¨æ–¹æ³•</span><br>        <span class="hljs-keyword">for</span> (Method method : methods1) &#123;<br>            System.out.println(<span class="hljs-string">&quot;c1.getDeclaredMethods():&quot;</span> + method);<br>        &#125;<br>        <span class="hljs-comment">//è·å–æŒ‡å®šçš„æ–¹æ³•   é‡è½½ï¼Œæ‰€ä»¥è¦æ·»åŠ å‚æ•°</span><br>        Method getName = c1.getMethod(<span class="hljs-string">&quot;getName&quot;</span>, <span class="hljs-keyword">null</span>);<br>        System.out.println(getName);<span class="hljs-comment">//public java.lang.String com.nty.reflection.User.getName()</span><br>        Method setName = c1.getMethod(<span class="hljs-string">&quot;setName&quot;</span>, String.class);<br>        System.out.println(setName);<span class="hljs-comment">//public void com.nty.reflection.User.setName(java.lang.String)</span><br><br>        <span class="hljs-comment">//5ã€è·å–æŒ‡å®šçš„æ„é€ å™¨</span><br>        System.out.println(<span class="hljs-string">&quot;=================================&quot;</span>);<br>        Constructor[] constructors = c1.getConstructors();<span class="hljs-comment">//è·å–public</span><br>        <span class="hljs-keyword">for</span> (Constructor constructor : constructors) &#123;<br>            System.out.println(<span class="hljs-string">&quot;c1.getConstructors():&quot;</span> + constructor);<br>        &#125;<br>        Constructor[] constructors1 = c1.getDeclaredConstructors();<span class="hljs-comment">//è·å–æ‰€æœ‰çš„æ„é€ å™¨</span><br>        <span class="hljs-keyword">for</span> (Constructor constructor : constructors1) &#123;<br>            System.out.println(<span class="hljs-string">&quot;c1.getDeclaredConstructors():&quot;</span> + constructor);<br>        &#125;<br><br>        <span class="hljs-comment">//è·å–æŒ‡å®šçš„æ„é€ å™¨é‡è½½ï¼Œæ‰€ä»¥è¦æ·»åŠ å‚æ•°</span><br>        Constructor declaredConstructor = c1.getDeclaredConstructor(String.class, <span class="hljs-keyword">int</span>.class, <span class="hljs-keyword">int</span>.class);<br>        System.out.println(<span class="hljs-string">&quot;è·å–æŒ‡å®šçš„æ„é€ å™¨&quot;</span> + declaredConstructor);<br>        <span class="hljs-comment">//è·å–æŒ‡å®šçš„æ„é€ å™¨public com.nty.reflection.User(java.lang.String,int,int)</span><br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> id, <span class="hljs-keyword">int</span> age)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs reasonml">Output:<br><br>test.User<br>User<br>=======================<br><span class="hljs-keyword">private</span> java.lang.String test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>name<br><span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>id<br><span class="hljs-keyword">private</span> <span class="hljs-built_in">int</span> test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>age<br><span class="hljs-keyword">private</span> java.lang.String test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>name<br>====================================<br>c1.get<span class="hljs-constructor">Methods()</span>:public java.lang.String test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>get<span class="hljs-constructor">Name()</span><br>c1.get<span class="hljs-constructor">Methods()</span>:public void test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>set<span class="hljs-constructor">Name(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.String)</span><br>c1.get<span class="hljs-constructor">Methods()</span>:public final native void java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>wait(long) throws java.lang.InterruptedException<br>c1.get<span class="hljs-constructor">Methods()</span>:public final void java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>wait(long,<span class="hljs-built_in">int</span>) throws java.lang.InterruptedException<br>c1.get<span class="hljs-constructor">Methods()</span>:public final void java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>wait<span class="hljs-literal">()</span> throws java.lang.InterruptedException<br>c1.get<span class="hljs-constructor">Methods()</span>:public boolean java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>equals(java.lang.Object)<br>c1.get<span class="hljs-constructor">Methods()</span>:public java.lang.String java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span><span class="hljs-keyword">to</span><span class="hljs-constructor">String()</span><br>c1.get<span class="hljs-constructor">Methods()</span>:public native <span class="hljs-built_in">int</span> java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>hash<span class="hljs-constructor">Code()</span><br>c1.get<span class="hljs-constructor">Methods()</span>:public final native java.lang.Class java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>get<span class="hljs-constructor">Class()</span><br>c1.get<span class="hljs-constructor">Methods()</span>:public final native void java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>notify<span class="hljs-literal">()</span><br>c1.get<span class="hljs-constructor">Methods()</span>:public final native void java.lang.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Object</span>.</span></span>notify<span class="hljs-constructor">All()</span><br>c1.get<span class="hljs-constructor">DeclaredMethods()</span>:public java.lang.String test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>get<span class="hljs-constructor">Name()</span><br>c1.get<span class="hljs-constructor">DeclaredMethods()</span>:public void test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>set<span class="hljs-constructor">Name(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.String)</span><br>public java.lang.String test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>get<span class="hljs-constructor">Name()</span><br>public void test.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">User</span>.</span></span>set<span class="hljs-constructor">Name(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.String)</span><br>=================================<br>c1.get<span class="hljs-constructor">Constructors()</span>:public test.<span class="hljs-constructor">User()</span><br>c1.get<span class="hljs-constructor">Constructors()</span>:public test.<span class="hljs-constructor">User(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.String,<span class="hljs-params">int</span>,<span class="hljs-params">int</span>)</span><br>c1.get<span class="hljs-constructor">DeclaredConstructors()</span>:public test.<span class="hljs-constructor">User()</span><br>c1.get<span class="hljs-constructor">DeclaredConstructors()</span>:public test.<span class="hljs-constructor">User(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.String,<span class="hljs-params">int</span>,<span class="hljs-params">int</span>)</span><br>è·å–æŒ‡å®šçš„æ„é€ å™¨public test.<span class="hljs-constructor">User(<span class="hljs-params">java</span>.<span class="hljs-params">lang</span>.String,<span class="hljs-params">int</span>,<span class="hljs-params">int</span>)</span><br></code></pre></td></tr></table></figure><h2 id="2-5ã€åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡"><a href="#2-5ã€åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡" class="headerlink" title="2.5ã€åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡"></a>2.5ã€åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</h2><h4 id="åˆ›å»ºç±»çš„å¯¹è±¡-â€”â€”-newInstance-æ–¹æ³•"><a href="#åˆ›å»ºç±»çš„å¯¹è±¡-â€”â€”-newInstance-æ–¹æ³•" class="headerlink" title="**åˆ›å»ºç±»çš„å¯¹è±¡ **â€”â€” **newInstance()**æ–¹æ³•"></a>**åˆ›å»ºç±»çš„å¯¹è±¡ **â€”â€” **newInstance()**æ–¹æ³•</h4><p>1ã€æœ‰æ— å‚çš„æ„é€ å™¨ï¼š</p><p>â€‹        è°ƒç”¨Classå¯¹è±¡çš„**newInstance()**æ–¹æ³•</p><ul><li>ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å™¨</li><li>ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿ</li></ul><p>2ã€æ²¡æœ‰æ— å‚çš„æ„é€ å™¨ï¼š</p><ul><li><p>åªè¦åœ¨æ“ä½œçš„æ—¶å€™æ˜ç¡®çš„è°ƒç”¨ç±»ä¸­çš„æ„é€ å™¨ï¼Œå¹¶å°†å‚æ•°ä¼ é€’è¿›å»ä¹‹åï¼Œæ‰å¯ä»¥å®ä¾‹åŒ–æ“ä½œ</p><p><strong>æ­¥éª¤å¦‚ä¸‹:</strong></p></li><li><p>é€šè¿‡Classç±»çš„<strong>getDeclaredConstructor</strong>(Class â€¦ parameterTypes)å–å¾—æœ¬ç±»çš„æŒ‡å®šå½¢å‚ç±»å‹çš„æ„é€ å™¨</p></li><li><p>å‘æ„é€ å™¨çš„å½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ•°ç»„è¿›å»ï¼Œ é‡Œé¢åŒ…å«äº†æ„é€ å™¨ä¸­æ‰€éœ€çš„å„ä¸ªå‚æ•°ã€‚</p></li><li><p>é€šè¿‡Constructorå®ä¾‹åŒ–å¯¹è±¡</p></li></ul><h4 id="è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•-â€”â€”-getMethod-invoke"><a href="#è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•-â€”â€”-getMethod-invoke" class="headerlink" title="**è°ƒç”¨æŒ‡å®šçš„æ–¹æ³• **â€”â€” getMethod + invoke"></a>**è°ƒç”¨æŒ‡å®šçš„æ–¹æ³• **â€”â€” getMethod + invoke</h4><ul><li>é€šè¿‡åå°„ï¼Œè°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œé€šè¿‡Methodç±»å®Œæˆã€‚</li><li>â‘ é€šè¿‡Classç±»çš„<strong>getMethod</strong>(String name,Clas..parameterTypes)æ–¹æ³•å–å¾—ä¸€ä¸ªMethodå¯¹è±¡ï¼Œå¹¶è®¾ç½®æ­¤æ–¹æ³•æ“ä½œæ—¶æ‰€éœ€è¦çš„å‚æ•°ç±»å‹ã€‚</li><li>â‘¡ä¹‹åä½¿ç”¨Object <strong>invoke</strong>(Object obj, Object[] args)è¿›è¡Œè°ƒç”¨ï¼Œå¹¶å‘æ–¹æ³•ä¸­ä¼ é€’è¦è®¾ç½®çš„objå¯¹è±¡çš„å‚æ•°ä¿¡æ¯ã€‚</li></ul><p><img src="/images/image-20220310232339046.png" alt="image-20220310232339046"></p><ul><li>Object invoke(Object obj, Object â€¦ args)<ul><li>Object å¯¹åº”åŸæ–¹æ³•çš„è¿”å›å€¼,è‹¥åŸæ–¹æ³•æ— è¿”å›å€¼ï¼Œæ­¤æ—¶è¿”å›null</li><li>è‹¥åŸæ–¹æ³•è‹¥ä¸ºé™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å½¢å‚å¯ä¸ºnull</li><li>è‹¥åŸæ–¹æ³•å½¢å‚åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™Object[] argsä¸ºnull</li><li>è‹¥åŸæ–¹æ³•å£°æ˜ä¸º<strong>private</strong>ï¼Œåˆ™éœ€è¦åœ¨è°ƒç”¨æ­¤invoke()æ–¹æ³•å‰ï¼Œæ˜¾å¼è°ƒç”¨æ–¹æ³•å¯¹è±¡çš„<strong>setAccessible(true) ï¼ˆå…³é—­è®¿é—®å®‰å…¨æ£€æŸ¥ï¼‰</strong>æ–¹æ³•ï¼Œå°†å¯è®¿é—®privateçš„æ–¹æ³•ã€‚</li></ul></li></ul><ul><li>setAccessible()<ul><li>Method å’Œ Fieldã€Constructorå¯¹è±¡éƒ½æœ‰ setAccessible()æ–¹æ³•</li><li>setAccessibleä½œç”¨æ˜¯å¯åŠ¨å’Œç¦ç”¨è®¿é—®å®‰å…¨æ£€æŸ¥çš„å¼€å…³</li><li>å‚æ•°å€¼ä¸ºtrueåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶åº”è¯¥å–æ¶ˆ<strong>Javaè¯­è¨€è®¿é—®æ£€æŸ¥</strong></li><li>æé«˜åå°„çš„æ•ˆç‡ã€‚å¦‚æœä»£ç ä¸­å¿…é¡»ç”¨åå°„ï¼Œè€Œè¯¥å¥ä»£ç éœ€è¦é¢‘ç¹çš„è¢«è°ƒç”¨ï¼Œé‚£ä¹ˆè¯·è®¾ç½®ä¸ºtrue</li><li>ä½¿å¾—åŸæœ¬æ— æ³•è®¿é—®çš„ç§æœ‰æˆå‘˜ä¹Ÿå¯ä»¥è®¿é—®</li><li>å‚æ•°å€¼ä¸ºfalseåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åº”è¯¥å®æ–½Javaè¯­è¨€è®¿é—®æ£€æŸ¥</li></ul></li></ul><h4 id="æ“ä½œå±æ€§-â€”â€”-Field"><a href="#æ“ä½œå±æ€§-â€”â€”-Field" class="headerlink" title="**æ“ä½œå±æ€§ **â€”â€” Field"></a>**æ“ä½œå±æ€§ **â€”â€” Field</h4><p><strong>æ¡ˆä¾‹ï¼š</strong></p><ul><li>æ„é€ å¯¹è±¡</li><li>è°ƒç”¨æ–¹æ³•</li><li>æ“ä½œå±æ€§</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test08</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException, NoSuchFieldException, InvocationTargetException </span>&#123;<br>        <span class="hljs-comment">//è·å¾—Classå¯¹è±¡</span><br>        Class c1 = Class.forName(<span class="hljs-string">&quot;com.nty.reflection.User&quot;</span>);<br><br>        <span class="hljs-comment">//1ã€åˆ›å»ºå¯¹è±¡ï¼š</span><br>        <span class="hljs-comment">//1.1 é€šè¿‡newInstanceï¼ˆï¼‰æ„é€ ä¸€ä¸ªå¯¹è±¡</span><br>        User user1 = (User) c1.newInstance();<span class="hljs-comment">//å®è´¨ä¸Šæ˜¯è°ƒç”¨çš„æ— å‚æ„é€ </span><br>        System.out.println(user1);<span class="hljs-comment">//User&#123;name=&#x27;null&#x27;, id=0, age=0&#125;</span><br><br>        <span class="hljs-comment">//1.2 é€šè¿‡æ„é€ å™¨åˆ›å»º</span><br>        Constructor constructor = c1.getDeclaredConstructor(String.class, <span class="hljs-keyword">int</span>.class, <span class="hljs-keyword">int</span>.class);<br>        User user2 = (User) constructor.newInstance(<span class="hljs-string">&quot;nty&quot;</span>, <span class="hljs-number">001</span>, <span class="hljs-number">18</span>);<br>        System.out.println(user2);<span class="hljs-comment">//User&#123;name=&#x27;nty&#x27;, id=1, age=18&#125;</span><br><br>        <span class="hljs-comment">//2ã€é€šè¿‡åå°„è°ƒç”¨æ™®é€šæ–¹æ³•</span><br>        System.out.println(<span class="hljs-string">&quot;=============================================&quot;</span>);<br>        <span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªå¯¹è±¡</span><br>        User user3 = (User) c1.newInstance();<br>        <span class="hljs-comment">//é€šè¿‡åå°„è·å–ä¸€ä¸ªæ–¹æ³•</span><br>        Method setName = c1.getDeclaredMethod(<span class="hljs-string">&quot;setName&quot;</span>, String.class);<br>        <span class="hljs-comment">//invokeï¼šæ¿€æ´» ã€å”¤é†’</span><br>        <span class="hljs-comment">//å‚æ•°ï¼ˆå¯¹è±¡ï¼Œ&quot;æ–¹æ³•çš„å€¼&quot;ï¼‰</span><br>        setName.invoke(user3, <span class="hljs-string">&quot;China&quot;</span>);<br>        System.out.println(user3.getName());<span class="hljs-comment">//China</span><br><br>        <span class="hljs-comment">//3ã€é€šè¿‡åå°„æ“ä½œå±æ€§</span><br>        System.out.println(<span class="hljs-string">&quot;=============================================&quot;</span>);<br>        User user4 = (User) c1.newInstance();<br>        Field name = c1.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br><br>        <span class="hljs-comment">//ä¸èƒ½ç›´æ¥æ“ä½œç§æœ‰å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦å…³é—­ç¨‹åºçš„å®‰å…¨ç›‘æµ‹ï¼Œé€šè¿‡ï¼šname.setAccessible(true);</span><br>        name.setAccessible(<span class="hljs-keyword">true</span>);<br>        name.set(user4, <span class="hljs-string">&quot;nty&quot;</span>);<br>        System.out.println(user4.getName());<span class="hljs-comment">//nty</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€§èƒ½æµ‹è¯•ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test09</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException </span>&#123;<br>        test01();<br>        test02();<br>        test03();<br>    &#125;<br><br>    <span class="hljs-comment">//æ™®é€šæ–¹æ³•è°ƒç”¨</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test01</span><span class="hljs-params">()</span> </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        <span class="hljs-keyword">long</span> start_time = System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000000</span>; i++) &#123;<br>            user.getName();<br>        &#125;<br>        <span class="hljs-keyword">long</span> end_time = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;æ™®é€šæ–¹å¼æ‰§è¡Œ10äº¿æ¬¡éœ€è¦ï¼š&quot;</span> + (end_time - start_time) + <span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">//åå°„æ–¹å¼è°ƒç”¨</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test02</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        Class c1 = user.getClass();<br>        Method getName = c1.getMethod(<span class="hljs-string">&quot;getName&quot;</span>, <span class="hljs-keyword">null</span>);<br>        getName.invoke(user, <span class="hljs-keyword">null</span>);<br>        <span class="hljs-keyword">long</span> start_time = System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000000</span>; i++) &#123;<br>            user.getName();<br>        &#125;<br>        <span class="hljs-keyword">long</span> end_time = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;åå°„æ–¹å¼è°ƒç”¨æ‰§è¡Œ10äº¿æ¬¡éœ€è¦ï¼š&quot;</span> + (end_time - start_time) + <span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br><br>    <span class="hljs-comment">//åå°„æ–¹å¼è°ƒç”¨ï¼Œå…³é—­å®‰å…¨ç›‘æµ‹</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test03</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> NoSuchMethodException, IllegalAccessException, InvocationTargetException </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        Class c1 = user.getClass();<br>        Method getName = c1.getMethod(<span class="hljs-string">&quot;getName&quot;</span>, <span class="hljs-keyword">null</span>);<br>        getName.setAccessible(<span class="hljs-keyword">true</span>);<br>        getName.invoke(user, <span class="hljs-keyword">null</span>);<br>        <span class="hljs-keyword">long</span> start_time = System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000000</span>; i++) &#123;<br>            user.getName();<br>        &#125;<br>        <span class="hljs-keyword">long</span> end_time = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;åå°„æ–¹å¼è°ƒç”¨ï¼Œå…³é—­å®‰å…¨ç›‘æµ‹è°ƒç”¨æ‰§è¡Œ10äº¿æ¬¡éœ€è¦ï¼š&quot;</span> + (end_time - start_time) + <span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">     *æ™®é€šæ–¹å¼æ‰§è¡Œ10äº¿æ¬¡éœ€è¦ï¼šæœ€å¿«</span><br><span class="hljs-comment">     *åå°„æ–¹å¼è°ƒç”¨æ‰§è¡Œ10äº¿æ¬¡éœ€è¦ï¼šæœ€æ…¢</span><br><span class="hljs-comment">     *åå°„æ–¹å¼è°ƒç”¨ï¼Œå…³é—­å®‰å…¨ç›‘æµ‹è°ƒç”¨æ‰§è¡Œ10äº¿æ¬¡éœ€è¦ï¼šMiddle</span><br><span class="hljs-comment">     */</span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-6ã€è·å–æ³›å‹ä¿¡æ¯"><a href="#2-6ã€è·å–æ³›å‹ä¿¡æ¯" class="headerlink" title="2.6ã€è·å–æ³›å‹ä¿¡æ¯"></a>2.6ã€è·å–æ³›å‹ä¿¡æ¯</h2><ul><li>Javaé‡‡ç”¨æ³›å‹æ“¦é™¤çš„æœºåˆ¶æ¥å¼•å…¥æ³›å‹ï¼ŒJavaä¸­çš„æ³›å‹ä»…ä»…æ˜¯ç»™ç¼–è¯‘å™¨javacä½¿ç”¨çš„ï¼Œç¡®ä¿æ•°æ®çš„å®‰å…¨æ€§å’Œå…å»å¼ºåˆ¶ç±»å‹è½¬æ¢é—®é¢˜ï¼Œä½†æ˜¯ï¼Œä¸€æ—¦ç¼–è¯‘å®Œæˆï¼Œæ‰€æœ‰å’Œæ³›å‹æœ‰å…³çš„ç±»å‹å…¨éƒ¨æ“¦é™¤</li><li>ä¸ºäº†é€šè¿‡åå°„æ“ä½œè¿™äº›ç±»å‹ï¼Œ Javaæ–°å¢äº†ParameterizedType, GenericArrayTypeï¼ŒTypeVariableå’ŒWildcardTypeå‡ ç§ç±»å‹æ¥ä»£è¡¨ä¸èƒ½è¢«å½’ä¸€åˆ°Classç±»ä¸­çš„ç±»å‹ä½†æ˜¯åˆå’ŒåŸå§‹ç±»å‹é½åçš„ç±»å‹</li><li>ParameterizedTypeï¼šè¡¨ç¤ºä¸€ç§å‚æ•°åŒ–ç±»å‹,æ¯”å¦‚Collection</li><li>GenericArrayTypeï¼šè¡¨ç¤ºä¸€ç§å…ƒç´ ç±»å‹æ˜¯å‚æ•°åŒ–ç±»å‹æˆ–è€…ç±»å‹å˜é‡çš„æ•°ç»„ç±»å‹</li><li>TypeVariableï¼šæ˜¯å„ç§ç±»å‹å˜é‡çš„å…¬å…±çˆ¶æ¥å£</li><li>WildcardTypeï¼šä»£è¡¨ä¸€ç§é€šé…ç¬¦ç±»å‹è¡¨è¾¾å¼</li></ul><p><strong>æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><span class="hljs-keyword">import</span> java.lang.reflect.ParameterizedType;<br><span class="hljs-keyword">import</span> java.lang.reflect.Type;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.Map;<br><br><span class="hljs-comment">//é€šè¿‡åå°„è·å–æ³›å‹ä¿¡æ¯</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test10</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test01</span><span class="hljs-params">(Map&lt;String, User&gt; map, List&lt;User&gt; list)</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;test01&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Map&lt;String, User&gt; <span class="hljs-title">test02</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;test02&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> NoSuchMethodException </span>&#123;<br>        Method method = Test10.class.getMethod(<span class="hljs-string">&quot;test01&quot;</span>, Map.class, List.class);<br><br>        <span class="hljs-comment">//getGenericParameterTypes():è·å¾—æ³›å‹çš„å‚æ•°ç±»å‹</span><br>        Type[] genericParameterTypes = method.getGenericParameterTypes();<br><br>        <span class="hljs-keyword">for</span> (Type genericParameterType : genericParameterTypes) &#123;<br>            System.out.println(genericParameterType);<span class="hljs-comment">//Java.JavaBase.Collections.HashMapTest.Map&lt;java.lang.String, kuangshen.reflection.User&gt;</span><br>            <span class="hljs-comment">// åˆ¤æ–­genericParameterTypeæ˜¯å¦ç­‰äºParameterizedTypeï¼ˆç»“æ„åŒ–å‚æ•°ç±»å‹ï¼‰</span><br>            <span class="hljs-keyword">if</span> (genericParameterType <span class="hljs-keyword">instanceof</span> ParameterizedType) &#123;<br>                <span class="hljs-comment">//getActualTypeArguments()ï¼šè·å¾—çœŸå®çš„å‚æ•°ä¿¡æ¯</span><br>                Type[] actualTypeArguments = ((ParameterizedType) genericParameterType).getActualTypeArguments();<br>                <span class="hljs-keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;<br>                    System.out.println(actualTypeArgument);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;===============test02====================&quot;</span>);<br>        method = Test10.class.getMethod(<span class="hljs-string">&quot;test02&quot;</span>, <span class="hljs-keyword">null</span>);<br>        Type genericReturnType = method.getGenericReturnType();<br>        <span class="hljs-keyword">if</span> (genericReturnType <span class="hljs-keyword">instanceof</span> ParameterizedType) &#123;<br>            <span class="hljs-comment">//getActualTypeArguments()ï¼šè·å¾—çœŸå®çš„å‚æ•°ä¿¡æ¯</span><br>            Type[] actualTypeArguments = ((ParameterizedType) genericReturnType).getActualTypeArguments();<br>            <span class="hljs-keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;<br>                System.out.println(actualTypeArgument);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * java.util.Map&lt;java.lang.String, com.nty.reflection.User&gt;</span><br><span class="hljs-comment"> * class java.lang.String</span><br><span class="hljs-comment"> * class com.nty.reflection.User</span><br><span class="hljs-comment"> * java.util.List&lt;com.nty.reflection.User&gt;</span><br><span class="hljs-comment"> * class com.nty.reflection.User</span><br><span class="hljs-comment"> * ===============test02====================</span><br><span class="hljs-comment"> * class java.lang.String</span><br><span class="hljs-comment"> * class com.nty.reflection.User</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><h2 id="2-7ã€è·å–æ³¨è§£ä¿¡æ¯"><a href="#2-7ã€è·å–æ³¨è§£ä¿¡æ¯" class="headerlink" title="2.7ã€è·å–æ³¨è§£ä¿¡æ¯"></a>2.7ã€è·å–æ³¨è§£ä¿¡æ¯</h2><ul><li>getAnnotations()</li><li>getAnnotation()</li></ul><p><strong>æ¡ˆä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.nty.reflection;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><br><span class="hljs-comment">//ç»ƒä¹ åå°„æ“ä½œæ³¨è§£</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Test11</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchFieldException </span>&#123;<br><br>        Class c1 = Class.forName(<span class="hljs-string">&quot;com.nty.reflection.Student2&quot;</span>);<br><br>        <span class="hljs-comment">//é€šè¿‡åå°„è·å–æ³¨è§£</span><br>        Annotation[] annotations = c1.getAnnotations();<br>        <span class="hljs-keyword">for</span> (Annotation annotation : annotations) &#123;<br>            System.out.println(annotation);<span class="hljs-comment">//</span><br>        &#125;<br><br>        <span class="hljs-comment">//è·å¾—æ³¨è§£valueçš„å€¼</span><br>        TestAnno testAnno = (TestAnno) c1.getAnnotation(TestAnno.class);<br>        System.out.println(testAnno.value());<span class="hljs-comment">//db_student</span><br><br>        System.out.println(<span class="hljs-string">&quot;================================&quot;</span>);<br>        <span class="hljs-comment">//è·å¾—ç±»æŒ‡å®šçš„æ³¨è§£</span><br>        Field f = c1.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br>        FieldAnno annotation = f.getAnnotation(FieldAnno.class);<br>        System.out.println(annotation.columnName());<span class="hljs-comment">//db_name</span><br>        System.out.println(annotation.type());<span class="hljs-comment">//varchar</span><br>        System.out.println(annotation.length());<span class="hljs-comment">//10</span><br>    &#125;<br>&#125;<br><br><span class="hljs-meta">@TestAnno(&quot;db_student&quot;)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student2</span> </span>&#123;<br>    <span class="hljs-meta">@FieldAnno(columnName = &quot;db_id&quot;, type = &quot;int&quot;, length = 10)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-meta">@FieldAnno(columnName = &quot;db_name&quot;, type = &quot;varchar&quot;, length = 10)</span><br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-meta">@FieldAnno(columnName = &quot;db_age&quot;, type = &quot;int&quot;, length = 10)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student2</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id, String name, <span class="hljs-keyword">int</span> age)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setId</span><span class="hljs-params">(<span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setName</span><span class="hljs-params">(String name)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setAge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> age)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Student2&#123;&quot;</span> +<br>                <span class="hljs-string">&quot;id=&quot;</span> + id +<br>                <span class="hljs-string">&quot;, name=&#x27;&quot;</span> + name + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> +<br>                <span class="hljs-string">&quot;, age=&quot;</span> + age +<br>                <span class="hljs-string">&#x27;&#125;&#x27;</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//åˆ›å»ºä¸€ä¸ªæ³¨è§£</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><span class="hljs-comment">//ç±»ä¸Šä½¿ç”¨</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br>        <span class="hljs-comment">//Retentionï¼šè¡¨ç¤ºæˆ‘ä»¬çš„æ³¨è§£åœ¨ä»€ä¹ˆåœ°æ–¹æœ‰æ•ˆ</span><br><span class="hljs-meta">@interface</span> TestAnno &#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span></span>;<br><br>&#125;<br><br><span class="hljs-comment">//å±æ€§çš„æ³¨è§£</span><br><span class="hljs-meta">@Target(ElementType.FIELD)</span><span class="hljs-comment">//ç±»ä¸Šä½¿ç”¨</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> FieldAnno &#123;<br>    <span class="hljs-function">String <span class="hljs-title">columnName</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-function">String <span class="hljs-title">type</span><span class="hljs-params">()</span></span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è§£å†³hexoæ— æ³•æ˜¾ç¤ºå›¾ç‰‡</title>
    <link href="/2022/03/10/%E8%A7%A3%E5%86%B3hexo%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87/"/>
    <url>/2022/03/10/%E8%A7%A3%E5%86%B3hexo%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87/</url>
    
    <content type="html"><![CDATA[<h5 id="1ã€å°†ç¬”è®°mdä¸­çš„å›¾ç‰‡æ”¾å…¥è¯¥imagesæ–‡ä»¶å¤¹ä¸‹"><a href="#1ã€å°†ç¬”è®°mdä¸­çš„å›¾ç‰‡æ”¾å…¥è¯¥imagesæ–‡ä»¶å¤¹ä¸‹" class="headerlink" title="1ã€å°†ç¬”è®°mdä¸­çš„å›¾ç‰‡æ”¾å…¥è¯¥imagesæ–‡ä»¶å¤¹ä¸‹"></a>1ã€å°†ç¬”è®°mdä¸­çš„å›¾ç‰‡æ”¾å…¥è¯¥imagesæ–‡ä»¶å¤¹ä¸‹</h5><p><img src="/images/image-20220310204926904.png" alt="image-20220310204926904"></p><h5 id="2ã€åœ¨mdä¸­å¼•å…¥å›¾ç‰‡çš„æ–¹å¼å¦‚ä¸‹ï¼š"><a href="#2ã€åœ¨mdä¸­å¼•å…¥å›¾ç‰‡çš„æ–¹å¼å¦‚ä¸‹ï¼š" class="headerlink" title="2ã€åœ¨mdä¸­å¼•å…¥å›¾ç‰‡çš„æ–¹å¼å¦‚ä¸‹ï¼š"></a>2ã€åœ¨mdä¸­å¼•å…¥å›¾ç‰‡çš„æ–¹å¼å¦‚ä¸‹ï¼š</h5><p><img src="/images/picture.png" alt="picture"></p><h4 id="ï¼ˆè®°å¾—è·¯å¾„å‰é¢è¦åŠ â€™-â€˜ï¼‰"><a href="#ï¼ˆè®°å¾—è·¯å¾„å‰é¢è¦åŠ â€™-â€˜ï¼‰" class="headerlink" title="ï¼ˆè®°å¾—è·¯å¾„å‰é¢è¦åŠ â€™/â€˜ï¼‰"></a>ï¼ˆè®°å¾—è·¯å¾„å‰é¢è¦åŠ â€™/â€˜ï¼‰</h4><h5 id="3ã€ä¸ºäº†å¯ä»¥æ­£å¸¸åœ¨mdä¸­çœ‹åˆ°å›¾ç‰‡ï¼Œåœ¨æ–‡ç« æ‰€åœ¨çš„åŒçº§ç›®å½•ä¸‹æ–°å»ºimagesæ–‡ä»¶å¤¹å¹¶æ”¾å…¥æŒ‡å®šçš„å›¾ç‰‡èµ„æº"><a href="#3ã€ä¸ºäº†å¯ä»¥æ­£å¸¸åœ¨mdä¸­çœ‹åˆ°å›¾ç‰‡ï¼Œåœ¨æ–‡ç« æ‰€åœ¨çš„åŒçº§ç›®å½•ä¸‹æ–°å»ºimagesæ–‡ä»¶å¤¹å¹¶æ”¾å…¥æŒ‡å®šçš„å›¾ç‰‡èµ„æº" class="headerlink" title="3ã€ä¸ºäº†å¯ä»¥æ­£å¸¸åœ¨mdä¸­çœ‹åˆ°å›¾ç‰‡ï¼Œåœ¨æ–‡ç« æ‰€åœ¨çš„åŒçº§ç›®å½•ä¸‹æ–°å»ºimagesæ–‡ä»¶å¤¹å¹¶æ”¾å…¥æŒ‡å®šçš„å›¾ç‰‡èµ„æº"></a>3ã€ä¸ºäº†å¯ä»¥æ­£å¸¸åœ¨mdä¸­çœ‹åˆ°å›¾ç‰‡ï¼Œåœ¨æ–‡ç« æ‰€åœ¨çš„åŒçº§ç›®å½•ä¸‹æ–°å»ºimagesæ–‡ä»¶å¤¹å¹¶æ”¾å…¥æŒ‡å®šçš„å›¾ç‰‡èµ„æº</h5>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>éƒ¨ç½²</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E9%83%A8%E7%BD%B2/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E9%83%A8%E7%BD%B2/</url>
    
    <content type="html"><![CDATA[<h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><p>å½“æˆ‘ä»¬å®Œæˆä¸€ä¸ªé˜¶æ®µçš„å¼€å‘ä»»åŠ¡åï¼Œå°±éœ€è¦æŠŠæˆ‘ä»¬å¼€å‘çš„ç½‘ç«™æœåŠ¡ç»™çœŸæ­£çš„ç”¨æˆ·ä½¿ç”¨äº†ã€‚</p><p>é‚£å°±éœ€è¦æˆ‘ä»¬çš„ç½‘ç«™éƒ¨ç½²åœ¨å…¬ç½‘æœºå™¨ä¸Šï¼Œè€Œä¸æ˜¯æˆ‘ä»¬çš„ä¸ªäººç”µè„‘ã€‚è¿™ä¸ªç»™çœŸæ­£ç”¨æˆ·ä½¿ç”¨çš„ç½‘ç«™æœåŠ¡å™¨æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸º <code>ç”Ÿäº§ç¯å¢ƒ</code>ã€‚</p><p>é€šå¸¸ï¼Œæˆ‘ä»¬çš„webæœåŠ¡æ˜¯éƒ¨ç½²åœ¨äº‘æœåŠ¡å‚å•†çš„äº‘ä¸»æœºä¸Šï¼Œæ¯”å¦‚é˜¿é‡Œäº‘çš„ECSäº‘ä¸»æœºã€‚</p><p>ç°åœ¨çš„webæœåŠ¡ï¼ŒåŸºæœ¬éƒ½æ˜¯é‡‡ç”¨ Linux æ“ä½œç³»ç»Ÿï¼Œè€Œä¸”ç”Ÿäº§ç¯å¢ƒä¸åº”è¯¥ä½¿ç”¨ SQLite æ•°æ®åº“ï¼Œé€šå¸¸æ˜¯ MySQLã€Postgresqlã€Oracleç­‰ã€‚</p><br><h2 id="æ¶æ„è¯´æ˜"><a href="#æ¶æ„è¯´æ˜" class="headerlink" title="æ¶æ„è¯´æ˜"></a>æ¶æ„è¯´æ˜</h2><p>ä¸€ä¸ªå¤§å‹çš„ç½‘ç«™ç³»ç»Ÿï¼Œæ¶æ„é€šå¸¸éå¸¸çš„å¤æ‚ï¼ŒåŒ…æ‹¬å¾ˆå¤šçš„åŠŸèƒ½èŠ‚ç‚¹ã€‚</p><p>éœ€è¦å¦‚ä¸‹ä¸¤ç‚¹ï¼š</p><ul><li><p>Django åœ¨ç”Ÿäº§ç¯å¢ƒä¸åº”è¯¥å¤„ç†é™æ€èµ„æºï¼ˆæ¯”å¦‚ç½‘é¡µã€å›¾ç‰‡ç­‰ï¼‰çš„è¯·æ±‚</p><p>å‰é¢æ˜¯å¼€å‘é˜¶æ®µï¼Œä¸ºäº†æ˜¯ç¯å¢ƒæ­å»ºå®¹æ˜“ï¼Œæˆ‘ä»¬è¿˜æ˜¯è®©Djangoæ¥å¤„ç†é™æ€èµ„æºçš„è¯·æ±‚äº†ã€‚</p><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸èƒ½è¿™æ ·åšï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Nginxæ¥å¤„ç†é™æ€èµ„æºçš„è¯·æ±‚ã€‚</p></li><li><p>Django åœ¨ç”Ÿäº§ç¯å¢ƒ ä¸èƒ½ç›´æ¥å¤„ç† HTTPè¯·æ±‚</p><p>Djangoæ˜¯ wsgi web application çš„æ¡†æ¶ï¼Œå®ƒåªæœ‰ä¸€ä¸ªç®€å•çš„å•çº¿ç¨‹ wsgi web serverã€‚ ä¾›è°ƒè¯•æ—¶ä½¿ç”¨ã€‚æ€§èƒ½å¾ˆä½ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒå¿…é¡»æä¾› ä¸“ä¸šçš„ wsgi web serverï¼Œæ¯”å¦‚ uWSGI æˆ–è€… Gunicornã€‚ æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ Gunicornã€‚è€Œä¸”å³ä½¿æœ‰äº† uWSGI æˆ–è€… Gunicornï¼Œæˆ‘ä»¬æœ€å¥½è¿˜è¦åœ¨å‰é¢è®¾ç½® Nginx ã€‚æ‰€æœ‰çš„å®¢æˆ·è¯·æ±‚ç”±å®ƒå…ˆæ¥å—ï¼Œå†è¿›è¡Œç›¸åº”çš„è½¬å‘ã€‚</p></li></ul><p>ä¸ºä»€ä¹ˆè¦è¿™æ ·ï¼Ÿ</p><p><strong>Nginx</strong> åœ¨æ•´ä¸ªåç«¯çš„æœ€å‰æ–¹ï¼Œ å¯ä»¥å®ç°è´Ÿè½½å‡è¡¡ã€åå‘ä»£ç†ã€è¯·æ±‚ç¼“å­˜ã€å“åº”ç¼“å­˜ ã€è´Ÿè·æ§åˆ¶ç­‰ç­‰ä¸€ç³»åˆ—åŠŸèƒ½ã€‚å¯ä»¥å¤§å¤§çš„æé«˜æ•´ä¸ªåç«¯çš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p><p>ç»¼ä¸Šï¼Œ æˆ‘ä»¬å½“å‰è¿™ä¸ªç®€å•ç½‘ç«™ï¼Œå…¶æ¶æ„å›¾å¦‚ä¸‹ï¼š</p><p><img src="/images/image-20220208174137040-16469161217601.png" alt="image-20220208174137040"></p><p>æ³¨â€”â€”æ­£å‘ä»£ç†ä¸åå‘ä»£ç†ï¼š</p><ul><li>æ­£å‘ä»£ç†å³æ˜¯å®¢æˆ·ç«¯ä»£ç†ï¼Œä»£ç†å®¢æˆ·ç«¯ã€‚æœåŠ¡ç«¯ä¸çŸ¥é“å®é™…å‘èµ·è¯·æ±‚çš„å®¢æˆ·ç«¯</li><li>åå‘ä»£ç†å³æ˜¯æœåŠ¡ç«¯ä»£ç†ï¼Œä»£ç†æœåŠ¡ç«¯ã€‚å®¢æˆ·ç«¯ä¸çŸ¥é“å®é™…æä¾›æœåŠ¡çš„æœåŠ¡ç«¯</li></ul><img src="/images/image-20220208174427816.png" alt="image-20220208174427816" style="zoom: 50%;"><p>è¿™é‡Œä¸ºäº†ç®€å•ï¼ŒæŠŠæ•´ä¸ªåç«¯ç³»ç»Ÿéƒ½éƒ¨ç½²åœ¨åŒä¸€å°Linuxä¸»æœºä¸Šï¼ŒåŒ…æ‹¬ï¼šNginxã€Gunicornã€Djangoï¼ˆåŒ…æ‹¬æˆ‘ä»¬çš„ä»£ç ï¼‰ã€MySQLæœåŠ¡ã€‚</p><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¦‚æœç³»ç»Ÿçš„è´Ÿè·æ¯”è¾ƒå¤§ï¼Œé€šå¸¸æ˜¯éƒ¨ç½²åœ¨å¤šå°ä¸»æœºä¸Šã€‚</p><p>è¿™ä¸ªæ¶æ„çš„å„ä¸ªå­ç³»ç»Ÿæ˜¯å¦‚ä½•ååŒå·¥ä½œçš„ï¼Ÿ</p><ul><li><p>Nginx</p><p>Nginx è¿è¡Œèµ·æ¥æ˜¯å¤šä¸ªè¿›ç¨‹ï¼Œæ¥æ”¶ä»å®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨æˆ–è€…æ‰‹æœºAPPï¼‰å‘è¿‡æ¥çš„è¯·æ±‚ã€‚</p><p>å®ƒä¼š <code>æ ¹æ®è¯·æ±‚çš„URL</code> è¿›è¡Œåˆ¤æ–­ï¼š</p><p>å¦‚æœè¯·æ±‚çš„ æ˜¯ é™æ€èµ„æºï¼Œæ¯”å¦‚HTMLæ–‡æ¡£ã€å›¾ç‰‡ç­‰ï¼Œå®ƒç›´æ¥ä»é…ç½®çš„è·¯å¾„è¿›è¡Œè¯»å–ï¼Œè¿”å›å†…å®¹ç»™å®¢æˆ·ç«¯ã€‚</p><p>å¦‚æœè¯·æ±‚çš„ æ˜¯ åŠ¨æ€æ•°æ®ï¼Œ è½¬å‘ç»™ Gunicorn+Django è¿›è¡Œå¤„ç†</p></li><li><p>Gunicorn/Django</p><p>Gunicorn å’Œ Django æ˜¯è¿è¡Œåœ¨åŒä¸€ä¸ª Pythonè¿›ç¨‹é‡Œé¢çš„ã€‚ å®ƒä»¬éƒ½æ˜¯ç”¨Pythonä»£ç å†™çš„ç¨‹åºã€‚</p><p>å¯åŠ¨Gunicornçš„æ—¶å€™ï¼Œå®ƒä¼šæ ¹æ®é…ç½®åŠ è½½Djangoçš„å…¥å£æ¨¡å—ï¼Œè¿™ä¸ªå…¥å£æ¨¡å—é‡Œé¢æä¾›äº†WSGIæ¥å£ã€‚</p><p>å½“ Gunicorn æ¥æ”¶åˆ° Nginx è½¬å‘çš„ HTTPè¯·æ±‚åï¼Œå°±ä¼šè°ƒç”¨ Djangoçš„ WSGIå…¥å£å‡½æ•°ï¼Œå°†è¯·æ±‚ç»™Djangoè¿›è¡Œå¤„ç†ã€‚</p><p>Djangoæ¡†æ¶ å†æ ¹æ®è¯·æ±‚çš„URL å’Œ æˆ‘ä»¬é¡¹ç›®é…ç½®çš„ URL è·¯ç”±è¡¨ï¼Œæ‰¾åˆ°æˆ‘ä»¬ç¼–å†™çš„å¯¹åº”çš„æ¶ˆæ¯å¤„ç†å‡½æ•°è¿›è¡Œå¤„ç†ã€‚</p><p>æˆ‘ä»¬ç¼–å†™çš„æ¶ˆæ¯å¤„ç†å‡½æ•°ï¼Œå°±æ˜¯å‰é¢ç« èŠ‚å¤§å®¶å­¦ä¹ åˆ°çš„ï¼Œå¤„ç†å‰ç«¯è¯·æ±‚ã€‚å¦‚æœéœ€è¦è¯»å†™æ•°æ®åº“ï¼Œå°±ä»MySQLæ•°æ®åº“è¯»å†™æ•°æ®ã€‚</p></li></ul><br><br><h2 id="å®‰è£…æ­¥éª¤"><a href="#å®‰è£…æ­¥éª¤" class="headerlink" title="å®‰è£…æ­¥éª¤"></a>å®‰è£…æ­¥éª¤</h2><p>åŸºäºDjangoå¼€å‘çš„åç«¯ç³»ç»Ÿï¼Œè¦å‘å¸ƒæ­£å¼ç‰ˆæœ¬ï¼š</p><ul><li><p>é¦–å…ˆæ‹·è´ä½ çš„å¼€å‘é¡¹ç›®ç›®å½•åˆ°ä¸€ä¸ªæ–°çš„ç›®å½•ä¸­ï¼Œå¯ä»¥æ”¹åä¸º <code>bysms_back_v1</code></p><p>ä¿®æ”¹é¡¹ç›®é…ç½®ä¸­ bysms/settings.py ï¼ŒæŠŠä¸‹é¢çš„é…ç½®é¡¹DEBUGå€¼ä¸º Falseï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># SECURITY WARNING: don&#x27;t run with debug turned on in production!</span><br>DEBUG = <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure></li><li><p>æŠŠæ•°æ®åº“æ”¹ä¸ºç”Ÿäº§ç¯å¢ƒçš„æ•°æ®åº“</p><p>å‰é¢æˆ‘ä»¬ä¸ºäº†å¼€å‘ç®€å•ï¼Œä¸€ç›´ç”¨çš„SQLiteæ•°æ®åº“ï¼Œç°åœ¨éœ€è¦æ”¹ä¸ºç”Ÿäº§ç¯å¢ƒçš„MySQLæ•°æ®åº“ã€‚</p><p>æŒ‰ç…§å¦‚ä¸‹ç¤ºä¾‹ï¼Œä¿®æ”¹é¡¹ç›®é…ç½® bysms/settings.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#DATABASES = &#123;</span><br><span class="hljs-comment">#   &#x27;default&#x27;: &#123;</span><br><span class="hljs-comment">#        &#x27;ENGINE&#x27;: &#x27;django.db.backends.sqlite3&#x27;,</span><br><span class="hljs-comment">#       &#x27;NAME&#x27;: os.path.join(BASE_DIR, &#x27;db.sqlite3&#x27;),</span><br><span class="hljs-comment">#    &#125;</span><br><span class="hljs-comment">#&#125;</span><br><br>DATABASES = &#123;<br>  <span class="hljs-string">&#x27;default&#x27;</span>: &#123;<br>      <span class="hljs-string">&#x27;ENGINE&#x27;</span>: <span class="hljs-string">&#x27;django.db.backends.mysql&#x27;</span>,<br>      <span class="hljs-string">&#x27;NAME&#x27;</span>: <span class="hljs-string">&#x27;bysms&#x27;</span>,   <span class="hljs-comment"># æ•°æ®åº“å</span><br>      <span class="hljs-string">&#x27;USER&#x27;</span>: <span class="hljs-string">&#x27;byhy&#x27;</span>,    <span class="hljs-comment"># æ•°æ®åº“ ç”¨æˆ·å</span><br>      <span class="hljs-string">&#x27;PASSWORD&#x27;</span>: <span class="hljs-string">&#x27;Mima123$&#x27;</span>,<span class="hljs-comment"># æ•°æ®åº“ ç”¨æˆ·å¯†ç </span><br>      <span class="hljs-string">&#x27;HOST&#x27;</span>: <span class="hljs-string">&#x27;127.0.0.1&#x27;</span>, <span class="hljs-comment"># æ•°æ®åº“æœåŠ¡ä¸»æœºå</span><br>      <span class="hljs-string">&#x27;PORT&#x27;</span>: <span class="hljs-string">&#x27;3306&#x27;</span>,      <span class="hljs-comment"># æ•°æ®åº“æœåŠ¡ç«¯å£</span><br>      <span class="hljs-string">&#x27;CONN_MAX_AGE&#x27;</span>: <span class="hljs-number">0</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¸Šé¢é…ç½®çš„ MySQLè¿æ¥çš„ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åã€æ•°æ®åº“æœåŠ¡ä¸»æœºåã€ç«¯å£éƒ½è¦å’Œä½ çš„ç¯å¢ƒåŒ¹é…ã€‚</p></li><li><p>æ·»åŠ  Linux å¯åŠ¨shellè„šæœ¬</p><p>ç”Ÿäº§ç¯å¢ƒï¼Œæˆ‘ä»¬ä½¿ç”¨ Gunicorn ä½œä¸º Django çš„WSGIå‰ç«¯ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª Gunicornå¯åŠ¨é…ç½®æ–‡ä»¶ <code>./bysms/gunicorn_conf.py</code> ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># gunicorn/django  æœåŠ¡ç›‘å¬åœ°å€ã€ç«¯å£</span><br>bind = <span class="hljs-string">&#x27;127.0.0.1:8000&#x27;</span><br><br><span class="hljs-comment"># gunicorn worker è¿›ç¨‹ä¸ªæ•°ï¼Œå»ºè®®ä¸ºï¼š CPUæ ¸å¿ƒä¸ªæ•° * 2 + 1</span><br>workers =  <span class="hljs-number">3</span> <br><br><span class="hljs-comment"># gunicorn worker ç±»å‹ï¼Œ ä½¿ç”¨å¼‚æ­¥çš„eventç±»å‹IOæ•ˆç‡æ¯”è¾ƒé«˜</span><br>worker_class =  <span class="hljs-string">&quot;gevent&quot;</span>  <br><br><span class="hljs-comment"># æ—¥å¿—æ–‡ä»¶è·¯å¾„</span><br>errorlog = <span class="hljs-string">&quot;/home/byhy/gunicorn.log&quot;</span><br>loglevel = <span class="hljs-string">&quot;info&quot;</span><br><br><span class="hljs-keyword">import</span> sys,os<br><br>cwd = os.getcwd()<br>sys.path.append(cwd)<br></code></pre></td></tr></table></figure><p>è¦ä¿è¯æˆ‘ä»¬çš„Djangoåç«¯æœåŠ¡åœ¨linuxä¸Šä¸€ä¸ªå‘½ä»¤å°±èƒ½å¯åŠ¨ï¼Œéœ€è¦å¼€å‘ä¸€ä¸ª Linux å¯åŠ¨shellè„šæœ¬ <code>./run.sh</code> ã€‚</p><p>å¯ä»¥å‚è€ƒä¸‹é¢çš„ shellè„šæœ¬å†…å®¹ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">!/bin/bash</span><br>DIR=&quot;$( cd &quot;$( dirname &quot;$0&quot; )&quot; &amp;&amp; pwd )&quot;<br>echo $DIR<br><br>cd $DIR<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> <span class="hljs-built_in">ulimit</span> -n 50000</span><br>nohup gunicorn --config=bysms/gunicorn_conf.py bysms.wsgi &amp;&gt; /dev/null &amp;<br></code></pre></td></tr></table></figure></li><li><p>æˆ‘ä»¬å¯ä»¥åœ¨è¯¥æ–‡ä»¶çš„æœ«å°¾ï¼ŒåŠ ä¸Šç‰ˆæœ¬å·</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">VERSION</span> = <span class="hljs-string">&#x27;1.0&#x27;</span><br></code></pre></td></tr></table></figure></li></ul><p>ç„¶åï¼Œåˆ é™¤ æ‰€æœ‰app çš„ <code>migrations</code> ç›®å½•ã€‚</p><p>æœ€å¥½æŠŠæ•´ä¸ªDjangoåç«¯çš„ä»£ç æ‰“åŒ…ï¼ŒåŒ…åä¸º <code>bysms_back_v1.zip</code></p><br><br><h3 id="å®‰è£…ã€é…ç½®-Nginx"><a href="#å®‰è£…ã€é…ç½®-Nginx" class="headerlink" title="å®‰è£…ã€é…ç½® Nginx"></a>å®‰è£…ã€é…ç½® Nginx</h3><p>æ–‡æ¡£ï¼š<a href="http://www.byhy.net/tut/webdev/django/16/">http://www.byhy.net/tut/webdev/django/16/</a></p><p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1AE41117Up?p=34&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1AE41117Up?p=34&amp;spm_id_from=pageDriver</a></p><br><h3 id="å®‰è£…-Django"><a href="#å®‰è£…-Django" class="headerlink" title="å®‰è£… Django"></a>å®‰è£… Django</h3><p>æ¯”è¾ƒç®€å•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-comment"># è¿™æ˜¯å…ˆå®‰è£…pip</span><br>apt install python3-pip<br><br><span class="hljs-comment"># å†å®‰è£… Django</span><br>pip3 install Django -i https:<span class="hljs-regexp">//</span>pypi.douban.com<span class="hljs-regexp">/simple/</span><br></code></pre></td></tr></table></figure><br><h3 id="å®‰è£…-Gunicorn"><a href="#å®‰è£…-Gunicorn" class="headerlink" title="å®‰è£… Gunicorn"></a>å®‰è£… Gunicorn</h3><p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1AE41117Up?p=35">https://www.bilibili.com/video/BV1AE41117Up?p=35</a></p><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å®‰è£… Gunicorn å’Œ å®ƒä¾èµ–çš„åº“ gevent å’Œ greenlet ï¼ˆå¼‚æ­¥æ¨¡å¼éœ€è¦ï¼‰ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">pip3 install greenlet -i https:<span class="hljs-regexp">//</span>pypi.douban.com<span class="hljs-regexp">/simple/</span><br>pip3 install gevent    <br>pip3 install gunicorn<br></code></pre></td></tr></table></figure><br><h3 id="å®‰è£…-MySQLï¼Œåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·"><a href="#å®‰è£…-MySQLï¼Œåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·" class="headerlink" title="å®‰è£… MySQLï¼Œåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·"></a>å®‰è£… MySQLï¼Œåˆ›å»ºæ•°æ®åº“å’Œç”¨æˆ·</h3><p>æ–‡æ¡£ï¼š<a href="http://www.byhy.net/tut/webdev/django/16/">http://www.byhy.net/tut/webdev/django/16/</a></p><p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1AE41117Up?p=36">https://www.bilibili.com/video/BV1AE41117Up?p=36</a></p><br><h3 id="åˆ›å»ºäº§å“è¿è¡Œç”¨æˆ·ã€å®‰è£…äº§å“å‘å¸ƒåŒ…ã€åˆ›å»ºæ•°æ®åº“è¡¨"><a href="#åˆ›å»ºäº§å“è¿è¡Œç”¨æˆ·ã€å®‰è£…äº§å“å‘å¸ƒåŒ…ã€åˆ›å»ºæ•°æ®åº“è¡¨" class="headerlink" title="åˆ›å»ºäº§å“è¿è¡Œç”¨æˆ·ã€å®‰è£…äº§å“å‘å¸ƒåŒ…ã€åˆ›å»ºæ•°æ®åº“è¡¨"></a>åˆ›å»ºäº§å“è¿è¡Œç”¨æˆ·ã€å®‰è£…äº§å“å‘å¸ƒåŒ…ã€åˆ›å»ºæ•°æ®åº“è¡¨</h3><p>æ–‡æ¡£ï¼š<a href="http://www.byhy.net/tut/webdev/django/16/">http://www.byhy.net/tut/webdev/django/16/</a></p><p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1AE41117Up?p=37&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1AE41117Up?p=37&amp;spm_id_from=pageDriver</a></p><br><h3 id="å¯åŠ¨-Gunicorn-Django"><a href="#å¯åŠ¨-Gunicorn-Django" class="headerlink" title="å¯åŠ¨ Gunicorn/Django"></a>å¯åŠ¨ Gunicorn/Django</h3><p>è¿›å…¥åˆ° byhy ç”¨æˆ·homeç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ run.sh</p><p>ç„¶åï¼Œæ‰§è¡Œå‘½ä»¤ <code>ps -ef | grep python |grep gunicorn_conf |grep -v grep</code> æŸ¥çœ‹ æ˜¯å¦å¯åŠ¨æˆåŠŸã€‚</p><p>æ³¨ï¼šGunicorn å¯åŠ¨ä¹‹åï¼ŒDjango ä¹Ÿéšä¹‹å¯åŠ¨äº†</p><br>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç¼“å­˜</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E7%BC%93%E5%AD%98/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E7%BC%93%E5%AD%98/</url>
    
    <content type="html"><![CDATA[<p>æ•™ç¨‹ç½‘å€ï¼š<a href="http://www.byhy.net/tut/webdev/django/17/">http://www.byhy.net/tut/webdev/django/17/</a></p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“è¡¨çš„å…³è”</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%9A%84%E5%85%B3%E8%81%94/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%9A%84%E5%85%B3%E8%81%94/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®åº“è¡¨çš„å…³è”"><a href="#æ•°æ®åº“è¡¨çš„å…³è”" class="headerlink" title="æ•°æ®åº“è¡¨çš„å…³è”"></a>æ•°æ®åº“è¡¨çš„å…³è”</h1><p>åç«¯ç³»ç»Ÿå¼€å‘ä¸­ï¼Œæ•°æ®åº“è®¾è®¡æ˜¯é‡ä¸­ä¹‹é‡ã€‚</p><p>ç‰¹åˆ«æ˜¯å‰åç«¯åˆ†ç¦»çš„ç³»ç»Ÿï¼Œåç«¯çš„èŒè´£åŸºæœ¬å°±æ˜¯æ•°æ®ç®¡ç†ï¼Œå¼€å‘çš„ä»£ç å‡ ä¹éƒ½æ˜¯å›´ç»•æ•°æ®æ“ä½œçš„ã€‚</p><p>ç›®å‰ä½¿ç”¨çš„æ•°æ®åº“ç³»ç»Ÿä¸»è¦è¿˜æ˜¯ <u>å…³ç³»å‹æ•°æ®åº“</u> ã€‚</p><p>ä»€ä¹ˆæ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Ÿå°±æ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šçš„æ•°æ®åº“ã€‚</p><p>æ¯”å¦‚mysqlã€oracleã€ sqlserverã€SQLite éƒ½æ˜¯å…³ç³»å‹æ•°æ®åº“ï¼Œè€Œ mongodbåˆ™ä¸æ˜¯ã€‚</p><p>ï¼ˆmongodbæ˜¯åŸºäºåˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨çš„æ•°æ®åº“ï¼‰</p><p>è€Œå…³ç³»å‹æ•°æ®åº“ï¼Œè®¾è®¡çš„ä¸€ä¸ªéš¾ç‚¹å°±æ˜¯ <strong>å„ç§è¡¨ä¹‹é—´çš„å…³è”å…³ç³»</strong> ã€‚</p><p>å¸¸è§çš„3ç§å…³è”å…³ç³»å°±æ˜¯ï¼š</p><ul><li>ä¸€å¯¹å¤š</li><li>ä¸€å¯¹ä¸€</li><li>å¤šå¯¹å¤š</li></ul><br><br><h2 id="ä¸€å¯¹å¤š"><a href="#ä¸€å¯¹å¤š" class="headerlink" title="ä¸€å¯¹å¤š"></a>ä¸€å¯¹å¤š</h2><p>è¡¨ä¹‹é—´ <u>ä¸€å¯¹å¤š</u> çš„å…³ç³»ï¼Œå°±æ˜¯ <u>å¤–é”®</u> å…³è”å…³ç³»</p><p>æ¯”å¦‚æˆ‘ä»¬ç³»ç»Ÿä¸­å·²ç»å®šä¹‰äº† <strong>å®¢æˆ·ï¼ˆCustomerï¼‰</strong>è¿™å¼ è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># å®¢æˆ·åç§°</span><br>    name = models.CharField(max_length=<span class="hljs-number">200</span>)<br><br>    <span class="hljs-comment"># è”ç³»ç”µè¯</span><br>    phonenumber = models.CharField(max_length=<span class="hljs-number">200</span>)<br><br>    <span class="hljs-comment"># åœ°å€</span><br>    address = models.CharField(max_length=<span class="hljs-number">200</span>)<br></code></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬è¿˜éœ€è¦å®šä¹‰ <strong>è¯å“ï¼ˆMedicineï¼‰</strong>è¿™å¼ è¡¨ï¼ŒåŒ…æ‹¬è¯å“åç§°ã€ç¼–å·å’Œæè¿°è¿™äº›ä¿¡æ¯ã€‚</p><p>è¿™ä¸ªä¹Ÿå¾ˆç®€å•ï¼Œæ·»åŠ å¦‚ä¸‹çš„ç±»å®šä¹‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Medicine</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># è¯å“å</span><br>    name = models.CharField(max_length=<span class="hljs-number">200</span>)<br>    <span class="hljs-comment"># è¯å“ç¼–å·</span><br>    sn = models.CharField(max_length=<span class="hljs-number">200</span>)<br>    <span class="hljs-comment"># æè¿°</span><br>    desc = models.CharField(max_length=<span class="hljs-number">200</span>)<br></code></pre></td></tr></table></figure><br><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦å®šä¹‰ <strong>è®¢å•ï¼ˆOrderï¼‰</strong>è¿™å¼ è¡¨ï¼Œè¿™ä¸ªOrderè¡¨åŒ…æ‹¬åˆ›å»ºæ—¥æœŸã€å®¢æˆ·ã€è¯å“ã€æ•°é‡ã€‚</p><p>å…¶ä¸­å®¢æˆ·å­—æ®µå¯¹åº”çš„å®¢æˆ· <strong>åªèƒ½æ˜¯ Customer</strong> ä¸­çš„æŸä¸ªå®¢æˆ·è®°å½•ï¼Œè€Œä¸€ä¸ªå®¢æˆ·è®°å½•å¯ä»¥å¯¹åº”å¤šæ¡è®¢å•è®°å½•ã€‚</p><p>è¿™å°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹å›¾ç‰‡è¡¨ç¤ºï¼š</p><p>ï¼ˆå®¢æˆ·â€”â€”Customerï¼›è®¢å•â€”â€”Orderï¼‰</p><img src="/images/image-20220204225409465.png" alt="image-20220204225409465" style="zoom:50%;"><p>åƒè¿™ç§ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæ•°æ®åº“ä¸­æ˜¯ç”¨ <strong>å¤–é”®</strong> æ¥è¡¨ç¤ºçš„ã€‚</p><p>å¦‚æœä¸€ä¸ªè¡¨ä¸­çš„æŸä¸ªå­—æ®µæ˜¯<strong>å¤–é”®</strong>ï¼Œé‚£å°±æ„å‘³ç€è¿™ä¸ªå¤–é”®å­—æ®µçš„è®°å½•çš„å–å€¼ï¼Œåªèƒ½æ˜¯å®ƒ<strong>å…³è”è¡¨çš„æŸä¸ªè®°å½•çš„ä¸»é”®</strong>çš„å€¼ã€‚</p><p>æˆ‘ä»¬å®šä¹‰è¡¨çš„ Modelç±»çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¸»é”®å­—æ®µï¼Œmigrate çš„æ—¶å€™ Django ä¼šä¸ºè¯¥Modelå¯¹åº”çš„æ•°æ®åº“è¡¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª <strong>id</strong> å­—æ®µï¼Œä½œä¸º<strong>ä¸»é”®</strong>ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¿™é‡Œï¼ŒCustomerã€Medicineè¡¨å‡æ²¡æœ‰ä¸»é”®ï¼Œä½†æ˜¯åœ¨migrateä¹‹åï¼ŒæŸ¥çœ‹æ•°æ®åº“è®°å½•å°±å¯ä»¥å‘ç°æœ‰ä¸€ä¸ªidå­—æ®µï¼Œä¸”è¯¥å­—æ®µæ˜¯ä¸»é”® (primary key)ã€‚</p><p>ç°åœ¨æˆ‘ä»¬è¦å®šä¹‰è®¢å•è¡¨ Orderï¼Œå…¶ä¸­å®¢æˆ·å­—æ®µå°±åº”è¯¥æ˜¯ä¸€ä¸ªå¤–é”®ï¼Œå¯¹åº”Customerè¡¨çš„ä¸»é”®ï¼Œä¹Ÿå°±æ˜¯idå­—æ®µ</p><p>Djangoä¸­å®šä¹‰å¤–é”®çš„æ–¹æ³•å°±æ˜¯ Model ç±»çš„è¯¥å±æ€§å­—æ®µå€¼ä¸º <strong>ForeignKey</strong> å¯¹è±¡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># è®¢å•å</span><br>    name = models.CharField(max_length=<span class="hljs-number">200</span>,null=<span class="hljs-literal">True</span>,blank=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-comment"># åˆ›å»ºæ—¥æœŸ</span><br>    create_date = models.DateTimeField(default=datetime.datetime.now)<br><br>    <span class="hljs-comment"># å®¢æˆ·</span><br>    customer = models.ForeignKey(Customer,on_delete=models.PROTECT)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ customer å­—æ®µæ˜¯å¤–é”®ï¼Œ æŒ‡å‘ Customer ç±»ã€‚ æ„æ€å°±æ˜¯å‘Šè¯‰Djangoï¼š Orderè¡¨çš„ customer å­—æ®µæ˜¯æŒ‡å‘ Customerè¡¨çš„ä¸»é”®çš„ä¸€ä¸ªå¤–é”®ã€‚</p><p>å¦å¤–ä¸€ä¸ªå‚æ•° <strong>on_delete</strong> æŒ‡å®šäº† å½“æˆ‘ä»¬æƒ³ <strong>åˆ é™¤</strong> å¤–é”®æŒ‡å‘çš„ä¸»é”®è®°å½•æ—¶ç³»ç»Ÿçš„è¡Œä¸ºã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¦åˆ é™¤å®¢æˆ·è®°å½•ï¼Œé‚£ä¹ˆ Order è¡¨ä¸­å¯¹åº”è¿™ä¸ªå®¢æˆ·çš„è®¢å•è®°å½•è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p><p>on_delete ä¸åŒå–å€¼å¯¹åº”ä¸åŒçš„åšæ³•ï¼Œå¸¸è§çš„åšæ³•å¦‚ä¸‹ï¼š</p><ul><li><p>CASCADE</p><p>çº§è”åˆ é™¤ä¸»é”®è®°å½•å’Œç›¸åº”çš„å¤–é”®è¡¨è®°å½•ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦åˆ é™¤å®¢æˆ·å¼ ä¸‰ï¼Œåœ¨åˆ é™¤äº†å®¢æˆ·è¡¨ä¸­å¼ ä¸‰è®°å½•åŒæ—¶ï¼Œä¹Ÿåˆ é™¤ Order è¡¨ä¸­æ‰€æœ‰è¿™ä¸ªå¼ ä¸‰çš„è®¢å•è®°å½•</p></li><li><p>PROTECT</p><p>ç¦æ­¢åˆ é™¤è®°å½•ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦åˆ é™¤å®¢æˆ·å¼ ä¸‰ï¼Œå¦‚æœOrderè¡¨ä¸­æœ‰å¼ ä¸‰çš„è®¢å•è®°å½•ï¼ŒDjangoç³»ç»Ÿå°±ä¼šæŠ›å‡ºProtectedErrorç±»å‹çš„å¼‚å¸¸ï¼Œå½“ç„¶ä¹Ÿå°±ç¦æ­¢åˆ é™¤å®¢æˆ·è®°å½•å’Œç›¸å…³çš„è®¢å•è®°å½•äº†ã€‚</p><p>é™¤éæˆ‘ä»¬å°†Orderè¡¨ä¸­æ‰€æœ‰å¼ ä¸‰çš„è®¢å•è®°å½•éƒ½å…ˆåˆ é™¤æ‰ï¼Œæ‰èƒ½åˆ é™¤è¯¥å®¢æˆ·è¡¨ä¸­çš„å¼ ä¸‰è®°å½•ã€‚</p></li><li><p>SET_NULL</p><p>åˆ é™¤ä¸»é”®è®°å½•ï¼Œå¹¶ä¸”å°†å¤–é”®è®°å½•ä¸­å¤–é”®å­—æ®µçš„å€¼ç½®ä¸ºnullã€‚ å½“ç„¶å‰ææ˜¯å¤–é”®å­—æ®µè¦è®¾ç½®ä¸ºå€¼å…è®¸æ˜¯nullã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦åˆ é™¤å®¢æˆ·å¼ ä¸‰æ—¶ï¼Œåœ¨åˆ é™¤äº†å®¢æˆ·å¼ ä¸‰è®°å½•åŒæ—¶ï¼Œä¼šå°†Orderè¡¨é‡Œé¢æ‰€æœ‰çš„ å¼ ä¸‰è®°å½•é‡Œé¢çš„customerå­—æ®µå€¼ç½®ä¸º nullã€‚ ä½†æ˜¯ä¸Šé¢æˆ‘ä»¬å¹¶æ²¡æœ‰è®¾ç½® customer å­—æ®µæœ‰ <code>null=True</code> çš„å‚æ•°è®¾ç½®ï¼Œæ‰€ä»¥ï¼Œæ˜¯ä¸èƒ½å–å€¼ä¸º SET_NULLçš„ã€‚</p></li></ul><br><p>æ³¨æ„ï¼š å¤–é”®å­—æ®µï¼Œåœ¨æ•°æ®åº“è¡¨ä¸­çš„å®é™…å­—æ®µåæ˜¯ Django ForeignKey å®šä¹‰å­—æ®µååŠ ä¸Š åç¼€ _id ã€‚</p><p>æ¯”å¦‚è¿™é‡Œï¼Œåœ¨æ‰§è¡Œäº† migrate å‘½ä»¤æ›´æ–°æ•°æ®åº“åï¼Œ customer è¿™ä¸ªå¤–é”®å­—æ®µå®é™…ä¸Šåœ¨æ•°æ®åº“è¡¨ä¸­çš„å­—æ®µåæ˜¯ customer_idã€‚</p><br><br><h2 id="ä¸€å¯¹ä¸€"><a href="#ä¸€å¯¹ä¸€" class="headerlink" title="ä¸€å¯¹ä¸€"></a>ä¸€å¯¹ä¸€</h2><p>å¤–é”®æ˜¯ ä¸€å¯¹å¤š çš„å…³ç³»ï¼Œ ä¹Ÿå¯ä»¥è¯´æ˜¯ å¤šå¯¹ä¸€ çš„å…³ç³»ã€‚</p><p>æœ‰çš„æ—¶å€™ï¼Œè¡¨ä¹‹é—´æ˜¯ <strong>ä¸€å¯¹ä¸€</strong> çš„å…³ç³»ã€‚</p><p>æ¯”å¦‚ï¼ŒæŸä¸ªå­¦æ ¡çš„å­¦ç”Ÿè¡¨å’Œå­¦ç”Ÿçš„åœ°å€è¡¨ï¼Œå°±å½¢æˆä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå³ä¸€æ¡ä¸»é”®æ‰€åœ¨è¡¨çš„è®°å½•åªèƒ½å¯¹åº”ä¸€æ¡å¤–é”®æ‰€åœ¨è¡¨çš„è®°å½•ã€‚</p><p>Django ä¸­ç”¨ <strong>OneToOneField</strong> å¯¹è±¡å®ç°ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># å§“å</span><br>    name = models.CharField(max_length=<span class="hljs-number">200</span>)<br>    <span class="hljs-comment"># ç­çº§</span><br>    classname = models.CharField(max_length=<span class="hljs-number">200</span>)<br>    <span class="hljs-comment"># æè¿°</span><br>    desc = models.CharField(max_length=<span class="hljs-number">200</span>)<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ContactAddress</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># ä¸€å¯¹ä¸€ å¯¹åº”å­¦ç”Ÿ </span><br>    student = models.OneToOneField(Student, on_delete=models.PROTECT)<br>    <span class="hljs-comment"># å®¶åº­</span><br>    homeaddress = models.CharField(max_length=<span class="hljs-number">200</span>)<br>    <span class="hljs-comment"># ç”µè¯å·ç </span><br>    phone = models.CharField(max_length=<span class="hljs-number">200</span>)<br></code></pre></td></tr></table></figure><p>å¯¹äºä¸€å¯¹ä¸€çš„å®šä¹‰ï¼ŒDjangoä¼šåœ¨migrateçš„æ—¶å€™ï¼Œåœ¨æ•°æ®åº“ä¸­å®šä¹‰è¯¥å­—æ®µä¸ºå¤–é”®çš„åŒæ—¶ï¼Œ åŠ ä¸Š <code>unique=True</code> çº¦æŸï¼Œè¡¨ç¤ºåœ¨æ­¤è¡¨ä¸­ï¼Œæ‰€æœ‰è®°å½•çš„è¯¥å­—æ®µå–å€¼å¿…é¡»å”¯ä¸€ï¼Œä¸èƒ½é‡å¤ã€‚</p><br><br><h2 id="å¤šå¯¹å¤š"><a href="#å¤šå¯¹å¤š" class="headerlink" title="å¤šå¯¹å¤š"></a>å¤šå¯¹å¤š</h2><p>æ•°æ®åº“è¡¨è¿˜æœ‰ä¸€ç§ <strong>å¤šå¯¹å¤š</strong> çš„å…³ç³»ã€‚</p><p>æ¯”å¦‚ä¸€ä¸ªè®¢å•å¯ä»¥é‡‡è´­å¤šç§è¯å“ï¼Œå°±å¯¹åº” Medicineè¡¨é‡Œé¢çš„å¤šç§è¯å“ï¼›è€Œä¸€ç§è¯å“ä¹Ÿå¯ä»¥è¢«å¤šä¸ªè®¢å•é‡‡è´­ï¼Œ é‚£ä¹ˆ Orderè¡¨å’Œ Medicineè¡¨ä¹‹é—´å°±å½¢æˆäº†å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p><p>Djangoæ˜¯é€šè¿‡ <strong>ManyToManyField</strong> å¯¹è±¡è¡¨ç¤ºå¤šå¯¹å¤šçš„å…³ç³»çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> datetime<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># è®¢å•å</span><br>    name = models.CharField(max_length=<span class="hljs-number">200</span>,null=<span class="hljs-literal">True</span>,blank=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-comment"># åˆ›å»ºæ—¥æœŸ</span><br>    create_date = models.DateTimeField(default=datetime.datetime.now)<br><br>    <span class="hljs-comment"># å®¢æˆ·</span><br>    customer = models.ForeignKey(Customer,on_delete=models.PROTECT)<br><br>    <span class="hljs-comment"># è®¢å•è´­ä¹°çš„è¯å“ï¼Œå’ŒMedicineè¡¨æ˜¯å¤šå¯¹å¤š çš„å…³ç³»</span><br>    medicines = models.ManyToManyField(Medicine, through=<span class="hljs-string">&#x27;OrderMedicine&#x27;</span>)<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderMedicine</span>(<span class="hljs-params">models.Model</span>):</span><br>    order = models.ForeignKey(Order, on_delete=models.PROTECT)<br>    medicine = models.ForeignKey(Medicine, on_delete=models.PROTECT)<br><br>    <span class="hljs-comment"># è®¢å•ä¸­è¯å“çš„æ•°é‡</span><br>    amount = models.PositiveIntegerField()<br></code></pre></td></tr></table></figure><p>åƒè¿™æ ·:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">medicines = models.ManyToManyField(Medicine, through=<span class="hljs-string">&#x27;OrderMedicine&#x27;</span>)<br></code></pre></td></tr></table></figure><p>æŒ‡å®š Orderè¡¨å’Œ Medicineè¡¨çš„å¤šå¯¹å¤šå…³ç³»ï¼Œå…¶å® Orderè¡¨ä¸­å¹¶ä¸ä¼šäº§ç”Ÿä¸€ä¸ª å« medicines çš„å­—æ®µã€‚</p><p>Orderè¡¨å’Œ Medicineè¡¨çš„å¤šå¯¹å¤šå…³ç³»æ˜¯ <strong>é€šè¿‡å¦å¤–ä¸€å¼ è¡¨</strong>ï¼Œä¹Ÿå°±æ˜¯ <strong>through</strong> å‚æ•°æŒ‡å®šçš„ OrderMedicine è¡¨æ¥ç¡®å®šçš„ã€‚ï¼ˆthroughæŒ‡å®šçš„è¡¨ä½œä¸ºæ¡¥æ¢ï¼‰</p><p>migrateçš„æ—¶å€™ï¼ŒDjangoä¼šè‡ªåŠ¨äº§ç”Ÿä¸€å¼ æ–°è¡¨ ï¼ˆè¿™é‡Œå°±æ˜¯ common_ordermedicineï¼‰æ¥å®ç° order è¡¨å’Œ medicine è¡¨ä¹‹é—´çš„å¤šå¯¹å¤šçš„å…³ç³»ã€‚</p><p>å¯ä»¥æ‰§è¡Œä¸‹é¢ä¸¤è¡Œå‘½ä»¤ migrate è¯•ä¸€ä¸‹</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> makemigrations common<br><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> migrate<br></code></pre></td></tr></table></figure><p>å°±ä¼šå‘ç°äº§ç”Ÿå¦‚ä¸‹çš„ä¸€å¼ æ–°è¡¨ common_ordermedicineï¼š</p><img src="/images/image-20220206155652200.png" alt="image-20220206155652200" style="zoom: 50%;"><p>å¯ä»¥å‘ç°è¿™å¼ è¡¨ä¸­æœ‰ order_id å’Œ medicine_id ä¸¤ä¸ªå­—æ®µã€‚</p><p>æ¯”å¦‚ä¸€ä¸ªorderè¡¨çš„è®¢å•id ä¸º 1ï¼Œ å¦‚æœè¯¥è®¢å•ä¸­å¯¹åº”çš„è¯å“æœ‰3ç§ï¼Œå®ƒä»¬çš„idåˆ†åˆ« ä¸º 3ï¼Œ4ï¼Œ5ã€‚ é‚£ä¹ˆå°±ä¼šæœ‰ç±»ä¼¼è¿™æ ·çš„è¿™æ ·3æ¡è®°å½•åœ¨ common_order_medicine è¡¨ä¸­ã€‚</p><img src="/images/image-20220206155728338.png" alt="image-20220206155728338" style="zoom:50%;">]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ•°æ®åº“æ“ä½œ</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C/</url>
    
    <content type="html"><![CDATA[<p>åç«¯å¼€å‘åŸºæœ¬éƒ½éœ€è¦æ“ä½œæ•°æ®ï¼ŒåŒ…æ‹¬æ•°æ®çš„å­˜å‚¨ã€æŸ¥è¯¢ã€ä¿®æ”¹ã€åˆ é™¤ã€‚</p><p>é€šå¸¸ï¼Œè¿™äº›éƒ½æ˜¯é€šè¿‡æ•°æ®åº“æ¥å®Œæˆçš„ã€‚ç›®å‰ä¸šç•Œæœ€å¹¿æ³›ä½¿ç”¨çš„æ•°æ®åº“è¿˜æ˜¯ï¼š<strong>å…³ç³»å‹</strong>æ•°æ®åº“ã€‚</p><p>å…³ç³»å‹æ•°æ®åº“ç³»ç»Ÿï¼Œå¸¸ç”¨çš„å¼€æºæ•°æ®åº“æœ‰ mysql å’Œ postgresqlã€‚</p><p>æˆ‘ä»¬å…ˆä½¿ç”¨å¦ä¸€ç§æ›´ç®€å•æ•°æ®åº“ï¼š <strong>sqlite</strong></p><p>sqlite æ²¡æœ‰ç‹¬ç«‹çš„æ•°æ®åº“æœåŠ¡è¿›ç¨‹ï¼Œæ•°æ®æ“ä½œè¢«åšæˆåº“ç›´æ¥ä¾›åº”ç”¨ç¨‹åºè°ƒç”¨ã€‚ Djangoä¸­å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œæ— é¡»å…ˆæ­å»ºæ•°æ®æœåŠ¡ã€‚</p><p>åˆ›å»ºçš„æ•´ä½“æµç¨‹ï¼šåˆ›å»ºæ•°æ®åº“â€”-&gt;å®šä¹‰æ•°æ®è¡¨â€”-&gt;åˆ›å»ºæ•°æ®è¡¨</p><br><h2 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h2><p>é¡¹ç›®ä¸­æ•°æ®åº“çš„é…ç½®åœ¨ bysms/settings.py ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">DATABASES = &#123;<br>    <span class="hljs-string">&#x27;default&#x27;</span>: &#123;<br>        <span class="hljs-string">&#x27;ENGINE&#x27;</span>: <span class="hljs-string">&#x27;django.db.backends.sqlite3&#x27;</span>,<br>        <span class="hljs-string">&#x27;NAME&#x27;</span>: os.path.join(BASE_DIR, <span class="hljs-string">&#x27;db.sqlite3&#x27;</span>),<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯è§é¡¹ç›®åˆå§‹é»˜è®¤çš„æ•°æ®åº“å°±æ˜¯sqliteã€‚</p><h5 id="åˆ›å»ºæ•°æ®åº“ï¼š"><a href="#åˆ›å»ºæ•°æ®åº“ï¼š" class="headerlink" title="åˆ›å»ºæ•°æ®åº“ï¼š"></a><strong>åˆ›å»ºæ•°æ®åº“ï¼š</strong></h5><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> migrate<br></code></pre></td></tr></table></figure><p>åˆ›å»ºæˆåŠŸåå¯ä»¥ç”¨ <strong>DBeaver</strong> è®¿é—®è¯¥æ•°æ®åº“ï¼ˆæ•°æ®åº“â€”-æ–°å»ºè¿æ¥â€”-db.sqlite3ï¼‰</p><p>æ­¤æ—¶å¯ä»¥å‘ç°è¯¥åº“ä¸­æœ‰äº›è¡¨å·²ç»åˆ›å»ºå¥½äº†ï¼Œè¿™äº›è¡¨éƒ½æ˜¯ Django ç¼ºçœè®¾ç½®ä¸­éœ€è¦çš„ä¸€äº›åŸºæœ¬è¡¨ã€‚</p><p>åŒ…æ‹¬: ç”¨æˆ·è¡¨ auth_userï¼Œ ç™»å½•ä¼šè¯è¡¨ django_session ç­‰ç­‰ã€‚</p><br><br><h2 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h2><p>Django é‡Œé¢ï¼Œæ•°æ®åº“è¡¨çš„æ“ä½œï¼ŒåŒ…æ‹¬è¡¨çš„<strong>å®šä¹‰</strong>ã€è¡¨ä¸­æ•°æ®çš„<strong>å¢åˆ æ”¹æŸ¥</strong>ï¼Œéƒ½å¯ä»¥é€šè¿‡ <strong>Model</strong> ç±»å‹çš„å¯¹è±¡è¿›è¡Œ</p><p>é€šå¸¸ï¼Œåœ¨Djangoä¸­ï¼š</p><ul><li>å®šä¹‰ä¸€å¼ æ•°æ®åº“çš„è¡¨å°±æ˜¯å®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª django.db.models.Model çš„ç±»</li><li>å®šä¹‰è¯¥è¡¨ä¸­çš„å­—æ®µï¼ˆåˆ—ï¼‰ï¼Œ å°±æ˜¯å®šä¹‰è¯¥ç±»é‡Œé¢çš„ä¸€äº›å±æ€§</li><li>ç±»çš„æ–¹æ³•å°±æ˜¯å¯¹è¯¥è¡¨ä¸­æ•°æ®çš„å¤„ç†æ–¹æ³•ï¼ŒåŒ…æ‹¬æ•°æ®çš„å¢åˆ æ”¹æŸ¥ </li></ul><p>è¿™æ ·ï¼Œå¼€å‘è€…å¯¹æ•°æ®åº“çš„è®¿é—®ï¼Œä»åŸæ¥çš„ä½¿ç”¨åº•å±‚çš„ sql è¯­å¥ï¼Œå˜æˆé¢å‘å¯¹è±¡çš„å¼€å‘ï¼Œé€šè¿‡ä¸€ç³»åˆ—å¯¹è±¡çš„ç±»å®šä¹‰ å’Œæ–¹æ³•è°ƒç”¨å°±å¯ä»¥æ“ä½œæ•°æ®åº“ã€‚</p><p>è¿™æ ·åšï¼š</p><ul><li><p>æå¤§çš„ç®€åŒ–äº†æˆ‘ä»¬åº”ç”¨ä¸­çš„æ•°æ®åº“å¼€å‘ï¼Œå› ä¸ºæ— éœ€ä½¿ç”¨sqlè¯­å¥æ“ä½œæ•°æ®åº“äº†ï¼Œ æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p></li><li><p>å±è”½äº†ä¸åŒçš„æ•°æ®åº“è®¿é—®çš„åº•å±‚ç»†èŠ‚ï¼ŒåŸºæœ¬åšåˆ°äº†å¼€å‘å¥½ä»£ç åï¼Œå¦‚æœè¦æ¢æ•°æ®åº“ï¼Œå‡ ä¹ä¸éœ€è¦æ”¹ä»£ç ï¼Œä¿®æ”¹å‡ ä¸ªé…ç½®é¡¹å°±å¯ä»¥äº†ã€‚</p></li></ul><p>è¿™ç§é€šè¿‡å¯¹è±¡æ“ä½œæ•°æ®åº“çš„æ–¹æ³•è¢«ç§°ä¹‹ä¸º ORM ï¼ˆobject relational mappingï¼‰ã€‚</p><br><br><h2 id="å®šä¹‰æ•°æ®åº“è¡¨"><a href="#å®šä¹‰æ•°æ®åº“è¡¨" class="headerlink" title="å®šä¹‰æ•°æ®åº“è¡¨"></a>å®šä¹‰æ•°æ®åº“è¡¨</h2><p>åˆ›å»ºä¸€ä¸ªåä¸ºcommonçš„åº”ç”¨ç›®å½•ï¼Œ é‡Œé¢å­˜æ”¾æˆ‘ä»¬é¡¹ç›®éœ€è¦çš„ä¸€äº›å…¬å…±çš„è¡¨çš„å®šä¹‰ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> startapp common <br></code></pre></td></tr></table></figure><p>å³å¯åˆ›å»ºä¸€ä¸ªç›®å½•åä¸º commonï¼Œ å¯¹åº”ä¸€ä¸ªåä¸º common çš„ appï¼Œé‡Œé¢åŒ…å«äº†å¦‚ä¸‹è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vim">common/<br>    __init__.<span class="hljs-keyword">py</span><br>    admin.<span class="hljs-keyword">py</span><br>    apps.<span class="hljs-keyword">py</span><br>    migrations/<br>        __init__.<span class="hljs-keyword">py</span><br>    models.<span class="hljs-keyword">py</span><br>    tests.<span class="hljs-keyword">py</span><br>    views.<span class="hljs-keyword">py</span><br></code></pre></td></tr></table></figure><p>Djangoæ˜¯é€šè¿‡å®šä¹‰ç±»æ¥å®šä¹‰æ•°æ®åº“è¡¨çš„ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦å®šä¹‰æ•°æ®åº“çš„è¡¨ï¼Œæ— éœ€æ‰§è¡Œsqlè¯­å¥ï¼Œåªéœ€è¦åœ¨appç›®å½•ä¸‹é¢å®šä¹‰ç‰¹æ®Šçš„ç±»å°±å¯ä»¥äº†ã€‚</p><p><strong>æ•°æ®åº“è¡¨çš„å®šä¹‰</strong>ï¼Œä¸€èˆ¬æ˜¯æ”¾åœ¨appç›®å½•ä¸­çš„ <strong>models.py</strong>é‡Œé¢çš„ã€‚</p><p>ï¼ˆ <strong>ç±»Class â€“ æ•°æ®åº“è¡¨ï¼Œæ¯æ¡æ•°æ®éƒ½æ˜¯ç±»çš„ä¸€ä¸ªå®ä¾‹</strong> ï¼‰</p><p>æ‰“å¼€ common/models.pyï¼Œå‘ç°é‡Œé¢æ˜¯ç©ºçš„ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å®šä¹‰æˆ‘ä»¬çš„ä¸šåŠ¡æ‰€éœ€è¦çš„è¡¨ã€‚</p><p>æˆ‘ä»¬ä¿®æ”¹å®ƒï¼ŒåŠ å…¥å¦‚ä¸‹å†…å®¹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-comment"># å®¢æˆ·åç§°</span><br>    name = models.CharField(max_length=<span class="hljs-number">200</span>)<br><br>    <span class="hljs-comment"># è”ç³»ç”µè¯</span><br>    phonenumber = models.CharField(max_length=<span class="hljs-number">200</span>)<br><br>    <span class="hljs-comment"># åœ°å€</span><br>    address = models.CharField(max_length=<span class="hljs-number">200</span>)<br></code></pre></td></tr></table></figure><p>è¿™ä¸ª Customer ç±»ç»§æ‰¿è‡ª django.db.models.Modelï¼Œ å°±æ˜¯ç”¨æ¥å®šä¹‰æ•°æ®åº“è¡¨çš„ã€‚</p><p>é‡Œé¢çš„ nameã€phonenumberã€address æ˜¯è¯¥è¡¨çš„3ä¸ªå­—æ®µã€‚</p><p>å®šä¹‰è¡¨ä¸­çš„å­—æ®µå°±æ˜¯å®šä¹‰ä¸€äº›é™æ€å±æ€§ï¼Œè¿™äº›å±æ€§æ˜¯ django.db.models é‡Œé¢çš„å„ç§ Field å¯¹è±¡ï¼Œå¯¹åº”ä¸åŒç±»å‹çš„å­—æ®µï¼Œæ¯”å¦‚è¿™é‡Œçš„3ä¸ªå­—æ®µéƒ½æ˜¯ CharField å¯¹è±¡ï¼Œå¯¹åº” varcharç±»å‹çš„æ•°æ®åº“å­—æ®µã€‚</p><p>åé¢çš„å‚æ•° <code>max_length</code> æŒ‡æ˜äº†è¯¥ varcharå­—æ®µçš„ æœ€å¤§é•¿åº¦ã€‚</p><p>Djanog æœ‰å¾ˆå¤šå­—æ®µå¯¹è±¡ç±»å‹ï¼Œ å¯¹åº”ä¸åŒçš„ç±»å‹çš„æ•°æ®åº“å­—æ®µã€‚ï¼ˆå‚è€ƒ<a href="https://docs.djangoproject.com/en/2.0/ref/models/fields/#model-field-types">å®˜æ–¹æ–‡æ¡£</a>ï¼‰</p><h5 id="æ³¨ï¼šæˆ‘ä»¬å®šä¹‰è¡¨çš„-Modelç±»çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¸»é”®å­—æ®µï¼Œmigrate-çš„æ—¶å€™-Django-ä¼šä¸ºè¯¥Modelå¯¹åº”çš„æ•°æ®-åº“è¡¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª-id-å­—æ®µï¼Œä½œä¸ºä¸»é”®ã€‚"><a href="#æ³¨ï¼šæˆ‘ä»¬å®šä¹‰è¡¨çš„-Modelç±»çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¸»é”®å­—æ®µï¼Œmigrate-çš„æ—¶å€™-Django-ä¼šä¸ºè¯¥Modelå¯¹åº”çš„æ•°æ®-åº“è¡¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª-id-å­—æ®µï¼Œä½œä¸ºä¸»é”®ã€‚" class="headerlink" title="æ³¨ï¼šæˆ‘ä»¬å®šä¹‰è¡¨çš„ Modelç±»çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¸»é”®å­—æ®µï¼Œmigrate çš„æ—¶å€™ Django ä¼šä¸ºè¯¥Modelå¯¹åº”çš„æ•°æ®        åº“è¡¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª id å­—æ®µï¼Œä½œä¸ºä¸»é”®ã€‚"></a>æ³¨ï¼šæˆ‘ä»¬å®šä¹‰è¡¨çš„ Modelç±»çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šä¸»é”®å­—æ®µï¼Œmigrate çš„æ—¶å€™ Django ä¼šä¸ºè¯¥Modelå¯¹åº”çš„æ•°æ®        åº“è¡¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª <strong>id</strong> å­—æ®µï¼Œä½œä¸º<strong>ä¸»é”®</strong>ã€‚</h5><br><br><h2 id="åˆ›å»ºæ•°æ®åº“è¡¨"><a href="#åˆ›å»ºæ•°æ®åº“è¡¨" class="headerlink" title="åˆ›å»ºæ•°æ®åº“è¡¨"></a>åˆ›å»ºæ•°æ®åº“è¡¨</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å‘Šè¯‰Djangoï¼š æˆ‘ä»¬çš„ common åº”ç”¨ä¸­éœ€è¦ä½ å…³æ³¨ï¼Œ å› ä¸ºå…¶ä¸­åŒ…å«äº†æ•°æ®åº“Modelçš„å®šä¹‰ã€‚</p><p>æ€ä¹ˆå‘Šè¯‰å®ƒï¼Ÿ åœ¨é¡¹ç›®çš„é…ç½®æ–‡ä»¶ <code>settings.py </code>ä¸­ï¼Œ <strong>INSTALLED_APPS</strong> é…ç½®é¡¹åŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">INSTALLED_APPS = [<br>    <span class="hljs-string">&#x27;django.contrib.admin&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.auth&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.contenttypes&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.staticfiles&#x27;</span>,<br><br>    <span class="hljs-comment"># åŠ å…¥ä¸‹é¢è¿™è¡Œ</span><br>    <span class="hljs-string">&#x27;common.apps.CommonConfig&#x27;</span>,<br>]<br></code></pre></td></tr></table></figure><p><strong>â€˜common.apps.CommonConfigâ€™</strong> å‘Šè¯‰ Django ï¼Œ CommonConfig æ˜¯ common/apps.py æ–‡ä»¶ä¸­å®šä¹‰çš„ä¸€ä¸ªåº”ç”¨é…ç½®çš„ç±»ã€‚</p><p>ç°åœ¨DjangoçŸ¥é“äº†æˆ‘ä»¬çš„ common åº”ç”¨ï¼Œ æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š</p><p>ï¼ˆ<strong>ä¿®æ”¹äº†è¡¨çš„å®šä¹‰ä¹‹åå°±è¦æ‰§è¡Œ</strong>ï¼‰</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> makemigrations common<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤å‘Šè¯‰Djangoï¼šå»çœ‹çœ‹commonè¿™ä¸ªappé‡Œé¢çš„models.py ï¼Œæˆ‘ä»¬å·²ç»<strong>ä¿®æ”¹äº†æ•°æ®å®šä¹‰</strong>ï¼Œ ä½ ç°åœ¨å»äº§ç”Ÿç›¸åº”çš„æ›´æ–°è„šæœ¬ã€‚</p><p>æ‰§è¡Œä¹‹åä¼šå‘ç°åœ¨ common\migrations ç›®å½•ä¸‹é¢å‡ºç°äº†0001_initial.py, è¿™ä¸ªè„šæœ¬å°±æ˜¯ç›¸åº”è¦è¿›è¡Œçš„æ•°æ®åº“æ“ä½œä»£ç ã€‚</p><p>éšå³ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">python manage.py migrate<br></code></pre></td></tr></table></figure><p>å°±çœŸæ­£å»æ•°æ®åº“åˆ›å»ºè¡¨äº†ï¼Œç”¨ DBeaver æŸ¥çœ‹æ•°æ®åº“ï¼Œå‘ç°åˆ›å»ºäº†ä¸€å¼ åä¸º common_customerçš„è¡¨ã€‚</p><p>ï¼ˆåˆ›å»ºçš„è¡¨ä¼šå¤šä¸€ä¸ª id å±æ€§ï¼Œå› ä¸ºæ²¡æœ‰æŒ‡å®šä¸»é”®ï¼Œæ–°å¢çš„ id é»˜è®¤ä½œä¸ºè¯¥è¡¨çš„ä¸»é”®ï¼‰</p><h4 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h4><p>å¦‚æœä»¥åæˆ‘ä»¬ä¿®æ”¹äº†models.py é‡Œé¢çš„æ•°æ®åº“è¡¨çš„å®šä¹‰ï¼Œéƒ½éœ€è¦å†æ¬¡è¿è¡Œ python manage.py makemigrations common å’Œ python manage.py migrate å‘½ä»¤ï¼Œä½¿æ•°æ®åº“åŒæ­¥ä¿®æ”¹ç»“æœã€‚</p><br><br><h2 id="Django-Admin-ç®¡ç†æ•°æ®"><a href="#Django-Admin-ç®¡ç†æ•°æ®" class="headerlink" title="Django Admin ç®¡ç†æ•°æ®"></a>Django Admin ç®¡ç†æ•°æ®</h2><p>Djangoæä¾›äº†ä¸€ä¸ªç®¡ç†å‘˜æ“ä½œç•Œé¢å¯ä»¥æ–¹ä¾¿çš„ æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ä½ å®šä¹‰çš„ model è¡¨æ•°æ®ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè¶…çº§ç®¡ç†å‘˜è´¦å·ã€‚</p><p>è¿›å…¥åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œä¾æ¬¡è¾“å…¥ä½ è¦åˆ›å»ºçš„ç®¡ç†å‘˜çš„ç™»å½•åã€emailã€å¯†ç ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs py">d:\projects\bysms&gt;python manage.py createsuperuser<br>Username (leave blank to use <span class="hljs-string">&#x27;byhy&#x27;</span>): byhy<br>Email address: byhy@<span class="hljs-number">163.</span>com<br>Password:<br>Password (again):<br>Superuser created successfully.<br></code></pre></td></tr></table></figure><p>æ³¨æ„å¯†ç è‡³å°‘8ä¸ªå­—ç¬¦ã€‚</p><p>ç„¶åæˆ‘ä»¬éœ€è¦ä¿®æ”¹åº”ç”¨é‡Œé¢çš„ç®¡ç†å‘˜é…ç½®æ–‡ä»¶ common/admin.pyï¼Œæ³¨å†Œæˆ‘ä»¬å®šä¹‰çš„modelç±»ã€‚è¿™æ ·Djangoæ‰ä¼šçŸ¥é“</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Customer<br><br>admin.site.register(Customer)<br></code></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç°åœ¨å°±å¯ä»¥è®¿é—® <code>http://127.0.0.1/admin/</code> ï¼Œè¾“å…¥åˆšæ‰æ³¨å†Œçš„ç”¨æˆ·å¯†ç ç™»å½•ã€‚</p><p>ç™»å½•åå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ã€‚è¿™é‡Œé¢æ˜¯ç›®å‰ç³»ç»Ÿä¸­å¯ä»¥ä¿®æ”¹çš„è¡¨ã€‚</p><br><br><h2 id="è¯»å–æ•°æ®åº“æ•°æ®"><a href="#è¯»å–æ•°æ®åº“æ•°æ®" class="headerlink" title="è¯»å–æ•°æ®åº“æ•°æ®"></a>è¯»å–æ•°æ®åº“æ•°æ®</h2><h3 id="è·å–å…¨éƒ¨è®°å½•"><a href="#è·å–å…¨éƒ¨è®°å½•" class="headerlink" title="è·å–å…¨éƒ¨è®°å½•"></a>è·å–å…¨éƒ¨è®°å½•</h3><p>ç°åœ¨æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªåŠŸèƒ½ï¼šæµè§ˆå™¨è®¿é—® <code>sales/customers/</code> ï¼Œæˆ‘ä»¬çš„æœåŠ¡ç«¯å°±è¿”å›ç³»ç»Ÿä¸­æ‰€æœ‰çš„å®¢æˆ·è®°å½•ç»™æµè§ˆå™¨ã€‚æˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å¤„ç†æµè§ˆå™¨å‘å‡º URL ä¸º <code>sales/customers/</code> çš„è®¿é—®è¯·æ±‚ï¼Œè¯¥è¯·æ±‚éœ€è¦è¿”å›æ•°æ®åº“ä¸­customer è¡¨çš„æ‰€æœ‰è®°å½•ã€‚</p><p>Django ä¸­å¯¹æ•°æ®åº“è¡¨çš„æ“ä½œï¼Œ åº”è¯¥éƒ½é€šè¿‡ Model å¯¹è±¡å®ç°å¯¹æ•°æ®çš„è¯»å†™ï¼Œè€Œä¸æ˜¯é€šè¿‡SQLè¯­å¥ï¼Œæ¯”å¦‚ï¼Œè¿™é‡Œæˆ‘ä»¬è¦è·å– customer è¡¨æ‰€æœ‰è®°å½•ï¼Œ è¯¥è¡¨æ˜¯æˆ‘ä»¬ä¹‹å‰å®šä¹‰çš„ Customer ç±»ç®¡ç†çš„ã€‚</p><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·è·å–æ‰€æœ‰çš„è¡¨è®°å½•:</p><p>åœ¨æ–‡ä»¶sales/views.py ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªlistcustomers å‡½æ•°ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¼å…¥ Customer å¯¹è±¡å®šä¹‰</span><br><span class="hljs-keyword">from</span> common.models <span class="hljs-keyword">import</span> Customer<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">listcustomers</span>(<span class="hljs-params">request</span>):</span><br>    <span class="hljs-comment"># è¿”å›ä¸€ä¸ª QuerySet å¯¹è±¡ ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡¨è®°å½•</span><br>    <span class="hljs-comment"># æ¯æ¡è¡¨è®°å½•éƒ½æ˜¯æ˜¯ä¸€ä¸ªdictå¯¹è±¡ï¼Œ</span><br>    <span class="hljs-comment"># key æ˜¯å­—æ®µåï¼Œvalue æ˜¯ å­—æ®µå€¼</span><br>    qs = Customer.objects.values()<br><br>    <span class="hljs-comment"># å®šä¹‰è¿”å›å­—ç¬¦ä¸²</span><br>    retStr = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-keyword">for</span> customer <span class="hljs-keyword">in</span>  qs:<br>        <span class="hljs-keyword">for</span> name,value <span class="hljs-keyword">in</span> customer.items():<br>            retStr += <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;name&#125;</span> : <span class="hljs-subst">&#123;value&#125;</span> | &#x27;</span><br><br>        <span class="hljs-comment"># &lt;br&gt; è¡¨ç¤ºæ¢è¡Œ</span><br>        retStr += <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span><br><br>    <span class="hljs-keyword">return</span> HttpResponse(retStr)<br></code></pre></td></tr></table></figure><p>Customer.objects.values() å°±ä¼šè¿”å›ä¸€ä¸ª <strong>QuerySet å¯¹è±¡</strong>ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯Django å®šä¹‰çš„ï¼Œåœ¨è¿™é‡Œå®ƒ<strong>åŒ…å«æ‰€æœ‰çš„Customer è¡¨è®°å½•</strong>ã€‚</p><p><strong>QuerySet å¯¹è±¡å¯ä»¥ä½¿ç”¨ for å¾ªç¯éå†å–å‡ºé‡Œé¢æ‰€æœ‰çš„å…ƒç´ ã€‚æ¯ä¸ªå…ƒç´ å¯¹åº”ä¸€æ¡è¡¨è®°å½•ã€‚</strong></p><p><strong>æ¯æ¡è¡¨è®°å½•å…ƒç´ éƒ½æ˜¯ä¸€ä¸ªdictå¯¹è±¡ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ çš„ key æ˜¯è¡¨å­—æ®µåï¼Œvalue æ˜¯è¯¥è®°å½•çš„å­—æ®µå€¼ã€‚</strong></p><p>ä¸Šé¢çš„ä»£ç å°±å¯ä»¥å°†æ¯æ¡è®°å½•çš„ä¿¡æ¯å­˜å‚¨åˆ°å­—ç¬¦ä¸²ä¸­è¿”å›ç»™å‰ç«¯æµè§ˆå™¨ã€‚</p><p>æˆ‘ä»¬è¿˜éœ€è¦ä¿®æ”¹è·¯ç”±è¡¨ï¼Œ åŠ ä¸Šå¯¹ <code>sales/customers/</code> urlè¯·æ±‚çš„è·¯ç”±ã€‚</p><p>ä¸»è·¯ç”±ï¼š<code>path(&#39;sales/&#39;, include(&#39;sales.urls&#39;)),</code></p><p>sales APPçš„è·¯ç”±ï¼š<code>path(&#39;customers/&#39;, views.listcustomers),</code></p><h5 id="å®ä¾‹è¿è¡Œï¼š"><a href="#å®ä¾‹è¿è¡Œï¼š" class="headerlink" title="å®ä¾‹è¿è¡Œï¼š"></a>å®ä¾‹è¿è¡Œï¼š</h5><p>åŸæ•°æ®åº“æ•°æ®ï¼š</p><img src="/images/image-20220128151207443.png" alt="image-20220128151207443" style="zoom: 50%;"><p>ç¨‹åºè¿è¡Œç»“æœï¼š</p><img src="/images/image-20220128151251096.png" alt="image-20220128151251096" style="zoom:50%;"><br><h3 id="è¿‡æ»¤æ¡ä»¶"><a href="#è¿‡æ»¤æ¡ä»¶" class="headerlink" title="è¿‡æ»¤æ¡ä»¶"></a>è¿‡æ»¤æ¡ä»¶</h3><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è¿‡æ»¤æ¡ä»¶æŸ¥è¯¢éƒ¨åˆ†å®¢æˆ·ä¿¡æ¯ã€‚</p><p>æ¯”å¦‚ï¼Œå½“ç”¨æˆ·åœ¨æµè§ˆå™¨è¾“å…¥ <code>/sales/customers/?phonenumber=123</code> ï¼Œè¦æ±‚è¿”å›ç”µè¯å·ç ä¸º 123 å®¢æˆ·è®°å½•ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ <strong>filter</strong> æ–¹æ³•åŠ å…¥è¿‡æ»¤æ¡ä»¶ï¼Œä¿®æ”¹viewé‡Œé¢çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>ï¼ˆå…ˆç”¨ <strong>request.GET.get</strong> è·å– url çš„å‚æ•°ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">listcustomers</span>(<span class="hljs-params">request</span>):</span><br>    <span class="hljs-comment"># è¿”å›ä¸€ä¸ª QuerySet å¯¹è±¡ ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡¨è®°å½•</span><br>    qs = Customer.objects.values()<br><br>    <span class="hljs-comment"># æ£€æŸ¥urlä¸­æ˜¯å¦æœ‰å‚æ•°phonenumberï¼Œç¼ºçœä¸ºNone</span><br>    ph =  request.GET.get(<span class="hljs-string">&#x27;phonenumber&#x27;</span>,<span class="hljs-literal">None</span>)<br><br>    <span class="hljs-comment"># å¦‚æœæœ‰ï¼Œæ·»åŠ è¿‡æ»¤æ¡ä»¶</span><br>    <span class="hljs-keyword">if</span> ph:<br>        qs = qs.<span class="hljs-built_in">filter</span>(phonenumber=ph)<br><br>    <span class="hljs-comment"># å®šä¹‰è¿”å›å­—ç¬¦ä¸²</span><br>    retStr = <span class="hljs-string">&#x27;&#x27;</span><br>    <span class="hljs-keyword">for</span> customer <span class="hljs-keyword">in</span>  qs:<br>        <span class="hljs-keyword">for</span> name,value <span class="hljs-keyword">in</span> customer.items():<br>            retStr += <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;name&#125;</span> : <span class="hljs-subst">&#123;value&#125;</span> | &#x27;</span><br>        <span class="hljs-comment"># &lt;br&gt; è¡¨ç¤ºæ¢è¡Œ</span><br>        retStr += <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span><br><br>    <span class="hljs-keyword">return</span> HttpResponse(retStr)<br></code></pre></td></tr></table></figure><p>Django æ¡†æ¶åœ¨ url è·¯ç”±åŒ¹é…åˆ°å‡½æ•°åï¼Œ è°ƒç”¨å‡½æ•°æ—¶ï¼Œä¼šä¼ å…¥ä¸€ä¸ª <strong>HttpRequest å¯¹è±¡</strong>ç»™å‚æ•°å˜é‡ <strong>request</strong>ï¼Œè¯¥å¯¹è±¡é‡Œé¢åŒ…å«äº†<strong>è¯·æ±‚çš„æ•°æ®ä¿¡æ¯</strong>ã€‚</p><h5 id="å®ä¾‹è¿è¡Œï¼š-1"><a href="#å®ä¾‹è¿è¡Œï¼š-1" class="headerlink" title="å®ä¾‹è¿è¡Œï¼š"></a>å®ä¾‹è¿è¡Œï¼š</h5><p>åŸæ•°æ®åº“æ•°æ®ï¼š</p><img src="/images/image-20220128151207443.png" alt="image-20220128151207443" style="zoom: 50%;"><p>ç¨‹åºè¿è¡Œç»“æœï¼š</p><img src="/images/image-20220128171646127.png" alt="image-20220128171646127" style="zoom:50%;"><img src="/images/image-20220128171703483.png" alt="image-20220128171703483" style="zoom:50%;"><br><p>HTTP çš„ Get è¯·æ±‚urlé‡Œé¢çš„å‚æ•°ï¼ˆæœ¯è¯­å« querystring é‡Œé¢çš„å‚æ•°ï¼‰ï¼Œ å¯ä»¥é€šè¿‡ HttpRequestå¯¹è±¡çš„ GET å±æ€§è·å–ã€‚è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼dictçš„å¯¹è±¡ã€‚æ¯”å¦‚è¦è·å–querystringé‡Œé¢çš„ phonenumber å‚æ•° ï¼Œå°±å¯ä»¥åƒè¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">ph =  request.GET.get(<span class="hljs-string">&#x27;phonenumber&#x27;</span>,<span class="hljs-literal">None</span>)<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ None è¡¨ç¤ºï¼Œå¦‚æœæ²¡æœ‰ phonenumber å‚æ•°åœ¨ querystringä¸­ ï¼Œå°±ä¼šè¿”å› Noneã€‚</p><p>ç„¶åé€šè¿‡è°ƒç”¨ QuerySet å¯¹è±¡çš„filteræ–¹æ³•ï¼Œå°±å¯ä»¥æŠŠæŸ¥è¯¢è¿‡æ»¤æ¡ä»¶åŠ ä¸Šå»:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">qs = qs.<span class="hljs-built_in">filter</span>(phonenumber=ph)<br></code></pre></td></tr></table></figure><p>æœ‰äº†è¿™ä¸ªè¿‡æ»¤æ¡ä»¶ï¼ŒDjango ä¼šåœ¨åº•å±‚æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢çš„SQLè¯­å¥ åŠ ä¸Šç›¸åº”çš„ where ä»å¥ï¼Œè¿›è¡Œè¿‡æ»¤æŸ¥è¯¢ã€‚</p><p>æ³¨æ„ï¼Œå‚æ•°å phonenumber æ˜¯å’Œå®šä¹‰çš„è¡¨ model çš„å±æ€§å phonenumber ä¸€è‡´çš„ã€‚</p><p>filterçš„è¿‡æ»¤æ¡ä»¶å¯ä»¥æœ‰å¤šä¸ªï¼Œåªè¦ç»§ç»­åœ¨åé¢çš„å‚æ•°æ·»åŠ è¿‡æ»¤æ¡ä»¶å³å¯:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">qs = qs.<span class="hljs-built_in">filter</span>(phonenumber=ph,address=<span class="hljs-string">&#x27;å®‰å¾½&#x27;</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥å¤„ç†</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%AF%B9%E8%B5%84%E6%BA%90%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%A4%84%E7%90%86/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%AF%B9%E8%B5%84%E6%BA%90%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h2 id="å¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥å¤„ç†"><a href="#å¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥å¤„ç†" class="headerlink" title="å¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥å¤„ç†"></a>å¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥å¤„ç†</h2><p>å‰é¢å·²ç»è¯´è¿‡å¦‚æœé‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„å¼€å‘ï¼Œ åç«¯å‡ ä¹ä¸è´Ÿè´£ä»»ä½•å±•ç°ç•Œé¢çš„å·¥ä½œï¼Œåªè´Ÿè´£ç®¡ç†æ•°æ®ã€‚</p><p>æ•°æ®çš„ç®¡ç†ä¸»è¦å°±æ˜¯ï¼šå“åº”å‰ç«¯çš„è¯·æ±‚ï¼Œ å¯¹æ•°æ®èµ„æºçš„ï¼š<strong>å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢ï¼ˆcurdï¼‰</strong> ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å°±ä»¥ BYSMS ç³»ç»Ÿä¸­ customer æ•°æ®ä¸ºä¾‹ï¼Œçœ‹çœ‹å¦‚ä½•è¿›è¡Œæ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚</p><p>ç°åœ¨æˆ‘ä»¬çš„ç³»ç»Ÿçš„APIæ¥å£å·²ç»ç”±æ¶æ„å¸ˆå®šä¹‰å¥½äº†ï¼Œ <a href="http://www.byhy.net/tut/webdev/django/doc_api_v1_0/">ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹</a>ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å°±æ ¹æ®è¿™ä¸ªæ¥å£æ–‡æ¡£ï¼Œæ¥å®ç°åç«¯ï¼Œå…¶ä¸­åŒ…æ‹¬äº†å®¢æˆ·æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ¥å£ã€‚</p><br><br><h2 id="åˆ›å»º-mgråº”ç”¨ç›®å½•"><a href="#åˆ›å»º-mgråº”ç”¨ç›®å½•" class="headerlink" title="åˆ›å»º mgråº”ç”¨ç›®å½•"></a>åˆ›å»º mgråº”ç”¨ç›®å½•</h2><p>æ¥å£æ–‡æ¡£æ˜ç¡®è¯´æ˜äº†ï¼Œè¿™æ˜¯é’ˆå¯¹ ç®¡ç†å‘˜ç”¨æˆ· çš„è¯·æ±‚ã€‚</p><p>å‰é¢æˆ‘ä»¬å·²ç»ä¸º é”€å”®å‘˜ç”¨æˆ· ä¸“é—¨åˆ›å»ºäº†ä¸€ä¸ªåº”ç”¨ sales æ¥å¤„ç†ç›¸å…³çš„è¯·æ±‚ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥å†ä¸º ç®¡ç†å‘˜ç”¨æˆ· ä¸“é—¨åˆ›å»ºä¸€ä¸ªåº”ç”¨ mgr æ¥å¤„ç†ç›¸å…³çš„è¯·æ±‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">python manage.py startapp mgr <br></code></pre></td></tr></table></figure><br><br><h2 id="æ·»åŠ å¤„ç†è¯·æ±‚æ¨¡å—-å’Œ-url-è·¯ç”±"><a href="#æ·»åŠ å¤„ç†è¯·æ±‚æ¨¡å—-å’Œ-url-è·¯ç”±" class="headerlink" title="æ·»åŠ å¤„ç†è¯·æ±‚æ¨¡å— å’Œ url è·¯ç”±"></a>æ·»åŠ å¤„ç†è¯·æ±‚æ¨¡å— å’Œ url è·¯ç”±</h2><p>å‰é¢ï¼Œæˆ‘ä»¬éƒ½æ˜¯åœ¨views.py é‡Œé¢å®šä¹‰å‡½æ•°ï¼Œå¤„ç† httpè¯·æ±‚çš„ã€‚</p><p>ä½†æ˜¯å¯ä»¥æƒ³è±¡ï¼Œ ä»¥åè¿™ä¸ªmgråº”ç”¨è¦å¤„ç†å¾ˆå¤šç±»å‹çš„httpè¯·æ±‚ã€‚</p><p>éƒ½ç”¨è¿™ä¸ªviews.py å°±ä¼šè®©è¿™ä¸ªæ–‡ä»¶éå¸¸çš„åºå¤§ï¼Œ ä¸å¥½ç»´æŠ¤ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„ py æ–‡ä»¶å¤„ç†ä¸åŒç±»å‹çš„httpè¯·æ±‚ã€‚æ¯”å¦‚ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æ–°å¢ä¸€ä¸ªæ–‡ä»¶ customer.pyï¼Œ ä¸“é—¨å¤„ç† å®¢æˆ·ç«¯å¯¹ customer æ•°æ®çš„æ“ä½œã€‚</p><p>å°†æ¥å¦‚æœå®¢æˆ·ç«¯æœ‰å¯¹å…¶ä»–ç±»å‹æ•°æ®çš„æ“ä½œï¼Œ æ¯”å¦‚ order æ•°æ®ï¼Œ æˆ‘ä»¬å°±å¯ä»¥æ·»åŠ  orders.py æ¥å¤„ç†ã€‚</p><br><p>ä»æ¥å£æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å¯¹èµ„æºçš„å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œ éƒ½æ˜¯<strong>åŒä¸€ä¸ªURL</strong>ï¼Œè€Œä¸”ä¸åŒçš„æ“ä½œè¯·æ±‚ä½¿ç”¨ä¸åŒçš„ HTTP è¯·æ±‚æ–¹æ³• ï¼Œæ¯”å¦‚<strong>æ·»åŠ æ˜¯POST</strong>ï¼Œ <strong>æŸ¥è¯¢æ˜¯GET</strong>ï¼Œ <strong>ä¿®æ”¹æ˜¯PUT</strong>ï¼Œ <strong>åˆ é™¤æ˜¯DELETE</strong>ã€‚</p><p>æ³¨æ„ï¼š</p><ul><li><p>Django çš„ url è·¯ç”±åŠŸèƒ½ <strong>ä¸æ”¯æŒ</strong> æ ¹æ® HTTP è¯·æ±‚çš„æ–¹æ³•å’Œè¯·æ±‚ä½“é‡Œé¢çš„å‚æ•°è¿›è¡Œè·¯ç”±ã€‚</p><p>å³ä¸æ”¯æŒ:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">path(<span class="hljs-string">&#x27;customers/&#x27;</span>, <span class="hljs-string">&#x27;app.views.list_customer&#x27;</span>, method=<span class="hljs-string">&#x27;get&#x27;</span>),<br>path(<span class="hljs-string">&#x27;customers/&#x27;</span>, <span class="hljs-string">&#x27;app.views.add_customer&#x27;</span>,  method=<span class="hljs-string">&#x27;post&#x27;</span>),<br></code></pre></td></tr></table></figure></li><li><p><strong>RESTé£æ ¼</strong>çš„URLåŸåˆ™ï¼šç”¨URLè¡¨ç¤ºèµ„æºï¼ŒHTTPæ–¹æ³•è¡¨ç¤ºæ“ä½œ</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript">åŸæ¥æ–¹å¼çš„URL restfulé£æ ¼URL<br>UserControllerUserController<br><br>path=<span class="hljs-string">&quot;/user/save&quot;</span>path=<span class="hljs-string">&quot;/user&quot;</span>postè¯·æ±‚<br><span class="hljs-function"><span class="hljs-title">save</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<span class="hljs-function"><span class="hljs-title">save</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><br>path=<span class="hljs-string">&quot;/user/update&quot;</span>path=<span class="hljs-string">&quot;/user&quot;</span>putè¯·æ±‚<br><span class="hljs-function"><span class="hljs-title">update</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<span class="hljs-function"><span class="hljs-title">update</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><br>path=<span class="hljs-string">&quot;/user/findById?id=xxx&quot;</span> path=<span class="hljs-string">&quot;/user/&#123;id&#125;&quot;</span>      getè¯·æ±‚<br><span class="hljs-function"><span class="hljs-title">findById</span>(<span class="hljs-params">Integer id</span>)</span>&#123;&#125;<span class="hljs-function"><span class="hljs-title">findById</span>(<span class="hljs-params">Integer id</span>)</span>&#123;&#125;<br><br>path=<span class="hljs-string">&quot;/user/findAll&quot;</span>path=<span class="hljs-string">&quot;/user&quot;</span>getè¯·æ±‚<br><span class="hljs-function"><span class="hljs-title">findAll</span>(<span class="hljs-params"></span>)</span>&#123;&#125;    <span class="hljs-function"><span class="hljs-title">findAll</span>(<span class="hljs-params"></span>)</span>&#123;&#125;<br><br>path=<span class="hljs-string">&quot;/user/delete?id=xxx&quot;</span>     path=<span class="hljs-string">&quot;/user/&#123;id&#125;&quot;</span>      <span class="hljs-keyword">delete</span>è¯·æ±‚<br><span class="hljs-function"><span class="hljs-title">delete</span>(<span class="hljs-params">Integer id</span>)</span>&#123;&#125;<span class="hljs-function"><span class="hljs-title">delete</span>(<span class="hljs-params">Integer id</span>)</span>&#123;&#125;<br><br></code></pre></td></tr></table></figure><br><h4 id="Solveï¼š"><a href="#Solveï¼š" class="headerlink" title="Solveï¼š"></a>Solveï¼š</h4><p>è‡ªå·±ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ ¹æ® http è¯·æ±‚çš„ç±»å‹å’Œè¯·æ±‚ä½“é‡Œé¢çš„å‚æ•°åˆ†å‘ï¼ˆæˆ–è€…è¯´è·¯ç”±ï¼‰ç»™ä¸åŒçš„å‡½æ•°è¿›è¡Œå¤„ç†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ customer.py ä¸­å®šä¹‰å¦‚ä¸‹ <strong>dispatcher</strong> å‡½æ•°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dispatcher</span>(<span class="hljs-params">request</span>):</span><br>    <span class="hljs-comment"># å°†è¯·æ±‚å‚æ•°ç»Ÿä¸€æ”¾å…¥request çš„ params å±æ€§ä¸­ï¼Œæ–¹ä¾¿åç»­å¤„ç†</span><br><br>    <span class="hljs-comment"># GETè¯·æ±‚ å‚æ•°åœ¨urlä¸­ï¼Œé€šè¿‡ request å¯¹è±¡çš„ GET å±æ€§è·å–</span><br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;GET&#x27;</span>:<br>        request.params = request.GET<br><br>    <span class="hljs-comment"># POST/PUT/DELETE è¯·æ±‚ å‚æ•° ä» request å¯¹è±¡çš„ body å±æ€§ä¸­è·å–</span><br>    <span class="hljs-keyword">elif</span> request.method <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;POST&#x27;</span>,<span class="hljs-string">&#x27;PUT&#x27;</span>,<span class="hljs-string">&#x27;DELETE&#x27;</span>]:<br>        <span class="hljs-comment"># æ ¹æ®æ¥å£ï¼ŒPOST/PUT/DELETE è¯·æ±‚çš„æ¶ˆæ¯ä½“éƒ½æ˜¯ jsonæ ¼å¼</span><br>        request.params = json.loads(request.body)<br><br><br>    <span class="hljs-comment"># æ ¹æ®ä¸åŒçš„actionåˆ†æ´¾ç»™ä¸åŒçš„å‡½æ•°è¿›è¡Œå¤„ç†</span><br>    action = request.params[<span class="hljs-string">&#x27;action&#x27;</span>]<br>    <span class="hljs-keyword">if</span> action == <span class="hljs-string">&#x27;list_customer&#x27;</span>:<br>        <span class="hljs-keyword">return</span> listcustomers(request)<br>    <span class="hljs-keyword">elif</span> action == <span class="hljs-string">&#x27;add_customer&#x27;</span>:<br>        <span class="hljs-keyword">return</span> addcustomer(request)<br>    <span class="hljs-keyword">elif</span> action == <span class="hljs-string">&#x27;modify_customer&#x27;</span>:<br>        <span class="hljs-keyword">return</span> modifycustomer(request)<br>    <span class="hljs-keyword">elif</span> action == <span class="hljs-string">&#x27;del_customer&#x27;</span>:<br>        <span class="hljs-keyword">return</span> deletecustomer(request)<br><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">&#x27;ä¸æ”¯æŒè¯¥ç±»å‹httpè¯·æ±‚&#x27;</span>&#125;)<br></code></pre></td></tr></table></figure><p>è¯¥å‡½æ•°æŠŠè¯·æ±‚æ¶ˆæ¯ä¸­çš„å‚æ•°ç»Ÿä¸€æ”¾å…¥åˆ° request è¯·æ±‚å¯¹è±¡çš„ params å±æ€§ä¸­ã€‚</p><p>params å±æ€§è¢«åšæˆä¸€ä¸ª<strong>å­—å…¸</strong>ç±»å‹ ï¼Œ æ–¹ä¾¿åé¢çš„å¤„ç†å‡½æ•°æ¥è·å–æ¶ˆæ¯ä¸­çš„å‚æ•°ã€‚</p><p>ç„¶å <strong>dispatch å‡½æ•°å†æ ¹æ®è¯·æ±‚çš„ç±»å‹å’Œ action å‚æ•°çš„å€¼å†³å®šç”±é‚£ä¸ªå‡½æ•°å…·ä½“å¤„ç†è¯¥è¯·æ±‚æ¶ˆæ¯</strong>ã€‚</p><p>æ¯”å¦‚ action å‚æ•°ä¸º â€˜add_customerâ€™ çš„è¯·æ±‚å°±ç”± addcustomer å‡½æ•°è¿›è¡Œå¤„ç†ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæ ¹æ® API æ¥å£ ï¼Œå‡¡æ˜¯ API è¯·æ±‚urlä¸º <code>/api/mgr/customers</code> çš„ï¼Œéƒ½å±äºå®¢æˆ·ç›¸å…³çš„APIï¼Œ éƒ½åº”è¯¥äº¤ç”±æˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„dispatchå‡½æ•°è¿›è¡Œåˆ†æ´¾å¤„ç†ã€‚</p><ul><li>åœ¨æ€»è·¯ç”±æ–‡ä»¶ <code>bysms/urls.py</code> ä¸­å®šä¹‰äº†å¦‚ä¸‹éƒ¨åˆ†ï¼š</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å‡¡æ˜¯ url ä»¥ api/mgr  å¼€å¤´çš„ï¼Œ</span><br><span class="hljs-comment"># éƒ½æ ¹æ® mgr.urls é‡Œé¢çš„ å­è·¯ç”±è¡¨è¿›è¡Œè·¯ç”±</span><br>path(<span class="hljs-string">&#x27;api/mgr/&#x27;</span>, include(<span class="hljs-string">&#x27;mgr.urls&#x27;</span>)),<br></code></pre></td></tr></table></figure><ul><li>åœ¨ mgr ç›®å½•ä¸‹é¢æ·»åŠ  urls.py è·¯ç”±æ–‡ä»¶ï¼Œ å¹¶åŠ å…¥å¦‚ä¸‹å£°æ˜ï¼š</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-keyword">from</span> mgr <span class="hljs-keyword">import</span> customer<br><br>urlpatterns = [<br><br>    path(<span class="hljs-string">&#x27;customers&#x27;</span>, customer.dispatcher),<br>]<br></code></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œ<strong>å‡¡æ˜¯ API è¯·æ±‚urlä¸º /api/mgr/customers çš„ï¼Œéƒ½äº¤ç”±æˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„dispatchå‡½æ•°è¿›è¡Œåˆ†æ´¾å¤„ç†ã€‚</strong></p><br><br><h2 id="åˆ—å‡ºå®¢æˆ·"><a href="#åˆ—å‡ºå®¢æˆ·" class="headerlink" title="åˆ—å‡ºå®¢æˆ·"></a>åˆ—å‡ºå®¢æˆ·</h2><p>é€šå¸¸æ•°æ®èµ„æºçš„å¢åˆ æ”¹æŸ¥é‡Œé¢çš„æŸ¥å°±æ˜¯æŸ¥çœ‹ï¼Œå¯¹åº”çš„å°±æ˜¯åˆ—å‡ºæ•°æ®èµ„æºã€‚</p><p>æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œåˆ—å‡ºå®¢æˆ·æ•°æ®æ¥å£ï¼Œåç«¯è¿”å›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;ret&quot;</span>: <span class="hljs-number">0</span>,<br>    <span class="hljs-attr">&quot;retlist&quot;</span>: [<br>        &#123;<br>            <span class="hljs-attr">&quot;address&quot;</span>: <span class="hljs-string">&quot;æ±Ÿè‹çœå¸¸å·æ­¦è¿›å¸‚ç™½äº‘è¡—44å·&quot;</span>,<br>            <span class="hljs-attr">&quot;id&quot;</span>: <span class="hljs-number">1</span>,<br>            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;æ­¦è¿›å¸‚ è¢è…¾é£&quot;</span>,<br>            <span class="hljs-attr">&quot;phonenumber&quot;</span>: <span class="hljs-string">&quot;13886666666&quot;</span><br>        &#125;,<br>        <br>        &#123;<br>            <span class="hljs-attr">&quot;address&quot;</span>: <span class="hljs-string">&quot;åŒ—äº¬æµ·æ·€åŒº&quot;</span>,<br>            <span class="hljs-attr">&quot;id&quot;</span>: <span class="hljs-number">4</span>,<br>            <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;åŒ—äº¬æµ·æ·€åŒºä»£ç† è”¡å›½åº†&quot;</span>,<br>            <span class="hljs-attr">&quot;phonenumber&quot;</span>: <span class="hljs-string">&quot;13990123456&quot;</span><br>        &#125;<br>    ]              <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬æ— éœ€å°†æ•°æ®åº“ä¸­è·å–çš„æ•°æ®è½¬åŒ–ä¸ºä¾›æµè§ˆå™¨å±•ç¤ºçš„HTMLã€‚</p><p>åœ¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¶æ„ä¸­ï¼Œå¦‚ä½•å±•ç¤ºæ•°æ®æ˜¯å‰ç«¯çš„äº‹æƒ…ï¼Œæˆ‘ä»¬åç«¯åªéœ€è¦æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œ è¿”å›åŸå§‹æ•°æ®å°±è¡Œã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‡½æ•°æ¥è¿”å›æ•°æ®åº“çš„æ‰€æœ‰çš„å®¢æˆ·æ•°æ®ä¿¡æ¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> common.models <span class="hljs-keyword">import</span> Customer<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">listcustomers</span>(<span class="hljs-params">request</span>):</span><br>    <span class="hljs-comment"># è¿”å›ä¸€ä¸ª QuerySet å¯¹è±¡ ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡¨è®°å½•</span><br>    qs = Customer.objects.values()<br><br>    <span class="hljs-comment"># å°† QuerySet å¯¹è±¡ è½¬åŒ–ä¸º list ç±»å‹</span><br>    <span class="hljs-comment"># å¦åˆ™ä¸èƒ½ è¢« è½¬åŒ–ä¸º JSON å­—ç¬¦ä¸²</span><br>    retlist = <span class="hljs-built_in">list</span>(qs)<br><br>    <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;retlist&#x27;</span>: retlist&#125;)<br></code></pre></td></tr></table></figure><br><br><h2 id="ä¸´æ—¶å–æ¶ˆ-CSRF-æ ¡éªŒ"><a href="#ä¸´æ—¶å–æ¶ˆ-CSRF-æ ¡éªŒ" class="headerlink" title="ä¸´æ—¶å–æ¶ˆ CSRF æ ¡éªŒ"></a>ä¸´æ—¶å–æ¶ˆ CSRF æ ¡éªŒ</h2><p>ç¼ºçœåˆ›å»ºçš„é¡¹ç›®ï¼Œ Django ä¼šå¯ç”¨ä¸€ä¸ª <strong>CSRF ï¼ˆè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼‰ å®‰å…¨é˜²æŠ¤æœºåˆ¶</strong>ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ æ‰€æœ‰çš„ <strong>POSTã€PUT</strong> ç±»å‹çš„è¯·æ±‚éƒ½å¿…é¡»åœ¨HTTPè¯·æ±‚å¤´ä¸­æºå¸¦ç”¨äºæ ¡éªŒçš„æ•°æ®ã€‚</p><p>ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬å…ˆä¸´æ—¶å–æ¶ˆæ‰CSRFçš„æ ¡éªŒæœºåˆ¶ï¼Œç­‰ä»¥åæœ‰éœ€è¦å†æ‰“å¼€ã€‚</p><p>è¦ä¸´æ—¶å–æ¶ˆæ‰CSRFçš„ æ ¡éªŒæœºåˆ¶ï¼Œéå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨é¡¹ç›®çš„é…ç½®æ–‡ä»¶ <code>bysms/settings.py</code> ä¸­ <code>MIDDLEWARE</code> é…ç½®é¡¹é‡Œæ³¨é‡Šæ‰ â€˜django.middleware.csrf.CsrfViewMiddlewareâ€™ å³å¯ã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">MIDDLEWARE = [<br>    <span class="hljs-string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,<br>    <span class="hljs-comment"># &#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;,</span><br>    <span class="hljs-string">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,<br>]<br></code></pre></td></tr></table></figure><br><br><h2 id="æ·»åŠ å®¢æˆ·"><a href="#æ·»åŠ å®¢æˆ·" class="headerlink" title="æ·»åŠ å®¢æˆ·"></a>æ·»åŠ å®¢æˆ·</h2><p>é€šå¸¸æ•°æ®èµ„æºçš„ å¢æŸ¥æ”¹åˆ  é‡Œé¢çš„ å¢ å°±æ˜¯ æ·»åŠ ï¼Œå¯¹åº”çš„å°±æ˜¯æ·»åŠ æ•°æ®èµ„æºã€‚</p><p>æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œæ·»åŠ å®¢æˆ·æ•°æ®æ¥å£ï¼Œå‰ç«¯æä¾›çš„å®¢æˆ·æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;action&quot;</span>:<span class="hljs-string">&quot;add_customer&quot;</span>,<br>    <span class="hljs-attr">&quot;data&quot;</span>:&#123;<br>        <span class="hljs-attr">&quot;name&quot;</span>:<span class="hljs-string">&quot;æ­¦æ±‰å¸‚æ¡¥è¥¿åŒ»é™¢&quot;</span>,<br>        <span class="hljs-attr">&quot;phonenumber&quot;</span>:<span class="hljs-string">&quot;13345679934&quot;</span>,<br>        <span class="hljs-attr">&quot;address&quot;</span>:<span class="hljs-string">&quot;æ­¦æ±‰å¸‚æ¡¥è¥¿åŒ»é™¢åŒ—è·¯&quot;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‡½æ•°æ¥å¤„ç†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">addcustomer</span>(<span class="hljs-params">request</span>):</span><br><br>    info = request.params[<span class="hljs-string">&#x27;data&#x27;</span>]<br><br>    <span class="hljs-comment"># ä»è¯·æ±‚æ¶ˆæ¯ä¸­ è·å–è¦æ·»åŠ å®¢æˆ·çš„ä¿¡æ¯</span><br>    <span class="hljs-comment"># å¹¶ä¸”æ’å…¥åˆ°æ•°æ®åº“ä¸­</span><br>    <span class="hljs-comment"># è¿”å›å€¼ å°±æ˜¯å¯¹åº”æ’å…¥è®°å½•çš„å¯¹è±¡ </span><br>    record = Customer.objects.create(name=info[<span class="hljs-string">&#x27;name&#x27;</span>] ,<br>                            phonenumber=info[<span class="hljs-string">&#x27;phonenumber&#x27;</span>] ,<br>                            address=info[<span class="hljs-string">&#x27;address&#x27;</span>])<br><br><br>    <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;id&#x27;</span>:record.<span class="hljs-built_in">id</span>&#125;)<br></code></pre></td></tr></table></figure><p><code>Customer.objects.create</code> æ–¹æ³•å°±å¯ä»¥æ·»åŠ ä¸€æ¡Customerè¡¨é‡Œé¢çš„è®°å½•ã€‚</p><br><br><h2 id="ä¿®æ”¹å®¢æˆ·ä¿¡æ¯"><a href="#ä¿®æ”¹å®¢æˆ·ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹å®¢æˆ·ä¿¡æ¯"></a>ä¿®æ”¹å®¢æˆ·ä¿¡æ¯</h2><p>æ•°æ®èµ„æºçš„ å¢æŸ¥æ”¹åˆ  é‡Œé¢çš„æ”¹å°±æ˜¯æ”¹åŠ¨ï¼Œå¯¹åº”çš„å°±æ˜¯ä¿®æ”¹æ•°æ®èµ„æºã€‚</p><p>æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œä¿®æ”¹å®¢æˆ·æ•°æ®æ¥å£ï¼Œå‰ç«¯æä¾›çš„æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;action&quot;</span>:<span class="hljs-string">&quot;modify_customer&quot;</span>,<br>    <span class="hljs-attr">&quot;id&quot;</span>: <span class="hljs-number">6</span>,<br>    <span class="hljs-attr">&quot;newdata&quot;</span>:&#123;<br>        <span class="hljs-attr">&quot;name&quot;</span>:<span class="hljs-string">&quot;æ­¦æ±‰å¸‚æ¡¥åŒ—åŒ»é™¢&quot;</span>,<br>        <span class="hljs-attr">&quot;phonenumber&quot;</span>:<span class="hljs-string">&quot;13345678888&quot;</span>,<br>        <span class="hljs-attr">&quot;address&quot;</span>:<span class="hljs-string">&quot;æ­¦æ±‰å¸‚æ¡¥åŒ—åŒ»é™¢åŒ—è·¯&quot;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‡½æ•°æ¥å¤„ç†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">modifycustomer</span>(<span class="hljs-params">request</span>):</span><br><br>    <span class="hljs-comment"># ä»è¯·æ±‚æ¶ˆæ¯ä¸­ è·å–ä¿®æ”¹å®¢æˆ·çš„ä¿¡æ¯</span><br>    <span class="hljs-comment"># æ‰¾åˆ°è¯¥å®¢æˆ·ï¼Œå¹¶ä¸”è¿›è¡Œä¿®æ”¹æ“ä½œ</span><br>    <br>    customerid = request.params[<span class="hljs-string">&#x27;id&#x27;</span>]<br>    newdata    = request.params[<span class="hljs-string">&#x27;newdata&#x27;</span>]<br><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-comment"># æ ¹æ® id ä»æ•°æ®åº“ä¸­æ‰¾åˆ°ç›¸åº”çš„å®¢æˆ·è®°å½•</span><br>        customer = Customer.objects.get(<span class="hljs-built_in">id</span>=customerid)<br>    <span class="hljs-keyword">except</span> Customer.DoesNotExist:<br>        <span class="hljs-keyword">return</span>  &#123;<br>                <span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">1</span>,<br>                <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">f&#x27;id ä¸º`<span class="hljs-subst">&#123;customerid&#125;</span>`çš„å®¢æˆ·ä¸å­˜åœ¨&#x27;</span><br>        &#125;<br><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;name&#x27;</span> <span class="hljs-keyword">in</span>  newdata:<br>        customer.name = newdata[<span class="hljs-string">&#x27;name&#x27;</span>]<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;phonenumber&#x27;</span> <span class="hljs-keyword">in</span>  newdata:<br>        customer.phonenumber = newdata[<span class="hljs-string">&#x27;phonenumber&#x27;</span>]<br>    <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;address&#x27;</span> <span class="hljs-keyword">in</span>  newdata:<br>        customer.address = newdata[<span class="hljs-string">&#x27;address&#x27;</span>]<br><br>    <span class="hljs-comment"># æ³¨æ„ï¼Œä¸€å®šè¦æ‰§è¡Œsaveæ‰èƒ½å°†ä¿®æ”¹ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“</span><br>    customer.save()<br><br>    <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br></code></pre></td></tr></table></figure><br><br><h2 id="åˆ é™¤å®¢æˆ·"><a href="#åˆ é™¤å®¢æˆ·" class="headerlink" title="åˆ é™¤å®¢æˆ·"></a>åˆ é™¤å®¢æˆ·</h2><p>æ•°æ®èµ„æºçš„ å¢æŸ¥æ”¹åˆ  é‡Œé¢çš„ <strong>åˆ </strong> å°±æ˜¯ åˆ é™¤ï¼Œå¯¹åº”çš„å°±æ˜¯åˆ é™¤æ•°æ®èµ„æºã€‚</p><p>æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œåˆ é™¤å®¢æˆ·æ•°æ®æ¥å£ï¼Œå‰ç«¯åªéœ€è¦æä¾›è¦åˆ é™¤çš„å®¢æˆ·çš„IDï¼Œæ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">&quot;action&quot;</span>:<span class="hljs-string">&quot;del_customer&quot;</span>,<br>    <span class="hljs-attr">&quot;id&quot;</span>: <span class="hljs-number">6</span><br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„å‡½æ•°æ¥å¤„ç†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deletecustomer</span>(<span class="hljs-params">request</span>):</span><br><br>    customerid = request.params[<span class="hljs-string">&#x27;id&#x27;</span>]<br><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-comment"># æ ¹æ® id ä»æ•°æ®åº“ä¸­æ‰¾åˆ°ç›¸åº”çš„å®¢æˆ·è®°å½•</span><br>        customer = Customer.objects.get(<span class="hljs-built_in">id</span>=customerid)<br>    <span class="hljs-keyword">except</span> Customer.DoesNotExist:<br>        <span class="hljs-keyword">return</span>  &#123;<br>                <span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">1</span>,<br>                <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">f&#x27;id ä¸º`<span class="hljs-subst">&#123;customerid&#125;</span>`çš„å®¢æˆ·ä¸å­˜åœ¨&#x27;</span><br>        &#125;<br><br>    <span class="hljs-comment"># delete æ–¹æ³•å°±å°†è¯¥è®°å½•ä»æ•°æ®åº“ä¸­åˆ é™¤äº†</span><br>    customer.delete()<br><br>    <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br></code></pre></td></tr></table></figure><br><br><h2 id="æµ‹è¯•åç«¯ä»£ç "><a href="#æµ‹è¯•åç«¯ä»£ç " class="headerlink" title="æµ‹è¯•åç«¯ä»£ç "></a>æµ‹è¯•åç«¯ä»£ç </h2><h5 id="Postmanâ€”â€”æ¥å£æµ‹è¯•å·¥å…·"><a href="#Postmanâ€”â€”æ¥å£æµ‹è¯•å·¥å…·" class="headerlink" title="Postmanâ€”â€”æ¥å£æµ‹è¯•å·¥å…·"></a>Postmanâ€”â€”æ¥å£æµ‹è¯•å·¥å…·</h5><p>åœ¨åšæ¥å£æµ‹è¯•çš„æ—¶å€™ï¼ŒPostmanç›¸å½“äºä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå®ƒå¯ä»¥æ¨¡æ‹Ÿç”¨æˆ·å‘èµ·çš„å„ç±»HTTPè¯·æ±‚ï¼Œå°†è¯·æ±‚æ•°æ®å‘é€è‡³æœåŠ¡ç«¯ï¼Œè·å–å¯¹åº”çš„å“åº”ç»“æœï¼Œä»è€ŒéªŒè¯å“åº”ä¸­çš„ç»“æœæ•°æ®æ˜¯å¦å’Œé¢„æœŸå€¼ç›¸åŒ¹é…ã€‚</p><br><p>æµ‹è¯•ç»“æœï¼šï¼ˆæŸ¥è¯¢å®¢æˆ·ï¼‰</p><img src="/images/image-20220201233836462.png" alt="image-20220201233836462" style="zoom:50%;">]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å®ç°ç™»å½•</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95/</url>
    
    <content type="html"><![CDATA[<h1 id="å®ç°ç™»å½•"><a href="#å®ç°ç™»å½•" class="headerlink" title="å®ç°ç™»å½•"></a>å®ç°ç™»å½•</h1><p>å‰é¢æˆ‘ä»¬å®ç°äº†æœåŠ¡ç«¯ç®¡ç†å‘˜çš„ä¸€äº›å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œç°åœ¨æˆ‘ä»¬æ ¹æ®APIæ¥å£æ–‡æ¡£æ¥å®ç° <strong>ç®¡ç†å‘˜ç™»å½•</strong> åŠŸèƒ½ã€‚</p><p>APIæ¥å£æ–‡æ¡£å†…å®¹å¦‚ä¸‹ï¼š</p><img src="/images/image-20220203114659012.png" alt="image-20220203114659012" style="zoom: 40%;"><img src="/images/image-20220203114734710.png" alt="image-20220203114734710" style="zoom:40%;"><img src="/images/image-20220203114757585.png" alt="image-20220203114757585" style="zoom:40%;"><br><br><h2 id="å¤„ç†ç™»å½•ã€ç™»å‡ºè¯·æ±‚"><a href="#å¤„ç†ç™»å½•ã€ç™»å‡ºè¯·æ±‚" class="headerlink" title="å¤„ç†ç™»å½•ã€ç™»å‡ºè¯·æ±‚"></a>å¤„ç†ç™»å½•ã€ç™»å‡ºè¯·æ±‚</h2><p>æˆ‘ä»¬å¯ä»¥åœ¨mgrç›®å½•é‡Œé¢åˆ›å»ºä¸€ä¸ªä»£ç æ–‡ä»¶ <code>sign_in_out.py</code>ï¼Œç”¨æ¥å¤„ç† <strong>ç®¡ç†å‘˜ç™»å½•å’Œç™»å‡º</strong> çš„APIè¯·æ±‚ã€‚</p><p>å¦‚ä½•å¤„ç†ç™»å½•è¯·æ±‚å‘¢ï¼Œæ— éå°±æŠŠè¯·æ±‚å‚æ•°é‡Œé¢çš„ç”¨æˆ·åã€å¯†ç å–å‡ºæ¥ï¼Œ å’Œæ•°æ®åº“ä¸­è®°å½•çš„ç”¨æˆ·åå¯†ç è¿›è¡Œæ¯”å¯¹ã€‚</p><p>å¦‚æœå’Œæ•°æ®åº“ä¸­è®°å½•çš„ä¸€è‡´å°±è®¤ä¸ºæ˜¯è®¤è¯é€šè¿‡ï¼Œå¦åˆ™å°±æ˜¯ä¸é€šè¿‡ã€‚</p><br><p>Djangoä¸­æœ‰ä¸ªå†…ç½®app åä¸º <code>django.contrib.auth</code> ï¼Œç¼ºçœåŒ…å«åœ¨é¡¹ç›®Installed Appï¼ˆé…ç½®æ–‡ä»¶é‡Œçš„settings.pyï¼‰è®¾ç½®ä¸­ã€‚</p><p>è¿™ä¸ª app çš„ models å®šä¹‰ä¸­åŒ…å«äº†ä¸€å¼ ç”¨æˆ·è¡¨ï¼Œåä¸º <code>auth_user</code> ã€‚</p><p>å½“æˆ‘ä»¬æ‰§è¡Œ migrate åˆ›å»ºæ•°æ®åº“è¡¨æ—¶å°±ä¼šä¸ºæˆ‘ä»¬åˆ›å»ºç”¨æˆ·è¡¨ auth_userï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/images/image-20220203182659211.png" alt="image-20220203182659211" style="zoom:50%;"><p><code>django.contrib.auth</code> è¿™ä¸ªapp å·²ç» <strong>ä¸ºæˆ‘ä»¬åšå¥½äº†ç™»å½•éªŒè¯åŠŸèƒ½</strong>ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨è¿™ä¸ªappåº“é‡Œé¢çš„æ–¹æ³•å°±å¯ä»¥äº†ã€‚</p><p>Djangoçš„æ–‡æ¡£å°±ç»™å‡ºäº†ç™»å½•å’Œç™»å‡ºä»£ç èŒƒä¾‹ï¼Œæˆ‘ä»¬ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬åœ¨ mgr ç›®å½•ä¸‹é¢ï¼Œ åˆ›å»ºä¸€ä¸ª <code>sign_in_out.py</code> æ–‡ä»¶ã€‚</p><p>åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse<br><br><span class="hljs-keyword">from</span> django.contrib.auth <span class="hljs-keyword">import</span> authenticate, login, logout<br><br><span class="hljs-comment"># ç™»å½•å¤„ç†</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">signin</span>(<span class="hljs-params"> request</span>):</span><br>    <span class="hljs-comment"># ä» HTTP POST è¯·æ±‚ä¸­è·å–ç”¨æˆ·åã€å¯†ç å‚æ•°</span><br>    userName = request.POST.get(<span class="hljs-string">&#x27;username&#x27;</span>)<br>    passWord = request.POST.get(<span class="hljs-string">&#x27;password&#x27;</span>)<br><br>    <span class="hljs-comment"># ä½¿ç”¨ Django auth åº“é‡Œé¢çš„ æ–¹æ³•æ ¡éªŒç”¨æˆ·åã€å¯†ç </span><br>    user = authenticate(username=userName, password=passWord)<br>    <br>    <span class="hljs-comment"># å¦‚æœèƒ½æ‰¾åˆ°ç”¨æˆ·ï¼Œå¹¶ä¸”å¯†ç æ­£ç¡®</span><br>    <span class="hljs-keyword">if</span> user <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> user.is_active:<br>            <span class="hljs-keyword">if</span> user.is_superuser:<br>                login(request, user)<br>                <span class="hljs-comment"># åœ¨sessionä¸­å­˜å…¥ç”¨æˆ·ç±»å‹</span><br>                request.session[<span class="hljs-string">&#x27;usertype&#x27;</span>] = <span class="hljs-string">&#x27;mgr&#x27;</span><br><br>                <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">&#x27;è¯·ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•&#x27;</span>&#125;)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">&#x27;ç”¨æˆ·å·²ç»è¢«ç¦ç”¨&#x27;</span>&#125;)<br>        <br>    <span class="hljs-comment"># å¦åˆ™å°±æ˜¯ç”¨æˆ·åã€å¯†ç æœ‰è¯¯</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">&#x27;ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯&#x27;</span>&#125;)<br><br><br><span class="hljs-comment"># ç™»å‡ºå¤„ç†</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">signout</span>(<span class="hljs-params"> request</span>):</span><br>    <span class="hljs-comment"># ä½¿ç”¨ç™»å‡ºæ–¹æ³•</span><br>    logout(request)<br>    <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br></code></pre></td></tr></table></figure><br><br><h2 id="åˆ›å»º-urlè·¯ç”±"><a href="#åˆ›å»º-urlè·¯ç”±" class="headerlink" title="åˆ›å»º urlè·¯ç”±"></a>åˆ›å»º urlè·¯ç”±</h2><p> æˆ‘ä»¬å·²ç»åœ¨æ€»è·¯ç”±æ–‡ä»¶ <code>urls.py</code> ä¸­ æ·»åŠ äº†å¦‚ä¸‹è·¯ç”±è®°å½•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">path(<span class="hljs-string">&#x27;api/mgr/&#x27;</span>, include(<span class="hljs-string">&#x27;mgr.urls&#x27;</span>))<br></code></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ mgr ç›®å½•ä¸‹é¢çš„å­è·¯ç”±æ–‡ä»¶ <code>urls.py</code> é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> mgr <span class="hljs-keyword">import</span> sign_in_out<br><br>urlpatterns = [<br><br>    path(<span class="hljs-string">&#x27;signin&#x27;</span>, sign_in_out.signin),<br>    path(<span class="hljs-string">&#x27;signout&#x27;</span>, sign_in_out.signout),<br><br>]<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±è¡¨ç¤ºï¼š</p><p>å¦‚æœæœ‰HTTPè¯·æ±‚ urlæ˜¯ <code>/api/mgr/signin</code> å°±ç”± sign_in_out.py é‡Œé¢çš„signin å‡½æ•°å¤„ç†ï¼Œ</p><p>å¦‚æœæœ‰HTTPè¯·æ±‚ urlæ˜¯ <code>/api/mgr/signout</code> å°±ç”± sign_in_out.py é‡Œé¢çš„signout å‡½æ•°å¤„ç†ã€‚</p><br><br><h2 id="Djangoå†…ç½®ç”¨æˆ·è¡¨"><a href="#Djangoå†…ç½®ç”¨æˆ·è¡¨" class="headerlink" title="Djangoå†…ç½®ç”¨æˆ·è¡¨"></a>Djangoå†…ç½®ç”¨æˆ·è¡¨</h2><p>å‰é¢è¯´è¿‡ï¼ŒDjangoå†…ç½® django.contrib.auth åŒ…å«äº†å†…ç½®ç”¨æˆ·è¡¨çš„å®šä¹‰ å’Œ ç™»å½•è®¤è¯çš„åŠŸèƒ½ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦æ‰©å±•è¿™ä¸ªè¡¨çš„å­—æ®µï¼Œæˆ–è€…å®ç°ç”¨æˆ·è®°å½•çš„æ·»åŠ ã€ä¿®æ”¹åŠŸèƒ½ï¼Œæ¨èçš„åšæ³•<a href="http://www.byhy.net/tut/webdev/django/e01/">å‚è€ƒè¯¥æ•™ç¨‹</a>ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å‰åç«¯åˆ†ç¦»æ¡†æ¶</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9E%B6%E6%9E%84/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E6%9E%B6%E6%9E%84/</url>
    
    <content type="html"><![CDATA[<p>ç°åœ¨éšç€æµè§ˆå™¨ä¸­ javascript è§£é‡Šå™¨æ€§èƒ½çš„çªé£çŒ›è¿›ï¼Œä»¥åŠä¸€äº›å‰ç«¯æ¨¡æ¿åº“å’Œæ¡†æ¶çš„æµè¡Œã€‚å¾ˆå¤šæ¶æ„å¸ˆå°†é¡µé¢çš„html å†…å®¹ç”Ÿæˆçš„ä»»åŠ¡æ”¾åˆ°å‰ç«¯ã€‚</p><p>è¿™æ ·æœåŠ¡ç«¯ï¼ˆåç«¯ï¼‰å°±<strong>åªè´Ÿè´£æä¾›æ•°æ®</strong>ï¼Œç•Œé¢çš„æ„æˆå…¨éƒ¨åœ¨å‰ç«¯ï¼ˆæµè§ˆå™¨å‰ç«¯æˆ–è€…æ‰‹æœºå‰ç«¯ï¼‰è¿›è¡Œç§°ä¹‹ä¸ºå‰ç«¯æ¸²æŸ“ã€‚åªæ˜¯è¿™ä¸ªå·¥ä½œåœ¨å‰ç«¯æ‰§è¡Œï¼Œä½¿ç”¨å‰ç«¯çš„æ¡†æ¶åº“å»å®Œæˆï¼Œæ¯”å¦‚ Angularï¼ŒReactï¼ŒVueã€‚</p><p>è¿™æ ·ç•Œé¢å®Œå…¨äº¤ç»™å‰ç«¯å¼€å‘äººå‘˜å»åšï¼Œåç«¯å¼€å‘åªéœ€è¦æä¾›å‰ç«¯ç•Œé¢æ‰€éœ€è¦çš„æ•°æ®å°±è¡Œäº†ã€‚</p><p>å‰ç«¯å’Œåç«¯ä¹‹é—´çš„äº¤äº’å°±å®Œå…¨æ˜¯ä¸šåŠ¡æ•°æ®äº†ã€‚</p><p>è¿™æ ·éœ€è¦å®šä¹‰å¥½å‰ç«¯å’Œåç«¯äº¤äº’æ•°æ®çš„æ¥å£ã€‚</p><p>ç›®å‰é€šå¸¸è¿™æ ·çš„æ¥å£è®¾è®¡æœ€æ™®éçš„å°±æ˜¯ä½¿ç”¨ REST é£æ ¼çš„ API æ¥å£ã€‚</p><ul><li>å‰ç«¯é€šè¿‡ API æ¥å£ ä»åç«¯è·å–æ•°æ®å±•ç¤ºåœ¨ç•Œé¢ä¸Šã€‚</li><li>å‰ç«¯é€šè¿‡ API æ¥å£ å‘Šè¯‰åç«¯éœ€è¦æ›´æ–°çš„æ•°æ®æ˜¯ä»€ä¹ˆã€‚</li></ul><br><p>æ³¨æ„ï¼šéœ€è¦Djangoè¿”å›çš„ä¿¡æ¯ï¼Œé€šå¸¸éƒ½æ˜¯æ‰€è°“çš„ <strong>åŠ¨æ€</strong> æ•°æ®ä¿¡æ¯ã€‚ æ¯”å¦‚ï¼šç”¨æˆ·ä¿¡æ¯ï¼Œè¯å“ä¿¡æ¯ï¼Œè®¢å•ä¿¡æ¯ç­‰ç­‰ã€‚</p><p>è¿™äº›ä¿¡æ¯é€šå¸¸éƒ½æ˜¯å­˜åœ¨æ•°æ®åº“ä¸­ï¼Œè¿™äº›ä¿¡æ¯æ˜¯ä¼šéšç€ç³»ç»Ÿçš„ä½¿ç”¨å‘ç”Ÿå˜åŒ–çš„ã€‚</p><p>è€Œ <strong>é™æ€</strong> ä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š é¡µé¢HTMLæ–‡æ¡£ã€cssæ–‡æ¡£ã€å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼Œæ˜¯ä¸åº”è¯¥ç”± Django è´Ÿè´£è¿”å›æ•°æ®çš„ã€‚</p><p>è¿™äº›æ•°æ®é€šå¸¸éƒ½æ˜¯ç”±å…¶ä»–çš„é™æ€èµ„æºæœåŠ¡è½¯ä»¶ï¼Œæ¯”å¦‚ Nginxã€Varnishç­‰ç­‰ï¼Œè¿”å›ç»™å‰ç«¯ã€‚è¿™äº›è½¯ä»¶éƒ½ä¼šæœ‰æ•ˆçš„å¯¹é™æ€æ•°æ®è¿›è¡Œç¼“å­˜ï¼Œå¤§å¤§æé«˜æœåŠ¡æ•ˆç‡ã€‚åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œå¾€å¾€è¿˜ä¼šç›´æ¥ä½¿ç”¨é™æ€æ–‡ä»¶äº‘æœåŠ¡ï¼ˆ OSS + CDN ï¼‰æä¾›é™æ€æ•°æ®çš„è®¿é—®æœåŠ¡ã€‚</p><p>æ€»ä¹‹ï¼ŒDjangoå¤„ç†å¹¶è¿”å›çš„åº”è¯¥æ˜¯åŠ¨æ€ä¸šåŠ¡æ•°æ®ä¿¡æ¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åˆ†é¡µå’Œè¿‡æ»¤</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%88%86%E9%A1%B5%E5%92%8C%E8%BF%87%E6%BB%A4/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/%E5%88%86%E9%A1%B5%E5%92%8C%E8%BF%87%E6%BB%A4/</url>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬çš„ç³»ç»Ÿåœ¨åˆ—å‡ºè¯å“ã€å®¢æˆ·ã€è®¢å•ç­‰æ•°æ®çš„æ—¶å€™ï¼Œéƒ½æ˜¯ç”¨ä¸€å¼ è¡¨åœ¨ä¸€é¡µé‡Œé¢æ˜¾ç¤ºå…¨éƒ¨å†…å®¹ã€‚</p><p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰å¤§é‡çš„æ•°æ®ï¼Œæ¯”å¦‚ç³»ç»Ÿä¸­å­˜å‚¨10ä¸‡ç§è¯å“ï¼Œè¿™ä¸ªè¡¨å°†ä¼šéå¸¸çš„é•¿ï¼Œéœ€è¦åç«¯ç¨‹åºä»æ•°æ®åº“ä¸­è¯»å–å¤§é‡çš„æ•°æ®ï¼Œå¹¶ä¼ é€’ç»™å‰ç«¯ã€‚è€Œç”¨æˆ·é€šå¸¸åªéœ€è¦çœ‹å…¶ä¸­çš„ä¸€ç‚¹ç‚¹æ•°æ®ï¼Œè¿™æ˜¯éå¸¸å¤§çš„æ€§èƒ½æµªè´¹ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š<strong>åˆ†é¡µ</strong> å’Œ <strong>è¿‡æ»¤</strong></p><ul><li>åˆ†é¡µï¼šæ¯æ¬¡åªè¯»å–ä¸€é¡µçš„ä¿¡æ¯è¿”å›ç»™å‰ç«¯</li><li>è¿‡æ»¤ï¼šæ ¹æ®ç”¨æˆ·æä¾›çš„ç­›é€‰æ¡ä»¶ï¼Œåªè¯»å–ç¬¦åˆæ¡ä»¶çš„éƒ¨åˆ†ä¿¡æ¯</li></ul><br><h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><p>æ—¢ç„¶è¦åˆ†é¡µï¼Œé‚£ä¹ˆå‰ç«¯å‘é€çš„è¯·æ±‚ä¸­éœ€è¦æºå¸¦ ä¸¤ä¸ªä¿¡æ¯ï¼š <code>æ¯é¡µåŒ…å«å¤šå°‘æ¡è®°å½•</code> å’Œ <code>éœ€è¦è·å–ç¬¬å‡ é¡µ</code></p><p>æˆ‘ä»¬å®šä¹‰åˆ—å‡ºæ•°æ®è¯·æ±‚ä¸­æ·»åŠ  2ä¸ªurl å‚æ•°ï¼š <code>pagesize</code> å’Œ <code>pagenum</code> åˆ†åˆ«å¯¹åº”è¿™ä¸¤ä¸ªä¿¡æ¯ã€‚</p><p>ä»¥åˆ—å‡ºè¯å“çš„ä»£ç ä¸ºä¾‹ï¼Œ æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ listmedicine å‡½æ•°ï¼Œå¦‚ä¸‹ï¼š</p><p>ï¼ˆåˆ©ç”¨ Django çš„åˆ†é¡µå™¨ Paginator ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¢åŠ å¯¹åˆ†é¡µçš„æ”¯æŒ</span><br><span class="hljs-keyword">from</span> django.core.paginator <span class="hljs-keyword">import</span> Paginator, EmptyPage<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">listmedicine</span>(<span class="hljs-params">request</span>):</span><br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-comment"># è¿”å›ä¸€ä¸ª QuerySet å¯¹è±¡ ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡¨è®°å½•</span><br>        qs = Medicine.objects.values()<br><br>        <span class="hljs-comment"># è¦è·å–çš„ç¬¬å‡ é¡µ</span><br>        pagenum = request.params[<span class="hljs-string">&#x27;pagenum&#x27;</span>]<br><br>        <span class="hljs-comment"># æ¯é¡µè¦æ˜¾ç¤ºå¤šå°‘æ¡è®°å½•</span><br>        pagesize = request.params[<span class="hljs-string">&#x27;pagesize&#x27;</span>]<br><br>        <span class="hljs-comment"># è¿”å›ä¸€ä¸ª QuerySet å¯¹è±¡ ï¼ŒåŒ…å«æ‰€æœ‰çš„è¡¨è®°å½•</span><br>        qs = Medicine.objects.values()<br><br>        <span class="hljs-comment"># ä½¿ç”¨åˆ†é¡µå¯¹è±¡ï¼Œè®¾å®šæ¯é¡µå¤šå°‘æ¡è®°å½•</span><br>        pgnt = Paginator(qs, pagesize)<br><br>        <span class="hljs-comment"># ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®ï¼ŒæŒ‡å®šè¯»å–å…¶ä¸­ç¬¬å‡ é¡µ</span><br>        page = pgnt.page(pagenum)<br><br>        <span class="hljs-comment"># å°† QuerySet å¯¹è±¡ è½¬åŒ–ä¸º list ç±»å‹</span><br>        retlist = <span class="hljs-built_in">list</span>(page)<br>         <br>        <span class="hljs-comment"># totalæŒ‡å®šäº† ä¸€å…±æœ‰å¤šå°‘æ•°æ®</span><br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;retlist&#x27;</span>: retlist,<span class="hljs-string">&#x27;total&#x27;</span>: pgnt.count&#125;)<br><br>    <span class="hljs-keyword">except</span> EmptyPage:<br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;retlist&#x27;</span>: [], <span class="hljs-string">&#x27;total&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">2</span>,  <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">f&#x27;æœªçŸ¥é”™è¯¯\n<span class="hljs-subst">&#123;traceback.format_exc()&#125;</span>&#x27;</span>&#125;)<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œè¿™è¡Œä»£ç åˆ›å»ºäº†åˆ†é¡µå¯¹è±¡ï¼Œåœ¨åˆå§‹åŒ–å‚æ•°é‡Œé¢è®¾å®šæ¯é¡µå¤šå°‘æ¡è®°å½•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pgnt = Paginator(qs, pagesize)<br></code></pre></td></tr></table></figure><p>è¿”å›çš„åˆ†é¡µå¯¹è±¡èµ‹å€¼ç»™å˜é‡ pgntã€‚</p><p>ç„¶åä¸€é¡µçš„æ•°æ®å°±å¯ä»¥é€šè¿‡ pgnt.page(pagenum) è·å–ã€‚</p><p>è€Œæ€»å…±æœ‰å¤šå°‘é¡µï¼Œé€šè¿‡ pgnt.count å¾—åˆ°ã€‚</p><br><br><h2 id="è¿‡æ»¤"><a href="#è¿‡æ»¤" class="headerlink" title="è¿‡æ»¤"></a>è¿‡æ»¤</h2><p>å‚è€ƒ <a href="http://www.byhy.net/tut/webdev/django/15/#%E8%BF%87%E6%BB%A4">http://www.byhy.net/tut/webdev/django/15/#%E8%BF%87%E6%BB%A4</a></p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Web å¼€å‘ç®€ä»‹åŠå‰åç«¯åˆ†ç¦»</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/Web%20%E5%BC%80%E5%8F%91%E7%AE%80%E4%BB%8B%E5%8F%8A%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/Web%20%E5%BC%80%E5%8F%91%E7%AE%80%E4%BB%8B%E5%8F%8A%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB/</url>
    
    <content type="html"><![CDATA[<p>webç³»ç»Ÿï¼Œé€šå¸¸å¯ä»¥åˆ†ä¸º ï¼š <strong>å®¢æˆ·ç«¯</strong> å’Œ <strong>æœåŠ¡ç«¯</strong> ã€‚</p><p>BS æ¨¡å¼æ˜¯ä¸€ç§ç‰¹æ®Šçš„ CS æ¨¡å¼ã€‚</p><p>æ¯”å¦‚ï¼Œæ‰‹æœºåº”ç”¨ï¼ˆæ¯”å¦‚å¾®ä¿¡ï¼‰å°±æ˜¯ å®¢æˆ·ç«¯ï¼Œ è…¾è®¯å…¬å¸çš„å¾®ä¿¡æœåŠ¡ç¨‹åºï¼ˆè¿è¡Œåœ¨è…¾è®¯çš„æœºæˆ¿é‡Œé¢ï¼‰å°±æ˜¯æœåŠ¡ç«¯ã€‚</p><p>å®¢æˆ·ç«¯ç§°ä¹‹ä¸ºå‰ç«¯ ï¼ŒæœåŠ¡ç«¯ç§°ä¹‹ä¸ºåç«¯ã€‚</p><p>æˆ‘ä»¬å…ˆå…³æ³¨æµè§ˆå™¨å‰ç«¯ï¼Œ ä¹Ÿå°±æ˜¯webå‰ç«¯ã€‚</p><br><h2 id="Web-å‰ç«¯å¼€å‘"><a href="#Web-å‰ç«¯å¼€å‘" class="headerlink" title="Web å‰ç«¯å¼€å‘"></a>Web å‰ç«¯å¼€å‘</h2><p>Web å‰ç«¯å¼€å‘çš„é‡ç‚¹æ˜¯ ï¼š æä¾›ç”¨æˆ·ç•Œé¢ç»™ç”¨æˆ·è¿›è¡Œè§‚çœ‹å’Œæ“ä½œã€‚</p><p>å‰ç«¯å¼€å‘æ–‡ä»¶ï¼ˆhtmlï¼Œcssï¼Œjsï¼‰æ²¡æ³•ç›´æ¥æ”¾åˆ°æµè§ˆå™¨ç«¯ï¼Œéƒ½æ˜¯éƒ¨ç½²åœ¨åç«¯æœåŠ¡å™¨ä¸Šï¼ˆæœ‰äº›åœ¨cdnä¸Šï¼‰ã€‚</p><p>å½“æˆ‘ä»¬æµè§ˆä¸€ä¸ªç½‘ç«™çš„æ—¶å€™ï¼Œæµè§ˆå™¨å…ˆé€šè¿‡httpåè®®è·å–è¿™äº›æ–‡æ¡£ï¼Œç„¶åè¯»å–è§£é‡Šå®ƒä»¬çš„å†…å®¹ï¼Œç”Ÿæˆå¯¹åº”çš„ç•Œé¢å‘ˆç°ç»™æˆ‘ä»¬æ“ä½œã€‚</p><br><h2 id="Web-åç«¯å¼€å‘"><a href="#Web-åç«¯å¼€å‘" class="headerlink" title="Web åç«¯å¼€å‘"></a>Web åç«¯å¼€å‘</h2><p>åç«¯è¦å¼€å‘æœåŠ¡è¿›ç¨‹ï¼Œå¤„ç†å‰ç«¯httpè¯·æ±‚ï¼Œè¿”å›ç›¸åº”çš„æ•°æ®ã€‚</p><p>é€šå¸¸åŒ…æ‹¬æ•°æ®çš„æŸ¥è¯¢ã€å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€‚</p><p>é€šå¸¸ï¼Œåç«¯çš„å¼€å‘æ¶‰åŠåˆ°ï¼š</p><ul><li>é™æ€æ–‡ä»¶æœåŠ¡æ–¹æ¡ˆ</li></ul><p>å°±æ˜¯å‰ç«¯å¼€å‘å‡ºæ¥çš„HTMLã€cssã€jsæ–‡ä»¶å­˜å‚¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œä½¿ç”¨ä»€ä¹ˆçš„æœåŠ¡æä¾›ç»™å‰ç«¯æµè§ˆå™¨è®¿é—®ã€‚ é€šå¸¸ä¸€ä¸ªæ¯”è¾ƒå¤§å‹çš„ç½‘ç«™ï¼Œ é™æ€æ–‡ä»¶å¾€å¾€ä¼šä½¿ç”¨å•ç‹¬çš„æœåŠ¡å™¨ä¸“é—¨æä¾›æœåŠ¡ï¼Œç”šè‡³ä¸€éƒ¨åˆ†ç‰¹åˆ«æ¶ˆè€—å¸¦å®½çš„æ•°æ®ï¼ˆæ¯”å¦‚è§†é¢‘ã€å›¾ç‰‡ï¼‰ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹çš„äº‘æœåŠ¡å‚å•†ï¼ˆæ¯”å¦‚é˜¿é‡Œäº‘çš„cdnå’ŒossæœåŠ¡ï¼‰ã€‚</p><ul><li><p>API æ¥å£è®¾è®¡ï¼Œ å°±æ˜¯ å®šä¹‰ å‰ç«¯å’Œåç«¯äº¤äº’æ¥å£è§„èŒƒã€‚</p><p>ç›®å‰æµè¡Œçš„æ˜¯REST API é£æ ¼çš„æ¥å£ï¼Œä½†æ˜¯éœ€è¦æˆ‘ä»¬è®¾è®¡å…·ä½“çš„APIè¯·æ±‚å’Œå“åº”æ¶ˆæ¯çš„ç»„æˆç»†èŠ‚ã€‚</p><p>è¿™ä¸ªé€šå¸¸åº”è¯¥æ˜¯æ¶æ„å¸ˆè®¾è®¡çš„ï¼Œ ä½†æ˜¯å¾€å¾€è¿™å·¥ä½œç»å¸¸ä¼šè½åˆ°åç«¯å·¥ç¨‹å¸ˆå¤´ä¸Šã€‚å®é™…ä¸Š å¾ˆå¤šå…¬å¸é‡Œé¢ï¼Œç³»ç»Ÿæ¶æ„å¸ˆ ä¹Ÿä¼šåšåç«¯å¼€å‘çš„å·¥ä½œã€‚</p></li><li><p>æ•°æ®åº“å­˜å‚¨æ–¹æ¡ˆï¼Œæ¯”å¦‚ï¼šé€‰æ‹©ä»€ä¹ˆæ ·çš„æ•°æ®åº“ï¼ŒåŒ…æ‹¬ å…³ç³»å‹å’Œéå…³ç³»å‹çš„æ•°æ®åº“ã€‚</p></li><li><p>æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡ï¼Œ è¦èƒ½åˆç†ã€é«˜æ•ˆçš„å­˜å‚¨ä¸šåŠ¡æ•°æ®ï¼Œè¿™æ ·æ‰èƒ½é«˜æ•ˆæŸ¥è¯¢ã€ä¿®æ”¹å„ç§å…³è”æ€§çš„æ•°æ®ã€‚</p></li><li><p>ä¸ºäº†æé«˜æ€§èƒ½ï¼Œ éœ€è¦å†³å®šä½¿ç”¨æ€æ ·çš„ ç¼“å­˜æœåŠ¡ å’Œ å¼‚æ­¥ä»»åŠ¡æœåŠ¡</p></li><li><p>è¿˜æœ‰å…¶å®ƒç§ç§ç‰¹æ®Šçš„è€ƒè™‘ï¼Œæ¯”å¦‚è¦ç†Ÿæ‚‰ç›®å‰æ—¥ç›Šæµè¡Œçš„äº‘å­˜å‚¨æŠ€æœ¯ï¼Œå°†æœ‰çš„æ•°æ®ï¼Œå¦‚å›¾ç‰‡ï¼Œè§†é¢‘ç­‰ åˆç†å­˜å‚¨åœ¨äº‘ç«¯</p></li><li><p>æœ‰çš„ç³»ç»Ÿè¿˜éœ€è¦æœ‰å¤§æ•°æ®åˆ†æçš„éœ€æ±‚è¦åç«¯é«˜æ•ˆå®ç°ã€‚</p></li></ul><br><h2 id="å‰åç«¯åˆ†ç¦»"><a href="#å‰åç«¯åˆ†ç¦»" class="headerlink" title="å‰åç«¯åˆ†ç¦»"></a>å‰åç«¯åˆ†ç¦»</h2><p>å‰åç«¯åˆ†ç¦»æ˜¯ç›®å‰ä¸€ç§éå¸¸æµè¡Œçš„å¼€å‘æ¨¡å¼ï¼Œå®ƒä½¿é¡¹ç›®çš„åˆ†å·¥æ›´åŠ æ˜ç¡®ï¼š</p><ul><li>åç«¯ï¼šè´Ÿè´£å¤„ç†ã€å­˜å‚¨æ•°æ®</li><li>å‰ç«¯ï¼šè´Ÿè´£æ˜¾ç¤ºæ•°æ®</li></ul><h4 id="èŒè´£åˆ†ç¦»ï¼š"><a href="#èŒè´£åˆ†ç¦»ï¼š" class="headerlink" title="èŒè´£åˆ†ç¦»ï¼š"></a>èŒè´£åˆ†ç¦»ï¼š</h4><ul><li>å‰åç«¯ä»…ä»…é€šè¿‡å¼‚æ­¥æ¥å£(AJAX / JSONP)æ¥ç¼–ç¨‹</li><li>å‰åç«¯éƒ½å„è‡ªæœ‰è‡ªå·±çš„å¼€å‘æµç¨‹ï¼Œæ„å»ºå·¥å…·ï¼Œæµ‹è¯•é›†åˆ</li><li>å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œå‰åç«¯å˜å¾—ç›¸å¯¹ç‹¬ç«‹å¹¶è§£è€¦åˆ</li></ul><img src="/images/image-20220113235906612.png" alt="image-20220113235906612" style="zoom: 50%;"><br><h4 id="Vue-Django"><a href="#Vue-Django" class="headerlink" title="Vue + Django:"></a>Vue + Django:</h4><ul><li><p>Vueï¼šå†™å¥½é¡µé¢å†…å®¹ï¼Œå‡†å¤‡å¥½ ajax è¯·æ±‚</p></li><li><p>Djangoï¼šå†™å¥½ url é…ç½®ï¼Œé’ˆå¯¹ä¸åŒçš„ url è¯·æ±‚å†™å¥½å¯¹åº”çš„å¤„ç†å‡½æ•°ï¼Œæ¯”å¦‚è¿”å›éœ€è¦çš„ json æ•°æ®ç­‰ã€‚</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>session å’Œ token</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/session%20%E5%92%8C%20token/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/session%20%E5%92%8C%20token/</url>
    
    <content type="html"><![CDATA[<h1 id="session-å’Œ-token"><a href="#session-å’Œ-token" class="headerlink" title="session å’Œ token"></a>session å’Œ token</h1><p>å‰é¢æˆ‘ä»¬å·²ç»æ ¹æ®æ¥å£æ–‡æ¡£ï¼Œç¼–å†™ä»£ç ï¼Œå¯¹å‰ç«¯å‘æ¥çš„ Customer APIè¯·æ±‚è¿›è¡Œå¤„ç†äº†ã€‚</p><p>å¹¶ä¸”æˆ‘ä»¬ä¹Ÿç¼–å†™äº†ç”¨æˆ·ç™»å½•å¤„ç†çš„ä»£ç ã€‚</p><p>ä½†æ˜¯è¿˜å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼šå‰ç«¯å‘æ¥çš„ Customer API è¯·æ±‚ï¼Œ æˆ‘ä»¬åç«¯ä»£ç å°±ç›´æ¥å¤„ç†äº†ï¼Œ <strong>å¹¶æ²¡æœ‰éªŒè¯</strong> è¿™ä¸ªè¯·æ±‚æ˜¯ä¸æ˜¯å·²ç»ç™»å½•çš„ç®¡ç†å‘˜å‘å‡ºçš„ï¼ˆæˆ–è€…æ˜¯å¦æœ‰æƒé™ç­‰ï¼‰ã€‚</p><p>å¦‚æœæ˜¯è¿™æ ·ï¼Œå®¢æˆ·ç«¯å¯ä»¥ä¸éœ€è¦ç™»å½•ï¼Œç›´æ¥è®¿é—®ç™»å½•åçš„ä¸»é¡µã€‚</p><p>è¿™å°±éœ€è¦æˆ‘ä»¬åœ¨å¤„ç† Customer API è¯·æ±‚å‰ï¼Œ åˆ¤æ–­å‘å‡ºè¯¥è¯·æ±‚çš„ç”¨æˆ·æ˜¯å¦ç™»å½•äº†ã€‚</p><p>å¯¹äº<strong>è¯·æ±‚æ¶ˆæ¯çš„åˆæ³•æ€§éªŒè¯</strong>ï¼Œ é€šå¸¸æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š <strong>session</strong> å’Œ <strong>token</strong></p><br><br><h2 id="session-æ–¹æ¡ˆ"><a href="#session-æ–¹æ¡ˆ" class="headerlink" title="session æ–¹æ¡ˆ"></a>session æ–¹æ¡ˆ</h2><p><strong>session</strong> å°±æ˜¯ <strong>ä¼šè¯</strong> çš„æ„æ€ã€‚</p><p>session æ–¹æ¡ˆçš„åŸç†å¦‚ä¸‹ï¼š </p><ul><li><p>æœåŠ¡ç«¯åœ¨æ•°æ®åº“ä¸­ä¿å­˜ä¸€å¼ sessionè¡¨ã€‚ è¿™å¼ è¡¨è®°å½•äº†æ¯æ¬¡ç”¨æˆ·ç™»å½•çš„ç›¸å…³ä¿¡æ¯ã€‚</p><p>å…·ä½“è®°å½•ä»€ä¹ˆä¿¡æ¯ï¼Œä¸åŒçš„ç³»ç»Ÿå„æœ‰å·®å¼‚ï¼Œé€šå¸¸ä¼šè®°å½•è¯¥ç”¨æˆ·çš„ ID ã€å§“åã€ç™»å½•åä¹‹ç±»çš„ã€‚</p><p>Django ä¸­è¯¥è¡¨åå­—å°±å« django_session, å¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/images/image-20220204114144805.png" alt="image-20220204114144805" style="zoom:50%;"><p>å¯ä»¥å‘ç° sessionid é€šå¸¸å°±æ˜¯ä¸€ä¸²å­—ç¬¦ä¸²ç”¨æ¥æ ‡è®°ä¸€ä¸ªsessionçš„ã€‚ è€Œsessionå¯¹åº”çš„æ•°æ®åœ¨è¿™é‡Œæ˜¯åŠ å¯†çš„ã€‚é€šè¿‡è¿™å¼ è¡¨ï¼ŒæœåŠ¡ç«¯å¯ä»¥æ ¹æ® sessionå·ï¼ˆé€šå¸¸å«session IDï¼‰ æŸ¥åˆ° session çš„ä¿¡æ¯æ•°æ®ã€‚</p></li><li><p><strong>åœ¨ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œ æœåŠ¡ç«¯å°±åœ¨æ•°æ®åº“sessionè¡¨ä¸­åˆ›å»ºä¸€æ¡è®°å½•ï¼Œè®°å½•è¿™æ¬¡ä¼šè¯ã€‚</strong></p><p>ä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ sessionid æ’å…¥åˆ°è¯¥è¡¨ä¸­ã€‚</p><p>åŒæ—¶ä¹Ÿæ”¾å…¥ä¸€äº› è¯¥sessionå¯¹åº”çš„æ•°æ®åˆ°è®°å½•çš„æ•°æ®å­—æ®µä¸­ï¼Œæ¯”å¦‚ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ã€‚</p><p><strong>ç„¶ååœ¨è¯¥ç™»å½•è¯·æ±‚çš„HTTPå“åº”æ¶ˆæ¯ä¸­ï¼Œ å¤´å­—æ®µ Set-Cookie é‡Œå¡«å…¥ sessionid æ•°æ®ã€‚</strong></p><p>ç±»ä¼¼è¿™æ ·ï¼š</p><p><code>Set-Cookie: sessionid=6qu1cuk8cxvtf4w9rjxeppexh2izy0hh</code></p><p>æ ¹æ®httpåè®®ï¼Œ è¿™ä¸ª <strong>Set-Cookie</strong> å­—æ®µçš„æ„æ€å°±æ˜¯<strong>è¦æ±‚å‰ç«¯å°†å…¶ä¸­çš„æ•°æ®å­˜å…¥ cookie ä¸­ã€‚ å¹¶ä¸”éšåè®¿é—®è¯¥æœåŠ¡ç«¯çš„æ—¶å€™ï¼Œ åœ¨HTTPè¯·æ±‚æ¶ˆæ¯ä¸­å¿…é¡»å¸¦ä¸Šè¿™äº› cookie æ•°æ®ã€‚</strong></p><p>cookie é€šå¸¸å°±æ˜¯å­˜å‚¨åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨çš„ä¸€äº›æ•°æ®ã€‚ æœåŠ¡ç«¯å¯ä»¥é€šè¿‡httpå“åº”æ¶ˆæ¯è¦æ±‚æµè§ˆå™¨å­˜å‚¨ä¸€äº›æ•°æ®ã€‚</p><p><strong>ä»¥åæ¯æ¬¡è®¿é—®åŒä¸€ä¸ªç½‘ç«™æœåŠ¡ï¼Œå¿…é¡»åœ¨HTTPè¯·æ±‚ä¸­å†å¸¦ä¸Šè¿™äº›cookieé‡Œé¢çš„æ•°æ®ã€‚</strong></p><p>cookieæ•°æ®ç”±å¤šä¸ªé”®å€¼å¯¹ç»„æˆï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sessionid</span>=<span class="hljs-number">6</span>qu<span class="hljs-number">1</span>cuk<span class="hljs-number">8</span>cxvtf<span class="hljs-number">4</span>w<span class="hljs-number">9</span>rjxeppexh<span class="hljs-number">2</span>izy<span class="hljs-number">0</span>hh<br><span class="hljs-attribute">username</span>=byhy<br><span class="hljs-attribute">favorite</span>=phone_laptop_watch<br></code></pre></td></tr></table></figure></li><li><p>è¯¥ç”¨æˆ·çš„åç»­æ“ä½œï¼Œ<strong>è§¦å‘çš„HTTPè¯·æ±‚ï¼Œéƒ½ä¼šåœ¨è¯·æ±‚å¤´çš„ Cookie å­—æ®µå¸¦ä¸Šå‰é¢è¯´çš„sessionid</strong> ã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><code>Cookie: sessionid=6qu1cuk8cxvtf4w9rjxeppexh2izy0hh</code></p><p><strong>æœåŠ¡ç«¯æ¥å—åˆ°è¯¥è¯·æ±‚åï¼Œåªéœ€è¦åˆ°sessionè¡¨ä¸­æŸ¥çœ‹æ˜¯å¦æœ‰è¯¥ sessionid å¯¹åº”çš„è®°å½•ï¼Œè¿™æ ·å°±å¯ä»¥åˆ¤æ–­è¿™ä¸ªè¯·æ±‚æ˜¯å¦æ˜¯å‰é¢å·²ç»ç™»å½•çš„ç”¨æˆ·å‘å‡ºçš„ã€‚</strong></p><p><strong>å¦‚æœä¸æ˜¯ï¼Œå°±å¯ä»¥æ‹’ç»æœåŠ¡ï¼Œé‡å®šå‘httpè¯·æ±‚åˆ°ç™»å½•é¡µé¢è®©ç”¨æˆ·ç™»å½•ã€‚</strong></p></li></ul><br><br><h2 id="tokenæœºåˆ¶"><a href="#tokenæœºåˆ¶" class="headerlink" title="tokenæœºåˆ¶"></a>tokenæœºåˆ¶</h2><p>ä½¿ç”¨sessionæœºåˆ¶éªŒè¯ç”¨æˆ·è¯·æ±‚çš„åˆæ³•æ€§çš„ä¸»è¦ç¼ºç‚¹æœ‰ä¸¤ä¸ª</p><ul><li><p>æ€§èƒ½é—®é¢˜</p><p>å› ä¸ºéªŒè¯è¯·æ±‚æ˜¯æ ¹æ®sessionid åˆ°æ•°æ®åº“ä¸­æŸ¥æ‰¾sessionè¡¨çš„ï¼Œè€Œæ•°æ®åº“æ“ä½œæ˜¯æœåŠ¡ç«¯å¸¸è§çš„æ€§èƒ½ç“¶é¢ˆï¼Œå°¤å…¶æ˜¯å½“ç”¨æˆ·é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ã€‚</p></li><li><p>æ‰©å±•æ€§é—®é¢˜</p><p>å½“ç³»ç»Ÿç”¨æˆ·ç‰¹åˆ«å¤šçš„æ—¶å€™ï¼Œåç«¯å¤„ç†è¯·æ±‚çš„æœåŠ¡ç«¯é€šå¸¸ç”±å¤šä¸ªï¼Œéƒ¨ç½²åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šã€‚ ä½†æ˜¯å¤šä¸ªèŠ‚ç‚¹éƒ½è¦è®¿é—®sessionè¡¨ï¼Œè¿™æ ·å°±è¦æ±‚æ•°æ®åº“æœåŠ¡èƒ½å¤Ÿè¢«å¤šä¸ªèŠ‚ç‚¹è®¿é—®ï¼Œä¸æ–¹ä¾¿åˆ‡åˆ†æ•°æ®åº“ä»¥æé«˜æ€§èƒ½ã€‚</p></li></ul><p>æœ€è¿‘æ¯”è¾ƒæµè¡Œçš„ä¸€ç§tokenæœºåˆ¶å¯ä»¥æ¯”è¾ƒå¥½çš„è§£å†³è¿™äº›é—®é¢˜ã€‚</p><p>token ç®€å•æ¥è¯´ï¼Œå°±æ˜¯åŒ…å«äº†æ•°æ®ä¿¡æ¯å’Œæ ¡éªŒä¿¡æ¯çš„æ•°æ®åŒ…ã€‚</p><p>Session æœºåˆ¶æ˜¯æŠŠæ•°æ®ä¿¡æ¯ï¼ˆæ¯”å¦‚sessionè¡¨ï¼‰æ”¾åˆ°æœåŠ¡ç«¯ï¼Œ<strong>æœåŠ¡ç«¯æ•°æ®æ˜¯å®¢æˆ·æ— æ³•ç¯¡æ”¹çš„</strong>ï¼Œä»è€Œä¿è¯éªŒè¯çš„å¯é æ€§ã€‚</p><p>è€Œ tokenæœºåˆ¶æ•°æ®ä¿¡æ¯ç›´æ¥ä¼ ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·æ¯æ¬¡è¯·æ±‚å†æºå¸¦è¿‡æ¥ç»™æœåŠ¡ç«¯ã€‚æœåŠ¡ç«¯æ— éœ€æŸ¥æ‰¾æ•°æ®åº“ï¼Œç›´æ¥æ ¹æ®tokené‡Œé¢çš„æ•°æ®ä¿¡æ¯è¿›è¡Œæ ¡éªŒã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šå®¢æˆ·æ•°æ®ç›´æ¥å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœå®¢æˆ·ç«¯ç¯¡æ”¹äº†æ•°æ®ï¼Œ æ¯”å¦‚æŠŠè‡ªå·±æ”¹ä¸º vip ç”¨æˆ·æ€ä¹ˆåŠï¼Ÿ æœåŠ¡ç«¯æ€ä¹ˆéªŒè¯æ•°æ®æœ‰æ²¡æœ‰è¢«å®¢æˆ·ç«¯ç¯¡æ”¹ï¼ˆæœ¯è¯­å«å®Œæ•´æ€§éªŒè¯ï¼‰å‘¢ï¼Ÿ</p><p>token æœºåˆ¶çš„åŸç†å¦‚ä¸‹ï¼š</p><ul><li><p>æœåŠ¡ç«¯é…ç½®ä¸€ä¸ª<strong>å¯†é’¥</strong>ï¼ˆsecret keyï¼‰ï¼Œè¯¥å¯†é’¥æ˜¯æœåŠ¡ç«¯ç§å¯†ä¿å­˜çš„ï¼Œä¸èƒ½å¤–æ³„</p></li><li><p>åœ¨ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œ æœåŠ¡ç«¯å°† <strong>ç”¨æˆ·çš„ä¿¡æ¯æ•°æ® + å¯†é’¥</strong> ä¸€èµ·è¿›è¡Œä¸€ä¸ªå“ˆå¸Œè®¡ç®—ï¼Œ å¾—åˆ°ä¸€ä¸ªå“ˆå¸Œå€¼ã€‚</p><p>æ³¨æ„ï¼šå“ˆå¸Œç®—æ³•ä¿è¯äº†ï¼Œ å“ˆå¸Œå€¼åªèƒ½æ ¹æ®åŒæ ·çš„æºæ•°æ®å¾—åˆ°ã€‚</p><p>å¦‚æœè°ä¿®æ”¹äº†ç”¨æˆ·ä¿¡æ¯ï¼Œ <strong>é™¤éä»–çŸ¥é“å¯†é’¥</strong>ï¼Œå†æ¬¡ä½¿ç”¨å“ˆå¸Œç®—æ³•æ‰èƒ½å¾—åˆ°æ­£ç¡®çš„æ–°çš„å“ˆå¸Œå€¼ã€‚</p><p>æ‰€ä»¥è¿™ä¸ªå“ˆå¸Œå€¼ï¼Œå°±æ˜¯ç”¨æ¥æ ¡éªŒæ•°æ®æ˜¯å¦è¢«ä¿®æ”¹çš„ã€‚</p><p>ç„¶åå°†ç”¨æˆ·æ•°æ®ä¿¡æ¯å’Œå“ˆå¸Œå€¼ä¸€èµ·åšæˆä¸€ä¸ªå­—èŠ‚ä¸² ï¼Œè¿™ä¸ªå­—èŠ‚ä¸²å°±ç§°ä¹‹ä¸º <strong>token</strong> ã€‚</p><p>å¤§å®¶å¯ä»¥å‘ç° token é‡Œé¢ <strong>åŒ…å«äº†ç”¨æˆ·æ•°æ®ä¿¡æ¯ å’Œ ç”¨äºæ ¡éªŒå®Œæ•´æ€§çš„å“ˆå¸Œå€¼</strong>ã€‚</p><p>ç„¶åï¼ŒæœåŠ¡ç«¯è¿”å›ç»™å®¢æˆ·çš„HTTPå“åº”ä¸­è¿”å›äº†è¿™ä¸ªtokenã€‚ é€šå¸¸tokenæ˜¯æ”¾åœ¨HTTPå“åº”çš„å¤´éƒ¨ä¸­çš„ã€‚ å…·ä½“å“ªä¸ªå¤´éƒ¨å­—æ®µæ²¡æœ‰è§„å®šï¼Œå¼€å‘è€…å¯ä»¥è‡ªè¡Œå®šä¹‰ã€‚</p></li><li><p><strong>è¯¥ç”¨æˆ·çš„åç»­æ“ä½œï¼Œè§¦å‘çš„HTTP APIè¯·æ±‚ï¼Œ ä¼šåœ¨è¯·æ±‚æ¶ˆæ¯é‡Œé¢å¸¦ä¸Š token ã€‚</strong></p><p>å…·ä½“åœ¨è¯·æ±‚æ¶ˆæ¯çš„ä»€ä¹ˆåœ°æ–¹å­˜æ”¾ tokenï¼Œ ç”±å¼€å‘è€…è‡ªå·±å®šä¹‰ï¼Œé€šå¸¸ä¹Ÿå­˜æ”¾åœ¨ http è¯·æ±‚çš„å¤´éƒ¨ä¸­ã€‚</p><p>æœåŠ¡ç«¯æ¥æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ ¹æ®æ•°æ®ä¿¡æ¯å’Œå¯†é’¥ä½¿ç”¨å“ˆå¸Œç®—æ³•å†æ¬¡ç”Ÿæˆå“ˆå¸Œå€¼ã€‚</p><p>å¦‚æœå®¢æˆ·ä¿®æ”¹äº†æ•°æ®ä¿¡æ¯ï¼Œ å› ä¸ºä»–ä¸çŸ¥é“å¯†é’¥ï¼Œæ²¡æ³•å¾—åˆ°æ­£ç¡®çš„æ–°çš„å“ˆå¸Œå€¼ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯æ ¹æ® <strong>ç¯¡æ”¹åçš„æ•°æ®+å¯†é’¥</strong> å¾—åˆ°çš„æ–°å“ˆå¸Œå€¼ä¸€å®šå’Œä¿å­˜åœ¨tokenä¸­çš„è€å“ˆå¸Œå€¼ ä¸åŒï¼Œå°±çŸ¥é“æ•°æ®è¢«ä¿®æ”¹äº†ã€‚</p><p>å¦‚æœå®¢æˆ·æ²¡æœ‰ä¿®æ”¹æ•°æ®ï¼ŒæœåŠ¡ç«¯æ ¹æ®åŸæ¥çš„æ•°æ®+å¯†é’¥å¾—åˆ°çš„å“ˆå¸Œå€¼å’Œä¿å­˜åœ¨tokenä¸­åŸæ¥çš„å“ˆå¸Œå€¼ä¸€è‡´ï¼Œå°±æ ¡éªŒé€šè¿‡ã€‚</p><p>æ ¡éªŒé€šè¿‡åï¼Œå°±ç¡®ä¿¡äº†æ•°æ®æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œå¯ä»¥æ”¾å¿ƒçš„ä½¿ç”¨ token é‡Œé¢çš„æ•°æ® è¿›è¡Œåç»­çš„ä¸šåŠ¡é€»è¾‘å¤„ç†äº†ã€‚</p><p>ä¸Šè¿°å¤„ç†ä¸­ï¼Œç”±äºä¸éœ€è¦æœåŠ¡ç«¯è®¿é—®æŸ¥æ‰¾æ•°æ®åº“ï¼Œä»è€Œå¤§å¤§äº†æé«˜äº†å¤„ç†æ€§èƒ½ã€‚</p></li></ul><br><br><h2 id="ä½¿ç”¨sessionéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚"><a href="#ä½¿ç”¨sessionéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚" class="headerlink" title="ä½¿ç”¨sessionéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚"></a>ä½¿ç”¨sessionéªŒè¯å®¢æˆ·ç«¯è¯·æ±‚</h2><p>Django å¯¹ session çš„æ”¯æŒæ˜¯ç¼ºçœå°±æœ‰çš„ã€‚</p><p>å‰é¢å¤„ç†ç™»å½•çš„å‡½æ•°ä¸­æœ‰å¦‚ä¸‹ç®­å¤´æ‰€æŒ‡çš„ä¸€è¡Œä»£ç ï¼š</p><img src="/images/image-20220204123505543.png" alt="image-20220204123505543" style="zoom:50%;"><p>è¿™è¡Œä»£ç çš„ä½œç”¨å°±æ˜¯åœ¨ç™»å½•è®¤è¯åï¼Œå°†ç”¨æˆ·ç±»å‹ä¿å­˜åˆ°sessionæ•°æ®ä¸­ï¼Œ ä¹Ÿå°±æ˜¯å­˜å…¥å‰é¢æ•°æ®åº“çš„é‚£å¼ å›¾çš„ä¼šè¯æ•°æ®è®°å½•ä¸­ã€‚</p><p>Django æ¡†æ¶ä¼šè‡ªåŠ¨åœ¨ HTTP å“åº”æ¶ˆæ¯å¤´ä¸­åŠ å…¥ç±»ä¼¼ä¸‹é¢çš„ sessionid cookieï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">Set-<span class="hljs-symbol">Cookie:</span> sessionid=<span class="hljs-string">??</span><span class="hljs-string">??</span><span class="hljs-string">??</span><span class="hljs-string">??</span><br></code></pre></td></tr></table></figure><p>åç»­çš„HTTPè¯·æ±‚å°±ä¼šæºå¸¦è¿™ä¸ªsessionidï¼Œ</p><p>æˆ‘ä»¬å¤„ç† URL ä»¥ <code>/api/mgr</code> å¼€å¤´çš„ API è¯·æ±‚ä»£ç é‡Œé¢ï¼Œéœ€åŠ ä¸Šä¸€ä¸ªéªŒè¯é€»è¾‘ã€‚</p><p>éªŒè¯è¯·æ±‚çš„ cookie é‡Œé¢æ˜¯å¦æœ‰ sessionidï¼Œå¹¶ä¸”æ£€æŸ¥sessionè¡¨ï¼Œçœ‹çœ‹æ˜¯å¦å­˜åœ¨ session_key ä¸ºè¯¥ sessionid çš„ä¸€æ¡è®°å½•ï¼Œè¯¥è®°å½•çš„æ•°æ®å­—å…¸é‡Œé¢æ˜¯å¦åŒ…å«äº† usertype ä¸º mgr çš„æ•°æ®ã€‚</p><p>å‰é¢å®ç°çš„ä»£ç ä¸­ï¼Œè¿™äº›è¯·æ±‚éƒ½æ˜¯åœ¨ dispatcher å…¥å£å‡½æ•°å¤„ç†çš„ï¼Œæˆ‘ä»¬å°±åªéœ€åœ¨è¯¥dispatchä¸­è¿›è¡ŒéªŒè¯ã€‚</p><p>ä¿®æ”¹ <code>mgr/customer.py</code> çš„dispatcher å‡½æ•°ï¼Œåœ¨å‰é¢åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼š</p><p>ï¼ˆå…¶ä¸­ redirect ä¸ºé‡å®šå‘ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ ¹æ®sessionåˆ¤æ–­ç”¨æˆ·æ˜¯å¦æ˜¯ç™»å½•çš„ç®¡ç†å‘˜ç”¨æˆ·</span><br>   <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;usertype&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> request.session:<br>       <span class="hljs-keyword">return</span> JsonResponse(&#123;<br>           <span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">302</span>,<br>           <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">&#x27;æœªç™»å½•&#x27;</span>,<br>           <span class="hljs-string">&#x27;redirect&#x27;</span>: <span class="hljs-string">&#x27;/mgr/sign.html&#x27;</span>&#125;, <br>           status=<span class="hljs-number">302</span>)<br><br>   <span class="hljs-keyword">if</span> request.session[<span class="hljs-string">&#x27;usertype&#x27;</span>] != <span class="hljs-string">&#x27;mgr&#x27;</span> :<br>       <span class="hljs-keyword">return</span> JsonResponse(&#123;<br>           <span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">302</span>,<br>           <span class="hljs-string">&#x27;msg&#x27;</span>: <span class="hljs-string">&#x27;ç”¨æˆ·émgrç±»å‹&#x27;</span>,<br>           <span class="hljs-string">&#x27;redirect&#x27;</span>: <span class="hljs-string">&#x27;/mgr/sign.html&#x27;</span>&#125; ,<br>           status=<span class="hljs-number">302</span>)<br></code></pre></td></tr></table></figure><p>æ³¨æ„ request å¯¹è±¡é‡Œé¢çš„ session å±æ€§å¯¹åº”çš„å°±æ˜¯ session è®°å½•é‡Œé¢çš„æ•°æ®ã€‚</p><p>è¯¥æ•°æ®å¯¹è±¡ç±»ä¼¼å­—å…¸ï¼Œæ‰€ä»¥æ£€æŸ¥æ˜¯å¦æœ‰ usertype ç±»å‹ä¸º mgr çš„ä¿¡æ¯ï¼Œå°±æ˜¯è¿™æ ·å†™ï¼š</p><p><code>if request.session[&#39;usertype&#39;] != &#39;mgr&#39; </code></p><br><br><h2 id="åŸºäºSessionã€Tokençš„èº«ä»½éªŒè¯å°ç»“"><a href="#åŸºäºSessionã€Tokençš„èº«ä»½éªŒè¯å°ç»“" class="headerlink" title="åŸºäºSessionã€Tokençš„èº«ä»½éªŒè¯å°ç»“"></a>åŸºäºSessionã€Tokençš„èº«ä»½éªŒè¯å°ç»“</h2><ul><li><p>Cookie å­˜å‚¨åœ¨client</p></li><li><p>Session ä¼šè¯ï¼Œå­˜å‚¨åœ¨serverï¼Œserveréœ€è¦å¯¹sessionè¿›è¡Œå®šæœŸæ¸…ç†</p></li><li><p>Token æœåŠ¡ç«¯éªŒè¯æˆåŠŸåæ ¹æ®ä¸€å®šè§„åˆ™ç­¾å‘çš„ä¸€ä¸ªâ€˜ä»¤ç‰Œâ€™ï¼Œserverç«¯æ¯æ¬¡æ”¶åˆ°è¯·æ±‚éƒ½ç”¨ç›¸åŒçš„è§„åˆ™å†æ¬¡ç”Ÿæˆâ€™ä»¤ç‰Œâ€™ä¸å…¶å¯¹æ¯”ï¼Œè€Œæ— éœ€å­˜å‚¨ã€‚</p></li></ul><h5 id="éªŒè¯æµç¨‹ï¼š"><a href="#éªŒè¯æµç¨‹ï¼š" class="headerlink" title="éªŒè¯æµç¨‹ï¼š"></a>éªŒè¯æµç¨‹ï¼š</h5><p>login</p><p>=&gt; å‘é€httpè¯·æ±‚ï¼Œè´¦å·å¯†ç éªŒè¯æˆåŠŸ</p><p>=&gt; serverç«¯é€šè¿‡response Set-Cookieçš„æ–¹å¼å°†sessionIdä¼ é€’åˆ°clinetä½œä¸ºcookieï¼ˆåç«¯æˆ–å‰ç«¯è·³è½¬ï¼‰</p><p>=&gt; clientåç»­å†å‘é€httpè¯·æ±‚ï¼Œheaderè‡ªåŠ¨æºå¸¦cookieï¼Œç”¨äºserverç«¯é‰´æƒ</p><p>=&gt; serverç«¯é€šè¿‡httpè¯·æ±‚å¤´ä¸­çš„sessionIdè¿›è¡Œé‰´æƒï¼ŒæˆåŠŸåˆ™è¿”å›æ•°æ®ï¼Œå¦åˆ™æŠ¥é”™ï¼ˆé‡å®šå‘åˆ°ç™»å½•é¡µï¼‰</p><p>ï¼ˆä½¿ç”¨tokençš„å·®åˆ«åœ¨äºå°†sessionæ¢æˆtokenï¼Œtokenå¯ä»¥é€‰æ‹©æ”¾åœ¨cookieæˆ–localstorageç­‰ï¼Œåœ¨è¯·æ±‚æ—¶ç½®äºheaderæˆ–headerä¸­çš„cookieé‡Œï¼‰</p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ORMå…³è”è¡¨ã€äº‹åŠ¡</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/ORM%E5%85%B3%E8%81%94%E8%A1%A8%E3%80%81%E4%BA%8B%E5%8A%A1/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/ORM%E5%85%B3%E8%81%94%E8%A1%A8%E3%80%81%E4%BA%8B%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="ORM-å¯¹å…³è”è¡¨çš„æ“ä½œ"><a href="#ORM-å¯¹å…³è”è¡¨çš„æ“ä½œ" class="headerlink" title="ORM å¯¹å…³è”è¡¨çš„æ“ä½œ"></a>ORM å¯¹å…³è”è¡¨çš„æ“ä½œ</h2><p>å‰é¢ä¸€å¯¹å¤šï¼Œä¸€å¯¹ä¸€ï¼Œå¤šå¯¹å¤šå…³ç³»è¡¨ï¼Œéƒ½æ˜¯é€šè¿‡å¤–é”®æ¥å®ç°ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®ä¾‹æ¼”ç¤º Django ORM å¦‚ä½•æ“ä½œå¤–é”®å…³è”å…³ç³»ã€‚</p><p>åœ¨ models.py ä¸­å®šä¹‰ä¸¤ä¸ªModelï¼Œå¯¹åº”ä¸¤å¼ è¡¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å›½å®¶è¡¨</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Country</span>(<span class="hljs-params">models.Model</span>):</span><br>    name = models.CharField(max_length=<span class="hljs-number">100</span>)<br><br><span class="hljs-comment"># å­¦ç”Ÿè¡¨ï¼Œ country å­—æ®µæ˜¯å›½å®¶è¡¨çš„å¤–é”®ï¼Œå½¢æˆä¸€å¯¹å¤šçš„å…³ç³»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>(<span class="hljs-params">models.Model</span>):</span><br>    name    = models.CharField(max_length=<span class="hljs-number">100</span>)<br>    grade   = models.PositiveSmallIntegerField()<br>    country = models.ForeignKey(Country,on_delete=models.PROTECT)<br></code></pre></td></tr></table></figure><p>ç„¶åæ‰§è¡Œç›¸å…³å‘½ä»¤ä½¿å®šä¹‰ç”Ÿæ•ˆåˆ°æ•°æ®åº“ä¸­ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim"><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> makemigrations common<br><span class="hljs-keyword">python</span> manage.<span class="hljs-keyword">py</span> migrate<br></code></pre></td></tr></table></figure><p>ç„¶åï¼Œå‘½ä»¤è¡Œä¸­æ‰§è¡Œ <code>python manage.py shell</code> ï¼Œç›´æ¥å¯åŠ¨Djangoå‘½ä»¤è¡Œï¼Œè¾“å…¥ä»£ç ã€‚</p><p>å…ˆè¾“å…¥å¦‚ä¸‹ä»£ç ï¼Œåˆ›å»ºä¸€äº›æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> common.models <span class="hljs-keyword">import</span> *<br>c1 = Country.objects.create(name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>)<br>c2 = Country.objects.create(name=<span class="hljs-string">&#x27;ç¾å›½&#x27;</span>)<br>c3 = Country.objects.create(name=<span class="hljs-string">&#x27;æ³•å›½&#x27;</span>)<br>Student.objects.create(name=<span class="hljs-string">&#x27;ç™½æœˆ&#x27;</span>, grade=<span class="hljs-number">1</span>, country=c1)<br>Student.objects.create(name=<span class="hljs-string">&#x27;é»‘ç¾½&#x27;</span>, grade=<span class="hljs-number">2</span>, country=c1)<br>Student.objects.create(name=<span class="hljs-string">&#x27;å¤§ç½—&#x27;</span>, grade=<span class="hljs-number">1</span>, country=c1)<br>Student.objects.create(name=<span class="hljs-string">&#x27;çœŸä½›&#x27;</span>, grade=<span class="hljs-number">2</span>, country=c1)<br>Student.objects.create(name=<span class="hljs-string">&#x27;Mike&#x27;</span>, grade=<span class="hljs-number">1</span>, country=c2)<br>Student.objects.create(name=<span class="hljs-string">&#x27;Gus&#x27;</span>,  grade=<span class="hljs-number">1</span>, country=c2)<br>Student.objects.create(name=<span class="hljs-string">&#x27;White&#x27;</span>, grade=<span class="hljs-number">2</span>, country=c2)<br>Student.objects.create(name=<span class="hljs-string">&#x27;Napolen&#x27;</span>, grade=<span class="hljs-number">2</span>, country=c3)<br></code></pre></td></tr></table></figure><br><h3 id="å¤–é”®è¡¨å­—æ®µè®¿é—®"><a href="#å¤–é”®è¡¨å­—æ®µè®¿é—®" class="headerlink" title="å¤–é”®è¡¨å­—æ®µè®¿é—®"></a>å¤–é”®è¡¨å­—æ®µè®¿é—®</h3><p>å¦‚æœä½ å·²ç»è·å–äº†ä¸€ä¸ªstudentå¯¹è±¡ï¼Œè¦å¾—åˆ°ä»–çš„å›½å®¶åç§°åªéœ€è¿™æ ·ï¼š</p><p><strong>ï¼ˆç±»Classâ€”è¡¨ç»“æ„ï¼›æ¯æ¡æ•°æ®â€”ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼‰</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">s1 = Student.objects.get(name=<span class="hljs-string">&#x27;ç™½æœˆ&#x27;</span>)<br>s1.country.name<br></code></pre></td></tr></table></figure><p>ç¬¬ä¸€å¥è·å–åä¸ºç™½æœˆçš„ Student å¯¹è±¡ï¼Œç¬¬äºŒå¥ä¸­çš„ s1.country ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚</p><h3 id="å¤–é”®è¡¨å­—æ®µè¿‡æ»¤"><a href="#å¤–é”®è¡¨å­—æ®µè¿‡æ»¤" class="headerlink" title="å¤–é”®è¡¨å­—æ®µè¿‡æ»¤"></a>å¤–é”®è¡¨å­—æ®µè¿‡æ»¤</h3><p>å¦‚æœæˆ‘ä»¬è¦æŸ¥æ‰¾Studentè¡¨ä¸­æ‰€æœ‰ <code>ä¸€å¹´çº§</code> å­¦ç”Ÿï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>).values()<br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬è¦æŸ¥æ‰¾Studentè¡¨ä¸­æ‰€æœ‰ <code>ä¸€å¹´çº§ä¸­å›½</code> å­¦ç”Ÿï¼š</p><p><u>ä¸èƒ½</u>è¿™ä¹ˆå†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>,country=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å› ä¸º Student è¡¨ä¸­ <code>country</code> å¹¶ä¸æ˜¯å›½å®¶åç§°å­—ç¬¦ä¸²å­—æ®µï¼Œè€Œæ˜¯ä¸€ä¸ªå¤–é”®å­—æ®µï¼Œå¯¹åº” Country è¡¨ä¸­ <code>id</code> å­—æ®µ ã€‚</p><p>åº”è¯¥è¿™ä¹ˆå†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">cn = Country.objects.get(name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>)<br>Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>,country_id=cn.<span class="hljs-built_in">id</span>).values()<br></code></pre></td></tr></table></figure><p>æ³¨æ„å¤–é”®å­—æ®µçš„idæ˜¯é€šè¿‡åç¼€ <code>_id</code> è·å–çš„ã€‚</p><p>ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">cn = Country.objects.get(name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>)<br>Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>,country=cn).values()<br></code></pre></td></tr></table></figure><p>ä¸Šé¢çš„æ–¹æ³•ï¼Œå†™èµ·æ¥éº»çƒ¦ä¸€äº›ï¼Œæœ‰ä¸¤æ­¥æ“ä½œã€‚è€Œä¸”éœ€è¦å‘é€ä¸¤æ¬¡æ•°æ®è¯·æ±‚ç»™æ•°æ®åº“æœåŠ¡ï¼Œæ€§èƒ½ä¸é«˜ã€‚</p><p>å…¶å® Django ORM ä¸­å¯¹å¤–é”®å…³è”æœ‰æ›´æ–¹ä¾¿çš„è¯­æ³•ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>,country__name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>).values() <span class="hljs-comment"># æ³¨æ„ä¸ºä¸¤ä¸ªä¸‹åˆ’çº¿</span><br></code></pre></td></tr></table></figure><p>å†™èµ·æ¥ç®€å•ï¼Œä¸€æ­¥åˆ°ä½ï¼Œè€Œä¸”åªéœ€è¦å‘é€ä¸€ä¸ªæ•°æ®åº“è¯·æ±‚ï¼Œæ€§èƒ½æ›´å¥½ã€‚</p><p>å¦‚æœè¿”å›ç»“æœåªéœ€è¦ å­¦ç”Ÿå§“å å’Œ å›½å®¶åä¸¤ä¸ªå­—æ®µï¼Œå¯ä»¥è¿™æ ·æŒ‡å®švalueså†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>,country__name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>).values(<span class="hljs-string">&#x27;name&#x27;</span>,<span class="hljs-string">&#x27;country__name&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ·å†™æœ‰ä¸ªé—®é¢˜ï¼šé€‰æ‹©å‡ºæ¥çš„è®°å½•ä¸­ï¼Œå›½å®¶åæ˜¯ <code>country__name</code> ã€‚ ä¸¤ä¸ªä¸‹åˆ’çº¿æ¯”è¾ƒæ€ªã€‚</p><p>æœ‰æ—¶å€™ï¼Œå‰åç«¯æ¥å£çš„è®¾è®¡è€…ï¼Œå®šä¹‰å¥½äº†æ¥å£æ ¼å¼ï¼Œå¦‚æœè¦æ±‚ä¸€å®šæ˜¯ <code>countryname</code> è¿™æ ·æ€ä¹ˆåŠï¼Ÿ</p><p>å¯ä»¥ä½¿ç”¨ <code>annotate</code> æ–¹æ³•å°†è·å–çš„å­—æ®µå€¼è¿›è¡Œ<strong>é‡å‘½å</strong>ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> F<br><br><span class="hljs-comment"># annotate å¯ä»¥å°†è¡¨å­—æ®µè¿›è¡Œåˆ«åå¤„ç†</span><br>Student.objects.annotate(<br>    countryname=F(<span class="hljs-string">&#x27;country__name&#x27;</span>),<br>    studentname=F(<span class="hljs-string">&#x27;name&#x27;</span>)<br>    )\<br>    .<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>,countryname=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>).values(<span class="hljs-string">&#x27;studentname&#x27;</span>,<span class="hljs-string">&#x27;countryname&#x27;</span>)<br></code></pre></td></tr></table></figure><br><h3 id="å¤–é”®è¡¨åå‘è®¿é—®"><a href="#å¤–é”®è¡¨åå‘è®¿é—®" class="headerlink" title="å¤–é”®è¡¨åå‘è®¿é—®"></a>å¤–é”®è¡¨åå‘è®¿é—®</h3><p>Django ORMä¸­ï¼Œå…³è”è¡¨æ­£å‘å…³ç³»æ˜¯é€šè¿‡è¡¨å¤–é”®å­—æ®µï¼ˆæˆ–è€…å¤šå¯¹å¤šï¼‰è¡¨ç¤ºï¼Œæ¯”å¦‚å‰é¢ä¾‹å­ä¸­Studentè¡¨çš„ countryå­—æ®µã€‚</p><p>è€Œåå‘å…³ç³»ï¼Œæ˜¯é€šè¿‡ <u>è¡¨Modelåè½¬åŒ–ä¸ºå°å†™</u> è¡¨ç¤ºçš„ã€‚</p><p>æ¯”å¦‚ï¼Œä½ å·²ç»è·å–äº†ä¸€ä¸ªCountryå¯¹è±¡ï¼Œå¦‚ä¸‹å¯ä»¥è·å–åˆ°æ‰€æœ‰å±äºè¿™ä¸ªå›½å®¶çš„å­¦ç”Ÿï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">cn = Country.objects.get(name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>)<br>cn.student_set.<span class="hljs-built_in">all</span>()<br></code></pre></td></tr></table></figure><p>é€šè¿‡<strong>è¡¨Modelåè½¬åŒ–ä¸ºå°å†™</strong> ï¼Œåé¢åŠ ä¸Šä¸€ä¸ª <strong>_set</strong> æ¥è·å–æ‰€æœ‰çš„åå‘å¤–é”®å…³è”å¯¹è±¡</p><p>Djangoè¿˜ç»™å‡ºäº†ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ›´ç›´è§‚çš„åæ˜ å…³è”å…³ç³»ã€‚</p><p>åœ¨å®šä¹‰Modelçš„æ—¶å€™ï¼Œå¤–é”®å­—æ®µä½¿ç”¨ <code>related_name</code> å‚æ•°ï¼Œåƒè¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å›½å®¶è¡¨</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Country</span>(<span class="hljs-params">models.Model</span>):</span><br>    name = models.CharField(max_length=<span class="hljs-number">100</span>)<br><br><span class="hljs-comment"># country å­—æ®µæ˜¯å›½å®¶è¡¨çš„å¤–é”®ï¼Œå½¢æˆä¸€å¯¹å¤šçš„å…³ç³»</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>(<span class="hljs-params">models.Model</span>):</span><br>    name    = models.CharField(max_length=<span class="hljs-number">100</span>)<br>    grade   = models.PositiveSmallIntegerField()<br>    country = models.ForeignKey(Country,<br>                on_delete = models.PROTECT,<br>                <span class="hljs-comment"># æŒ‡å®šåå‘è®¿é—®çš„åå­—</span><br>                related_name=<span class="hljs-string">&#x27;students&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å°±å¯ä»¥ä½¿ç”¨æ›´ç›´è§‚çš„å±æ€§åï¼Œåƒè¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">cn = Country.objects.get(name=<span class="hljs-string">&#x27;ä¸­å›½&#x27;</span>)<br>cn.students.<span class="hljs-built_in">all</span>()<br></code></pre></td></tr></table></figure><br><h3 id="å¤–é”®è¡¨åå‘è¿‡æ»¤"><a href="#å¤–é”®è¡¨åå‘è¿‡æ»¤" class="headerlink" title="å¤–é”®è¡¨åå‘è¿‡æ»¤"></a>å¤–é”®è¡¨åå‘è¿‡æ»¤</h3><p>å¦‚æœæˆ‘ä»¬è¦è·å–æ‰€æœ‰å…·æœ‰ä¸€å¹´çº§å­¦ç”Ÿçš„å›½å®¶åï¼Œè¯¥æ€ä¹ˆå†™ï¼Ÿ</p><p>å½“ç„¶å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å…ˆè·å–æ‰€æœ‰çš„ä¸€å¹´çº§å­¦ç”Ÿidåˆ—è¡¨</span><br>country_ids = Student.objects.<span class="hljs-built_in">filter</span>(grade=<span class="hljs-number">1</span>).values_list(<span class="hljs-string">&#x27;country&#x27;</span>, flat=<span class="hljs-literal">True</span>)<br><br><span class="hljs-comment"># å†é€šè¿‡idåˆ—è¡¨ä½¿ç”¨  id__in  è¿‡æ»¤</span><br>Country.objects.<span class="hljs-built_in">filter</span>(id__in=country_ids).values()<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ ·åŒæ ·å­˜åœ¨éº»çƒ¦å’Œæ€§èƒ½çš„é—®é¢˜ã€‚</p><p>Django ORM å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Country.objects.<span class="hljs-built_in">filter</span>(students__grade=<span class="hljs-number">1</span>).values()<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ å› ä¸ºï¼Œæˆ‘ä»¬å®šä¹‰è¡¨çš„æ—¶å€™ï¼Œç”¨ <code>related_name=&#39;students&#39;</code> æŒ‡å®šäº†åå‘å…³è”åç§° <code>students</code> ï¼Œæ‰€ä»¥è¿™é‡Œæ˜¯ <code>students__grade</code> ã€‚ ä½¿ç”¨äº†åå‘å…³è”åå­—ã€‚</p><p>å¦‚æœå®šä¹‰æ—¶ï¼Œæ²¡æœ‰æŒ‡å®šrelated_nameï¼Œ åˆ™åº”è¯¥ä½¿ç”¨ <code>è¡¨åè½¬åŒ–ä¸ºå°å†™</code> ï¼Œå°±æ˜¯è¿™æ ·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Country.objects.<span class="hljs-built_in">filter</span>(student__grade=<span class="hljs-number">1</span>).values()<br></code></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼ï¼Œä¼šæœ‰é‡å¤çš„è®°å½•äº§ç”Ÿï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ <code>.distinct()</code> å»é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">Country.objects.<span class="hljs-built_in">filter</span>(students__grade=<span class="hljs-number">1</span>).values().distinct()<br></code></pre></td></tr></table></figure><br><h3 id="äº‹åŠ¡ã€å¤šå¯¹å¤šè®°å½•æ·»åŠ "><a href="#äº‹åŠ¡ã€å¤šå¯¹å¤šè®°å½•æ·»åŠ " class="headerlink" title="äº‹åŠ¡ã€å¤šå¯¹å¤šè®°å½•æ·»åŠ "></a>äº‹åŠ¡ã€å¤šå¯¹å¤šè®°å½•æ·»åŠ </h3><p>ä¸¤å¼ è¡¨çš„æ’å…¥ï¼Œæ„å‘³ç€æˆ‘ä»¬è¦è¿›è¡Œä¸¤æ¬¡æ•°æ®åº“æ“ä½œã€‚</p><p>å¦‚æœç¬¬ä¸€æ¬¡æ’å…¥æˆåŠŸï¼Œ è€Œç¬¬äºŒæ¬¡æ’å…¥å¤±è´¥ï¼Œå°±ä¼šå‡ºç° Orderè¡¨ä¸­æŠŠè®¢å•ä¿¡æ¯å†™äº†ä¸€éƒ¨åˆ†ï¼Œè€ŒOrderMedicineè¡¨ä¸­ è¯¥è®¢å•çš„ä¿¡æ¯å´æ²¡æœ‰å†™æˆåŠŸã€‚è¿™æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œä¼šé€ æˆè¿™ä¸ªå¤„ç†åšäº†ä¸€åŠã€‚</p><p>é‚£ä¹ˆæ•°æ®åº“ä¸­å°±ä¼šå‡ºç°æ•°æ®çš„ä¸ä¸€è‡´ï¼Œæœ¯è¯­å«<strong>è„æ•°æ®</strong>ã€‚</p><p>é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åº”è¯¥ç”¨æ•°æ®åº“çš„<strong>äº‹åŠ¡</strong>æœºåˆ¶æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>æŠŠä¸€æ‰¹æ•°æ®åº“æ“ä½œæ”¾åœ¨äº‹åŠ¡ä¸­ï¼Œ è¯¥<u>äº‹åŠ¡ä¸­çš„ä»»ä½•ä¸€æ¬¡æ•°æ®åº“æ“ä½œå¤±è´¥äº†</u>ï¼Œæ•°æ®åº“ç³»ç»Ÿå°±ä¼šè®©æ•´ä¸ªäº‹åŠ¡å°±ä¼šå‘ç”Ÿ<strong>å›æ»š</strong>ï¼Œ<strong>æ’¤é”€å‰é¢çš„æ“ä½œ</strong>ï¼Œ æ•°æ®åº“å›æ»šåˆ°è¿™äº‹åŠ¡æ“ä½œä¹‹å‰çš„çŠ¶æ€ã€‚</p><p>Django ä½¿ç”¨ with transaction.atomic() å®ç°äº‹åŠ¡æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">addorder</span>(<span class="hljs-params">request</span>):</span><br><br>    info  = request.params[<span class="hljs-string">&#x27;data&#x27;</span>]<br><br>    <span class="hljs-comment"># ä»è¯·æ±‚æ¶ˆæ¯ä¸­ è·å–è¦æ·»åŠ è®¢å•çš„ä¿¡æ¯</span><br>    <span class="hljs-comment"># å¹¶ä¸”æ’å…¥åˆ°æ•°æ®åº“ä¸­</span><br><br>    <br>    <span class="hljs-keyword">with</span> transaction.atomic():<br>        new_order = Order.objects.create(name=info[<span class="hljs-string">&#x27;name&#x27;</span>] ,<br>                                         customer_id=info[<span class="hljs-string">&#x27;customerid&#x27;</span>])<br><br>        batch = [OrderMedicine(order_id=new_order.<span class="hljs-built_in">id</span>,medicine_id=mid,amount=<span class="hljs-number">1</span>)  <br>                    <span class="hljs-keyword">for</span> mid <span class="hljs-keyword">in</span> info[<span class="hljs-string">&#x27;medicineids&#x27;</span>]]<br><br>        <span class="hljs-comment">#  åœ¨å¤šå¯¹å¤šå…³ç³»è¡¨ä¸­ æ·»åŠ äº† å¤šæ¡å…³è”è®°å½•</span><br>        OrderMedicine.objects.bulk_create(batch)<br><br><br>    <span class="hljs-keyword">return</span> JsonResponse(&#123;<span class="hljs-string">&#x27;ret&#x27;</span>: <span class="hljs-number">0</span>,<span class="hljs-string">&#x27;id&#x27;</span>:new_order.<span class="hljs-built_in">id</span>&#125;)<br></code></pre></td></tr></table></figure><p><code>with transaction.atomic()</code> ä¸‹é¢ç¼©è¿›éƒ¨åˆ†çš„ä»£ç ï¼Œå¯¹æ•°æ®åº“çš„æ“ä½œï¼Œå°±éƒ½æ˜¯åœ¨ <code>ä¸€ä¸ªäº‹åŠ¡</code> ä¸­è¿›è¡Œäº†ã€‚</p><p>å¦‚æœå…¶ä¸­æœ‰ä»»ä½•ä¸€æ­¥æ•°æ®æ“ä½œå¤±è´¥äº†ï¼Œå‰é¢çš„æ“ä½œéƒ½ä¼šå›æ»šã€‚</p><p>è¿™å°±å¯ä»¥é˜²æ­¢å‡ºç°å‰é¢çš„ Order è¡¨è®°å½•æ’å…¥æˆåŠŸï¼Œ è€Œåé¢çš„è®¢å•è¯å“è®°å½•æ’å…¥å¤±è´¥è€Œå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´ç°è±¡ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>HTTPè¯·æ±‚çš„urlè·¯ç”±</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/HTTP%E8%AF%B7%E6%B1%82%E7%9A%84url%E8%B7%AF%E7%94%B1/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/HTTP%E8%AF%B7%E6%B1%82%E7%9A%84url%E8%B7%AF%E7%94%B1/</url>
    
    <content type="html"><![CDATA[<h2 id="åˆ›å»ºé¡¹ç›®app"><a href="#åˆ›å»ºé¡¹ç›®app" class="headerlink" title="åˆ›å»ºé¡¹ç›®app"></a>åˆ›å»ºé¡¹ç›®app</h2><p>Django ä¸­çš„ä¸€ä¸ªapp å°±æ˜¯é¡¹ç›®é‡Œé¢çš„ä¸€ä¸ªåº”ç”¨çš„æ„æ€ï¼Œä¸€ä¸ªé¡¹ç›®åŒ…å«å¤šä¸ªappï¼ˆåŠŸèƒ½åº”ç”¨ï¼‰ã€‚</p><p>ä¸€ä¸ªapp é€šå¸¸å°±æ˜¯ä¸€ä¸ªç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å— ï¼Œå®ç°ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½ã€‚                 </p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªç³»ç»Ÿçš„ç®¡ç†å‘˜ç®¡ç†åŠŸèƒ½æ”¾åœ¨ä¸€ä¸ªåä¸º manage çš„ app é‡Œé¢ï¼ŒæŠŠé”€å”®äººå‘˜çš„æ“ä½œå®ç°åœ¨å¦å¤–ä¸€ä¸ªåå­—ä¸º salesçš„appé‡Œé¢ã€‚</p><p>æ¯”å¦‚ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦ä¸€ä¸ª app ä¸“é—¨å¤„ç† ç³»ç»Ÿé”€å”®å‘˜çš„ æ·»åŠ ã€ä¿®æ”¹ã€æŸ¥è¯¢ã€åˆ é™¤è¯·æ±‚ã€‚</p><p>æˆ‘ä»¬å°±è¿›å…¥é¡¹ç›®<strong>æ ¹ç›®å½•</strong>ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">python manage.py startapp sales <br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±ä¼šåˆ›å»ºä¸€ä¸ªç›®å½•åä¸º salesï¼Œ å¯¹åº”ä¸€ä¸ªåä¸º sales çš„appï¼Œé‡Œé¢åŒ…å«äº†å¦‚ä¸‹è‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs py">sales/<br>    __init__.py<br>    admin.py<br>    apps.py<br>    migrations/<br>        __init__.py<br>    models.py<br>    tests.py<br>    views.py<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªç›®å½•å…¶å®å°±æ˜¯ä¸€ä¸ªpython packageã€‚</p><br><br><h2 id="è¿”å›-é¡µé¢å†…å®¹-ç»™æµè§ˆå™¨"><a href="#è¿”å›-é¡µé¢å†…å®¹-ç»™æµè§ˆå™¨" class="headerlink" title="è¿”å› é¡µé¢å†…å®¹ ç»™æµè§ˆå™¨"></a>è¿”å› é¡µé¢å†…å®¹ ç»™æµè§ˆå™¨</h2><p>å½“æˆ‘ä»¬è¾“å…¥ç½‘å€ï¼Œæ¯”å¦‚ç™¾åº¦ç½‘å€ï¼Œæ•²å›è½¦åï¼Œ æµè§ˆå™¨ä¼šå‘å‡ºhttpè¯·æ±‚ç»™ç™¾åº¦çš„æœåŠ¡å™¨ï¼Œç™¾åº¦æœåŠ¡å™¨è¿”å› HTML æ–‡æ¡£å†…å®¹ç»™æµè§ˆå™¨ï¼Œ æµè§ˆå™¨è§£æåï¼Œå‘ˆç°å‡ºæˆ‘ä»¬æœ€ç»ˆçœ‹åˆ°çš„ç½‘é¡µå†…å®¹ã€‚</p><p>åˆšæ‰æˆ‘ä»¬åˆ›å»ºçš„ sales åº”ç”¨é‡Œé¢ æœ‰ä¸ª views.py æ–‡ä»¶ã€‚ è¿™ä¸ªæ–‡ä»¶é‡Œé¢é€šå¸¸æ˜¯å†™å¤„ç†httpè¯·æ±‚çš„ä»£ç çš„ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬è®¾è®¡æµè§ˆå™¨è®¿é—®çš„httpè¯·æ±‚çš„ url åœ°å€å¦‚æœæ˜¯ <code>/sales/orders/</code> , å°±ç”± views.py é‡Œé¢çš„å‡½æ•° <code>listorders</code> æ¥å¤„ç†ï¼Œ è¿”å›ä¸€æ®µå­—ç¬¦ä¸²ç»™æµè§ˆå™¨ã€‚</p><p>æ‰“å¼€ views.py , åœ¨é‡Œé¢åŠ å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">listorders</span>(<span class="hljs-params">request</span>):</span><br>    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">&quot;ä¸‹é¢æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„è®¢å•ä¿¡æ¯ã€‚ã€‚ã€‚&quot;</span>)<br></code></pre></td></tr></table></figure><h5 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h5><ul><li><p>è¿™é‡Œé¢æœ€ç»ˆçš„è¿”å›ç»“æœæ˜¯ <strong>HttpResponse</strong> å¯¹è±¡çš„å‚æ•°å­—ç¬¦ä¸² ï¼Œä¹Ÿå°±æ˜¯è¿™å¥è¯</p><p><code>ä¸‹é¢æ˜¯ç³»ç»Ÿä¸­æ‰€æœ‰çš„è®¢å•ä¿¡æ¯ã€‚ã€‚ã€‚</code></p></li><li><p>listordersçš„å‚æ•° <strong>request</strong> æ˜¯Djangoä¸­çš„ <code>HttpRequest</code> å¯¹è±¡ï¼ŒåŒ…å«äº† <u>HTTPè¯·æ±‚ä¸­çš„ä¿¡æ¯</u> ã€‚</p><p>åç«¯ç¨‹åºå¤„ç†è¯·æ±‚ï¼Œå¸¸å¸¸è¦æ ¹æ®<strong>è¯·æ±‚ä¸­çš„æ•°æ®</strong>è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œæ¯”å¦‚è¯·æ±‚æ·»åŠ ä¸€ä¸ªç”¨æˆ·ï¼Œé‚£ä¹ˆHTTPè¯·æ±‚æ¶ˆæ¯ä¸­å°±ä¼šæºå¸¦è¦æ·»åŠ ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆå§“åã€ç™»å½•è´¦å·ç­‰ï¼‰ã€‚</p><p>æˆ‘ä»¬å†™åç«¯çš„ä»£ç ï¼Œè¿™äº›ä¿¡æ¯å°±åœ¨ <code>HttpRequest</code>å¯¹è±¡ä¸­è·å–ï¼Œæ‰€ä»¥è¿™ä¸ªå‚æ•°éå¸¸é‡è¦ã€‚</p><p><code>HttpRequest</code> å¯¹è±¡çš„å±æ€§å’Œç”¨æ³•ï¼Œå…·ä½“å¯ä»¥<a href="https://docs.djangoproject.com/zh-hans/3.1/ref/request-response/">å‚è€ƒå®˜æ–¹æ–‡æ¡£è¿™é‡Œ</a></p></li></ul><p>å…‰æ˜¯å®šä¹‰äº†è¿™æ ·ä¸€ä¸ªå‡½æ•°ä¸è¡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ Django ï¼šå½“å‰ç«¯å‘é€è¿‡æ¥çš„HTTPè¯·æ±‚ urlåœ°å€ æ˜¯ <code>/sales/orders/</code> , å°±ç”± views.py é‡Œé¢çš„å‡½æ•° <code>listorders</code> æ¥å¤„ç†ã€‚</p><p>æ€ä¹ˆå‘Šè¯‰Djangoå‘¢ï¼Œè¿™å°±æ˜¯ Djangoä¸­çš„ urlè·¯ç”±è®¾ç½®ã€‚</p><br><br><h2 id="url-è·¯ç”±"><a href="#url-è·¯ç”±" class="headerlink" title="url è·¯ç”±"></a>url è·¯ç”±</h2><h4 id="æ·»åŠ è·¯ç”±è®°å½•"><a href="#æ·»åŠ è·¯ç”±è®°å½•" class="headerlink" title="æ·»åŠ è·¯ç”±è®°å½•"></a>æ·»åŠ è·¯ç”±è®°å½•</h4><p>å‰é¢åœ¨åˆ›å»ºé¡¹ç›®ç›®å½•çš„æ—¶å€™ï¼Œåœ¨é¡¹ç›®çš„è®¾ç½®ç›®å½•ä¸‹ï¼Œæœ‰ä¸€ä¸ªurls.py æ–‡ä»¶</p><p><img src="/images/36257654_38775838-d867214c-40be-11e8-91e6-45d4d2bae920.png" alt="ç™½æœˆé»‘ç¾½Python3æ•™ç¨‹"></p><p>è¿™ä¸ªæ–‡ä»¶æ˜¯ url è·¯ç”±è®¾ç½®çš„å…¥å£æ–‡ä»¶ã€‚</p><p>æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œåœ¨ urlpatterns åˆ—è¡¨å˜é‡ä¸­æ·»åŠ ä¸€æ¡è·¯ç”±ä¿¡æ¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-comment"># åˆ«å¿˜äº†å¯¼å…¥ listorders å‡½æ•°</span><br><span class="hljs-keyword">from</span> sales.views <span class="hljs-keyword">import</span> listorders<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;admin/&#x27;</span>, admin.site.urls),<br><br>    <span class="hljs-comment"># æ·»åŠ å¦‚ä¸‹çš„è·¯ç”±è®°å½•</span><br>    path(<span class="hljs-string">&#x27;sales/orders/&#x27;</span>, listorders),<br>]<br></code></pre></td></tr></table></figure><p>urlpatterns åˆ—è¡¨ å°±æ˜¯ Django çš„ url è·¯ç”±çš„å…¥å£ã€‚</p><p>æˆ‘ä»¬æ·»åŠ çš„ path(â€˜sales/orders/â€˜, listorders) å°±æ˜¯å‘Šè¯‰å½“å‰ç«¯è¿‡æ¥çš„è¯·æ±‚ url åœ°å€å¦‚æœæ˜¯ /sales/orders/ (æ³¨æ„ï¼šæœ€åçš„ä¸€ä¸ªæ–œæ ä¸èƒ½çœç•¥) , å°±ç”± views.py é‡Œé¢çš„å‡½æ•° listorders æ¥å¤„ç†ã€‚</p><p><strong>è·¯ç”±å°±æ˜¯æŒ‡ ï¼š æ ¹æ® HTTPè¯·æ±‚çš„urlè·¯å¾„ï¼Œ è®¾ç½®ç”±å“ªä¸ªå‡½æ•°æ¥å¤„ç†è¿™ä¸ªè¯·æ±‚ã€‚</strong></p><br><h3 id="è·¯ç”±å­è¡¨"><a href="#è·¯ç”±å­è¡¨" class="headerlink" title="è·¯ç”±å­è¡¨"></a>è·¯ç”±å­è¡¨</h3><p>url è·¯ç”±è¡¨å°±æ˜¯å¯ä»¥åƒä¸Šé¢è¿™æ ·ï¼Œä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªå¤„ç†å‡½æ•°ã€‚</p><p>ä½†æ˜¯æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„é¡¹ç›®æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œ è¯·æ±‚çš„ url ä¼šç‰¹åˆ«å¤šã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬çš„ç³»ç»Ÿæä¾›ç»™å®¢æˆ·ã€é”€å”®å•†ã€ç®¡ç†å‘˜è®¿é—®çš„urlæ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs awk">customer/<br>customer<span class="hljs-regexp">/orders/</span>      <br><br>sales/<br>sales<span class="hljs-regexp">/orders/</span>  <br><br>mgr/<br>mgr<span class="hljs-regexp">/customers/</span><br>mgr<span class="hljs-regexp">/medicines/</span><br>mgr<span class="hljs-regexp">/orders/</span><br></code></pre></td></tr></table></figure><p>å¤æ‚çš„ç³»ç»Ÿurlæ¡ç›®å¤šè¾¾å‡ ç™¾ç”šè‡³ä¸Šåƒä¸ªï¼Œ æ”¾åœ¨ä¸€ä¸ªè¡¨ä¸­ï¼ŒæŸ¥çœ‹æ—¶ï¼Œè¦æ‰¾ä¸€æ¡è·¯ç”±è®°å½•å°±éå¸¸éº»çƒ¦ã€‚</p><p>è¿™æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥å°†ä¸åŒçš„è·¯ç”±è®°å½•æŒ‰ç…§åŠŸèƒ½åˆ†åˆ°ä¸åŒçš„ <strong>urlè·¯ç”±å­è¡¨</strong> æ–‡ä»¶ä¸­ã€‚</p><p>æ¯”å¦‚ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æŠŠå‡¡æ˜¯ä»¥ sales å¼€å¤´çš„ url å…¨éƒ¨éƒ½ ç”± sales app ç›®å½•ä¸‹é¢çš„å­è·¯ç”±æ–‡ä»¶ urls.py å¤„ç†ã€‚</p><p>é¦–å…ˆéœ€è¦åœ¨ sales ç›®å½•ä¸‹é¢åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ sales\urls.py ï¼Œç„¶ååœ¨è¿™ä¸ª sales\urls.py æ–‡ä»¶ä¸­è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;orders/&#x27;</span>, views.listorders),<br>]<br></code></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬å†ä¿®æ”¹ä¸»urlè·¯ç”±æ–‡ä»¶ bysms/urls.py ï¼ˆé…ç½®æ–‡ä»¶é‡Œçš„urls.pyï¼‰, å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><br><span class="hljs-comment"># å¯¼å…¥ä¸€ä¸ªincludeå‡½æ•°</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br><span class="hljs-keyword">from</span> sales.views <span class="hljs-keyword">import</span> listorders<br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;admin/&#x27;</span>, admin.site.urls),<br><br>    <span class="hljs-comment"># å‡¡æ˜¯ url ä»¥ sales/  å¼€å¤´çš„ï¼Œ</span><br>    <span class="hljs-comment"># éƒ½æ ¹æ® sales.urls é‡Œé¢çš„ å­è·¯ç”±è¡¨è¿›è¡Œè·¯ç”±</span><br>    path(<span class="hljs-string">&#x27;sales/&#x27;</span>, include(<span class="hljs-string">&#x27;sales.urls&#x27;</span>)),<br><br>]<br></code></pre></td></tr></table></figure><p><strong>è¯·æ±‚ä¸¾ä¾‹ï¼š</strong></p><p>å½“ä¸€ä¸ªhttpè¯·æ±‚è¿‡æ¥æ—¶ï¼Œ Django æ£€æŸ¥ urlï¼Œæ¯”å¦‚è¿™é‡Œæ˜¯ <code>sales/orders/</code>ï¼Œ</p><p>å…ˆåˆ°ä¸»urlè·¯ç”±æ–‡ä»¶ <code>bysms/urls.py</code>ä¸­æŸ¥çœ‹ æ˜¯å¦æœ‰åŒ¹é…çš„è·¯ç”±é¡¹ã€‚</p><p>å¦‚æœæœ‰åŒ¹é… ( è¿™é‡ŒåŒ¹é…äº† <code>sales/</code> )ï¼Œ å¹¶ä¸”åŒ¹é…çš„å¯¹è±¡ä¸æ˜¯å‡½æ•°ï¼Œ è€Œæ˜¯ä¸€ä¸ªå­è·¯ç”±è®¾ç½® , æ¯”å¦‚è¿™é‡Œæ˜¯<code>include(&#39;sales.urls&#39;)</code></p><p>å°±ä¼šå»å­è·¯ç”±æ–‡ä»¶ä¸­æŸ¥çœ‹ï¼Œ è¿™é‡Œå°±æ˜¯ sales.urls å¯¹åº”çš„æ–‡ä»¶ <code>sales\urls.py</code> ã€‚</p><p>æ³¨æ„è¿™æ—¶ï¼Œä¼šä»è¯·æ±‚urlä¸­<strong>å»æ‰å‰é¢ä¸»è·¯ç”±æ–‡ä»¶å·²ç»åŒ¹é…ä¸Šçš„éƒ¨åˆ†</strong>ï¼ˆè¿™é‡Œæ˜¯ <code>sales/</code> ï¼‰, å°†<strong>å‰©ä½™çš„éƒ¨åˆ†</strong> ï¼ˆè¿™é‡Œæ˜¯ <code>orders/</code> ï¼‰å»<strong>å­è·¯ç”±è¡¨</strong>ä¸­æŸ¥çœ‹æ˜¯å¦æœ‰åŒ¹é…çš„è·¯ç”±é¡¹ã€‚</p><p>è¿™é‡Œå°±åŒ¹é…äº† <code>orders/</code> ï¼ŒåŒ¹é…çš„å¯¹è±¡ï¼Œè¿™é‡Œæ˜¯ <code>views.listorders</code> ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¤„ç†å‡½æ•°ï¼Œå°±è°ƒç”¨è¯¥å‡½æ•°å¤„ç† è¿™ä¸ªhttpè¯·æ±‚ï¼Œ å°†è¯¥å‡½æ•°çš„è¿”å›å¯¹è±¡æ„å»º HTTP å“åº”æ¶ˆæ¯ï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>HTTPåè®®</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/HTTP%E5%8D%8F%E8%AE%AE/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/HTTP%E5%8D%8F%E8%AE%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="HTTPåè®®"><a href="#HTTPåè®®" class="headerlink" title="HTTPåè®®"></a>HTTPåè®®</h1><p>Webå‰ç«¯ç³»ç»Ÿ å’Œ åç«¯ç³»ç»Ÿ ä¹‹é—´å°±æ˜¯é€šè¿‡HTTPåè®®è¿›è¡Œé€šä¿¡çš„ã€‚</p><img src="/images/image-20220114232403398.png" alt="image-20220114232403398" style="zoom: 33%;"><br><h2 id="HTTPåè®®ç®€ä»‹"><a href="#HTTPåè®®ç®€ä»‹" class="headerlink" title="HTTPåè®®ç®€ä»‹"></a>HTTPåè®®ç®€ä»‹</h2><p>Web APIæ¥å£ å¤§éƒ½æ˜¯åŸºäº HTTP åè®®çš„ã€‚</p><p>HTTP åè®® å…¨ç§°æ˜¯ è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œ è‹±æ–‡æ˜¯ Hypertext Transfer Protocol ã€‚</p><p>HTTP æœ€åˆæ˜¯ç”¨æ¥åœ¨æµè§ˆå™¨å’Œç½‘ç«™æœåŠ¡å™¨ï¼ˆwebæœåŠ¡ï¼‰ä¹‹é—´ä¼ è¾“è¶…æ–‡æœ¬ï¼ˆç½‘é¡µã€è§†é¢‘ã€å›¾ç‰‡ç­‰ï¼‰ä¿¡æ¯çš„ã€‚</p><p>ç”±äº HTTP ç®€æ´æ˜“ç”¨ï¼Œåæ¥ï¼Œä¸ä»…ä»…æ˜¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä½¿ç”¨å®ƒï¼Œ æœåŠ¡å™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œ æ‰‹æœºAppå’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œéƒ½å¹¿æ³›çš„é‡‡ç”¨ã€‚ æˆäº†ä¸€ä¸ªè½¯ä»¶ç³»ç»Ÿé—´é€šä¿¡çš„é¦–é€‰åè®®ä¹‹ä¸€ã€‚</p><p>HTTP æœ‰å¥½å‡ ä¸ªç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ï¼š 0.9ã€1.0ã€1.1ã€2ï¼Œå½“å‰æœ€å¹¿æ³›ä½¿ç”¨çš„æ˜¯ HTTP/1.1 ç‰ˆæœ¬ã€‚</p><p>HTTP åè®®æœ€å¤§çš„ç‰¹ç‚¹æ˜¯é€šè®¯åŒæ–¹åˆ†ä¸º å®¢æˆ·ç«¯ å’Œ æœåŠ¡ç«¯ã€‚</p><p>ç”±äºç›®å‰HTTPæ˜¯åŸºäº TCP åè®®çš„ï¼Œ æ‰€ä»¥è¦è¿›è¡Œé€šè®¯ï¼Œå®¢æˆ·ç«¯å¿…é¡»å…ˆå’ŒæœåŠ¡ç«¯åˆ›å»º TCP è¿æ¥ã€‚</p><p>è€Œä¸” HTTP åŒæ–¹çš„ä¿¡æ¯äº¤äº’ï¼Œå¿…é¡»æ˜¯è¿™æ ·ä¸€ç§æ–¹å¼ï¼š</p><ul><li>å®¢æˆ·ç«¯å…ˆå‘é€ http è¯·æ±‚ï¼ˆrequestï¼‰ç»™æœåŠ¡ç«¯</li><li>ç„¶åæœåŠ¡ç«¯å‘é€ http å“åº”ï¼ˆresponseï¼‰ç»™å®¢æˆ·ç«¯</li></ul><p>ç‰¹åˆ«æ³¨æ„ï¼šHTTPåè®®ä¸­ï¼ŒæœåŠ¡ç«¯ä¸èƒ½ä¸»åŠ¨å…ˆå‘é€ä¿¡æ¯ç»™å®¢æˆ·ç«¯ã€‚</p><p>è€Œä¸”åœ¨1.1 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œ æœåŠ¡ç«¯è¿”å“åº”å®¢æˆ·ç«¯åè¿æ¥æ–­å¼€ ï¼Œä¸‹ä¸€æ¬¡åŒæ–¹è¦è¿›è¡Œä¿¡æ¯äº¤æµï¼Œå¿…é¡»é‡å¤ä¸Šé¢çš„è¿‡ç¨‹ï¼Œé‡æ–°å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡è¿”å›å“åº”ã€‚</p><p>åˆ°äº† 1.1 ç‰ˆæœ¬ï¼Œ å»ºç«‹è¿æ¥åï¼Œè¿™ä¸ªè¿æ¥å¯ä»¥ä¿æŒä¸€æ®µæ—¶é—´ï¼ˆkeep aliveï¼‰ï¼Œ è¿™æ®µæ—¶é—´ï¼ŒåŒæ–¹å¯ä»¥å¤šæ¬¡è¿›è¡Œè¯·æ±‚å’Œå“åº”ï¼Œ æ— éœ€é‡æ–°å»ºç«‹è¿æ¥ã€‚</p><br><h2 id="HTTPè¯·æ±‚æ¶ˆæ¯"><a href="#HTTPè¯·æ±‚æ¶ˆæ¯" class="headerlink" title="HTTPè¯·æ±‚æ¶ˆæ¯"></a>HTTPè¯·æ±‚æ¶ˆæ¯</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ª http è¯·æ±‚æ¶ˆæ¯ request çš„ç¤ºä¾‹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">GET</span> <span class="hljs-string">/mgr/login.html</span> <span class="hljs-string">HTTP/1.1</span><br><span class="hljs-attr">Host:</span> <span class="hljs-string">www.baiyueheiyu.com</span><br><span class="hljs-attr">User-Agent:</span> <span class="hljs-string">Mozilla/6.0</span> <span class="hljs-string">(compatible;</span> <span class="hljs-string">MSIE5.01;</span> <span class="hljs-string">Windows</span> <span class="hljs-string">NT)</span><br><span class="hljs-attr">Accept-Language:</span> <span class="hljs-string">zh-cn</span><br><span class="hljs-attr">Accept-Encoding:</span> <span class="hljs-string">gzip,</span> <span class="hljs-string">deflate</span><br><span class="hljs-string">POST</span> <span class="hljs-string">/api/medicine</span> <span class="hljs-string">HTTP/1.1</span><br><span class="hljs-attr">Host:</span> <span class="hljs-string">www.baiyueheiyu.com</span><br><span class="hljs-attr">User-Agent:</span> <span class="hljs-string">Mozilla/6.0</span> <span class="hljs-string">(compatible;</span> <span class="hljs-string">MSIE5.01;</span> <span class="hljs-string">Windows</span> <span class="hljs-string">NT)</span><br><span class="hljs-attr">Content-Type:</span> <span class="hljs-string">application/x-www-form-urlencoded</span><br><span class="hljs-attr">Content-Length:</span> <span class="hljs-number">51</span><br><span class="hljs-attr">Accept-Language:</span> <span class="hljs-string">zh-cn</span><br><span class="hljs-attr">Accept-Encoding:</span> <span class="hljs-string">gzip,</span> <span class="hljs-string">deflate</span><br><br><span class="hljs-string">name=qingmeisu&amp;sn=099877883837&amp;desc=qingmeisuyaopin</span><br></code></pre></td></tr></table></figure><p>httpè¯·æ±‚æ¶ˆæ¯ç”±ä¸‹é¢å‡ ä¸ªéƒ¨åˆ†ç»„æˆ:</p><h4 id="è¯·æ±‚è¡Œ-request-line"><a href="#è¯·æ±‚è¡Œ-request-line" class="headerlink" title="è¯·æ±‚è¡Œ request line"></a>è¯·æ±‚è¡Œ request line</h4><p>æ˜¯httpè¯·æ±‚çš„ç¬¬ä¸€è¡Œçš„å†…å®¹ï¼Œè¡¨ç¤ºè¦æ“ä½œä»€ä¹ˆèµ„æºï¼Œä½¿ç”¨çš„ http åè®®ç‰ˆæœ¬æ˜¯ä»€ä¹ˆã€‚</p><p>é‡Œé¢åŒ…å«äº†3éƒ¨åˆ†ä¿¡æ¯ï¼š è¯·æ±‚çš„æ–¹æ³•ï¼Œæ“ä½œèµ„æºçš„åœ°å€ï¼Œ åè®®çš„ç‰ˆæœ¬å·</p><p>ä¾‹å¦‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">GET /mgr/login.html HTTP/<span class="hljs-number">1.1</span><br></code></pre></td></tr></table></figure><p>è¡¨ç¤ºè¦ è·å– èµ„æºï¼Œ èµ„æºçš„ åœ°å€ æ˜¯ <code>/mgr/login.html</code> ï¼Œ ä½¿ç”¨çš„ åè®®æ˜¯ HTTP/1.1</p><p>GETã€POSTæ˜¯è¯·æ±‚çš„æ–¹æ³•ï¼Œè¡¨ç¤ºè¿™ä¸ªåŠ¨ä½œçš„å¤§ä½“ç›®çš„ï¼Œæ˜¯è·å–ä¿¡æ¯ï¼Œè¿˜æ˜¯æäº¤ä¿¡æ¯ï¼Œè¿˜æ˜¯ä¿®æ”¹ä¿¡æ¯ç­‰ç­‰</p><p>å¸¸è§çš„HTTP è¯·æ±‚æ–¹æ³•åŒ…æ‹¬ï¼š</p><ul><li><p>GET</p><p>ä»æœåŠ¡å™¨ <code>è·å–</code> èµ„æºä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ç§æœ€å¸¸è§çš„è¯·æ±‚ã€‚</p><p>æ¯”å¦‚ è¦ ä»æœåŠ¡å™¨ è·å– ç½‘é¡µèµ„æºã€è·å–å›¾ç‰‡èµ„æºã€è·å–ç”¨æˆ·ä¿¡æ¯æ•°æ®ç­‰ç­‰ã€‚</p></li><li><p>POSTï¼Œè¯·æ±‚æ–¹æ³•å°±åº”è¯¥æ˜¯</p><p><code>æ·»åŠ </code> èµ„æºä¿¡æ¯ åˆ° æœåŠ¡å™¨è¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚æäº¤è¡¨å•æˆ–è€…ä¸Šä¼ æ–‡ä»¶ï¼‰ã€‚</p><p>æ¯”å¦‚ è¦ æ·»åŠ ç”¨æˆ·ä¿¡æ¯ã€ä¸Šä¼ å›¾ç‰‡æ•°æ® åˆ°æœåŠ¡å™¨ ç­‰ç­‰</p><p>å…·ä½“çš„æ•°æ®ä¿¡æ¯ï¼Œé€šå¸¸åœ¨ HTTPæ¶ˆæ¯ä½“ä¸­ï¼Œ åé¢ä¼šè®²åˆ°</p></li><li><p>PUT</p><p>è¯·æ±‚æœåŠ¡å™¨ <code>æ›´æ–°</code> èµ„æºä¿¡æ¯ ã€‚</p><p>æ¯”å¦‚ è¦ æ›´æ–° ç”¨æˆ·å§“åã€åœ°å€ ç­‰ç­‰</p><p>å…·ä½“çš„æ›´æ–°æ•°æ®ä¿¡æ¯ï¼Œé€šå¸¸åœ¨ HTTPæ¶ˆæ¯ä½“ä¸­ï¼Œ åé¢ä¼šè®²åˆ°</p></li><li><p>DELETE</p><p>è¯·æ±‚æœåŠ¡å™¨ <code>åˆ é™¤</code> èµ„æºä¿¡æ¯ ã€‚</p><p>æ¯”å¦‚ è¦ åˆ é™¤ æŸä¸ªç”¨æˆ·ã€æŸä¸ªè¯å“ ç­‰ç­‰</p></li></ul><p>HTTPè¿˜æœ‰è®¸å¤šå…¶ä»–æ–¹æ³•ï¼Œæ¯”å¦‚ PATCHã€HEAD ç­‰ï¼Œä¸æ˜¯ç‰¹åˆ«å¸¸ç”¨ï¼Œæš‚ä¸”ä¸è®²ã€‚</p><h4 id="è¯·æ±‚å¤´-request-headers"><a href="#è¯·æ±‚å¤´-request-headers" class="headerlink" title="è¯·æ±‚å¤´ request headers"></a>è¯·æ±‚å¤´ request headers</h4><p>è¯·æ±‚å¤´æ˜¯httpè¯·æ±‚è¡Œä¸‹é¢çš„å†…å®¹ï¼Œé‡Œé¢å­˜æ”¾ä¸€äº›ä¿¡æ¯ã€‚</p><p>æ¯”å¦‚ï¼Œè¯·æ±‚å‘é€çš„æœåŠ¡ç«¯åŸŸåæ˜¯ä»€ä¹ˆï¼Œ å¸Œæœ›æ¥æ”¶çš„å“åº”æ¶ˆæ¯ä½¿ç”¨ä»€ä¹ˆè¯­è¨€ï¼Œè¯·æ±‚æ¶ˆæ¯ä½“çš„é•¿åº¦ç­‰ç­‰ã€‚</p><p>é€šå¸¸è¯·æ±‚å¤´éƒ½æœ‰å¥½å¤šä¸ªï¼Œä¸€ä¸ªè¯·æ±‚å¤´å æ®ä¸€è¡Œ</p><p>å•ä¸ªè¯·æ±‚å¤´çš„æ ¼å¼æ˜¯ï¼š <code>åå­—: å€¼</code></p><p>HTTPåè®®è§„å®šäº†ä¸€äº›æ ‡å‡†çš„è¯·æ±‚å¤´ï¼Œ</p><p>å¼€å‘è€…ä¹Ÿå¯ä»¥åœ¨HTTPæ¶ˆæ¯ä¸­ æ·»åŠ è‡ªå·±å®šä¹‰çš„è¯·æ±‚å¤´</p><h4 id="æ¶ˆæ¯ä½“-message-body"><a href="#æ¶ˆæ¯ä½“-message-body" class="headerlink" title="æ¶ˆæ¯ä½“ message body"></a>æ¶ˆæ¯ä½“ message body</h4><p>è¯·æ±‚çš„urlã€è¯·æ±‚å¤´ä¸­å¯ä»¥å­˜æ”¾ä¸€äº›æ•°æ®ä¿¡æ¯ï¼Œ ä½†æ˜¯æœ‰äº›æ•°æ®ä¿¡æ¯ï¼Œå¾€å¾€éœ€è¦å­˜æ”¾åœ¨æ¶ˆæ¯ä½“ä¸­ã€‚</p><p>ç‰¹åˆ«æ˜¯ POSTã€PUTç­‰è¯·æ±‚ï¼Œæ·»åŠ ã€ä¿®æ”¹çš„æ•°æ®ä¿¡æ¯ é€šå¸¸éƒ½æ˜¯å­˜æ”¾åœ¨è¯·æ±‚æ¶ˆæ¯ä½“ä¸­çš„ã€‚</p><p>å¦‚æœ HTTP è¯·æ±‚æœ‰æ¶ˆæ¯ä½“ï¼Œ åè®®è§„å®šéœ€è¦åœ¨æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œéš”å¼€å®ƒä»¬ã€‚</p><p>è¯·æ±‚æ¶ˆæ¯ä½“ä¸­ä¿å­˜äº†è¦æäº¤ç»™æœåŠ¡ç«¯çš„æ•°æ®ä¿¡æ¯ã€‚</p><p>æ¯”å¦‚ï¼šå®¢æˆ·ç«¯è¦ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ç»™æœåŠ¡ç«¯ï¼Œå°±å¯ä»¥é€šè¿‡HTTPè¯·æ±‚å‘é€æ–‡ä»¶æ•°æ®ç»™æœåŠ¡ç«¯ã€‚</p><p>æ–‡ä»¶çš„æ•°æ®å°±åº”è¯¥åœ¨è¯·æ±‚çš„æ¶ˆæ¯ä½“ä¸­ã€‚</p><p>å†æ¯”å¦‚ï¼šä¸Šé¢ç¤ºä¾‹ä¸­å®¢æˆ·ç«¯è¦æ·»åŠ è¯å“ï¼Œè¯å“çš„åç§°ã€ç¼–ç ã€æè¿°å°±å­˜æ”¾åœ¨è¯·æ±‚æ¶ˆæ¯ä½“ä¸­ã€‚</p><p>Web API è¯·æ±‚æ¶ˆæ¯ä½“é€šå¸¸æ˜¯æŸç§æ ¼å¼çš„æ–‡æœ¬ï¼Œå¸¸è§çš„æœ‰</p><ul><li>Json</li><li>Xml</li><li>www-form-urlencoded</li></ul><br><h2 id="HTTPå“åº”æ¶ˆæ¯"><a href="#HTTPå“åº”æ¶ˆæ¯" class="headerlink" title="HTTPå“åº”æ¶ˆæ¯"></a>HTTPå“åº”æ¶ˆæ¯</h2><p>ä¸‹é¢æ˜¯ä¸€ä¸ªhttpå“åº”æ¶ˆæ¯ response çš„ç¤ºä¾‹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs yml"><span class="hljs-string">HTTP/1.1</span> <span class="hljs-number">200</span> <span class="hljs-string">OK</span><br><span class="hljs-attr">Date:</span> <span class="hljs-string">Thu,</span> <span class="hljs-number">19</span> <span class="hljs-string">Sep</span> <span class="hljs-number">2019 08:08:27 </span><span class="hljs-string">GMT</span><br><span class="hljs-attr">Server:</span> <span class="hljs-string">WSGIServer/0.2</span> <span class="hljs-string">CPython/3.7.3</span><br><span class="hljs-attr">Content-Type:</span> <span class="hljs-string">application/json</span><br><span class="hljs-attr">Content-Length:</span> <span class="hljs-number">37</span><br><span class="hljs-attr">X-Frame-Options:</span> <span class="hljs-string">SAMEORIGIN</span><br><span class="hljs-attr">Vary:</span> <span class="hljs-string">Cookie</span><br><br>&#123;<span class="hljs-attr">&quot;ret&quot;:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">&quot;retlist&quot;:</span> [], <span class="hljs-attr">&quot;total&quot;:</span> <span class="hljs-number">0</span>&#125;<br></code></pre></td></tr></table></figure><p>HTTPå“åº”æ¶ˆæ¯åŒ…å«å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><h4 id="çŠ¶æ€è¡Œ-status-line"><a href="#çŠ¶æ€è¡Œ-status-line" class="headerlink" title="çŠ¶æ€è¡Œ status line"></a>çŠ¶æ€è¡Œ status line</h4><p>çŠ¶æ€è¡Œåœ¨ç¬¬ä¸€è¡Œï¼ŒåŒ…å«3ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><p>åè®®ç‰ˆæœ¬</p><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå°±æ˜¯ <code>HTTP/1.1</code></p></li><li><p>çŠ¶æ€ç </p><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå°±æ˜¯ <code>200</code></p></li><li><p>æè¿°çŠ¶æ€çš„çŸ­è¯­</p><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå°±æ˜¯ <code>OK</code></p></li></ul><p>æˆ‘ä»¬é‡ç‚¹æ¥çœ‹ä¸€ä¸‹çŠ¶æ€ç ï¼Œå®ƒè¡¨ç¤ºäº†æœåŠ¡ç«¯å¯¹å®¢æˆ·ç«¯è¯·æ±‚çš„å¤„ç†ç»“æœ ã€‚</p><p>çŠ¶æ€ç ç”¨3ä½çš„æ•°å­—æ¥è¡¨ç¤ºï¼Œç¬¬ä¸€ä½ çš„æ•°å­—ä»£è¡¨å¤„ç†ç»“æœçš„å¤§ä½“ç±»å‹ï¼Œå¸¸è§çš„æœ‰å¦‚ä¸‹å‡ ç§ï¼š</p><p>â€¢ 2xx</p><p>é€šå¸¸è¡¨ç¤ºè¯·æ±‚æ¶ˆæ¯æ²¡æœ‰é—®é¢˜ï¼Œè€Œä¸”æœåŠ¡å™¨ä¹Ÿæ­£ç¡®å¤„ç†äº†</p><p>æœ€å¸¸è§çš„å°±æ˜¯ 200</p><p>â€¢ 3xx</p><p>è¿™æ˜¯é‡å®šå‘å“åº”ï¼Œå¸¸è§çš„å€¼æ˜¯ 301ï¼Œ302ï¼Œ è¡¨ç¤ºå®¢æˆ·ç«¯çš„è¿™ä¸ªè¯·æ±‚çš„urlåœ°å€å·²ç»æ”¹å˜äº†ï¼Œ éœ€è¦å®¢æˆ·ç«¯é‡æ–°å‘èµ·ä¸€ä¸ªè¯·æ±‚åˆ°å¦å¤–çš„ä¸€ä¸ªurlã€‚</p><p>â€¢ 4xx</p><p>è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æœ‰é”™è¯¯ï¼Œ å¸¸è§çš„å€¼æœ‰ï¼š</p><p><code>400 Bad Request</code> è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚ä¸ç¬¦åˆæ¥å£è¦æ±‚ï¼Œæ¯”å¦‚æ ¼å¼å®Œå…¨é”™è¯¯</p><p><code>401 Unauthorized</code> è¡¨ç¤ºå®¢æˆ·ç«¯éœ€è¦å…ˆè®¤è¯æ‰èƒ½å‘é€æ¬¡è¯·æ±‚</p><p><code>403 Forbidden</code> è¡¨ç¤ºå®¢æˆ·ç«¯æ²¡æœ‰æƒé™è¦æ±‚æœåŠ¡å™¨å¤„ç†è¿™æ ·çš„è¯·æ±‚ï¼Œ æ¯”å¦‚æ™®é€šç”¨æˆ·è¯·æ±‚åˆ é™¤åˆ«äººè´¦å·ç­‰</p><p><code>404 Not Found</code> è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„url ä¸å­˜åœ¨</p><p>â€¢ 5xx</p><p>è¡¨ç¤ºæœåŠ¡ç«¯åœ¨å¤„ç†è¯·æ±‚ä¸­ï¼Œå‘ç”Ÿäº†æœªçŸ¥çš„é”™è¯¯ã€‚</p><p>é€šå¸¸æ˜¯æœåŠ¡ç«¯çš„ä»£ç è®¾è®¡é—®é¢˜ï¼Œæˆ–è€…æ˜¯æœåŠ¡ç«¯å­ç³»ç»Ÿå‡ºäº†æ•…éšœï¼ˆæ¯”å¦‚æ•°æ®åº“æœåŠ¡å®•æœºäº†ï¼‰</p><h4 id="å“åº”å¤´-response-headers"><a href="#å“åº”å¤´-response-headers" class="headerlink" title="å“åº”å¤´ response headers"></a>å“åº”å¤´ response headers</h4><p>å“åº”å¤´æ˜¯å“åº”çŠ¶æ€è¡Œä¸‹é¢çš„ çš„å†…å®¹ï¼Œé‡Œé¢å­˜æ”¾ä¸€äº›ä¿¡æ¯ã€‚ ä½œç”¨å’Œæ ¼å¼ä¸è¯·æ±‚å¤´ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚</p><h4 id="æ¶ˆæ¯ä½“-message-body-1"><a href="#æ¶ˆæ¯ä½“-message-body-1" class="headerlink" title="æ¶ˆæ¯ä½“ message body"></a>æ¶ˆæ¯ä½“ message body</h4><p>æœ‰æ—¶å€™ï¼Œhttpå“åº”éœ€è¦æ¶ˆæ¯ä½“ã€‚</p><p>åŒæ ·ï¼Œ å¦‚æœ HTTP å“åº”æœ‰æ¶ˆæ¯ä½“ï¼Œ åè®®è§„å®šéœ€è¦åœ¨æ¶ˆæ¯å¤´å’Œæ¶ˆæ¯ä½“ä¹‹é—´æ’å…¥ä¸€ä¸ªç©ºè¡Œéš”å¼€å®ƒä»¬ã€‚</p><p>æ¯”å¦‚ï¼Œç™½æœˆSMSç³»ç»Ÿè¯·æ±‚åˆ—å‡ºè¯å“ä¿¡æ¯ï¼Œé‚£ä¹ˆè¯å“ä¿¡æ¯å°±åœ¨HTTPå“åº”æ¶ˆæ¯ä½“ä¸­</p><p>å†æ¯”å¦‚ï¼Œæµè§ˆå™¨åœ°å€æ è¾“å…¥ç™»å½•ç½‘å€ï¼Œæµè§ˆå™¨è¯·æ±‚ä¸€ä¸ªç™»å½•ç½‘é¡µçš„å†…å®¹ï¼Œç½‘ç«™æœåŠ¡å™¨ï¼Œå°±åœ¨å“åº”çš„æ¶ˆæ¯ä½“ä¸­å­˜æ”¾ç™»å½•ç½‘é¡µçš„htmlå†…å®¹ã€‚</p><p>å’Œè¯·æ±‚æ¶ˆæ¯ä½“ä¸€æ ·ï¼ŒWeb API å“åº”æ¶ˆæ¯ä½“é€šå¸¸ä¹Ÿæ˜¯æŸç§æ ¼å¼çš„æ–‡æœ¬ï¼Œå¸¸è§çš„æœ‰ï¼š</p><ul><li>Json</li><li>Xml</li><li>www-form-urlencoded</li></ul>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Djangoå®‰è£…ä¸è¿è¡Œ</title>
    <link href="/2022/02/09/Django%E5%90%8E%E7%AB%AF/Django%E5%AE%89%E8%A3%85%E4%B8%8E%E8%BF%90%E8%A1%8C/"/>
    <url>/2022/02/09/Django%E5%90%8E%E7%AB%AF/Django%E5%AE%89%E8%A3%85%E4%B8%8E%E8%BF%90%E8%A1%8C/</url>
    
    <content type="html"><![CDATA[<h2 id="å®‰è£…Django"><a href="#å®‰è£…Django" class="headerlink" title="å®‰è£…Django"></a>å®‰è£…Django</h2><p>Django æ¡†æ¶æ˜¯ç”¨Pythonè¯­è¨€å¼€å‘çš„ï¼Œ æ‰€ä»¥å®‰è£…Django å°±åƒå®‰è£…å…¶ä»–çš„ Pythonåº“ä¸€æ ·ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å³å¯</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">pip install django<br></code></pre></td></tr></table></figure><p>ä½ å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ£€æŸ¥Djangoæ˜¯å¦å®‰è£…å¥½ï¼Œ å¹¶ä¸”æŸ¥çœ‹å®‰è£…çš„Djangoç‰ˆæœ¬</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py">python -m django --version<br><span class="hljs-number">2.1</span><span class="hljs-number">.3</span><br></code></pre></td></tr></table></figure><p>å¦‚æœåƒä¸Šé¢é‚£æ ·æ˜¾ç¤ºå‡ºä¸€ä¸ªç‰ˆæœ¬æ•°å­—ï¼ˆæ¯”å¦‚è¿™é‡Œå°±æ˜¯2.1.3ï¼‰ è¡¨ç¤ºå·²ç»å®‰è£…å¥½äº†ã€‚</p><br><h2 id="åˆ›å»ºDjangoé¡¹ç›®"><a href="#åˆ›å»ºDjangoé¡¹ç›®" class="headerlink" title="åˆ›å»ºDjangoé¡¹ç›®"></a>åˆ›å»ºDjangoé¡¹ç›®</h2><p>è¿›å…¥åˆ° <code>d:\projects</code> ç›®å½•ï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤åˆ›å»ºé¡¹ç›®ç›®å½•</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">django-admin startproject bysms<br></code></pre></td></tr></table></figure><p>æ³¨æ„æœ€åçš„ <code>bysms</code> å°±æ˜¯é¡¹ç›®çš„<strong>æ ¹ç›®å½•</strong>åï¼Œæ‰§è¡Œä¸Šé¢å‘½ä»¤åï¼Œå°±ä¼šåˆ›å»ºå¦‚ä¸‹çš„ç›®å½•ç»“æ„ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vim">bysms/<br>    manage.<span class="hljs-keyword">py</span><br>    bysms/<br>        __init__.<span class="hljs-keyword">py</span><br>        settings.<span class="hljs-keyword">py</span><br>        urls.<span class="hljs-keyword">py</span><br>        wsgi.<span class="hljs-keyword">py</span><br></code></pre></td></tr></table></figure><ul><li><p>æœ€å¤–å±‚ <code>bysms/</code> å°±æ˜¯é¡¹ç›®<strong>æ ¹ç›®å½•</strong> <code>d:\projects\bysms\</code> ï¼Œ é¡¹ç›®æ–‡ä»¶éƒ½æ”¾åœ¨é‡Œé¢ã€‚</p></li><li><p><code>manage.py</code> æ˜¯ä¸€ä¸ªå·¥å…·è„šæœ¬ï¼Œç”¨ä½œ<strong>é¡¹ç›®ç®¡ç†</strong>çš„ã€‚ä»¥åæˆ‘ä»¬ä¼šä½¿ç”¨å®ƒæ‰§è¡Œç®¡ç†æ“ä½œã€‚</p></li><li><p>é‡Œé¢çš„ <code>bysms/</code> ç›®å½•æ˜¯pythonåŒ…ã€‚ é‡Œé¢åŒ…å«é¡¹ç›®çš„é‡è¦<strong>é…ç½®æ–‡ä»¶</strong>ã€‚è¿™ä¸ªç›®å½•åå­—ä¸èƒ½éšä¾¿æ”¹ï¼Œå› ä¸ºmanage.py è¦ç”¨åˆ°å®ƒã€‚</p></li><li><p><code>bysms/settings.py</code> æ˜¯ Django é¡¹ç›®çš„é…ç½®æ–‡ä»¶. åŒ…å«äº†éå¸¸é‡è¦çš„é…ç½®é¡¹ï¼Œä»¥åæˆ‘ä»¬å¯èƒ½éœ€è¦ä¿®æ”¹é‡Œé¢çš„é…ç½®ã€‚</p></li><li><p><code>bysms/urls.py</code> é‡Œé¢å­˜æ”¾äº† ä¸€å¼ è¡¨ï¼Œ å£°æ˜äº†å‰ç«¯å‘è¿‡æ¥çš„å„ç§httpè¯·æ±‚ï¼Œåˆ†åˆ«ç”±å“ªäº›å‡½æ•°å¤„ç†ã€‚</p></li><li><p><code>bysms/wsgi.py</code> äº§å“æ­£å¼ä¸Šçº¿è¿è¡Œçš„æ—¶å€™ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦é«˜æ•ˆçš„ <code>wsgi web server</code> äº§å“ï¼Œæ¯”å¦‚ <strong>gunicornï¼Œuwsgi</strong>ç­‰ï¼Œç»“åˆDjangoç»„æˆä¸€ä¸ªé«˜æ•ˆçš„åç«¯æœåŠ¡ã€‚wsgi.py æ–‡ä»¶å°±æ˜¯ wsgi çš„è°ƒç”¨å…¥å£ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨å“ªä¸ª wsgi web server äº§å“ã€‚</p><br></li></ul><h2 id="WSGI"><a href="#WSGI" class="headerlink" title="WSGI"></a>WSGI</h2><p>python ç»„ç»‡åˆ¶å®šäº† web æœåŠ¡ç½‘å…³æ¥å£ï¼ˆWeb Server Gateway Interfaceï¼‰ è§„èŒƒ ï¼Œç®€ç§° wsgiã€‚</p><p>éµå¾ªwsgiè§„èŒƒçš„ webåç«¯ç³»ç»Ÿï¼Œ æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºç”±ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p><p><code>wsgi web server</code> å’Œ <code>wsgi web application</code></p><p>å®ƒä»¬é€šå¸¸æ˜¯è¿è¡Œåœ¨ä¸€ä¸ªpythonè¿›ç¨‹ä¸­çš„ä¸¤ä¸ªæ¨¡å—ï¼Œæˆ–è€…è¯´ä¸¤ä¸ªå­ç³»ç»Ÿã€‚</p><p><code>wsgi web server</code> æ¥å—åˆ°å‰ç«¯çš„httpè¯·æ±‚åï¼Œä¼šè°ƒç”¨ <code>wsgi web application</code> çš„æ¥å£ï¼ˆ æ¯”å¦‚å‡½æ•°æˆ–è€…ç±»æ–¹æ³•ï¼‰æ–¹æ³•ï¼Œç”±<code>wsgi web application</code> å…·ä½“å¤„ç†è¯¥è¯·æ±‚ã€‚ç„¶åå†æŠŠå¤„ç†ç»“æœè¿”å›ç»™ <code>wsgi web server</code>ï¼Œ <code>wsgi web server</code>å†è¿”å›ç»™å‰ç«¯ã€‚</p><p>å¦‚ä¸‹å›¾æ‰€ç¤º:</p><img src="/images/image-20220114234806593.png" alt="image-20220114234806593" style="zoom: 50%;"><p><code>wsgi web server</code> è´Ÿè´£<strong>æä¾›é«˜æ•ˆçš„httpè¯·æ±‚å¤„ç†ç¯å¢ƒ</strong>ï¼Œå¯ä»¥ä½¿ç”¨å¤šçº¿ç¨‹ã€å¤šè¿›ç¨‹æˆ–è€…åç¨‹çš„æœºåˆ¶ã€‚</p><p>http è¯·æ±‚å‘é€åˆ° <code>wsgi web server</code> ï¼Œ <code>wsgi web server</code> åˆ†é… çº¿ç¨‹æˆ–è€…è¿›ç¨‹æˆ–è€…è½»é‡çº§çº¿ç¨‹(åç¨‹)ï¼Œç„¶ååœ¨è¿™äº›çº¿ç¨‹ã€è¿›ç¨‹ã€æˆ–è€…åç¨‹é‡Œé¢ï¼Œå»è°ƒç”¨æ‰§è¡Œ <code>wsgi web application</code> çš„å…¥å£ä»£ç ã€‚</p><p><code>wsgi web application</code> è¢«è°ƒç”¨åï¼Œè´Ÿè´£<strong>å¤„ç†ä¸šåŠ¡é€»è¾‘</strong>ã€‚ ä¸šåŠ¡é€»è¾‘çš„å¤„ç†å¯èƒ½éå¸¸å¤æ‚ï¼Œ <code>wsgi web application</code> éœ€è¦ç²¾å¿ƒçš„è®¾è®¡æ¥æ­£ç¡®å¤„ç†ã€‚</p><p><u>djangoæ˜¯ <code>wsgi web application</code> çš„æ¡†æ¶ï¼Œå®ƒåªæœ‰ä¸€ä¸ªç®€å•çš„å•çº¿ç¨‹ <code>wsgi web server</code>ï¼Œ ä¾›è°ƒè¯•æ—¶ä½¿ç”¨ã€‚</u></p><p>äº§å“æ­£å¼ä¸Šçº¿è¿è¡Œçš„æ—¶å€™ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦é«˜æ•ˆçš„ <code>wsgi web server</code> äº§å“ï¼Œæ¯”å¦‚ <strong>gunicornï¼Œuwsgi</strong>ï¼Œcherrypyç­‰ï¼Œç»“åˆDjango ï¼Œç»„æˆä¸€ä¸ªé«˜æ•ˆçš„åç«¯æœåŠ¡ã€‚</p><p>æ‰€ä»¥è¿™ä¸ª <code>wsgi.py</code> å°±æ˜¯ æä¾›ç»™<code>wsgi web server</code>è°ƒç”¨ çš„æ¥å£æ–‡ä»¶ï¼Œé‡Œé¢çš„å˜é‡applicationå¯¹åº”å¯¹è±¡å®ç°äº† wsgiå…¥å£ï¼Œä¾›<code>wsgi web server</code>è°ƒç”¨ ã€‚</p><br><h2 id="è¿è¡Œ-Django-webæœåŠ¡"><a href="#è¿è¡Œ-Django-webæœåŠ¡" class="headerlink" title="è¿è¡Œ Django webæœåŠ¡"></a>è¿è¡Œ Django webæœåŠ¡</h2><p>djangoè™½ç„¶åªæ˜¯ <code>wsgi web application</code> çš„æ¡†æ¶ï¼Œä½†æ˜¯å®ƒä¹Ÿæœ‰ä¸€ä¸ªç®€å•çš„ <code>wsgi web server</code>ã€‚ ä¾›è°ƒè¯•æ—¶ä½¿ç”¨ã€‚</p><p>æ‰€ä»¥ä¹Ÿæ„æˆä¸€ä¸ªå®Œæ•´çš„åç«¯webæœåŠ¡ã€‚ æœ¬åœ°è°ƒè¯•ä»£ç çš„æ—¶å€™ï¼Œå®Œå…¨å¯ä»¥è¿è¡Œèµ·æ¥ã€‚</p><p>è¿è¡Œå¼€å‘web æœåŠ¡åªéœ€è¦åœ¨å‘½ä»¤è¡Œçª—å£é‡Œé¢ï¼Œ</p><p>é¦–å…ˆè¿›å…¥åˆ°é¡¹ç›®æ ¹ç›®å½• ï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs py">python manage.py runserver <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>:<span class="hljs-number">8000</span><br></code></pre></td></tr></table></figure><p>è¿™æ ·æœåŠ¡å°±ä¼šè¢«å¯åŠ¨ã€‚ æˆ‘ä»¬å°±å¯ä»¥åœ¨æµè§ˆå™¨è®¿é—®webæœåŠ¡äº†ã€‚</p><p>å…¶ä¸­ <code>0.0.0.0:8000</code> æ˜¯æŒ‡å®š webæœåŠ¡ç»‘å®šçš„ IP åœ°å€å’Œç«¯å£ã€‚</p><p><code>0.0.0.0</code> è¡¨ç¤ºç»‘å®šæœ¬æœºæ‰€æœ‰çš„IPåœ°å€ï¼Œ å°±æ˜¯å¯ä»¥é€šè¿‡ä»»ä½•ä¸€ä¸ªæœ¬æœºçš„IP (åŒ…æ‹¬ç¯å›åœ°å€ <code>127.0.0.1 </code>) éƒ½å¯ä»¥è®¿é—®æˆ‘ä»¬çš„æœåŠ¡ã€‚</p><p><code>8000</code> è¡¨ç¤ºæ˜¯æœåŠ¡å¯åŠ¨åœ¨8000ç«¯å£ä¸Šã€‚</p><p>è¯·æ‰“å¼€æµè§ˆå™¨ï¼Œåœ°å€æ è¾“å…¥ â€˜127.0.0.1:8000â€™  æˆ–è€… â€˜localhost:8000â€™ï¼Œå°±å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„ç•Œé¢ï¼Œè¡¨ç¤ºDjangoæœåŠ¡æ­å»ºæˆåŠŸï¼Œå¯åŠ¨æˆåŠŸã€‚</p><p>æ³¨æ„ï¼Œå¯åŠ¨webæœåŠ¡çš„å‘½ä»¤è¡Œçª—å£ä¸èƒ½å…³é—­ï¼Œå¦‚æœå…³é—­ï¼ŒwebæœåŠ¡å°±åœæ­¢äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Djangoåç«¯</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>txt å¤„ç†</title>
    <link href="/2022/01/26/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/txt%20%E5%A4%84%E7%90%86/"/>
    <url>/2022/01/26/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/txt%20%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<ul><li>å‡ ç§è¯»å†™æ–¹å¼æ¯”è¾ƒ<ul><li>r æ‰“å¼€åªè¯»æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»å­˜åœ¨ã€‚</li><li>r+ æ‰“å¼€å¯è¯»å†™çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å¿…é¡»å­˜åœ¨ã€‚</li><li>w æ‰“å¼€åªå†™æ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨åˆ™æ–‡ä»¶é•¿åº¦æ¸…ä¸º0ï¼Œå³è¯¥æ–‡ä»¶å†…å®¹ä¼šæ¶ˆå¤±ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™å»ºç«‹è¯¥æ–‡ä»¶ã€‚</li><li>w+ æ‰“å¼€å¯è¯»å†™æ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨åˆ™æ–‡ä»¶é•¿åº¦æ¸…ä¸ºé›¶ï¼Œå³è¯¥æ–‡ä»¶å†…å®¹ä¼šæ¶ˆå¤±ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™å»ºç«‹è¯¥æ–‡ä»¶ã€‚</li><li>a ä»¥è¿½åŠ çš„æ–¹å¼æ‰“å¼€åªå†™æ–‡ä»¶ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå»ºç«‹è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œå†™å…¥çš„æ•°æ®ä¼šè¢«åŠ åˆ°æ–‡ä»¶å°¾ï¼Œå³æ–‡ä»¶åŸå…ˆçš„å†…å®¹ä¼šè¢«ä¿ç•™ã€‚</li><li>a+ ä»¥è¿½åŠ æ–¹å¼æ‰“å¼€å¯è¯»å†™çš„æ–‡ä»¶ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™ä¼šå»ºç«‹è¯¥æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼Œå†™å…¥çš„æ•°æ®ä¼šè¢«åŠ åˆ°æ–‡ä»¶å°¾åï¼Œå³æ–‡ä»¶åŸå…ˆçš„å†…å®¹ä¼šè¢«ä¿ç•™ã€‚</li></ul></li><li>rstrip() åˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„å­—ç¬¦ï¼›lstrip() åˆ é™¤å­—ç¬¦ä¸²é¦–éƒ¨çš„å­—ç¬¦</li><li>os.mkdir(filepath) åˆ›å»ºç›®å½•ï¼ˆåªèƒ½åˆ›å»ºä¸€å±‚ï¼Œä¸”éœ€å…ˆåˆ¤æ–­æ˜¯å¦å·²å­˜åœ¨ï¼‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">################################ Output ################################</span><br>filepath = <span class="hljs-string">&#x27;./output/&#x27;</span> + domain + <span class="hljs-string">&#x27;/&#x27;</span> + app<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(filepath):<br>os.mkdir(filepath)<br>data_path1 = filepath + <span class="hljs-string">&#x27;/buggy.txt&#x27;</span><br>data_path2 = filepath + <span class="hljs-string">&#x27;/bug_free.txt&#x27;</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(len1):<br>    data = domain_docs[<span class="hljs-string">&#x27;total&#x27;</span>][i] + <span class="hljs-string">&#x27;\n&#x27;</span><br>    <span class="hljs-keyword">if</span> flag[i] == <span class="hljs-number">1</span>:<br>        f = <span class="hljs-built_in">open</span>(data_path1, <span class="hljs-string">&#x27;a&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        f.write(data)<br>        f.close<br>    <span class="hljs-keyword">else</span>:<br>        f = <span class="hljs-built_in">open</span>(data_path2, <span class="hljs-string">&#x27;a&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>        f.write(data)<br>        f.close    <br><br><span class="hljs-comment">################################ Input ################################</span><br>input_path = <span class="hljs-string">&#x27;./total/&#x27;</span> +  domain + <span class="hljs-string">&#x27;/&#x27;</span> + app +<span class="hljs-string">&#x27;.txt&#x27;</span><br>f = <span class="hljs-built_in">open</span>(input_path,encoding=<span class="hljs-string">&#x27;UTF-8&#x27;</span>)<br>lines = f.readlines()<br>f.close()<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:<br>    rs = line.rstrip(<span class="hljs-string">&#x27;\n&#x27;</span>)<br>    rs = rs.rstrip(<span class="hljs-string">&#x27;\&#x27;,&#x27;</span>)<br>    rs = rs.lstrip(<span class="hljs-string">&#x27;\&#x27;&#x27;</span>)<br>    domain_docs[<span class="hljs-string">&#x27;total&#x27;</span>].append(rs)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ–‡ä»¶å¤„ç†</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>CSV å¤„ç†</title>
    <link href="/2022/01/26/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/CSV%20%E5%A4%84%E7%90%86/"/>
    <url>/2022/01/26/%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86/CSV%20%E5%A4%84%E7%90%86/</url>
    
    <content type="html"><![CDATA[<p>csv è¡¨æ ¼é‡Œçš„ç¬¬ä¸€è¡Œé»˜è®¤ä¸º key å€¼ï¼Œå³æ•°æ®ç´¢å¼•</p><p>å¦‚ä¸‹ä¸º csv è½¬ txtï¼šï¼ˆappå’Œbugä¸ºåˆ—å±æ€§ç´¢å¼•ï¼‰</p><h4 id="è¯»-CSV-æ–‡ä»¶"><a href="#è¯»-CSV-æ–‡ä»¶" class="headerlink" title="è¯» CSV æ–‡ä»¶"></a>è¯» CSV æ–‡ä»¶</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> csv<br><br>bid_info = csv.DictReader(<span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;./2021/communication/res.csv&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>))<br>dict_data = []<br><span class="hljs-keyword">for</span> lines <span class="hljs-keyword">in</span> bid_info:<br>        <span class="hljs-keyword">if</span> bid_info.line_num == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">else</span>:<br>            dict_data.append(lines)<br>row_num = <span class="hljs-built_in">len</span>(dict_data)<br><br>i = <span class="hljs-number">0</span><br><span class="hljs-keyword">while</span>(i &lt; row_num):<br>    filepath = <span class="hljs-string">&#x27;./2021/communication/&#x27;</span> + dict_data[i][<span class="hljs-string">&#x27;app&#x27;</span>] + <span class="hljs-string">&#x27;.txt&#x27;</span><br>    newfile = <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">&#x27;a&#x27;</span>)<br>    new = dict_data[i][<span class="hljs-string">&#x27;bug&#x27;</span>] + <span class="hljs-string">&#x27;\n&#x27;</span><br>    newfile.write(new)<br>    newfile.close<br>    i += <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>(i)<br>        <br><br><br></code></pre></td></tr></table></figure><br><h4 id="å†™-CSV-æ–‡ä»¶ï¼š"><a href="#å†™-CSV-æ–‡ä»¶ï¼š" class="headerlink" title="å†™ CSV æ–‡ä»¶ï¼š"></a>å†™ CSV æ–‡ä»¶ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># coding:utf-8</span><br><span class="hljs-keyword">import</span> csv<br><br><span class="hljs-comment"># train_dataå’Œtrain_classä¸ºä¸¤ä¸ªlist</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">output_train</span>(<span class="hljs-params">train_data, train_class</span>):</span><br>    <br>    headers = [<span class="hljs-string">&#x27;ocr&#x27;</span>, <span class="hljs-string">&#x27;label&#x27;</span>]<br>    data=[]<br>    <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(train_data)):<br>        a=[train_data[i],train_class[i]]<br>        data.append(a)<br>        <br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;train.csv&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,newline=<span class="hljs-string">&#x27;&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<span class="hljs-keyword">as</span> f:<br>        f_csv = csv.writer(f)<br>        f_csv.writerow(headers)<br>        f_csv.writerows(data)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æ–‡ä»¶å¤„ç†</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Debugæ±‡æ€»</title>
    <link href="/2022/01/13/Debug%E6%B1%87%E6%80%BB/"/>
    <url>/2022/01/13/Debug%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<h4 id="Python-é€šè¿‡-pip-install-å®‰è£…ç¬¬ä¸‰æ–¹åº“å¤±è´¥ï¼ˆç½‘ç»œè¿æ¥åŸå› ç­‰ï¼‰"><a href="#Python-é€šè¿‡-pip-install-å®‰è£…ç¬¬ä¸‰æ–¹åº“å¤±è´¥ï¼ˆç½‘ç»œè¿æ¥åŸå› ç­‰ï¼‰" class="headerlink" title="Python é€šè¿‡ pip install å®‰è£…ç¬¬ä¸‰æ–¹åº“å¤±è´¥ï¼ˆç½‘ç»œè¿æ¥åŸå› ç­‰ï¼‰"></a>Python é€šè¿‡ pip install å®‰è£…ç¬¬ä¸‰æ–¹åº“å¤±è´¥ï¼ˆç½‘ç»œè¿æ¥åŸå› ç­‰ï¼‰</h4><p>1ã€é€šè¿‡å®˜ç½‘æˆ–è€… Github é“¾æ¥ç›´æ¥ä¸‹è½½ tar æˆ–è€… whl æ–‡ä»¶</p><p>2ã€pip install XXX.whl / XXX.tar.gz    ç›´æ¥å®‰è£…ï¼ˆåŒä¸€è·¯å¾„ä¸‹ï¼‰</p><br><br><h4 id="pythonå®‰è£…ç¬¬ä¸‰æ–¹åŒ…çš„å®‰è£…è·¯å¾„"><a href="#pythonå®‰è£…ç¬¬ä¸‰æ–¹åŒ…çš„å®‰è£…è·¯å¾„" class="headerlink" title="pythonå®‰è£…ç¬¬ä¸‰æ–¹åŒ…çš„å®‰è£…è·¯å¾„"></a>pythonå®‰è£…ç¬¬ä¸‰æ–¹åŒ…çš„å®‰è£…è·¯å¾„</h4><ul><li>dist-packagesï¼šç³»ç»Ÿè‡ªå¸¦çš„python</li><li>site-packagesï¼šè‡ªå·±å®‰è£…çš„python</li></ul><br><br><h4 id="pythonä½¿ç”¨osåº“çš„æ³¨æ„äº‹é¡¹"><a href="#pythonä½¿ç”¨osåº“çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="pythonä½¿ç”¨osåº“çš„æ³¨æ„äº‹é¡¹"></a>pythonä½¿ç”¨osåº“çš„æ³¨æ„äº‹é¡¹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">output_path = os.path.join(<span class="hljs-string">&#x27;./&#x27;</span>, <span class="hljs-string">&#x27;new_data&#x27;</span>, <span class="hljs-string">&#x27;2021&#x27;</span>, domain)<br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(output_path):<br>os.mkdir(output_path)<br></code></pre></td></tr></table></figure><p>os.mkdir ç”¨æ¥åˆ›å»ºç¼ºå¤±çš„ç›®å½•ï¼ˆåªèƒ½åˆ›å»º<strong>æœ€åä¸€çº§</strong>ï¼‰ï¼š</p><p>å¦‚æœç›®å½•æœ‰å¤šçº§ï¼Œåˆ™åˆ›å»ºæœ€åä¸€çº§ï¼Œå¦‚æœæœ€åä¸€çº§ç›®å½•çš„ä¸Šçº§ç›®å½•æœ‰ä¸å­˜åœ¨çš„ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ª Errorã€‚</p><br><br><h4 id="Linuxä¸‹è¿è¡Œshellè„šæœ¬æ˜¾ç¤ºâ€œ-usr-bin-env-â€œbash-râ€-æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•"><a href="#Linuxä¸‹è¿è¡Œshellè„šæœ¬æ˜¾ç¤ºâ€œ-usr-bin-env-â€œbash-râ€-æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•" class="headerlink" title="Linuxä¸‹è¿è¡Œshellè„šæœ¬æ˜¾ç¤ºâ€œ: /usr/bin/env: â€œbash\râ€: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•"></a>Linuxä¸‹è¿è¡Œshellè„šæœ¬æ˜¾ç¤ºâ€œ: /usr/bin/env: â€œbash\râ€: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</h4><p>è§£å†³åŠæ³•ï¼š</p><p>  ç”¨vimæ‰“å¼€shè„šæœ¬æ–‡ä»¶ï¼ˆvim filename.txtï¼‰ï¼Œ é‡æ–°è®¾ç½®æ–‡ä»¶çš„æ ¼å¼</p><p>  ï¼šset ff ç„¶åå›è½¦ å†é‡æ–°è®¾ç½®ä¸‹æ–‡ä»¶æ ¼å¼ï¼š</p><p>  ï¼šset ff=unix ç„¶åä¿å­˜é€€å‡º</p><p>  ï¼šwq! å›è½¦</p><br><br><h4 id="æ‰§è¡ŒShellè„šæœ¬ï¼šâ€“do-eval-æœªæ‰¾åˆ°å‘½ä»¤"><a href="#æ‰§è¡ŒShellè„šæœ¬ï¼šâ€“do-eval-æœªæ‰¾åˆ°å‘½ä»¤" class="headerlink" title="æ‰§è¡ŒShellè„šæœ¬ï¼šâ€“do_eval:æœªæ‰¾åˆ°å‘½ä»¤"></a>æ‰§è¡ŒShellè„šæœ¬ï¼šâ€“do_eval:æœªæ‰¾åˆ°å‘½ä»¤</h4><p>åŸå› ï¼šshellè„šæœ¬é‡‡ç”¨äº†é”™è¯¯çš„æ³¨é‡Šæ–¹å¼ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell">emcc -o\<br><span class="hljs-meta"> #</span><span class="bash"> ç›®æ ‡æ–‡ä»¶</span><br> ./dist/test.html\ <br><span class="hljs-meta">  #</span><span class="bash"> æ¨¡æ¿æ–‡ä»¶</span><br> --shell-file ./tmp.html\<br> --source-map-base dist\<br></code></pre></td></tr></table></figure><p>æ”¹ä¸ºï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs shell">emcc -o ./dist/test.html `# ç›®æ ‡æ–‡ä»¶` \<br> -O3 `# ä¼˜åŒ–çº§åˆ«` \<br> --source-map-base dist\<br> -s MODULARIZE=1\<br> -s LEGACY_GL_EMULATION=1\<br> `# --pre-js ./pre.js`\<br> --post-js ./post.js\<br> --cpuprofiler\<br> `# --threadprofiler`\<br> --memoryprofiler\<br> main.cpp<br></code></pre></td></tr></table></figure><br><br><h4 id="ä½¿ç”¨-Filezilla-è¿æ¥æœåŠ¡å™¨ä»¥åæ–‡ä»¶ç›®å½•ç¼ºå¤±"><a href="#ä½¿ç”¨-Filezilla-è¿æ¥æœåŠ¡å™¨ä»¥åæ–‡ä»¶ç›®å½•ç¼ºå¤±" class="headerlink" title="ä½¿ç”¨ Filezilla è¿æ¥æœåŠ¡å™¨ä»¥åæ–‡ä»¶ç›®å½•ç¼ºå¤±"></a>ä½¿ç”¨ Filezilla è¿æ¥æœåŠ¡å™¨ä»¥åæ–‡ä»¶ç›®å½•ç¼ºå¤±</h4><p>Solveï¼šè¿æ¥ç«¯å£å·æ”¹ä¸º22ï¼Œé‡‡ç”¨ sftp åè®®</p><p>ï¼ˆ SFTP æ¯” FTP æ›´å®‰å…¨ï¼Œä½†ä¼ è¾“çš„æ•ˆç‡æ¯” FTP è¦ä½ä¸€äº›ï¼‰</p><p><br><br></p><h4 id="è®¡ç®—äº¤å‰ç†µæŸå¤±å‡½æ•°æŠ¥é”™"><a href="#è®¡ç®—äº¤å‰ç†µæŸå¤±å‡½æ•°æŠ¥é”™" class="headerlink" title="è®¡ç®—äº¤å‰ç†µæŸå¤±å‡½æ•°æŠ¥é”™"></a>è®¡ç®—äº¤å‰ç†µæŸå¤±å‡½æ•°æŠ¥é”™</h4><p><img src="/images/image-20220222012428291.png" alt="image-20220222012428291"></p><p>æŠ¥é”™åŸå› ï¼štensorçš„ç»´åº¦ä¸æ­£ç¡®</p><p>â€”â€”Tensorå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå¤šç»´æ•°ç»„ï¼Œè®¡ç®—äº¤å‰ç†µæ—¶ç»´åº¦éœ€è¦è°ƒå¯¹</p><p>è§£å†³åŠæ³•ï¼š</p><p>[4] â†’ [1, 4]    åˆ©ç”¨tensorçš„viewæ–¹æ³•è°ƒæ•´ç»´åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> p_domain_logits.shape == torch.Size([<span class="hljs-number">4</span>]):<br>    y1 = p_domain_logits.view(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)<br>    y2 = s_domain_logits.view(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>)<br>    p_domain_logits = y1<br>    s_domain_logits = y2<br></code></pre></td></tr></table></figure><br><br><h4 id="Git-Push-æŠ¥é”™"><a href="#Git-Push-æŠ¥é”™" class="headerlink" title="Git Push æŠ¥é”™"></a>Git Push æŠ¥é”™</h4><h5 id="error-src-refspec-main-does-not-match-any"><a href="#error-src-refspec-main-does-not-match-any" class="headerlink" title="error: src refspec main does not match any"></a>error: src refspec main does not match any</h5><p>Solveï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git show-ref<br></code></pre></td></tr></table></figure><p>è¿”å›ï¼š8c4c7afc8d831dcba4f8989e39eb8286c1657439 refs/heads/master</p><p>ç¡®å®šåˆ†æ”¯çš„åç§°åå†push</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs git">git push -u origin master<br></code></pre></td></tr></table></figure><br><br><h4 id="RuntimeError-cuDNN-error-CUDNN-STATUS-EXECUTION-FAILED"><a href="#RuntimeError-cuDNN-error-CUDNN-STATUS-EXECUTION-FAILED" class="headerlink" title="RuntimeError: cuDNN error: CUDNN_STATUS_EXECUTION_FAILED"></a>RuntimeError: cuDNN error: CUDNN_STATUS_EXECUTION_FAILED</h4><p>cudnnæ˜¯cudaçš„ä¸€ä¸ªå·¥å…·ï¼Œä¸“é—¨ç”¨äºåŠ é€Ÿæ·±åº¦ç½‘ç»œã€‚</p><p>æ–¹æ³•ä¸€ï¼šå‡å° batch size</p><p><strong>æ–¹æ³•äºŒï¼ˆæ¨èï¼‰ï¼š</strong></p><ul><li>å…ˆ <strong>nvidia-smi</strong> æŸ¥çœ‹ GPU çš„æ˜¾å­˜ä½¿ç”¨æƒ…å†µ</li></ul><img src="/images/image-20220301150635665.png" alt="image-20220301150635665" style="zoom: 50%;"><ul><li><p>å† <strong>ps -aux</strong> æŸ¥çœ‹æœªç»“æŸçš„æ— ç”¨è¿›ç¨‹</p></li><li><p>æœ€å <strong>kill -9 PID</strong> ç»“æŸæŒ‡å®šçš„è¿›ç¨‹ï¼ˆPIDä¸ºè¿›ç¨‹å·ï¼‰</p></li></ul><br><br><h4 id="UnicodeDecodeError-â€˜utf-8â€™-codec-canâ€™t-decode-bytes-in-position-2319-2320"><a href="#UnicodeDecodeError-â€˜utf-8â€™-codec-canâ€™t-decode-bytes-in-position-2319-2320" class="headerlink" title="UnicodeDecodeError: â€˜utf-8â€™ codec canâ€™t decode bytes in position 2319-2320:"></a>UnicodeDecodeError: â€˜utf-8â€™ codec canâ€™t decode bytes in position 2319-2320:</h4><p>Solveï¼š</p><ul><li>å°†æ–‡ä»¶<strong>å¦å­˜ä¸º</strong> <strong>utf-8</strong> çš„æ ¼å¼</li><li>åœ¨ open æ‰“å¼€æ–‡ä»¶æ—¶åŠ å…¥  <code>,encoding=&#39;UTF-8&#39;</code></li></ul><br><br><h4 id="Mavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜"><a href="#Mavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜" class="headerlink" title="Mavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜"></a>Mavenå¯èƒ½å­˜åœ¨èµ„æºè¿‡æ»¤çš„é—®é¢˜</h4><p>Solveï¼š</p><p>å®Œå–„é…ç½®ä¿¡æ¯</p><p>ï¼ˆåœ¨ pom.xml ï¼‰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/java<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>       <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">includes</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.properties<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">include</span>&gt;</span>**/*.xml<span class="hljs-tag">&lt;/<span class="hljs-name">include</span>&gt;</span><br>           <span class="hljs-tag">&lt;/<span class="hljs-name">includes</span>&gt;</span><br>           <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span><br>       <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ GAN</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%88%90%E5%BC%8F%E5%AF%B9%E6%8A%97%E7%BD%91%E7%BB%9C%20GAN/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E7%94%9F%E6%88%90%E5%BC%8F%E5%AF%B9%E6%8A%97%E7%BD%91%E7%BB%9C%20GAN/</url>
    
    <content type="html"><![CDATA[<h1 id="ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ-GAN"><a href="#ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ-GAN" class="headerlink" title="ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ GAN"></a>ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ GAN</h1><h4 id="Generative-adversarial-networks"><a href="#Generative-adversarial-networks" class="headerlink" title="Generative adversarial networks"></a>Generative adversarial networks</h4><p>è®ºæ–‡ï¼š<a href="https://proceedings.neurips.cc/paper/2014/file/5ca3e9b122f61f8f06494c97b1afccf3-Paper.pdf">https://proceedings.neurips.cc/paper/2014/file/5ca3e9b122f61f8f06494c97b1afccf3-Paper.pdf</a></p><p>GANå…·æœ‰ç”Ÿæˆæ•°æ®æ ·æœ¬çš„èƒ½åŠ›ã€‚ </p><ul><li>è¿™ç§èƒ½åŠ›åœ¨ä¸€å®šç¨‹åº¦ä¸Šåæ˜ äº†å®ƒå¯¹äº‹ç‰©çš„ç†è§£</li><li>GAN æœ‰æœ›åŠ æ·±äººå·¥æ™ºèƒ½çš„ç†è§£å±‚é¢çš„ç ”ç©¶</li></ul><p>GAN ä½œä¸ºä¸€ç§ç”Ÿæˆå¼æ¨¡å‹, ä¸ç›´æ¥ä¼°è®¡æ•°æ®æ ·æœ¬çš„åˆ†å¸ƒï¼Œè€Œæ˜¯<strong>é€šè¿‡æ¨¡å‹å­¦ä¹ æ¥ä¼°æµ‹å…¶æ½œåœ¨åˆ†å¸ƒå¹¶ç”ŸæˆåŒåˆ†å¸ƒçš„æ–°æ ·æœ¬</strong>ã€‚è¿™ç§ä»æ½œåœ¨åˆ†å¸ƒç”Ÿæˆ â€œæ— é™â€ æ–°æ ·æœ¬çš„èƒ½åŠ›ï¼Œåœ¨å›¾åƒå’Œè§†è§‰è®¡ç®—ã€ è¯­éŸ³å’Œè¯­è¨€å¤„ç†ã€ä¿¡æ¯å®‰å…¨ç­‰é¢†åŸŸå…·æœ‰é‡å¤§çš„åº”ç”¨ä»·å€¼ã€‚</p><br><h4 id="ç”Ÿæˆæ¨¡å‹"><a href="#ç”Ÿæˆæ¨¡å‹" class="headerlink" title="ç”Ÿæˆæ¨¡å‹"></a>ç”Ÿæˆæ¨¡å‹</h4><p>ç”Ÿæˆæ¨¡å‹å¯ä»¥æè¿°æˆä¸€ä¸ªç”Ÿæˆæ•°æ®çš„æ¨¡å‹ï¼Œå±äºä¸€ç§æ¦‚ç‡æ¨¡å‹ã€‚</p><p>é€šè¿‡è¿™ä¸ªæ¨¡å‹æˆ‘ä»¬å¯ä»¥<u>ç”Ÿæˆä¸åŒ…å«åœ¨è®­ç»ƒæ•°æ®é›†ä¸­çš„æ–°çš„æ•°æ®</u>ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬æœ‰å¾ˆå¤šé©¬çš„å›¾ç‰‡é€šè¿‡ç”Ÿæˆæ¨¡å‹å­¦ä¹ è¿™äº›é©¬çš„å›¾åƒï¼Œä»ä¸­å­¦ä¹ åˆ°é©¬çš„æ ·å­ï¼Œç”Ÿæˆæ¨¡å‹å°±å¯ä»¥ç”Ÿæˆçœ‹èµ·æ¥å¾ˆçœŸå®çš„é©¬çš„å›¾åƒå¹¶ä¸”è¿™ä¸ªå›¾åƒæ˜¯ä¸å±äºè®­ç»ƒå›¾åƒçš„ã€‚</p><img src="/.io//image-20211226221839763.png" alt="image-20211226221839763" style="zoom: 33%;"><br><h4 id="Maximum-Likelihood"><a href="#Maximum-Likelihood" class="headerlink" title="Maximum Likelihood"></a>Maximum Likelihood</h4><p>ä¼¼ç„¶ï¼šæ ¹æ®ç»“æœæ¥åˆ¤æ–­è¿™ä¸ªäº‹æƒ…æœ¬èº«çš„æ€§è´¨ï¼ˆå‚æ•°ï¼‰</p><img src="/.io//image-20211226221630593.png" alt="image-20211226221630593" style="zoom:50%;"><p>é€šè¿‡é‡‡æ ·ç»“æœä¼°è®¡åŸå§‹å›¾åƒï¼ˆæ•°æ®ï¼‰</p><br><h2 id="GANçš„ç†è®ºä¸å®ç°æ¨¡å‹"><a href="#GANçš„ç†è®ºä¸å®ç°æ¨¡å‹" class="headerlink" title="GANçš„ç†è®ºä¸å®ç°æ¨¡å‹"></a>GANçš„ç†è®ºä¸å®ç°æ¨¡å‹</h2><h4 id="GAN-çš„æ ¸å¿ƒæ€æƒ³æ¥æºäºåšå¼ˆè®ºçš„çº³ä»€å‡è¡¡"><a href="#GAN-çš„æ ¸å¿ƒæ€æƒ³æ¥æºäºåšå¼ˆè®ºçš„çº³ä»€å‡è¡¡" class="headerlink" title="GAN çš„æ ¸å¿ƒæ€æƒ³æ¥æºäºåšå¼ˆè®ºçš„çº³ä»€å‡è¡¡"></a>GAN çš„æ ¸å¿ƒæ€æƒ³æ¥æºäºåšå¼ˆè®ºçš„çº³ä»€å‡è¡¡</h4><h4 id="GANï¼šç”±ä¸€ä¸ªç”Ÿæˆå™¨-Generator-å’Œä¸€ä¸ªåˆ¤åˆ«å™¨-Discriminator-æ„æˆ"><a href="#GANï¼šç”±ä¸€ä¸ªç”Ÿæˆå™¨-Generator-å’Œä¸€ä¸ªåˆ¤åˆ«å™¨-Discriminator-æ„æˆ" class="headerlink" title="GANï¼šç”±ä¸€ä¸ªç”Ÿæˆå™¨ (Generator)å’Œä¸€ä¸ªåˆ¤åˆ«å™¨ (Discriminator) æ„æˆ"></a>GANï¼šç”±ä¸€ä¸ªç”Ÿæˆå™¨ (Generator)å’Œä¸€ä¸ªåˆ¤åˆ«å™¨ (Discriminator) æ„æˆ</h4><ul><li><p>ç”Ÿæˆå™¨çš„ç›®çš„æ˜¯å°½é‡å»å­¦ä¹ çœŸå®çš„æ•°æ®åˆ†å¸ƒ</p></li><li><p>åˆ¤åˆ«å™¨çš„ç›®çš„æ˜¯å°½é‡æ­£ç¡®åˆ¤åˆ«è¾“å…¥æ•°æ®æ˜¯æ¥è‡ªçœŸå®æ•°æ®è¿˜æ˜¯æ¥è‡ªç”Ÿæˆå™¨</p></li><li><p>å„è‡ªæé«˜è‡ªå·±çš„ç”Ÿæˆèƒ½åŠ›å’Œåˆ¤åˆ«èƒ½åŠ›, è¿™ä¸ªå­¦ä¹ ä¼˜åŒ–ï¼ˆå¯¹æŠ—ï¼‰è¿‡ç¨‹å°±æ˜¯å¯»æ‰¾äºŒè€…ä¹‹é—´çš„ä¸€ä¸ªçº³ä»€å‡è¡¡</p><p>ï¼ˆåˆ¤åˆ«æ¨¡å‹å’Œç”Ÿæˆæ¨¡å‹æå¤§ã€æå°ä¹‹é—´çš„åšå¼ˆï¼‰</p></li></ul><p>æœ€åå¸Œæœ›ç”Ÿæˆå™¨å¯ä»¥è·èƒœä»è€Œèƒ½å¤Ÿç”Ÿæˆä¸€äº›éå¸¸çœŸå®çš„æ•°æ®</p><br><h4 id="Gå’ŒDå°±æ˜¯ä¸¤ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­å¯ä»¥ç”¨BPç®—æ³•"><a href="#Gå’ŒDå°±æ˜¯ä¸¤ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­å¯ä»¥ç”¨BPç®—æ³•" class="headerlink" title="Gå’ŒDå°±æ˜¯ä¸¤ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­å¯ä»¥ç”¨BPç®—æ³•"></a>Gå’ŒDå°±æ˜¯ä¸¤ä¸ªæ·±åº¦ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œåœ¨è®­ç»ƒçš„è¿‡ç¨‹ä¸­å¯ä»¥ç”¨BPç®—æ³•</h4><ol><li>æŠŠçœŸå®æ•°æ®æ ‡è¯†ä¸ºâ€˜1â€™(çœŸå®åˆ†å¸ƒ)ï¼Œç”±ç”Ÿæˆå™¨ç”Ÿæˆçš„æ•°æ®æ ‡è¯†ä¸ºâ€™0â€˜(ç”Ÿæˆåˆ†å¸ƒ)ï¼Œåå¤è¿­ä»£è®­ç»ƒD</li><li>å°† G æ‹¼æ¥åœ¨ D çš„ä¸Šæ–¹ï¼Œå³ G çš„è¾“å‡ºä½œä¸º D çš„è¾“å…¥ï¼ŒåŒæ—¶å›ºå®š D çš„å‚æ•°ï¼Œå¹¶å°†è¿›å…¥ G çš„å™ªéŸ³æ ·æœ¬æ ‡ç­¾å…¨éƒ¨æ”¹æˆâ€™1â€™ï¼Œä¸ºäº†æœ€å°åŒ–æŸå¤±å‡½æ•°ï¼Œæ­¤æ—¶å°±åªèƒ½æ”¹å˜ G çš„æ¯ä¸€å±‚æƒé‡ï¼Œåå¤è¿­ä»£å G çš„ç”Ÿæˆèƒ½åŠ›å› æ­¤å¾—ä»¥æ”¹è¿›ã€‚</li><li>åå¤è¿­ä»£ï¼ˆ1ï¼‰ï¼ˆ2ï¼‰ï¼Œæœ€ç»ˆ G å°±ä¼šå¾—åˆ°è¾ƒå¥½çš„ç”Ÿæˆèƒ½åŠ›ã€‚</li></ol><img src="/.io//image-20211226223651501.png" alt="image-20211226223651501" style="zoom: 67%;"><br><h4 id="ç®—æ³•æ­¥éª¤ï¼š"><a href="#ç®—æ³•æ­¥éª¤ï¼š" class="headerlink" title="ç®—æ³•æ­¥éª¤ï¼š"></a>ç®—æ³•æ­¥éª¤ï¼š</h4><ul><li>Initialize generator and discriminator</li><li>In each training iteration:<ul><li>å›ºå®šç”Ÿæˆå™¨ï¼Œè®­ç»ƒ<strong>åˆ¤åˆ«å™¨</strong>ï¼ˆ<u>Discriminator learns to assign high scores to real objects and low scores to generated objects</u>.ï¼‰</li><li>å›ºå®šåˆ¤åˆ«å™¨ï¼Œè®­ç»ƒ<strong>ç”Ÿæˆå™¨</strong></li></ul></li><li>æ³¨ï¼šç¬¬ä¸€æ­¥è®­ç»ƒåˆ¤åˆ«å™¨ï¼Œå¸Œæœ›V(G,D)è¶Šå¤§è¶Šå¥½ï¼Œæ‰€ä»¥<strong>åŠ ä¸Šæ¢¯åº¦</strong>ï¼Œç¬¬äºŒæ­¥è®­ç»ƒç”Ÿæˆå™¨ï¼Œå¸Œæœ›V(G,D)è¶Šå°è¶Šå¥½ï¼Œæ‰€ä»¥<strong>å‡å»æ¢¯åº¦</strong>ã€‚æ•´ä¸ªè®­ç»ƒè¿‡ç¨‹äº¤æ›¿è¿›è¡Œã€‚</li></ul><br><p>æ•°æ®ç”ŸæˆGenerationï¼šæƒ³è¦è·å¾—çœŸå®æ•°æ®çš„åˆ†å¸ƒâ€”â€”æå¤§ä¼¼ç„¶ä¼°è®¡</p><br><p>å®šä¹‰ï¼š<img src="/.io//image-20211227002647531.png" alt="image-20211227002647531" style="zoom:33%;"></p><p>ç”Ÿæˆå™¨ç›®æ ‡ï¼š</p><img src="/.io//image-20211227002322145.png" alt="image-20211227002322145" style="zoom:50%;"><p>åˆ¤åˆ«å™¨ç›®æ ‡ï¼š</p><img src="/.io//image-20211227002304327.png" alt="image-20211227002304327" style="zoom:50%;"><p>![image-20211227003158639](ç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œ GAN.assets/image-20211227003158639.png)</p><br><h4 id="DCGANï¼ˆDeep-Convolutional-GANï¼‰"><a href="#DCGANï¼ˆDeep-Convolutional-GANï¼‰" class="headerlink" title="DCGANï¼ˆDeep Convolutional GANï¼‰"></a>DCGANï¼ˆDeep Convolutional GANï¼‰</h4><p>DCGAN çš„åˆ¤åˆ«å™¨å’Œç”Ÿæˆå™¨éƒ½ä½¿ç”¨äº†å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰æ¥æ›¿ä»£GAN ä¸­çš„å¤šå±‚æ„ŸçŸ¥æœºï¼ŒåŒæ—¶ä¸ºäº†ä½¿æ•´ä¸ªç½‘ç»œå¯å¾®ï¼Œæ‹¿æ‰äº†CNN ä¸­çš„æ± åŒ–å±‚ï¼Œå¦å¤–å°†å…¨è¿æ¥å±‚ä»¥å…¨å±€æ± åŒ–å±‚æ›¿ä»£ä»¥å‡è½»è®¡ç®—é‡ã€‚</p><p>DCGANå…¶å®å°±æ˜¯ä¸€ä¸ªåå‘çš„CNNâ€”â€”åˆ›é€ å›¾ç‰‡è€Œéè¿‡æ»¤</p><br><h2 id="ä¸åŒç±»å‹GAN"><a href="#ä¸åŒç±»å‹GAN" class="headerlink" title="ä¸åŒç±»å‹GAN"></a>ä¸åŒç±»å‹GAN</h2><h3 id="1ã€Traditional-supervised-approach"><a href="#1ã€Traditional-supervised-approach" class="headerlink" title="1ã€Traditional supervised approach"></a>1ã€Traditional supervised approach</h3><h3 id="2ã€Conditional-GAN"><a href="#2ã€Conditional-GAN" class="headerlink" title="2ã€Conditional GAN"></a>2ã€Conditional GAN</h3><h3 id="3ã€Unsupervised-Conditional-Generation"><a href="#3ã€Unsupervised-Conditional-Generation" class="headerlink" title="3ã€Unsupervised Conditional Generation"></a>3ã€Unsupervised Conditional Generation</h3><h4 id="ä¸¤ç§å®ç°é€”å¾„"><a href="#ä¸¤ç§å®ç°é€”å¾„" class="headerlink" title="ä¸¤ç§å®ç°é€”å¾„"></a>ä¸¤ç§å®ç°é€”å¾„</h4><ul><li>Direct Transformation</li><li>Projection to Common Space</li></ul><img src="/.io//image-20211227011527410.png" alt="image-20211227011527410" style="zoom:80%;">]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æœç´¢</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E6%90%9C%E7%B4%A2/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E6%90%9C%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h1><h3 id="æœç´¢é—®é¢˜çš„æ„æˆ"><a href="#æœç´¢é—®é¢˜çš„æ„æˆ" class="headerlink" title="æœç´¢é—®é¢˜çš„æ„æˆ:"></a>æœç´¢é—®é¢˜çš„æ„æˆ:</h3><ul><li>çŠ¶æ€ç©ºé—´</li><li>åç»§å‡½æ•°</li><li>åˆå§‹çŠ¶æ€</li><li>ç›®æ ‡æµ‹è¯•</li></ul><br><h3 id="ä¾‹å­ï¼šä¸‰ä¸ªä¼ æ•™å£«å’Œä¸‰ä¸ªé‡äººï¼š"><a href="#ä¾‹å­ï¼šä¸‰ä¸ªä¼ æ•™å£«å’Œä¸‰ä¸ªé‡äººï¼š" class="headerlink" title="ä¾‹å­ï¼šä¸‰ä¸ªä¼ æ•™å£«å’Œä¸‰ä¸ªé‡äººï¼š"></a>ä¾‹å­ï¼šä¸‰ä¸ªä¼ æ•™å£«å’Œä¸‰ä¸ªé‡äººï¼š</h3><p>Problemï¼šä¸‰ä¸ªä¼ æ•™å£«ä¸ä¸‰ä¸ªé‡äººæ¸¡æ²³ï¼Œé‡äººåœ¨å²¸ä¸Šå¤šäºä¼ æ•™å£«ä¼šåƒäº†ä¼ æ•™å£«ï¼Œä¸€æ¡èˆ¹ï¼Œåªèƒ½å¸¦ä¸¤ä¸ªäººï¼Œé—®æ€æ ·è®©ä¼ æ•™å£«å®‰å…¨çš„åº¦äº†æ²³</p><p>ç¬¬ä¸€æ­¥ï¼šå…ˆè¿‡å»ä¸¤ä¸ªé£Ÿäººå…½ï¼Œå†å›æ¥ä¸€ä¸ªï¼›<br>ç¬¬äºŒæ­¥ï¼šå†è¿‡å»ä¸¤ä¸ªé£Ÿäººå…½ï¼Œå†å›æ¥ä¸€ä¸ªï¼›<br>ç¬¬ä¸‰æ­¥ï¼šè¿‡å»ä¸¤ä¸ªä¼ æ•™å£«ï¼Œå†å›æ¥ä¸€ä¸ªä¼ æ•™å£«å’Œä¸€ä¸ªé£Ÿäººå…½ï¼›<br>ç¬¬å››æ­¥ï¼šå†è¿‡å»ä¸¤ä¸ªä¼ æ•™å£«ï¼Œå›æ¥ä¸€ä¸ªé£Ÿäººå…½ï¼›<br>ç¬¬äº”æ­¥ï¼šè¿‡å»ä¸¤ä¸ªé£Ÿäººå…½ï¼Œå†å›æ¥ä¸€ä¸ªé£Ÿäººå…½ï¼›<br>ç¬¬å…­æ­¥ï¼šæœ€åä¸¤ä¸ªé£Ÿäººå…½è¿‡å»ã€‚</p><h4 id="å½¢å¼åŒ–è¡¨ç¤ºæœç´¢é—®é¢˜ï¼š"><a href="#å½¢å¼åŒ–è¡¨ç¤ºæœç´¢é—®é¢˜ï¼š" class="headerlink" title="å½¢å¼åŒ–è¡¨ç¤ºæœç´¢é—®é¢˜ï¼š"></a><strong>å½¢å¼åŒ–è¡¨ç¤ºæœç´¢é—®é¢˜ï¼š</strong></h4><p>çŠ¶æ€ç©ºé—´ï¼š{ (M, C, B) }    Mï¼šå·¦å²¸ä¼ æ•™å£«ä¸ªæ•°ï¼›Cï¼šå·¦å²¸é‡äººä¸ªæ•°ï¼›Bï¼šèˆ¹çš„ä½ç½®ï¼ˆ1åœ¨å·¦å²¸0åœ¨å³å²¸ï¼‰</p><p>åç»§å‡½æ•°ï¼š{ P01, P10, P02, P20, P11, Q01, Q10, Q02, Q20, Q11}</p><p>â€‹                    Pç”±å·¦å²¸åˆ°å³å²¸ï¼ŒQç”±å³å²¸åˆ°å·¦å²¸ï¼›ç¬¬äºŒä½æ˜¯ä¼ æ•™å£«ï¼Œç¬¬ä¸‰ä½æ˜¯é‡äºº</p><p>åˆå§‹çŠ¶æ€ï¼š(3, 3, 1)</p><p>ç›®æ ‡çŠ¶æ€ï¼š(0, 0, 0)</p><p>çŠ¶æ€ç©ºé—´å›¾: æœç´¢é—®é¢˜çš„æ•°å­¦è¡¨ç¤º</p><br><h3 id="çŠ¶æ€ç©ºé—´å›¾"><a href="#çŠ¶æ€ç©ºé—´å›¾" class="headerlink" title="çŠ¶æ€ç©ºé—´å›¾"></a>çŠ¶æ€ç©ºé—´å›¾</h3><p>æœç´¢é—®é¢˜çš„æ•°å­¦è¡¨ç¤º ã€‚ä¸”åœ¨çŠ¶æ€ç©ºé—´å›¾ä¸­ï¼Œæ¯ä¸ªçŠ¶æ€åª<strong>å‡ºç°ä¸€æ¬¡</strong>ï¼</p><img src="/.io//image-20211223225158991.png" alt="image-20211223225158991" style="zoom:33%;"><br><h3 id="æœç´¢æ ‘"><a href="#æœç´¢æ ‘" class="headerlink" title="æœç´¢æ ‘"></a>æœç´¢æ ‘</h3><ul><li>æ ¹èŠ‚ç‚¹å¯¹åº”äº†åˆå§‹çŠ¶æ€ </li><li>å­èŠ‚ç‚¹å¯¹åº”äº†çˆ¶èŠ‚ç‚¹çš„åç»§ </li><li>èŠ‚ç‚¹æ˜¾ç¤ºçŠ¶æ€ï¼Œä½†å¯¹åº”çš„æ˜¯åˆ°è¾¾è¿™äº›çŠ¶æ€çš„ <strong>è¡ŒåŠ¨ / è·¯å¾„</strong></li><li>å¯¹å¤§å¤šæ•°é—®é¢˜ï¼Œå®é™…ä¸Šä¸ä¼šæ„å»ºæ•´ä¸ªæ ‘</li></ul><img src="/.io//image-20211223225932989.png" alt="image-20211223225932989" style="zoom:33%;"><br><h3 id="æœç´¢ç®—æ³•ç‰¹æ€§ï¼ˆåˆ¤æ–­æœç´¢ç®—æ³•çš„å¥½åï¼‰ï¼š"><a href="#æœç´¢ç®—æ³•ç‰¹æ€§ï¼ˆåˆ¤æ–­æœç´¢ç®—æ³•çš„å¥½åï¼‰ï¼š" class="headerlink" title="æœç´¢ç®—æ³•ç‰¹æ€§ï¼ˆåˆ¤æ–­æœç´¢ç®—æ³•çš„å¥½åï¼‰ï¼š"></a>æœç´¢ç®—æ³•ç‰¹æ€§ï¼ˆåˆ¤æ–­æœç´¢ç®—æ³•çš„å¥½åï¼‰ï¼š</h3><ul><li><strong>å®Œå¤‡æ€§</strong>â€”â€”å½“é—®é¢˜æœ‰è§£æ—¶ï¼Œä¿è¯èƒ½æ‰¾åˆ°ä¸€ä¸ªè§£</li><li><strong>æœ€ä¼˜æ€§</strong>â€”â€”ä¿è¯èƒ½æ‰¾åˆ°æœ€ä¼˜è§£ï¼ˆæœ€å°è€—æ•£è·¯å¾„ï¼‰</li><li>æ—¶é—´å¤æ‚åº¦</li><li>ç©ºé—´å¤æ‚åº¦</li></ul><img src="/.io//image-20211224033114648.png" alt="image-20211224033114648" style="zoom:67%;"><br><h3 id="å‡ ç§æœç´¢ç®—æ³•ï¼š"><a href="#å‡ ç§æœç´¢ç®—æ³•ï¼š" class="headerlink" title="å‡ ç§æœç´¢ç®—æ³•ï¼š"></a>å‡ ç§æœç´¢ç®—æ³•ï¼š</h3><p><strong>æ·±åº¦ä¼˜å…ˆæœç´¢</strong> (DFS)ï¼šæœ‰å®Œå¤‡æ€§ï¼ˆæ— ç¯ï¼‰ï¼›æ— æœ€ä¼˜æ€§ï¼ˆæ¯æ¬¡éƒ½æ‰¾æœ€å·¦è¾¹çš„è·¯å¾„ï¼‰ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„</p><p><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢</strong>(Breadth-First Search)ï¼šæœ‰å®Œå¤‡æ€§ï¼›æ¯ä¸€æ­¥ä»£ä»·/è€—æ•£éƒ½ç›¸åŒå°±å…·æœ‰æœ€ä¼˜æ€§</p><p><strong>è¿­ä»£æ·±å…¥æœç´¢</strong>(Iterative Deepening)ï¼šç»“åˆDFSçš„ç©ºé—´ä¼˜åŠ¿ä¸BFSçš„æ—¶é—´ä¼˜åŠ¿ï¼Œé™åˆ¶æœç´¢æ·±åº¦ï¼Œæ¯æ¬¡åœ¨é™åˆ¶çš„æ·±åº¦å†…è¿›è¡ŒDFSï¼Œé™åˆ¶æ·±åº¦é€æ¬¡å¢åŠ ï¼Œæœ‰å®Œå¤‡æ€§ï¼›æ¯ä¸€æ­¥è€—æ•£éƒ½ç›¸åŒå°±å…·æœ‰æœ€ä¼˜æ€§ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯çº¿æ€§çš„</p><p><strong>ä»£ä»·æ•æ„Ÿæœç´¢</strong>(Cost-Sensitive Search)</p><p><strong>ä»£ä»·ä¸€è‡´æœç´¢</strong>(UCS)ï¼šå…ˆæ‰©å±•ä»£ä»·å°çš„èŠ‚ç‚¹ï¼ˆBFS+ä¼˜å…ˆé˜Ÿåˆ—ï¼‰ï¼›æœ‰å®Œå¤‡æ€§ï¼›æœ‰æœ€ä¼˜æ€§ï¼›</p><p>â€‹                                    åªè€ƒè™‘äº†ä¹‹å‰çš„ä¿¡æ¯</p><br><h3 id="æœç´¢çš„å¯å‘ç­–ç•¥"><a href="#æœç´¢çš„å¯å‘ç­–ç•¥" class="headerlink" title="æœç´¢çš„å¯å‘ç­–ç•¥"></a>æœç´¢çš„å¯å‘ç­–ç•¥</h3><p>å¯å‘ç­–ç•¥ï¼šä¼°è®¡ä¸€ä¸ªçŠ¶æ€åˆ°ç›®æ ‡è·ç¦»çš„å‡½æ•°h</p><p><strong>è´ªå©ªæœç´¢</strong>(Greedy Search)ï¼šæ‰©å±•ç¦»ç›®æ ‡æœ€è¿‘çš„èŠ‚ç‚¹ï¼Œå¯å‘å‡½æ•° f(n)=h(n) æ¥è¯„ä»·èŠ‚ç‚¹ï¼ˆé¢„ä¼°ç¦»ç›®æ ‡è·ç¦»ï¼‰ï¼Œå¯èƒ½æ˜¯ä¸å®Œå¤‡çš„ï¼ˆæ ‘æ˜¯æ— ç©·çš„æƒ…å†µï¼‰</p><p><em><em>A</em> æœç´¢</em><em>ï¼šç»“åˆ UCS å’Œ è´ªå©ªæœç´¢ï¼ŒA</em> Search orders by the sum: **f(n) = g(n) + h(n)**ï¼Œ</p><p>backward cost g(n)ï¼ˆå·²æ¶ˆè€—çš„ä»£ä»·ï¼‰ï¼›forward cost h(n)ï¼ˆé¢„ä¼°çš„æœªæ¥ä»£ä»·ï¼‰ï¼›æ¯æ¬¡æ‰©å±•f(n)æœ€å°çš„</p><p>å¯å‘å‡½æ•° <em>h</em> æ˜¯ å¯é‡‡çº³çš„ï¼š<strong>ä¼°è®¡å€¼hå°äºå®é™…è€—æ•£</strong>ã€‚</p><p>é€šå¸¸ï¼Œå¯é‡‡çº³å¯å‘å‡½æ•°æ˜¯<strong>æ¾å¼›é—®é¢˜</strong>çš„è§£çš„è€—æ•£</p><p>åŸºäºå¯é‡‡çº³çš„å¯å‘å¼å‡½æ•°çš„ A* æ ‘æœç´¢å…·æœ‰æœ€ä¼˜æ€§ã€‚</p><br><h3 id="å›¾æœç´¢"><a href="#å›¾æœç´¢" class="headerlink" title="å›¾æœç´¢"></a>å›¾æœç´¢</h3><p>ä¸è¦æ‰©å±•ä¸€ä¸ªçŠ¶æ€ä¸¤æ¬¡</p><p>æ‰§è¡Œï¼šæ ‘æœç´¢ + æ‰©å±•è¿‡çš„çŠ¶æ€é›† (â€œclosed setâ€) / æ ‡è®°</p><br><h3 id="A-æœç´¢æ€»ç»“"><a href="#A-æœç´¢æ€»ç»“" class="headerlink" title="A* æœç´¢æ€»ç»“"></a>A* æœç´¢æ€»ç»“</h3><ul><li><p>A* ä½¿ç”¨åå‘è€—æ•£å’Œå‰å‘è€—æ•£ï¼ˆä¼°è®¡ï¼‰</p></li><li><p>A* æ˜¯å®Œå¤‡çš„ã€æœ€ä¼˜çš„ï¼Œä¹Ÿæ˜¯æ•ˆç‡æœ€ä¼˜çš„</p><p>â€‹    ï¼ˆæ ‘æœç´¢ï¼šå¯é‡‡çº³çš„å¯å‘å‡½æ•°ï¼›å›¾æœç´¢ï¼šä¸€è‡´çš„å¯å‘å‡½æ•°ï¼‰</p></li><li><p>å¯å‘å¼å‡½æ•°è®¾è®¡æ˜¯å…³é”®: å¸¸ä½¿ç”¨æ¾å¼›é—®é¢˜ï¼ˆç®€åŒ–åŸé—®é¢˜ï¼‰</p></li></ul><br><h3 id="å¤šç§æœç´¢ç®—æ³•æ€»ç»“"><a href="#å¤šç§æœç´¢ç®—æ³•æ€»ç»“" class="headerlink" title="å¤šç§æœç´¢ç®—æ³•æ€»ç»“"></a>å¤šç§æœç´¢ç®—æ³•æ€»ç»“</h3><p>DFSå’ŒBFSéƒ½æ˜¯æ— å¯å‘å¼çš„æœç´¢</p><p>f(n) = g(n) + h(n)        ï¼ˆå·²æ¶ˆè€—çš„ä»£ä»·gï¼Œé¢„ä¼°çš„æœªæ¥ä»£ä»·hï¼‰ï¼ˆæ¯æ¬¡æ‰©å±•f(n)æœ€å°çš„ï¼‰</p><p>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼šg=0ï¼Œç²—ç•¥è€ƒè™‘h</p><p>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼šh=0ï¼Œç²—ç•¥è€ƒè™‘g</p><p>è´ªå©ªæœç´¢ï¼šg=0ï¼Œè€ƒè™‘h</p><p>ä»£ä»·ä¸€è‡´æœç´¢ï¼šh=0ï¼Œè€ƒè™‘g</p><p>A*æœç´¢ï¼šåŒæ—¶è€ƒè™‘ g å’Œ h</p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å¼ºåŒ–å­¦ä¹ </title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="å¼ºåŒ–å­¦ä¹ "><a href="#å¼ºåŒ–å­¦ä¹ " class="headerlink" title="å¼ºåŒ–å­¦ä¹ "></a>å¼ºåŒ–å­¦ä¹ </h1><p>ç›®æ ‡ï¼šå­¦ä¹ <strong>ä»ç¯å¢ƒçŠ¶æ€åˆ°è¡Œä¸ºçš„æ˜ å°„(å³ç­–ç•¥ï¼‰</strong>ï¼Œæ™ºèƒ½ä½“é€‰æ‹©èƒ½å¤Ÿè·å¾—ç¯å¢ƒ<strong>æœ€å¤§å¥–èµ</strong>çš„è¡Œä¸ºï¼Œä½¿å¾—å¤–éƒ¨ç¯å¢ƒå¯¹å­¦ä¹ ç³»ç»Ÿåœ¨æŸç§æ„ä¹‰ä¸‹çš„è¯„ä»·ä¸ºæœ€ä½³ã€‚</p><h3 id="åŒºåˆ«äºç›‘ç£å­¦ä¹ ï¼š"><a href="#åŒºåˆ«äºç›‘ç£å­¦ä¹ ï¼š" class="headerlink" title="åŒºåˆ«äºç›‘ç£å­¦ä¹ ï¼š"></a>åŒºåˆ«äºç›‘ç£å­¦ä¹ ï¼š</h3><ul><li>ç›‘ç£å­¦ä¹ æ˜¯ä»<strong>æ ‡æ³¨</strong>ä¸­å­¦ä¹ </li><li>å¼ºåŒ–å­¦ä¹ æ˜¯ä»<strong>äº¤äº’</strong>ä¸­å­¦ä¹ </li></ul><h3 id="ä¸¤ç§åé¦ˆ"><a href="#ä¸¤ç§åé¦ˆ" class="headerlink" title="ä¸¤ç§åé¦ˆ"></a>ä¸¤ç§åé¦ˆ</h3><ul><li>è¯„ä»·æ€§åé¦ˆï¼š<ul><li><strong>å½“æ™ºèƒ½ä½“é‡‡å–æŸä¸ªè¡Œä¸ºæ—¶ï¼Œå¯¹è¯¥è¡Œä¸ºç»™å‡ºä¸€ä¸ªè¯„ä»·</strong>ï¼Œä½†å¹¶ä¸çŸ¥é“å“ªä¸ªè¡Œä¸ºæ˜¯æœ€å¥½çš„</li><li>å¼ºåŒ–å­¦ä¹ ç»å¸¸é¢ä¸´çš„æ˜¯è¯„ä»·æ€§åé¦ˆ</li></ul></li><li>æŒ‡å¯¼æ€§åé¦ˆï¼š<ul><li>ç›´æ¥ç»™å‡ºæŸä¸ªçŠ¶æ€ä¸‹çš„æ­£ç¡®æˆ–æœ€å¥½è¡Œä¸º</li><li><strong>ç‹¬ç«‹äºæ™ºèƒ½ä½“å½“å‰é‡‡å–çš„è¡Œä¸º</strong></li><li>ç›‘ç£å­¦ä¹ ä½¿ç”¨çš„æ˜¯æŒ‡å¯¼æ€§åé¦ˆ</li></ul></li></ul><br><p><img src="/.io//image-20211230225210692.png" alt="image-20211230225210692"></p><br><h3 id="å¼ºåŒ–å­¦ä¹ çš„ä¸¤å¤§ç‰¹æ€§"><a href="#å¼ºåŒ–å­¦ä¹ çš„ä¸¤å¤§ç‰¹æ€§" class="headerlink" title="å¼ºåŒ–å­¦ä¹ çš„ä¸¤å¤§ç‰¹æ€§"></a>å¼ºåŒ–å­¦ä¹ çš„ä¸¤å¤§ç‰¹æ€§</h3><ul><li>è¯•é”™æœç´¢</li><li>å»¶è¿Ÿå¥–åŠ±</li></ul><p>(ç”¨äºåˆ¤æ–­æŸä¸€é—®é¢˜æ˜¯å¦é€‚ç”¨äºå¼ºåŒ–å­¦ä¹ æ±‚è§£)</p><br><h3 id="å¼ºåŒ–å­¦ä¹ çš„è¦ç´ "><a href="#å¼ºåŒ–å­¦ä¹ çš„è¦ç´ " class="headerlink" title="å¼ºåŒ–å­¦ä¹ çš„è¦ç´ "></a>å¼ºåŒ–å­¦ä¹ çš„è¦ç´ </h3><ul><li>ä¸»ä½“ï¼šæ™ºèƒ½ä½“å’Œç¯å¢ƒ<ul><li>çŠ¶æ€ã€è¡Œä¸ºå’Œå¥–åŠ±</li></ul></li></ul><img src="/.io//image-20211230225432016.png" alt="image-20211230225432016" style="zoom:50%;"><ul><li><p>è¦ç´ </p><ul><li><p>ç­–ç•¥ policyï¼šçŠ¶æ€åˆ°è¡Œä¸ºçš„æ˜ å°„ï¼ŒåŒ…æ‹¬ç¡®å®šç­–ç•¥å’Œéšæœºç­–ç•¥ä¸¤ç§</p></li><li><p>å¥–åŠ± rewardï¼šå…³äºçŠ¶æ€å’Œè¡Œä¸ºçš„å‡½æ•°ï¼Œé€šå¸¸å…·æœ‰ä¸€å®šçš„ä¸ç¡®å®šæ€§</p></li><li><p>ä»·å€¼ valueï¼šç´¯ç§¯å¥–åŠ±æˆ–é•¿æœŸç›®æ ‡</p></li><li><p>ç¯å¢ƒæ¨¡å‹ï¼šåˆ»ç”»ç¯å¢ƒå¯¹è¡Œä¸ºçš„åé¦ˆ</p></li></ul></li></ul>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å¾ªç¯ç¥ç»ç½‘ç»œ RNN</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%BA%8F%E5%88%97%E6%95%B0%E6%8D%AE%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%BA%8F%E5%88%97%E6%95%B0%E6%8D%AE%E7%9A%84%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="å¾ªç¯ç¥ç»ç½‘ç»œ-RNN"><a href="#å¾ªç¯ç¥ç»ç½‘ç»œ-RNN" class="headerlink" title="å¾ªç¯ç¥ç»ç½‘ç»œ RNN"></a>å¾ªç¯ç¥ç»ç½‘ç»œ RNN</h2><h4 id="ï¼ˆRecurrent-Neural-Networksï¼‰"><a href="#ï¼ˆRecurrent-Neural-Networksï¼‰" class="headerlink" title="ï¼ˆRecurrent Neural Networksï¼‰"></a>ï¼ˆRecurrent Neural Networksï¼‰</h4><p>Hidden Layerä¼šæœ‰è¿å‘ä¸‹ä¸€æ—¶é—´Hidden Layerçš„è¾¹</p><p>ä¸€èˆ¬æ¥è¯´ï¼ŒRNNæ¯ä¸€æ—¶é—´çš„è¾“å…¥å’Œè¾“å‡ºæ˜¯ä¸ä¸€æ ·çš„</p><h4 id="æ—¶åºå±•å¼€"><a href="#æ—¶åºå±•å¼€" class="headerlink" title="æ—¶åºå±•å¼€"></a>æ—¶åºå±•å¼€</h4><p>åœ¨RNNä¸­æ¯ä¸€ä¸ªæ—¶é—´æ­¥éª¤ç”¨åˆ°çš„å‚æ•°éƒ½æ˜¯ä¸€æ ·çš„</p><img src="/.io//image-20211225223910182.png" alt="image-20211225223910182" style="zoom:33%;"><h4 id="æƒå€¼ä¸€è‡´çš„BPç®—æ³•"><a href="#æƒå€¼ä¸€è‡´çš„BPç®—æ³•" class="headerlink" title="æƒå€¼ä¸€è‡´çš„BPç®—æ³•"></a>æƒå€¼ä¸€è‡´çš„BPç®—æ³•</h4><p>BPç®—æ³•å®¹æ˜“å®ç°æƒå€¼é—´çš„çº¿æ€§çº¦æŸ</p><p>åŒæ ·è®¡ç®—æ¢¯åº¦ï¼Œç„¶åæ”¹å˜æ¢¯åº¦ä»¥æ»¡è¶³çº¦æŸ</p><p>å¦‚æœæƒå€¼å¼€å§‹æ—¶æ»¡è¶³çº¦æŸï¼Œé‚£å°±ä¼šä¸€ç›´æ»¡è¶³çº¦æŸ</p><h4 id="RNNå¯çœ‹ä½œæƒå€¼å…±äº«çš„å¤šå±‚ã€å‰å‘ç½‘ç»œ"><a href="#RNNå¯çœ‹ä½œæƒå€¼å…±äº«çš„å¤šå±‚ã€å‰å‘ç½‘ç»œ" class="headerlink" title="RNNå¯çœ‹ä½œæƒå€¼å…±äº«çš„å¤šå±‚ã€å‰å‘ç½‘ç»œ"></a>RNNå¯çœ‹ä½œæƒå€¼å…±äº«çš„å¤šå±‚ã€å‰å‘ç½‘ç»œ</h4><p>è®­ç»ƒæƒå€¼çº¦æŸçš„å‰å‘ç½‘ç»œ</p><h4 id="BPTTï¼ˆback-propagation-through-timeï¼‰ç®—æ³•æ˜¯å¸¸ç”¨çš„è®­ç»ƒRNNçš„æ–¹æ³•"><a href="#BPTTï¼ˆback-propagation-through-timeï¼‰ç®—æ³•æ˜¯å¸¸ç”¨çš„è®­ç»ƒRNNçš„æ–¹æ³•" class="headerlink" title="BPTTï¼ˆback-propagation through timeï¼‰ç®—æ³•æ˜¯å¸¸ç”¨çš„è®­ç»ƒRNNçš„æ–¹æ³•"></a>BPTTï¼ˆback-propagation through timeï¼‰ç®—æ³•æ˜¯å¸¸ç”¨çš„è®­ç»ƒRNNçš„æ–¹æ³•</h4><p>RNNå¤„ç†æ—¶é—´åºåˆ—æ•°æ®ï¼Œæ‰€ä»¥è¦åŸºäº<strong>æ—¶é—´</strong>åå‘ä¼ æ’­ï¼Œæ•…å«éšæ—¶é—´åå‘ä¼ æ’­</p><img src="/.io//image-20211225233154761.png" alt="image-20211225233154761" style="zoom:80%;"><br><h3 id="RNNç¤ºä¾‹ï¼šè¯­è¨€æ¨¡å‹"><a href="#RNNç¤ºä¾‹ï¼šè¯­è¨€æ¨¡å‹" class="headerlink" title="RNNç¤ºä¾‹ï¼šè¯­è¨€æ¨¡å‹"></a>RNNç¤ºä¾‹ï¼šè¯­è¨€æ¨¡å‹</h3><h4 id="æ–°åºåˆ—é‡‡æ ·"><a href="#æ–°åºåˆ—é‡‡æ ·" class="headerlink" title="æ–°åºåˆ—é‡‡æ ·:"></a>æ–°åºåˆ—é‡‡æ ·:</h4><img src="/.io//image-20211225234714705.png" alt="image-20211225234714705" style="zoom:67%;"><br><h2 id="é•¿åºåˆ—å¾ªç¯ç¥ç»ç½‘ç»œ"><a href="#é•¿åºåˆ—å¾ªç¯ç¥ç»ç½‘ç»œ" class="headerlink" title="é•¿åºåˆ—å¾ªç¯ç¥ç»ç½‘ç»œ"></a>é•¿åºåˆ—å¾ªç¯ç¥ç»ç½‘ç»œ</h2><h4 id="BPçš„å›°éš¾"><a href="#BPçš„å›°éš¾" class="headerlink" title="BPçš„å›°éš¾"></a>BPçš„å›°éš¾</h4><ul><li>The backward pass is linear</li><li>æ¢¯åº¦çˆ†ç‚¸ â€”â€” æ¢¯åº¦ä¿®å‰ª</li><li>æ¢¯åº¦æ¶ˆå¤± â€”â€” GRU or LSTM</li></ul><br><h3 id="GRUå•å…ƒï¼ˆGated-Recurrent-Unitï¼‰"><a href="#GRUå•å…ƒï¼ˆGated-Recurrent-Unitï¼‰" class="headerlink" title="GRUå•å…ƒï¼ˆGated Recurrent Unitï¼‰"></a>GRUå•å…ƒï¼ˆGated Recurrent Unitï¼‰</h3><p>è§£å†³äº†RNNé•¿æœŸè®°å¿†çš„é—®é¢˜ï¼ˆé¢å¯¹é•¿åºåˆ—æ•°æ®çš„é—å¿˜é—®é¢˜ï¼‰</p><p>æœ‰æ›´æ–°é—¨å’Œé‡ç½®é—¨</p><br><h3 id="é•¿çŸ­æ—¶è®°å¿†ç½‘ç»œLong-Short-Term-Memory-LSTM"><a href="#é•¿çŸ­æ—¶è®°å¿†ç½‘ç»œLong-Short-Term-Memory-LSTM" class="headerlink" title="é•¿çŸ­æ—¶è®°å¿†ç½‘ç»œLong Short Term Memory, LSTM"></a>é•¿çŸ­æ—¶è®°å¿†ç½‘ç»œLong Short Term Memory, LSTM</h3><p>è§£å†³äº†RNNé•¿æœŸ(like hundreds of time steps)è®°å¿†çš„é—®é¢˜</p><p>LSTMæ˜¯ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œä½¿ç”¨logisticå’Œlinearå•å…ƒæ‰§è¡Œä¹˜æ³•è¿ç®—</p><br><h3 id="LSTM-vs-GRU"><a href="#LSTM-vs-GRU" class="headerlink" title="LSTM vs GRU"></a>LSTM vs GRU</h3><ul><li>GRUæ˜¯æ›´åŠ ç®€å•çš„æ¨¡å‹ï¼Œæ›´å®¹æ˜“åˆ›å»ºä¸€ä¸ªæ›´å¤§çš„ç½‘ç»œï¼Œè€Œä¸”å®ƒåªæœ‰ä¸¤ä¸ªé—¨ï¼Œåœ¨è®¡ç®—æ€§ä¸Šä¹Ÿè¿è¡Œå¾—æ›´å¿«ï¼Œå¯ä»¥æ‰©å¤§æ¨¡å‹çš„è§„æ¨¡</li><li>LSTMæ›´åŠ å¼ºå¤§å’Œçµæ´»ï¼Œæœ‰ä¸‰ä¸ªé—¨è€Œä¸æ˜¯ä¸¤ä¸ª</li></ul><br><h3 id="åŒå‘å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆBidirectional-RNNï¼ŒBRNNï¼‰"><a href="#åŒå‘å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆBidirectional-RNNï¼ŒBRNNï¼‰" class="headerlink" title="åŒå‘å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆBidirectional RNNï¼ŒBRNNï¼‰"></a>åŒå‘å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆBidirectional RNNï¼ŒBRNNï¼‰</h3><h5 id="RNNå’ŒLSTMéƒ½åªèƒ½ä¾æ®ä¹‹å‰æ—¶åˆ»çš„æ—¶åºä¿¡æ¯æ¥é¢„æµ‹ä¸‹ä¸€æ—¶åˆ»çš„è¾“å‡ºï¼Œä½†åœ¨æœ‰äº›é—®é¢˜ä¸­ï¼Œå½“å‰æ—¶åˆ»çš„è¾“å‡ºä¸ä»…å’Œä¹‹å‰çš„çŠ¶æ€æœ‰å…³ï¼Œè¿˜å¯èƒ½å’Œæœªæ¥çš„çŠ¶æ€æœ‰å…³ç³»ã€‚"><a href="#RNNå’ŒLSTMéƒ½åªèƒ½ä¾æ®ä¹‹å‰æ—¶åˆ»çš„æ—¶åºä¿¡æ¯æ¥é¢„æµ‹ä¸‹ä¸€æ—¶åˆ»çš„è¾“å‡ºï¼Œä½†åœ¨æœ‰äº›é—®é¢˜ä¸­ï¼Œå½“å‰æ—¶åˆ»çš„è¾“å‡ºä¸ä»…å’Œä¹‹å‰çš„çŠ¶æ€æœ‰å…³ï¼Œè¿˜å¯èƒ½å’Œæœªæ¥çš„çŠ¶æ€æœ‰å…³ç³»ã€‚" class="headerlink" title="RNNå’ŒLSTMéƒ½åªèƒ½ä¾æ®ä¹‹å‰æ—¶åˆ»çš„æ—¶åºä¿¡æ¯æ¥é¢„æµ‹ä¸‹ä¸€æ—¶åˆ»çš„è¾“å‡ºï¼Œä½†åœ¨æœ‰äº›é—®é¢˜ä¸­ï¼Œå½“å‰æ—¶åˆ»çš„è¾“å‡ºä¸ä»…å’Œä¹‹å‰çš„çŠ¶æ€æœ‰å…³ï¼Œè¿˜å¯èƒ½å’Œæœªæ¥çš„çŠ¶æ€æœ‰å…³ç³»ã€‚"></a>RNNå’ŒLSTMéƒ½åªèƒ½ä¾æ®ä¹‹å‰æ—¶åˆ»çš„æ—¶åºä¿¡æ¯æ¥é¢„æµ‹ä¸‹ä¸€æ—¶åˆ»çš„è¾“å‡ºï¼Œä½†åœ¨æœ‰äº›é—®é¢˜ä¸­ï¼Œå½“å‰æ—¶åˆ»çš„è¾“å‡ºä¸ä»…å’Œä¹‹å‰çš„çŠ¶æ€æœ‰å…³ï¼Œè¿˜å¯èƒ½å’Œæœªæ¥çš„çŠ¶æ€æœ‰å…³ç³»ã€‚</h5><p>ä¸è¶³ï¼šéœ€è¦å®Œæ•´çš„åºåˆ—æ‰èƒ½è¿›è¡Œé¢„æµ‹ã€‚</p><img src="/.io//image-20211226144605843.png" alt="image-20211226144605843" style="zoom:50%;"><br><h3 id="æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆDeep-RNNsï¼‰"><a href="#æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆDeep-RNNsï¼‰" class="headerlink" title="æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆDeep RNNsï¼‰"></a>æ·±å±‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆDeep RNNsï¼‰</h3><img src="/.io//image-20211226145620345.png" alt="image-20211226145620345" style="zoom:67%;"><br><h2 id="åºåˆ—æ¨¡å‹-ï¼ˆsequence-to-sequenceï¼‰"><a href="#åºåˆ—æ¨¡å‹-ï¼ˆsequence-to-sequenceï¼‰" class="headerlink" title="åºåˆ—æ¨¡å‹ ï¼ˆsequence to sequenceï¼‰"></a>åºåˆ—æ¨¡å‹ ï¼ˆsequence to sequenceï¼‰</h2><h3 id="Machine-Translation-æœºå™¨ç¿»è¯‘"><a href="#Machine-Translation-æœºå™¨ç¿»è¯‘" class="headerlink" title="Machine Translation æœºå™¨ç¿»è¯‘"></a>Machine Translation æœºå™¨ç¿»è¯‘</h3><img src="/.io//image-20211226152520185.png" alt="image-20211226152520185" style="zoom:50%;"><p>ç›®æ ‡æ˜¯é€‰æ‹©æœ€å¯èƒ½çš„å¥å­ï¼š</p><img src="/.io//image-20211226165514510.png" alt="image-20211226165514510" style="zoom: 50%;"><p>è®­ç»ƒè¿‡ç¨‹ï¼šåŸºäºè¯­æ–™è¿›è¡Œè®­ç»ƒ</p><p>é¢„æµ‹ç»“æœï¼šåŸºäºé›†æŸæœç´¢</p><br><h3 id="Image-captioning-å›¾åƒæè¿°ç”Ÿæˆ"><a href="#Image-captioning-å›¾åƒæè¿°ç”Ÿæˆ" class="headerlink" title="Image captioning å›¾åƒæè¿°ç”Ÿæˆ"></a>Image captioning å›¾åƒæè¿°ç”Ÿæˆ</h3><img src="/.io//image-20211226151321159.png" alt="image-20211226151321159" style="zoom:50%;"><br><h3 id="é›†æŸæœç´¢ï¼ˆBeam-search-algorithmï¼‰"><a href="#é›†æŸæœç´¢ï¼ˆBeam-search-algorithmï¼‰" class="headerlink" title="é›†æŸæœç´¢ï¼ˆBeam search algorithmï¼‰"></a>é›†æŸæœç´¢ï¼ˆBeam search algorithmï¼‰</h3><p>beam searchæ˜¯å¯¹greedy searchçš„ä¸€ä¸ªæ”¹è¿›ç®—æ³•ã€‚ç›¸å¯¹greedy searchæ‰©å¤§äº†æœç´¢ç©ºé—´ï¼Œä½†è¿œè¿œä¸åŠç©·ä¸¾æœç´¢æŒ‡æ•°çº§çš„æœç´¢ç©ºé—´ï¼Œæ˜¯äºŒè€…çš„ä¸€ä¸ªæŠ˜ä¸­æ–¹æ¡ˆã€‚</p><img src="/.io//image-20211226162736243.png" alt="image-20211226162736243" style="zoom:67%;"><ul><li>beam searchä¸ä¿è¯å…¨å±€æœ€ä¼˜ï¼Œä½†æ˜¯æ¯”greedy searchæœç´¢ç©ºé—´æ›´å¤§ï¼Œä¸€èˆ¬ç»“æœæ¯”greedy searchè¦å¥½</li><li>greedy search å¯ä»¥çœ‹åšæ˜¯ beam size = 1æ—¶çš„ beam search</li></ul><img src="/.io//image-20211226162922054.png" alt="image-20211226162922054" style="zoom:67%;"><h4 id="æ”¹è¿›é›†æŸæœç´¢"><a href="#æ”¹è¿›é›†æŸæœç´¢" class="headerlink" title="æ”¹è¿›é›†æŸæœç´¢"></a>æ”¹è¿›é›†æŸæœç´¢</h4><ul><li><p>é•¿åº¦å½’ä¸€åŒ–(Length normalization)</p><img src="/.io//image-20211226204330331.png" alt="image-20211226204330331" style="zoom:50%;"><p>å½’ä¸€åŒ–çš„å¯¹æ•°ä¼¼ç„¶ç›®æ ‡å‡½æ•°ï¼š</p><img src="/.io//image-20211226170336824.png" alt="image-20211226170336824" style="zoom:33%;"></li><li><p>é›†æŸå®½åº¦</p></li><li><p>è¯¯å·®åˆ†æ</p></li></ul><img src="/.io//image-20211226204414235.png" alt="image-20211226204414235" style="zoom: 50%;"><br><h3 id="æ³¨æ„åŠ›æ¨¡å‹-Attention-model"><a href="#æ³¨æ„åŠ›æ¨¡å‹-Attention-model" class="headerlink" title="æ³¨æ„åŠ›æ¨¡å‹ Attention model"></a>æ³¨æ„åŠ›æ¨¡å‹ Attention model</h3><p>é¢å¯¹ä¸€ä¸ªé•¿åºåˆ—ï¼Œé›†ä¸­è€ƒè™‘å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼ˆè§£å†³é•¿åºåˆ—çš„è®°å¿†é—®é¢˜ï¼‰</p><p><a href="https://zhuanlan.zhihu.com/p/37601161">https://zhuanlan.zhihu.com/p/37601161</a></p><img src="/.io//image-20211226171846834.png" alt="image-20211226171846834" style="zoom: 67%;"><img src="/.io//image-20211226173926707.png" alt="image-20211226173926707" style="zoom:67%;"><h5 id="è®¡ç®—æ³¨æ„åŠ›æƒå€¼Î±"><a href="#è®¡ç®—æ³¨æ„åŠ›æƒå€¼Î±" class="headerlink" title="è®¡ç®—æ³¨æ„åŠ›æƒå€¼Î±"></a>è®¡ç®—æ³¨æ„åŠ›æƒå€¼Î±</h5><img src="/.io//image-20211226172231595.png" alt="image-20211226172231595" style="zoom: 50%;"><img src="/.io//image-20211226172247747.png" alt="image-20211226172247747" style="zoom: 50%;"><p><img src="/.io//image-20211226210348032.png" alt="image-20211226210348032"></p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å›¾å·ç§¯ç¥ç»ç½‘ç»œ</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%9B%BE%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%9B%BE%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
    
    <content type="html"><![CDATA[<h4 id="å›¾å·ç§¯ç¥ç»ç½‘ç»œï¼šGraph-Convolutional-Network-GCN"><a href="#å›¾å·ç§¯ç¥ç»ç½‘ç»œï¼šGraph-Convolutional-Network-GCN" class="headerlink" title="å›¾å·ç§¯ç¥ç»ç½‘ç»œï¼šGraph Convolutional Network, GCN"></a>å›¾å·ç§¯ç¥ç»ç½‘ç»œï¼šGraph Convolutional Network, GCN</h4><h4 id="å›¾ç¥ç»ç½‘ç»œï¼šGraph-Neural-Networkï¼ŒGNN"><a href="#å›¾ç¥ç»ç½‘ç»œï¼šGraph-Neural-Networkï¼ŒGNN" class="headerlink" title="å›¾ç¥ç»ç½‘ç»œï¼šGraph Neural Networkï¼ŒGNN"></a>å›¾ç¥ç»ç½‘ç»œï¼šGraph Neural Networkï¼ŒGNN</h4><br><h2 id="Convolutional-Neural-Network"><a href="#Convolutional-Neural-Network" class="headerlink" title="Convolutional Neural Network"></a>Convolutional Neural Network</h2><p>The power of CNN lies in its ability to learn local stationary structures, via localized  convolution filter, and compose them to form multi-scale hierarchical patterns.</p><h4 id="ä»-CNN-åˆ°-graph-CNNéœ€è¦è§£å†³çš„é—®é¢˜ï¼š"><a href="#ä»-CNN-åˆ°-graph-CNNéœ€è¦è§£å†³çš„é—®é¢˜ï¼š" class="headerlink" title="ä» CNN åˆ° graph CNNéœ€è¦è§£å†³çš„é—®é¢˜ï¼š"></a>ä» CNN åˆ° graph CNNéœ€è¦è§£å†³çš„é—®é¢˜ï¼š</h4><p>ï¼ˆåœ¨ä¸è§„åˆ™çš„å›¾graphä¸Šå®šä¹‰<strong>å·ç§¯ç®—å­</strong>ï¼‰</p><h4 id="how-to-generalize-convolution-to-non-Euclidean-domain"><a href="#how-to-generalize-convolution-to-non-Euclidean-domain" class="headerlink" title="how to generalize convolution to non-Euclidean domain"></a>how to generalize convolution to non-Euclidean domain</h4><img src="/.io//image-20220102213125373.png" alt="image-20220102213125373" style="zoom:50%;"><br><h2 id="åœ¨å›¾ä¸Šå®šä¹‰å·ç§¯è¿ç®—"><a href="#åœ¨å›¾ä¸Šå®šä¹‰å·ç§¯è¿ç®—" class="headerlink" title="åœ¨å›¾ä¸Šå®šä¹‰å·ç§¯è¿ç®—"></a>åœ¨å›¾ä¸Šå®šä¹‰å·ç§¯è¿ç®—</h2><h3 id="1-Spectral-methods-è°±æ–¹æ³•"><a href="#1-Spectral-methods-è°±æ–¹æ³•" class="headerlink" title="1. Spectral methods è°±æ–¹æ³•"></a>1. Spectral methods è°±æ–¹æ³•</h3><p><strong>åŸç†ï¼šåœ¨å›¾ä¸Šåšå‚…é‡Œå¶å˜æ¢</strong></p><img src="/.io//image-20220102222905061.png" alt="image-20220102222905061" style="zoom:67%;"><p><strong>ç¼ºç‚¹</strong></p><ul><li>éœ€è¦æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µçš„ç‰¹å¾åˆ†è§£</li><li>é«˜è®¡ç®—æˆæœ¬</li><li>ä¸æ˜¯å±€éƒ¨åŒ–çš„ï¼ˆæ˜¯å…¨å±€å˜åŒ–çš„ï¼‰</li></ul><p>**è§£å†³ä¸Šè¿°é—®é¢˜ï¼šChebyNet **</p><br><h3 id="2-Spatial-methods-ç©ºé—´æ–¹æ³•"><a href="#2-Spatial-methods-ç©ºé—´æ–¹æ³•" class="headerlink" title="2. Spatial methods ç©ºé—´æ–¹æ³•"></a>2. Spatial methods ç©ºé—´æ–¹æ³•</h3><img src="/.io//image-20220102230814980.png" alt="image-20220102230814980" style="zoom:67%;"><br><h4 id="æ–¹æ³•ç¤ºä¾‹ï¼šGraphSAGE"><a href="#æ–¹æ³•ç¤ºä¾‹ï¼šGraphSAGE" class="headerlink" title="æ–¹æ³•ç¤ºä¾‹ï¼šGraphSAGE"></a>æ–¹æ³•ç¤ºä¾‹ï¼šGraphSAGE</h4><img src="/.io//image-20220102231853465.png" alt="image-20220102231853465" style="zoom:67%;"><br><p><img src="/.io//image-20220102233409177.png" alt="image-20220102233409177"></p><br><h4 id="åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶ï¼š"><a href="#åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶ï¼š" class="headerlink" title="åŠ å…¥æ³¨æ„åŠ›æœºåˆ¶ï¼š"></a>åŠ å…¥<u>æ³¨æ„åŠ›</u>æœºåˆ¶ï¼š</h4><img src="/.io//image-20220102233614588.png" alt="image-20220102233614588" style="zoom:67%;"><br><h4 id="MoNetå®šä¹‰äº†ä¸€ä¸ªä¸€èˆ¬æ–¹æ³•"><a href="#MoNetå®šä¹‰äº†ä¸€ä¸ªä¸€èˆ¬æ–¹æ³•" class="headerlink" title="MoNetå®šä¹‰äº†ä¸€ä¸ªä¸€èˆ¬æ–¹æ³•"></a>MoNetå®šä¹‰äº†ä¸€ä¸ªä¸€èˆ¬æ–¹æ³•</h4><img src="/.io//image-20220102234137961.png" alt="image-20220102234137961" style="zoom:67%;"><br><h4 id="è°±æ–¹æ³•æ˜¯ç©ºé—´æ–¹æ³•çš„ç‰¹æ®Šæƒ…å†µ"><a href="#è°±æ–¹æ³•æ˜¯ç©ºé—´æ–¹æ³•çš„ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="è°±æ–¹æ³•æ˜¯ç©ºé—´æ–¹æ³•çš„ç‰¹æ®Šæƒ…å†µ"></a>è°±æ–¹æ³•æ˜¯ç©ºé—´æ–¹æ³•çš„ç‰¹æ®Šæƒ…å†µ</h4><p><strong>è°±æ–¹æ³•</strong>ï¼šåœ¨åŸç©ºé—´ä¸å¥½å®šä¹‰å·ç§¯è¿ç®—ï¼Œå°±åœ¨æ–°ç©ºé—´å®šä¹‰å·ç§¯è¿ç®—ï¼Œå†å˜æ¢åˆ°åŸç©ºé—´ï¼ˆå‚…é‡Œå¶å˜æ¢ã€å°æ³¢å˜æ¢ç­‰ï¼‰</p><p>ï¼ˆå°†åŸæ¥çš„å›¾ä»èŠ‚ç‚¹åŸŸé‡Œå˜åŒ–åˆ°è°±åŸŸé‡Œ (åˆ©ç”¨å·ç§¯å®šç†å’Œå‚…é‡Œå¶å˜æ¢å®ç°)ï¼Œåœ¨è°±åŸŸé‡Œå†å®šä¹‰å·ç§¯æ ¸ã€‚ï¼‰</p><p>ï¼ˆé¢ä¸´çš„æŒ‘æˆ˜ï¼šå…¶å·ç§¯å†ä¹Ÿä¸å±€éƒ¨åŒ–ï¼Œä¼šå¸¦æ¥ç½‘ç»œç‰¹å¾è¾ƒå¤§èŒƒå›´çš„æ”¹å˜ã€‚ï¼‰</p><ul><li><strong>æŠŠä¿¡å·xå˜æ¢åˆ°è°±åŸŸä¸­ï¼ˆè¿™ä¸€æ­¥é¡»è¦å‚…é‡Œå¶å˜æ¢orå°æ³¢å˜æ¢ï¼‰ï¼Œ</strong></li><li><strong>åœ¨è°±åŸŸä¸­ï¼Œå®šä¹‰ä¸€ä¸ªå·ç§¯æ ¸ï¼ˆè®¾åˆå§‹å€¼ï¼Œåå‘ä¼ æ’­è¿›è¡Œè°ƒæ•´ï¼‰ï¼Œä¸ä¿¡å·xåœ¨è°±åŸŸä¸­çš„è¡¨è¾¾ä½œç‚¹ç§¯ã€‚</strong></li><li><strong>æœ€åè¿›è¡Œé€†å˜æ¢ï¼ŒæŠŠè°±åŸŸä¸­çš„å·ç§¯è½¬æ¢åˆ°ç©ºé—´åŸŸæˆ–è€…è¯´èŠ‚ç‚¹åŸŸä¸­</strong></li></ul><p><strong>ç©ºé—´æ–¹æ³•</strong>ï¼šç›´æ¥åœ¨åŸç©ºé—´è¿›è¡Œå®šä¹‰ï¼ˆå¯èƒ½ä¸æ˜¯å·ç§¯ï¼‰</p><img src="/.io//image-20220102235424719.png" alt="image-20220102235424719" style="zoom:67%;"><br><h2 id="Graph-Pooling-å›¾çš„æ± åŒ–"><a href="#Graph-Pooling-å›¾çš„æ± åŒ–" class="headerlink" title="Graph Pooling å›¾çš„æ± åŒ–"></a>Graph Pooling å›¾çš„æ± åŒ–</h2><p>1ã€ç²—åŒ–ï¼ˆå¯¹å›¾ä¸­å¤šä¸ªç»“ç‚¹è¿›è¡Œèšåˆï¼‰</p><p>2ã€é€‰æ‹©å›¾ä¸­çš„éƒ¨åˆ†ç»“ç‚¹</p><img src="/.io//image-20220103015125388.png" alt="image-20220103015125388" style="zoom:67%;"><img src="/.io//image-20220103015211589.png" alt="image-20220103015211589" style="zoom:67%;"><br><h2 id="å›¾ç¥ç»ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›"><a href="#å›¾ç¥ç»ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›" class="headerlink" title="å›¾ç¥ç»ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›"></a>å›¾ç¥ç»ç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›</h2><p>è¡¨è¾¾èƒ½åŠ›ä»‹ç»ï¼š</p><p>ç¥ç»ç½‘ç»œä¸»è¦è€ƒè™‘<strong>è¿‘ä¼¼èƒ½åŠ› Approximation capability</strong></p><img src="/.io//image-20220103020040731.png" alt="image-20220103020040731" style="zoom:67%;"><br><h3 id="GNNè¡¨è¾¾èƒ½åŠ›çš„æœ‰é™æ€§ç¤ºä¾‹ï¼š"><a href="#GNNè¡¨è¾¾èƒ½åŠ›çš„æœ‰é™æ€§ç¤ºä¾‹ï¼š" class="headerlink" title="GNNè¡¨è¾¾èƒ½åŠ›çš„æœ‰é™æ€§ç¤ºä¾‹ï¼š"></a>GNNè¡¨è¾¾èƒ½åŠ›çš„æœ‰é™æ€§ç¤ºä¾‹ï¼š</h3><p>æ— æ³•åŒºåˆ†ä»¥ä¸‹ä¸¤ä¸ªç½‘ç»œï¼šï¼ˆå›¾ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„ç‰¹å¾ç›¸åŒï¼‰</p><img src="/.io//image-20220103020510949.png" alt="image-20220103020510949" style="zoom:67%;"><br><h3 id="GNNè¡¨è¾¾èƒ½åŠ›çš„ä¸Šé™"><a href="#GNNè¡¨è¾¾èƒ½åŠ›çš„ä¸Šé™" class="headerlink" title="GNNè¡¨è¾¾èƒ½åŠ›çš„ä¸Šé™"></a>GNNè¡¨è¾¾èƒ½åŠ›çš„ä¸Šé™</h3><p>WLæµ‹è¯•â€”â€”åˆ¤æ–­ä¸¤å¼ å›¾æ˜¯å¦æ˜¯åŒæ„çš„</p><img src="/.io//image-20220103020700164.png" alt="image-20220103020700164" style="zoom:67%;"><ul><li>æµ‹å‡ºä¸åŒæ„ä¸€å®šä¸åŒæ„</li><li>æµ‹å‡ºåŒæ„ä¹Ÿå¯èƒ½æ˜¯ä¸åŒæ„çš„ï¼ˆè¿­ä»£æ¬¡æ•°ä¸å¤Ÿï¼‰</li></ul>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å·ç§¯ç¥ç»ç½‘ç»œCNN</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CCNN/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CCNN/</url>
    
    <content type="html"><![CDATA[<h1 id="å·ç§¯ç¥ç»ç½‘ç»œCNN"><a href="#å·ç§¯ç¥ç»ç½‘ç»œCNN" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œCNN"></a>å·ç§¯ç¥ç»ç½‘ç»œCNN</h1><h3 id="æ·±åº¦ç¥ç»ç½‘ç»œ-Deep-Neural-Networksï¼ŒDNN"><a href="#æ·±åº¦ç¥ç»ç½‘ç»œ-Deep-Neural-Networksï¼ŒDNN" class="headerlink" title="æ·±åº¦ç¥ç»ç½‘ç»œ(Deep Neural Networksï¼ŒDNN)"></a>æ·±åº¦ç¥ç»ç½‘ç»œ(Deep Neural Networksï¼ŒDNN)</h3><p>ç¥ç»ç½‘ç»œæ˜¯åŸºäºæ„ŸçŸ¥æœºçš„æ‰©å±•ï¼Œè€ŒDNNå¯ä»¥ç†è§£ä¸ºæœ‰å¾ˆ<strong>å¤šéšè—å±‚</strong>çš„ç¥ç»ç½‘ç»œã€‚å¤šå±‚ç¥ç»ç½‘ç»œå’Œæ·±åº¦ç¥ç»ç½‘ç»œDNNå…¶å®ä¹Ÿæ˜¯æŒ‡çš„ä¸€ä¸ªä¸œè¥¿ï¼ŒDNNæœ‰æ—¶ä¹Ÿå«åšå¤šå±‚æ„ŸçŸ¥æœºã€‚</p><br><h3 id="å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ·±å±‚ç¥ç»ç½‘ç»œæ¨¡å‹"><a href="#å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ·±å±‚ç¥ç»ç½‘ç»œæ¨¡å‹" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ·±å±‚ç¥ç»ç½‘ç»œæ¨¡å‹"></a>å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ·±å±‚ç¥ç»ç½‘ç»œæ¨¡å‹</h3><ul><li>å®ƒçš„ç¥ç»å…ƒé—´çš„è¿æ¥æ˜¯éå…¨è¿æ¥çš„ â€”â€” å‡å°‘å‚æ•°çš„æ•°é‡<ul><li>è¡¨è¾¾èƒ½åŠ›ä¸å¦‚å…¨è¿æ¥ç½‘ç»œï¼Œä½†æ˜¯æ›´å¥½è®­ç»ƒ</li></ul></li><li>åŒä¸€å±‚ä¸­æŸäº›ç¥ç»å…ƒä¹‹é—´çš„è¿æ¥çš„æƒé‡æ˜¯å…±äº«çš„ï¼ˆå³ç›¸åŒçš„ï¼‰ â€”â€” å‡å°‘å‚æ•°çš„æ•°é‡</li></ul><br><h4 id="æƒå€¼å…±äº«ï¼ˆå‚æ•°å…±äº«ï¼‰ï¼š"><a href="#æƒå€¼å…±äº«ï¼ˆå‚æ•°å…±äº«ï¼‰ï¼š" class="headerlink" title="æƒå€¼å…±äº«ï¼ˆå‚æ•°å…±äº«ï¼‰ï¼š"></a>æƒå€¼å…±äº«ï¼ˆå‚æ•°å…±äº«ï¼‰ï¼š</h4><p>ç»™ä¸€å¼ è¾“å…¥å›¾ç‰‡ï¼Œç”¨ä¸€ä¸ªå·ç§¯æ ¸å»æ‰«è¿™å¼ å›¾ï¼Œå·ç§¯æ ¸é‡Œé¢çš„æ•°å°±å«<strong>æƒé‡</strong>ï¼Œè¿™å¼ å›¾æ¯ä¸ªä½ç½®æ˜¯è¢«åŒæ ·çš„å·ç§¯æ ¸æ‰«çš„ï¼Œæ‰€ä»¥æƒé‡æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿå°±æ˜¯å…±äº«ã€‚</p><h5 id="å­¦çš„æ˜¯å·ç§¯æ ¸çš„å‚æ•°ï¼ˆæƒé‡ï¼‰ï¼ˆå·ç§¯æ ¸â€”â€”ç‰¹å¾æå–å™¨ï¼‰"><a href="#å­¦çš„æ˜¯å·ç§¯æ ¸çš„å‚æ•°ï¼ˆæƒé‡ï¼‰ï¼ˆå·ç§¯æ ¸â€”â€”ç‰¹å¾æå–å™¨ï¼‰" class="headerlink" title="å­¦çš„æ˜¯å·ç§¯æ ¸çš„å‚æ•°ï¼ˆæƒé‡ï¼‰ï¼ˆå·ç§¯æ ¸â€”â€”ç‰¹å¾æå–å™¨ï¼‰"></a>å­¦çš„æ˜¯å·ç§¯æ ¸çš„å‚æ•°ï¼ˆæƒé‡ï¼‰ï¼ˆå·ç§¯æ ¸â€”â€”ç‰¹å¾æå–å™¨ï¼‰</h5><br><h3 id="å±€éƒ¨è¿æ¥ï¼ˆä¹Ÿè¢«ç§°ä¸º-ç¨€ç–è¿æ¥-ï¼‰"><a href="#å±€éƒ¨è¿æ¥ï¼ˆä¹Ÿè¢«ç§°ä¸º-ç¨€ç–è¿æ¥-ï¼‰" class="headerlink" title="å±€éƒ¨è¿æ¥ï¼ˆä¹Ÿè¢«ç§°ä¸º ç¨€ç–è¿æ¥ ï¼‰"></a>å±€éƒ¨è¿æ¥ï¼ˆä¹Ÿè¢«ç§°ä¸º ç¨€ç–è¿æ¥ ï¼‰</h3><ul><li><h5 id="å±€éƒ¨æ„ŸçŸ¥é‡"><a href="#å±€éƒ¨æ„ŸçŸ¥é‡" class="headerlink" title="å±€éƒ¨æ„ŸçŸ¥é‡"></a>å±€éƒ¨æ„ŸçŸ¥é‡</h5><ul><li>å›¾åƒçš„ç©ºé—´è”ç³»ä¹Ÿæ˜¯<strong>å±€éƒ¨çš„åƒç´ è”ç³»è¾ƒä¸ºç´§å¯†ï¼Œè·ç¦»è¾ƒè¿œçš„åƒç´ ç›¸å…³æ€§åˆ™è¾ƒå¼±</strong></li><li>å‡å°‘äº†éœ€è¦è®­ç»ƒçš„æƒå€¼æ•°ç›®</li></ul><img src="/.io//image-20211225150243913.png" alt="image-20211225150243913" style="zoom:33%;"></li><li><h5 id="å‚æ•°å…±äº«"><a href="#å‚æ•°å…±äº«" class="headerlink" title="å‚æ•°å…±äº«"></a>å‚æ•°å…±äº«</h5><ul><li>å›¾åƒçš„ä¸€éƒ¨åˆ†çš„ç»Ÿè®¡ç‰¹æ€§ä¸å…¶ä»–éƒ¨åˆ†æ˜¯ä¸€æ ·çš„</li><li>åœ¨è¾“å…¥çš„ä¸åŒä½ç½®æ£€æµ‹åŒä¸€ç§ç‰¹å¾</li><li>å¹³ç§»ä¸å˜æ€§</li></ul></li></ul><br><h3 id="å·ç§¯"><a href="#å·ç§¯" class="headerlink" title="å·ç§¯"></a>å·ç§¯</h3><h5 id="å·ç§¯å±‚çš„ä½œç”¨ï¼šç‰¹å¾æå–"><a href="#å·ç§¯å±‚çš„ä½œç”¨ï¼šç‰¹å¾æå–" class="headerlink" title="å·ç§¯å±‚çš„ä½œç”¨ï¼šç‰¹å¾æå–"></a>å·ç§¯å±‚çš„ä½œç”¨ï¼šç‰¹å¾æå–</h5><h4 id="ä¸€ç»´å·ç§¯"><a href="#ä¸€ç»´å·ç§¯" class="headerlink" title="ä¸€ç»´å·ç§¯"></a>ä¸€ç»´å·ç§¯</h4><img src="/.io//image-20211225152940893.png" alt="image-20211225152940893" style="zoom:25%;"><h4 id="äºŒç»´å·ç§¯"><a href="#äºŒç»´å·ç§¯" class="headerlink" title="äºŒç»´å·ç§¯"></a>äºŒç»´å·ç§¯</h4><img src="/.io//image-20211225152959692.png" alt="image-20211225152959692" style="zoom:33%;"><h4 id="ä¸‰ç»´å·ç§¯"><a href="#ä¸‰ç»´å·ç§¯" class="headerlink" title="ä¸‰ç»´å·ç§¯"></a>ä¸‰ç»´å·ç§¯</h4><img src="/.io//image-20211225153021012.png" alt="image-20211225153021012" style="zoom:33%;"><p>å‡è®¾è¾“å…¥æ•°æ®çš„å¤§å°ä¸ºa1Ã—a2Ã—a3ï¼Œè¿‡æ»¤å™¨å¤§å°ä¸ºfï¼Œå³è¿‡æ»¤å™¨ç»´åº¦ä¸ºfÃ—fÃ—f</p><p>ä¸‰ç»´å·ç§¯æœ€ç»ˆçš„è¾“å‡ºä¸º**(a1âˆ’f+1)Ã—(a2âˆ’f+1)Ã—(a3âˆ’f+1)**</p><img src="/.io//image-20211225153318203.png" alt="image-20211225153318203" style="zoom: 50%;"><h4 id="å¤šå·ç§¯æ ¸ï¼šæ¯ä¸ªå·ç§¯æ ¸éƒ½ä¼šå°†å›¾åƒç”Ÿæˆä¸ºå¦ä¸€å¹…å›¾åƒ"><a href="#å¤šå·ç§¯æ ¸ï¼šæ¯ä¸ªå·ç§¯æ ¸éƒ½ä¼šå°†å›¾åƒç”Ÿæˆä¸ºå¦ä¸€å¹…å›¾åƒ" class="headerlink" title="å¤šå·ç§¯æ ¸ï¼šæ¯ä¸ªå·ç§¯æ ¸éƒ½ä¼šå°†å›¾åƒç”Ÿæˆä¸ºå¦ä¸€å¹…å›¾åƒ"></a>å¤šå·ç§¯æ ¸ï¼šæ¯ä¸ªå·ç§¯æ ¸éƒ½ä¼šå°†å›¾åƒç”Ÿæˆä¸ºå¦ä¸€å¹…å›¾åƒ</h4><ul><li>ä¸¤ä¸ªå·ç§¯æ ¸å°±å¯ä»¥ç”Ÿæˆä¸¤å¹…å›¾åƒï¼Œè¿™ä¸¤å¹…å›¾åƒå¯ä»¥çœ‹åšæ˜¯ä¸€å¼ å›¾åƒçš„ä¸åŒçš„é€šé“</li><li>å·ç§¯è¿ç®—æ˜¯è¾“å…¥å›¾åƒä¸<strong>è¿‡æ»¤å™¨ï¼ˆä¹Ÿå«æ ¸ï¼‰</strong>è¿›è¡Œçš„è¿ç®—ï¼Œå¾—åˆ°è¾“å‡ºå›¾åƒ</li></ul><h4 id="è¾“å…¥ä¸è¾“å‡ºçš„å°ºå¯¸å…³ç³»"><a href="#è¾“å…¥ä¸è¾“å‡ºçš„å°ºå¯¸å…³ç³»" class="headerlink" title="è¾“å…¥ä¸è¾“å‡ºçš„å°ºå¯¸å…³ç³»"></a>è¾“å…¥ä¸è¾“å‡ºçš„å°ºå¯¸å…³ç³»</h4><p>è¾“å…¥å›¾ç‰‡nÃ—nï¼Œå·ç§¯æ ¸å¤§å°fÃ—fï¼Œå¡«å……Paddingä¸ºpï¼Œæ­¥é•¿ä¸ºs</p><img src="/.io//image-20211225192928332.png" alt="image-20211225192928332" style="zoom:50%;"><br><h3 id="Poolingæ± åŒ–"><a href="#Poolingæ± åŒ–" class="headerlink" title="Poolingæ± åŒ–"></a>Poolingæ± åŒ–</h3><p>é€šè¿‡å·ç§¯è·å¾—äº†ç‰¹å¾ä¹‹åï¼Œä¸‹ä¸€æ­¥åˆ©ç”¨è¿™äº›ç‰¹å¾å»åšåˆ†ç±»ã€‚ </p><p>ä½¿ç”¨å·ç§¯æ—¶æ˜¯åˆ©ç”¨äº†å›¾åƒçš„â€œé™æ€â€ç‰¹å¾ ï¼ŒPoolingå¯¹ä¸åŒä½ç½®çš„ç‰¹å¾è¿›è¡Œèšåˆç»Ÿè®¡ã€‚</p><p>æ± åŒ–å±‚ï¼šå‹ç¼©æ•°æ®å’Œå‚æ•°çš„é‡ï¼Œå‡å°‘è¿‡æ‹Ÿåˆã€‚</p><p>æ± åŒ–å±‚ä¸­æ²¡æœ‰éœ€è¦å­¦ä¹ çš„å‚æ•°ï¼Œæ‰€ä»¥é€šå¸¸ä¸æŠŠæ± åŒ–å±‚å½“åšç‹¬ç«‹çš„ä¸€å±‚æ¥çœ‹ã€‚</p><p>æ± åŒ–å±‚æ˜¯ä¸€èˆ¬ä¸ä¼šè®¾ç½®paddingï¼Œå³ä¸€èˆ¬paddingä¸º0ã€‚</p><p>CNNçš„æ± åŒ–å±‚ä¸ºä¸‹é‡‡æ ·ã€‚</p><h4 id="å­é‡‡æ ·"><a href="#å­é‡‡æ ·" class="headerlink" title="å­é‡‡æ ·"></a>å­é‡‡æ ·</h4><ul><li>Average pool</li></ul><img src="/.io//image-20211225193901623.png" alt="image-20211225193901623" style="zoom:33%;"><ul><li>Max pool</li></ul><img src="/.io//image-20211225193941319.png" alt="image-20211225193941319" style="zoom:33%;"><ul><li>L2 pool</li></ul><br><h3 id="CNNåŸºæœ¬ç»“æ„"><a href="#CNNåŸºæœ¬ç»“æ„" class="headerlink" title="CNNåŸºæœ¬ç»“æ„"></a>CNNåŸºæœ¬ç»“æ„</h3><img src="/.io//image-20211225194907410.png" alt="image-20211225194907410" style="zoom:50%;"><h4 id="å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªå¤šå±‚çš„ç¥ç»ç½‘ç»œ"><a href="#å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªå¤šå±‚çš„ç¥ç»ç½‘ç»œ" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªå¤šå±‚çš„ç¥ç»ç½‘ç»œ"></a>å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªå¤šå±‚çš„ç¥ç»ç½‘ç»œ</h4><ul><li>æ¯å±‚ç”±å¤šä¸ªäºŒç»´å¹³é¢ç»„æˆ</li><li>æ¯ä¸ªå¹³é¢ç”±å¤šä¸ªç‹¬ç«‹ç¥ç»å…ƒç»„æˆ</li></ul><br><h3 id="CNNè®­ç»ƒè¿‡ç¨‹"><a href="#CNNè®­ç»ƒè¿‡ç¨‹" class="headerlink" title="CNNè®­ç»ƒè¿‡ç¨‹"></a>CNNè®­ç»ƒè¿‡ç¨‹</h3><h4 id="ç›‘ç£è®­ç»ƒ"><a href="#ç›‘ç£è®­ç»ƒ" class="headerlink" title="ç›‘ç£è®­ç»ƒ"></a>ç›‘ç£è®­ç»ƒ</h4><h4 id="BPç®—æ³•"><a href="#BPç®—æ³•" class="headerlink" title="BPç®—æ³•"></a>BPç®—æ³•</h4><ul><li>å‘å‰ä¼ æ’­ï¼šä»æ ·æœ¬é›†ä¸­å–ä¸€ä¸ªæ ·æœ¬ï¼Œå°†æ•°æ®è¾“å…¥ç½‘ç»œï¼Œè®¡ç®—ç›¸åº”çš„å®é™…è¾“å‡º</li><li>å‘åä¼ æ’­ï¼šè®¡ç®—å®é™…è¾“å‡ºä¸æœŸæœ›è¾“å‡ºçš„å·®ï¼ŒæŒ‰æå°åŒ–è¯¯å·®çš„æ–¹æ³•åå‘ä¼ æ’­è°ƒæ•´æƒçŸ©é˜µ</li></ul><h4 id="ä»£ä»·å‡½æ•°"><a href="#ä»£ä»·å‡½æ•°" class="headerlink" title="ä»£ä»·å‡½æ•°"></a>ä»£ä»·å‡½æ•°</h4><ul><li>æœ€å°åŒ–å¹³æ–¹è¯¯å·®(MSE)</li><li>æœ€å°åŒ–ç›¸å¯¹ç†µ(Relative Entropy) </li></ul><h4 id="åå‘ä¼ æ’­ä¸»è¦è€ƒè™‘ä¸‰ä¸ªæ–¹é¢"><a href="#åå‘ä¼ æ’­ä¸»è¦è€ƒè™‘ä¸‰ä¸ªæ–¹é¢" class="headerlink" title="åå‘ä¼ æ’­ä¸»è¦è€ƒè™‘ä¸‰ä¸ªæ–¹é¢"></a>åå‘ä¼ æ’­ä¸»è¦è€ƒè™‘ä¸‰ä¸ªæ–¹é¢</h4><ul><li>è¾“å‡ºå±‚ï¼Œä»£ä»·å‡½æ•°çš„ç¡®å®šåŠæ±‚å¯¼</li><li>Poolingï¼Œæ•°æ®çš„ä¸‹é‡‡æ ·åŠæ®‹å·®çš„ä¸Šé‡‡æ ·</li><li>å·ç§¯å±‚ï¼Œæ•°æ®çš„å·ç§¯è¿ç®—åŠæ®‹å·®çš„åå·ç§¯è¿ç®—ï¼ˆå‰å‘å·ç§¯ï¼Œåå‘åå·ç§¯ï¼‰</li></ul><br><p><img src="/.io//image-20211225200108983.png" alt="image-20211225200108983"></p><br><h3 id="CNNçš„æ”¹è¿›"><a href="#CNNçš„æ”¹è¿›" class="headerlink" title="CNNçš„æ”¹è¿›"></a>CNNçš„æ”¹è¿›</h3><ul><li>Rectified linear functionï¼ˆReLUæ¿€æ´»å‡½æ•°ï¼‰<ul><li>åŠ é€Ÿæ”¶æ•›</li><li>ç¨€ç–åŒ–</li></ul></li><li>dropoutï¼šå°†éšå±‚èŠ‚ç‚¹ä»¥ä¸€å®šæ¦‚ç‡æ¸…0 â€”â€” é˜²æ­¢è¿‡æ‹Ÿåˆ</li><li>å›¾åƒçš„å¯¹æ¯”åº¦å½’ä¸€åŒ–</li><li>éçº¿æ€§å˜æ¢ã€æ± åŒ–</li></ul><br><h3 id="å·ç§¯ç¥ç»ç½‘ç»œå®ä¾‹"><a href="#å·ç§¯ç¥ç»ç½‘ç»œå®ä¾‹" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œå®ä¾‹"></a>å·ç§¯ç¥ç»ç½‘ç»œå®ä¾‹</h3><h4 id="ImageNet-CNN-AlexNet"><a href="#ImageNet-CNN-AlexNet" class="headerlink" title="ImageNet CNN (AlexNet)"></a>ImageNet CNN (AlexNet)</h4><p>ç»“æ„ï¼šå·ç§¯å±‚ + ReLUæ¿€æ´»å‡½æ•° + maxpool + å½’ä¸€åŒ– + dropout</p><br><h4 id="æ®‹å·®ç½‘ç»œï¼ˆResidual-Networksï¼Œç®€ç§°-ResNetsï¼‰"><a href="#æ®‹å·®ç½‘ç»œï¼ˆResidual-Networksï¼Œç®€ç§°-ResNetsï¼‰" class="headerlink" title="æ®‹å·®ç½‘ç»œï¼ˆResidual Networksï¼Œç®€ç§° ResNetsï¼‰"></a>æ®‹å·®ç½‘ç»œï¼ˆResidual Networksï¼Œç®€ç§° ResNetsï¼‰</h4><p>ç½‘ç»œç»“æ„ï¼š<img src="/.io//image-20211225201756361.png" alt="image-20211225201756361" style="zoom:33%;"></p><p>å› ä¸ºæ®‹å·®ç½‘ç»œå¾ˆå®¹æ˜“å­¦ä¹ <strong>æ’ç­‰å¼å‡½æ•°</strong>ï¼Œæ‰€ä»¥éšç€ç½‘ç»œåŠ æ·±ï¼Œè‡³å°‘ä¸ä¼šè®©ç½‘ç»œå˜å·®</p><p>å­¦ä¹ ç»“æœå¯¹<strong>ç½‘ç»œæƒé‡çš„æ³¢åŠ¨å˜åŒ–</strong>æ›´æ•æ„Ÿ</p><p>å…¶å†…éƒ¨çš„æ®‹å·®å—ä½¿ç”¨äº†è·³è·ƒè¿æ¥ï¼Œç¼“è§£äº†å¢åŠ æ·±åº¦å¸¦æ¥çš„<strong>æ¢¯åº¦æ¶ˆå¤±</strong>é—®é¢˜</p><br><h4 id="Inception-ç½‘ç»œ"><a href="#Inception-ç½‘ç»œ" class="headerlink" title="Inception ç½‘ç»œ"></a>Inception ç½‘ç»œ</h4><p>Inceptionç½‘ç»œåˆå«åšGoogLeNet â€”â€” Very Deep</p><img src="/.io//image-20211225203235177.png" alt="image-20211225203235177" style="zoom:67%;"><br><h3 id="å›¾åƒæ•°æ®åº”ç”¨"><a href="#å›¾åƒæ•°æ®åº”ç”¨" class="headerlink" title="å›¾åƒæ•°æ®åº”ç”¨"></a>å›¾åƒæ•°æ®åº”ç”¨</h3><h5 id="ï¼ˆç›®æ ‡å®šä½ã€ç‰¹å¾ç‚¹æ£€æµ‹ã€ç›®æ ‡æ£€æµ‹ã€äººè„¸è¯†åˆ«ï¼‰"><a href="#ï¼ˆç›®æ ‡å®šä½ã€ç‰¹å¾ç‚¹æ£€æµ‹ã€ç›®æ ‡æ£€æµ‹ã€äººè„¸è¯†åˆ«ï¼‰" class="headerlink" title="ï¼ˆç›®æ ‡å®šä½ã€ç‰¹å¾ç‚¹æ£€æµ‹ã€ç›®æ ‡æ£€æµ‹ã€äººè„¸è¯†åˆ«ï¼‰"></a>ï¼ˆç›®æ ‡å®šä½ã€ç‰¹å¾ç‚¹æ£€æµ‹ã€ç›®æ ‡æ£€æµ‹ã€äººè„¸è¯†åˆ«ï¼‰</h5><h4 id="ç›®æ ‡å®šä½"><a href="#ç›®æ ‡å®šä½" class="headerlink" title="ç›®æ ‡å®šä½"></a>ç›®æ ‡å®šä½</h4><img src="/.io//image-20211225203914424.png" alt="image-20211225203914424" style="zoom:33%;"><br><h4 id="ç‰¹å¾ç‚¹æ£€æµ‹"><a href="#ç‰¹å¾ç‚¹æ£€æµ‹" class="headerlink" title="ç‰¹å¾ç‚¹æ£€æµ‹"></a>ç‰¹å¾ç‚¹æ£€æµ‹</h4><img src="/.io//image-20211225203933466.png" alt="image-20211225203933466" style="zoom: 33%;"><br><h4 id="ç›®æ ‡æ£€æµ‹"><a href="#ç›®æ ‡æ£€æµ‹" class="headerlink" title="ç›®æ ‡æ£€æµ‹"></a>ç›®æ ‡æ£€æµ‹</h4><img src="/.io//image-20211225204005876.png" alt="image-20211225204005876" style="zoom:33%;"><br><h4 id="R-CNN"><a href="#R-CNN" class="headerlink" title="R-CNN"></a>R-CNN</h4><p>Region-CNNï¼Œæ˜¯ç¬¬ä¸€ä¸ªæˆåŠŸå°†æ·±åº¦å­¦ä¹ åº”ç”¨åˆ°ç›®æ ‡æ£€æµ‹ä¸Šçš„ç®—æ³•</p><p>é¦–å…ˆä½¿ç”¨ä¼ ç»Ÿå›¾åƒåˆ†å‰²çš„æ–¹æ³•ï¼Œå¯¹å›¾åƒè¿›è¡Œåˆ†å‰²ï¼Œç„¶åæå–å‡º2000ä¸ªå¯èƒ½æœ‰å¯¹è±¡çš„<strong>å€™é€‰æ¡†</strong>ï¼Œè¿™æ ·ç›¸å¯¹äºæœ€å¼€å§‹æåˆ°çš„æ»‘åŠ¨æ¡†çš„æ–¹å¼å‡å°‘äº†éå¸¸å¤šçš„æ¡†ï¼Œç„¶åé€å…¥ç½‘ç»œ </p><img src="/.io//image-20211225204237233.png" alt="image-20211225204237233" style="zoom: 33%;"><img src="/.io//image-20211225204320813.png" alt="image-20211225204320813" style="zoom: 33%;"><br><h4 id="äººè„¸è¯†åˆ«"><a href="#äººè„¸è¯†åˆ«" class="headerlink" title="äººè„¸è¯†åˆ«"></a>äººè„¸è¯†åˆ«</h4><ul><li>äººè„¸éªŒè¯ï¼ˆface verificationï¼‰: 1å¯¹1ï¼Œè¾“å…¥ä¸€ä¸ªç…§ç‰‡ï¼Œåå­—æˆ–è€…IDï¼Œç„¶ååˆ¤æ–­è¿™ä¸ªäººæ˜¯å¦æ˜¯æœ¬äºº</li><li>äººè„¸è¯†åˆ«ï¼ˆface recognitionï¼‰: 1å¯¹å¤šï¼Œåˆ¤æ–­è¿™ä¸ªäººæ˜¯å¦æ˜¯ç³»ç»Ÿä¸­çš„æŸä¸€ä¸ªäºº</li></ul><img src="/.io//image-20211225204707561.png" alt="image-20211225204707561" style="zoom: 50%;"><p>Siameseç½‘ç»œå®ç°å·®å¼‚åº¦å‡½æ•°ï¼š</p><p>Siameseçš„è¾“å‡ºä¸ç»è¿‡softmaxæ¿€æ´»å‡½æ•°åšåˆ†ç±»ï¼Œç›´æ¥å°±æ˜¯è¾“å‡ºä¸€ä¸ªå‘é‡ï¼Œç›¸å½“äºæŠŠæ¯ä¸ªäººæ˜ å°„æˆä¸€ä¸ªå‘é‡ï¼Œç„¶ååˆ¤æ–­ä¸¤å¼ å›¾ç‰‡æ˜¯å¦æ˜¯åŒä¸€ä¸ªäººæ—¶åªéœ€è¦åˆ†åˆ«è¾“å…¥è¿™åŒä¸€ä¸ªç½‘ç»œï¼Œç„¶åè¾“å‡ºå‘é‡å·®çš„èŒƒæ•°</p><p>ç”¨äºŒåˆ†ç±»çš„æ€æƒ³æ¥è®­ç»ƒSiameseç½‘ç»œ</p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åšå¼ˆ</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%8D%9A%E5%BC%88/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E5%8D%9A%E5%BC%88/</url>
    
    <content type="html"><![CDATA[<p><img src="/.io//image-20220102142918247.png" alt="image-20220102142918247"></p><p><img src="/.io//image-20220102142931331.png" alt="image-20220102142931331"></p><p><img src="/.io//image-20220102142950535.png" alt="image-20220102142950535"><img src="/.io//image-20220102142959832.png" alt="image-20220102142959832"></p><p><img src="/.io//image-20220102143011055.png" alt="image-20220102143011055"></p><p><img src="/.io//image-20220102143028949.png" alt="image-20220102143028949"></p><p><img src="/.io//image-20220102143047951.png" alt="image-20220102143047951"></p><p><img src="/.io//image-20220102143106846.png" alt="image-20220102143106846"></p><p><img src="/.io//image-20220102143116413.png" alt="image-20220102143116413"></p><p><img src="/.io//image-20220102143126600.png" alt="image-20220102143126600"></p><p><img src="/.io//image-20220102143143389.png" alt="image-20220102143143389"></p><p><img src="/.io//image-20220102143154192.png" alt="image-20220102143154192"></p><p><img src="/.io//image-20220102143227435.png" alt="image-20220102143227435"></p><p><img src="/.io//image-20220102143239400.png" alt="image-20220102143239400"></p><p><img src="/.io//image-20220102143255135.png" alt="image-20220102143255135"></p><p><img src="/.io//image-20220102143331380.png" alt="image-20220102143331380"></p><p><img src="/.io//image-20220102143352830.png" alt="image-20220102143352830"></p><p><img src="/.io//image-20220102143419116.png" alt="image-20220102143419116"></p><p><img src="/.io//image-20220102143434545.png" alt="image-20220102143434545"></p><p><img src="/.io//image-20220102143719782.png" alt="image-20220102143719782"></p><p><img src="/.io//image-20220102143743116.png" alt="image-20220102143743116"></p><p><img src="/.io//image-20220102143506246.png" alt="image-20220102143506246"></p><p><img src="/.io//image-20220102143603441.png" alt="image-20220102143603441"></p><p><img src="/.io//image-20220102143610694.png" alt="image-20220102143610694"></p><br><br><p><img src="/.io//image-20220102143910879.png" alt="image-20220102143910879"></p><p><img src="/.io//image-20220102143925013.png" alt="image-20220102143925013"></p><p><img src="/.io//image-20220102143934829.png" alt="image-20220102143934829"></p><p><img src="/.io//image-20220102143952317.png" alt="image-20220102143952317"></p><p><img src="/.io//image-20220102144005341.png" alt="image-20220102144005341"></p><p><img src="/.io//image-20220102144027716.png" alt="image-20220102144027716"></p><p><img src="/.io//image-20220102144034906.png" alt="image-20220102144034906"></p><p><img src="/.io//image-20220102144111763.png" alt="image-20220102144111763"></p><p><img src="/.io//image-20220102144122161.png" alt="image-20220102144122161"></p><p><img src="/.io//image-20220102144142145.png" alt="image-20220102144142145"></p><p><img src="/.io//image-20220102144150939.png" alt="image-20220102144150939"></p><p><img src="/.io//image-20220102144201672.png" alt="image-20220102144201672"></p><p><img src="/.io//image-20220102144222439.png" alt="image-20220102144222439"></p><p><img src="/.io//image-20220102144234742.png" alt="image-20220102144234742"></p><p><img src="/.io//image-20220102144331271.png" alt="image-20220102144331271"></p><p><img src="/.io//image-20220102144341817.png" alt="image-20220102144341817"></p><p><img src="/.io//image-20220102144422113.png" alt="image-20220102144422113"></p><p><img src="/.io//image-20220102144447095.png" alt="image-20220102144447095"></p><p><img src="/.io//image-20220102144528136.png" alt="image-20220102144528136"></p><p><img src="/.io//image-20220102145714923.png" alt="image-20220102145714923"></p><p><img src="/.io//image-20220102145758788.png" alt="image-20220102145758788"></p><p><img src="/.io//image-20220102145924451.png" alt="image-20220102145924451"></p><p><img src="/.io//image-20220102145938819.png" alt="image-20220102145938819"></p><p><img src="/.io//image-20220102150001634.png" alt="image-20220102150001634"></p><p><img src="/.io//image-20220102150012814.png" alt="image-20220102150012814"></p><p><img src="/.io//image-20220102150044895.png" alt="image-20220102150044895"></p><p><img src="/.io//image-20220102150111828.png" alt="image-20220102150111828"></p><p><img src="/.io//image-20220102150327999.png" alt="image-20220102150327999"></p><p><img src="/.io//image-20220102150412393.png" alt="image-20220102150412393"></p><p><img src="/.io//image-20220102150811973.png" alt="image-20220102150811973"></p><p><img src="/.io//image-20220102150934469.png" alt="image-20220102150934469"></p><p><img src="/.io//image-20220102151137013.png" alt="image-20220102151137013"></p><p><img src="/.io//image-20220102151305980.png" alt="image-20220102151305980"></p><p><img src="/.io//image-20220102152023381.png" alt="image-20220102152023381"></p><p><img src="/.io//image-20220102152955223.png" alt="image-20220102152955223"></p>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>äººå·¥ç¥ç»ç½‘ç»œ ANN</title>
    <link href="/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CANN/"/>
    <url>/2022/01/11/%E9%AB%98%E7%BA%A7AI%E7%AC%94%E8%AE%B0/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9CANN/</url>
    
    <content type="html"><![CDATA[<h1 id="äººå·¥ç¥ç»ç½‘ç»œ-ANN"><a href="#äººå·¥ç¥ç»ç½‘ç»œ-ANN" class="headerlink" title="äººå·¥ç¥ç»ç½‘ç»œ ANN"></a>äººå·¥ç¥ç»ç½‘ç»œ ANN</h1><p>è”ç»“ä¸»ä¹‰å­¦æ´¾ï¼šåˆç§°ä»¿ç”Ÿå­¦æ´¾ï¼Œè®¤ä¸ºäººçš„æ€ç»´åŸºå…ƒæ˜¯ç¥ç»å…ƒï¼Œè€Œä¸æ˜¯ç¬¦å·å¤„ç†è¿‡ç¨‹</p><p>æ ¸å¿ƒï¼šæ™ºèƒ½çš„æœ¬è´¨æ˜¯è”æ¥æœºåˆ¶</p><p>åŸç†ï¼šç¥ç»ç½‘ç»œåŠç¥ç»ç½‘ç»œé—´çš„è¿æ¥æœºåˆ¶å’Œå­¦ä¹ ç®—æ³•</p><p>äººå·¥ç¥ç»ç½‘ç»œï¼šåŸºäºæ¨¡ä»¿ç”Ÿç‰©å¤§è„‘çš„ç»“æ„å’ŒåŠŸèƒ½è€Œæ„æˆçš„ä¸€ç§ä¿¡æ¯å¤„ç†ç³»ç»Ÿ</p><p>è‡ªåº•å‘ä¸Šï¼Œèµ·æºäºç”Ÿç‰©ç¥ç»ç³»ç»Ÿ ï¼Œä» <strong>ç»“æ„æ¨¡æ‹Ÿ</strong> åˆ° <strong>åŠŸèƒ½æ¨¡æ‹Ÿ</strong> </p><p>ç”Ÿç‰©é‡Œçš„ç¥ç»å…ƒï¼š</p><ul><li>å…´å¥‹çŠ¶æ€ï¼šå¯¹è¾“å…¥ä¿¡æ¯æ•´åˆåä½¿ç»†èƒè†œç”µä½å‡é«˜ï¼Œå½“é«˜äºåŠ¨ä½œç”µä½çš„é˜ˆå€¼æ—¶ï¼Œäº§ç”Ÿç¥ç»å†²åŠ¨ï¼Œå¹¶ç”±è½´çªè¾“å‡ºã€‚</li><li>æŠ‘åˆ¶çŠ¶æ€ï¼šå¯¹è¾“å…¥ä¿¡æ¯æ•´åˆåä½¿ç»†èƒè†œç”µä½é™ä½ï¼Œå½“ä½äºåŠ¨ä½œç”µä½çš„é˜ˆå€¼æ—¶ï¼Œæ— ç¥ç»å†²åŠ¨äº§ç”Ÿã€‚</li></ul><p>ç¥ç»å…ƒä¹‹é—´çš„<strong>æŸ”æ€§è¿æ¥</strong>ï¼šçªè§¦çš„ä¿¡æ¯ä¼ é€’ç‰¹æ€§æ˜¯å¯å˜çš„â€”â€”<u>å­¦ä¹ è®°å¿†çš„åŸºç¡€</u></p><br><h3 id="ç¥ç»å…ƒæ¨¡å‹"><a href="#ç¥ç»å…ƒæ¨¡å‹" class="headerlink" title="ç¥ç»å…ƒæ¨¡å‹"></a>ç¥ç»å…ƒæ¨¡å‹</h3><ul><li>äºŒå€¼ç¥ç»å…ƒæ¨¡å‹â€”â€”MPæ¨¡å‹ï¼ˆç»„åˆå‡½æ•°ï¼šåŠ æƒå’Œå‡½æ•°ï¼›æ¿€æ´»å‡½æ•°ï¼šé˜ˆå€¼å‡½æ•°ï¼‰</li><li>æ¨¡æ‹Ÿç¥ç»å…ƒæ¨¡å‹ï¼ˆç»„åˆå‡½æ•°ï¼šåŠ æƒå’Œå‡½æ•°ï¼›æ¿€æ´»å‡½æ•°ï¼šSigmodå‡½æ•°ç­‰ï¼‰</li></ul><br><h3 id="M-Pæ¨¡å‹"><a href="#M-Pæ¨¡å‹" class="headerlink" title="M-Pæ¨¡å‹"></a>M-Pæ¨¡å‹</h3><img src="/.io//image-20211224151148765.png" alt="image-20211224151148765" style="zoom:50%;"><p>ç¥ç»ç½‘ç»œå­¦çš„æ˜¯ <strong>è¿æ¥æƒ</strong> å’Œ <strong>é˜ˆå€¼</strong></p><p>å¤šä¸ªäººå·¥ç¥ç»å…ƒæŒ‰ç…§ç‰¹å®šçš„ç½‘ç»œç»“æ„è”æ¥åœ¨ä¸€èµ·ï¼Œå°±æ„æˆäº†ä¸€ä¸ªäººå·¥ç¥ç»ç½‘ç»œã€‚ </p><p>ç¥ç»ç½‘ç»œçš„ç›®æ ‡å°±æ˜¯å°†è¾“å…¥è½¬æ¢æˆæœ‰æ„ä¹‰çš„è¾“å‡ºã€‚</p><br><h3 id="ANNçš„å­¦ä¹ è§„åˆ™"><a href="#ANNçš„å­¦ä¹ è§„åˆ™" class="headerlink" title="ANNçš„å­¦ä¹ è§„åˆ™"></a>ANNçš„å­¦ä¹ è§„åˆ™</h3><p><strong>åŸºäºèƒ½é‡æœ€å°åŸåˆ™</strong>ï¼šä¿æŒçªè§¦å¼ºåº¦éœ€è¦èƒ½é‡ï¼Œæ‰€ä»¥åœ¨éœ€è¦çš„åœ°æ–¹ä¿æŒï¼Œåœ¨ä¸éœ€è¦çš„åœ°æ–¹ä¸ä¿æŒã€‚</p><p>ENERGY = measure of task performance error    ï¼ˆå¯ä»¥ç”¨æ€§èƒ½è¯„ä»·ä½œèƒ½é‡çš„å‡½æ•°å®šä¹‰ï¼‰</p><br><h3 id="ANNçš„2ç§ç»“æ„"><a href="#ANNçš„2ç§ç»“æ„" class="headerlink" title="ANNçš„2ç§ç»“æ„"></a>ANNçš„2ç§ç»“æ„</h3><ul><li><strong>å‰é¦ˆç»“æ„</strong>(Feedforward Architecture) ï¼šæ— ç¯ã€é™æ€</li></ul><img src="/.io//image-20211224153651949.png" alt="image-20211224153651949" style="zoom:33%;"><p>â€‹                                            ï¼ˆå‰é¦ˆæ— éœ€è€ƒè™‘æ—¶é—´å› ç´ ï¼‰</p><ul><li><strong>åé¦ˆ/å¾ªç¯ç»“æ„</strong>(Feedback/Recurrent Architecture) ï¼šæœ‰ç¯ã€åŠ¨æ€</li></ul><img src="/.io//image-20211224153606713.png" alt="image-20211224153606713" style="zoom:33%;"><p>â€‹                                            ï¼ˆåé¦ˆè¾“å‡ºä¼šå˜æˆè¾“å…¥ï¼‰</p><br><h3 id="ANNçš„å­¦ä¹ æ–¹æ³•"><a href="#ANNçš„å­¦ä¹ æ–¹æ³•" class="headerlink" title="ANNçš„å­¦ä¹ æ–¹æ³•"></a>ANNçš„å­¦ä¹ æ–¹æ³•</h3><p>é€šè¿‡ç¥ç»ç½‘ç»œæ‰€åœ¨ç¯å¢ƒçš„æ¨¡æ‹Ÿè¿‡ç¨‹ï¼Œè°ƒæ•´ç½‘ç»œä¸­çš„è‡ªç”±å‚æ•°ï¼ˆé€šè¿‡æ•°æ®é›†çš„æ•°æ®è¿›è¡Œå­¦ä¹ ï¼‰</p><h5 id="å­¦ä¹ ç­–ç•¥-Error-Correctionï¼ˆé”™è¯¯çº æ­£ï¼‰"><a href="#å­¦ä¹ ç­–ç•¥-Error-Correctionï¼ˆé”™è¯¯çº æ­£ï¼‰" class="headerlink" title="å­¦ä¹ ç­–ç•¥: Error Correctionï¼ˆé”™è¯¯çº æ­£ï¼‰"></a>å­¦ä¹ ç­–ç•¥: Error Correctionï¼ˆé”™è¯¯çº æ­£ï¼‰</h5><p>æœ€å°åŒ–å®é™…è¾“å‡ºä¸æœŸæœ›è¾“å‡ºä¹‹é—´çš„è¯¯å·®(Supervised)</p><p>å¸¸ç”¨çš„é”™è¯¯çº æ­£ç­–ç•¥ï¼šDelta Rule ã€BPå­¦ä¹ ç®—æ³•</p><br><h2 id="æ„ŸçŸ¥æœº"><a href="#æ„ŸçŸ¥æœº" class="headerlink" title="æ„ŸçŸ¥æœº"></a>æ„ŸçŸ¥æœº</h2><p>æ„ŸçŸ¥æœºç”±ä¸¤å±‚ç¥ç»å…ƒæ„æˆï¼šè¾“å…¥å±‚ + è¾“å‡ºå±‚ï¼Œè¾“å‡ºå±‚æ˜¯M-Pç¥ç»å…ƒï¼Œåªæœ‰è¾“å‡ºå±‚è¿›è¡Œæ¿€æ´»å‡½æ•°å¤„ç†</p><p>ä¸»è¦é’ˆå¯¹<u>ç›‘ç£å­¦ä¹ </u>ï¼Œæ„ŸçŸ¥æœºæ˜¯æœ€ç®€å•çš„å‰é¦ˆç½‘ç»œ</p><p>Loss function æŸå¤±å‡½æ•°ï¼šé¢„æµ‹å€¼å’Œå®é™…å€¼ä¹‹é—´çš„å·®è·åº¦é‡ï¼ˆä¸€èˆ¬å­¦ä¹ ç›®æ ‡æ˜¯æœ€å°åŒ–æŸå¤±å‡½æ•°ï¼‰</p><p>æ„ŸçŸ¥æœºå®è´¨ä¸Šæ˜¯ä¸€ç§<strong>ç¥ç»å…ƒæ¨¡å‹</strong>ï¼Œä¸M-Pæ¨¡å‹çš„åŒºåˆ«ï¼šæ„ŸçŸ¥æœºç»„åˆå‡½æ•°é‡Œçš„æƒå€¼wæ˜¯å¯å˜çš„</p><img src="/.io//image-20211225232625756.png" alt="image-20211225232625756" style="zoom: 67%;"><img src="/.io//image-20211224161330406.png" alt="image-20211224161330406" style="zoom: 50%;"><h5 id="æ„ŸçŸ¥æœºç‰¹æ€§ï¼š"><a href="#æ„ŸçŸ¥æœºç‰¹æ€§ï¼š" class="headerlink" title="æ„ŸçŸ¥æœºç‰¹æ€§ï¼š"></a>æ„ŸçŸ¥æœºç‰¹æ€§ï¼š</h5><p>é€šè¿‡æ„ŸçŸ¥æœºå¯ä»¥å®ç°ä¸ã€æˆ–ã€éï¼Œä½†æ˜¯ä¸èƒ½å®ç°<strong>å¼‚æˆ–</strong></p><p><strong>æ„ŸçŸ¥æœºæ”¶æ•›æ€§ï¼š</strong></p><p>æ„ŸçŸ¥æœºæ”¶æ•›å®šç† ï¼š<strong>è‹¥è®­ç»ƒæ•°æ®é›†æ˜¯çº¿æ€§å¯åˆ†çš„ï¼Œåˆ™æ„ŸçŸ¥æœºæ¨¡å‹æ”¶æ•›</strong>ã€‚</p><img src="/.io//image-20211224163214044.png" alt="image-20211224163214044" style="zoom:50%;"><h5 id="æ„ŸçŸ¥æœºå­˜åœ¨çš„é—®é¢˜"><a href="#æ„ŸçŸ¥æœºå­˜åœ¨çš„é—®é¢˜" class="headerlink" title="æ„ŸçŸ¥æœºå­˜åœ¨çš„é—®é¢˜"></a>æ„ŸçŸ¥æœºå­˜åœ¨çš„é—®é¢˜</h5><ul><li><strong>å™ªå£°</strong>ï¼ˆä¸å¯åˆ†æƒ…å†µï¼‰:æ•°æ®é›†ä¸å¯åˆ†ï¼Œæ„ŸçŸ¥æœºæ— æ³•æ”¶æ•›ï¼ˆæ— æ³•æ±‚å¾—æœ€ç»ˆè§£ï¼‰</li><li><strong>æ³›åŒ–æ€§</strong>ï¼šæ— æ³•æ‰¾åˆ°æ€§èƒ½æœ€å¥½çš„è¶…å¹³é¢</li></ul><br><h5 id="æ”¹è¿›æ„ŸçŸ¥æœºï¼šåŠ å…¥éšå±‚å¯å®ç°å¼‚æˆ–æ“ä½œ"><a href="#æ”¹è¿›æ„ŸçŸ¥æœºï¼šåŠ å…¥éšå±‚å¯å®ç°å¼‚æˆ–æ“ä½œ" class="headerlink" title="æ”¹è¿›æ„ŸçŸ¥æœºï¼šåŠ å…¥éšå±‚å¯å®ç°å¼‚æˆ–æ“ä½œ"></a>æ”¹è¿›æ„ŸçŸ¥æœºï¼šåŠ å…¥éšå±‚å¯å®ç°å¼‚æˆ–æ“ä½œ</h5><img src="/.io//image-20211224165606171.png" alt="image-20211224165606171" style="zoom:50%;"><br><h2 id="å¤šå±‚æ„ŸçŸ¥æœº-MLP"><a href="#å¤šå±‚æ„ŸçŸ¥æœº-MLP" class="headerlink" title="å¤šå±‚æ„ŸçŸ¥æœº (MLP)"></a>å¤šå±‚æ„ŸçŸ¥æœº (MLP)</h2><p>ç”± è¾“å…¥å±‚ã€éšå±‚ã€è¾“å‡ºå±‚ æ„æˆ</p><p>å±‚é—´ç¥ç»å…ƒ<strong>å…¨è¿æ¥</strong>ï¼Œé‡‡ç”¨<u>æ¨¡æ‹Ÿç¥ç»å…ƒæ¨¡å‹</u></p><p>å¤šå±‚æ„ŸçŸ¥æœºå°±æ˜¯ä¸€ä¸ª<strong>å¤šä¸ªéšå±‚</strong>çš„å…¨è¿æ¥ç¥ç»ç½‘ç»œ</p><img src="/.io//image-20211225232723901.png" alt="image-20211225232723901" style="zoom:50%;"><h5 id="MLPçš„è¡¨è¾¾èƒ½åŠ›"><a href="#MLPçš„è¡¨è¾¾èƒ½åŠ›" class="headerlink" title="MLPçš„è¡¨è¾¾èƒ½åŠ›"></a>MLPçš„è¡¨è¾¾èƒ½åŠ›</h5><ul><li>3 layers: å¯ä»¥æ¨¡æ‹Ÿæ‰€æœ‰çš„è¿ç»­å‡½æ•°</li><li>4 layers: all functions</li></ul><h5 id="BPç½‘ç»œï¼šBPç®—æ³•è®­ç»ƒçš„å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰ï¼Œé‡‡ç”¨-Sigmoid-æ¿€æ´»å‡½æ•°"><a href="#BPç½‘ç»œï¼šBPç®—æ³•è®­ç»ƒçš„å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰ï¼Œé‡‡ç”¨-Sigmoid-æ¿€æ´»å‡½æ•°" class="headerlink" title="BPç½‘ç»œï¼šBPç®—æ³•è®­ç»ƒçš„å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰ï¼Œé‡‡ç”¨ Sigmoid æ¿€æ´»å‡½æ•°"></a>BPç½‘ç»œï¼šBPç®—æ³•è®­ç»ƒçš„å¤šå±‚å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰ï¼Œé‡‡ç”¨ Sigmoid æ¿€æ´»å‡½æ•°</h5><h4 id="å¤šå±‚æ„ŸçŸ¥æœºçš„å­¦ä¹ ç®—æ³•ï¼šBPå­¦ä¹ ç®—æ³•"><a href="#å¤šå±‚æ„ŸçŸ¥æœºçš„å­¦ä¹ ç®—æ³•ï¼šBPå­¦ä¹ ç®—æ³•" class="headerlink" title="å¤šå±‚æ„ŸçŸ¥æœºçš„å­¦ä¹ ç®—æ³•ï¼šBPå­¦ä¹ ç®—æ³•"></a>å¤šå±‚æ„ŸçŸ¥æœºçš„å­¦ä¹ ç®—æ³•ï¼š<strong>BPå­¦ä¹ ç®—æ³•</strong></h4><img src="/.io//image-20211224180622770.png" alt="image-20211224180622770" style="zoom:50%;"><h5 id="BPç®—æ³•æ­¥éª¤ï¼š"><a href="#BPç®—æ³•æ­¥éª¤ï¼š" class="headerlink" title="BPç®—æ³•æ­¥éª¤ï¼š"></a>BPç®—æ³•æ­¥éª¤ï¼š</h5><p>Step1. Select a pattern from the training set and present it to the network. </p><p>Step2. Compute activation of input, hidden and output neurons in that sequence. </p><p>Step3. Compute the error over the output neurons by comparing the generated outputs with the             desired outputs. </p><p>Step4. Use the calculated error to update all weights in the network, such that a global error             measure gets reduced. </p><p>Step5. Repeat Step1 through Step4 until the global error falls below a predefined threshold.</p><h5 id="è°ƒæ•´æƒé‡çš„è¿‡ç¨‹é‡‡ç”¨ï¼šæ¢¯åº¦ä¸‹é™æ³•"><a href="#è°ƒæ•´æƒé‡çš„è¿‡ç¨‹é‡‡ç”¨ï¼šæ¢¯åº¦ä¸‹é™æ³•" class="headerlink" title="è°ƒæ•´æƒé‡çš„è¿‡ç¨‹é‡‡ç”¨ï¼šæ¢¯åº¦ä¸‹é™æ³•"></a>è°ƒæ•´æƒé‡çš„è¿‡ç¨‹é‡‡ç”¨ï¼šæ¢¯åº¦ä¸‹é™æ³•</h5><h4 id="æ¢¯åº¦ä¸‹é™æ³•â€”â€”å¯»æ‰¾æœ€å°åŒ–å‡æ–¹è¯¯å·®e-w-çš„æƒé‡w-ä¼˜åŒ–æ–¹æ³•"><a href="#æ¢¯åº¦ä¸‹é™æ³•â€”â€”å¯»æ‰¾æœ€å°åŒ–å‡æ–¹è¯¯å·®e-w-çš„æƒé‡w-ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="æ¢¯åº¦ä¸‹é™æ³•â€”â€”å¯»æ‰¾æœ€å°åŒ–å‡æ–¹è¯¯å·®e(w)çš„æƒé‡w    (ä¼˜åŒ–æ–¹æ³•)"></a>æ¢¯åº¦ä¸‹é™æ³•â€”â€”å¯»æ‰¾æœ€å°åŒ–å‡æ–¹è¯¯å·®e(w)çš„æƒé‡w    (ä¼˜åŒ–æ–¹æ³•)</h4><img src="/.io//image-20211224181604854.png" alt="image-20211224181604854" style="zoom:50%;"><h4 id="å¤šå±‚æ„ŸçŸ¥æœºçš„ä¼˜ç¼ºç‚¹"><a href="#å¤šå±‚æ„ŸçŸ¥æœºçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å¤šå±‚æ„ŸçŸ¥æœºçš„ä¼˜ç¼ºç‚¹"></a>å¤šå±‚æ„ŸçŸ¥æœºçš„ä¼˜ç¼ºç‚¹</h4><ul><li><p>ä¼˜ç‚¹ï¼šå¾ˆå¼ºçš„è¡¨è¾¾èƒ½åŠ›ï¼›å®¹æ˜“æ‰§è¡Œ</p></li><li><p>ç¼ºç‚¹ï¼š</p><ul><li>æ”¶æ•›é€Ÿåº¦æ…¢â€”â€”é‡‡ç”¨Newtonæ³•</li><li>è¿‡æ‹Ÿåˆï¼ˆOver-fittingï¼‰â€”â€” åŠ æ­£åˆ™åŒ–é¡¹ï¼Œçº¦æŸæƒå€¼çš„å¹³æ»‘æ€§ï¼Œé‡‡ç”¨æ›´å°‘ï¼ˆä½†è¶³å¤Ÿæ•°é‡ï¼‰çš„éšå±‚ç¥ç»å…ƒ</li><li>å±€éƒ¨æå°â€”â€”å°è¯•ä¸åŒçš„åˆå§‹åŒ–å¢åŠ æ‰°åŠ¨</li></ul></li></ul><h4 id="æ·±åº¦ç¥ç»ç½‘ç»œä¸­BPç®—æ³•é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#æ·±åº¦ç¥ç»ç½‘ç»œä¸­BPç®—æ³•é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="æ·±åº¦ç¥ç»ç½‘ç»œä¸­BPç®—æ³•é‡åˆ°çš„é—®é¢˜ï¼š"></a>æ·±åº¦ç¥ç»ç½‘ç»œä¸­BPç®—æ³•é‡åˆ°çš„é—®é¢˜ï¼š</h4><p><img src="/.io//image-20211224223759973.png" alt="image-20211224223759973"></p><br><h4 id="æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒ"><a href="#æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒ" class="headerlink" title="æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒ"></a>æ·±åº¦ç¥ç»ç½‘ç»œè®­ç»ƒ</h4><ul><li>è‡ªä¸‹å‘ä¸Šçš„éç›‘ç£å­¦ä¹ ï¼ˆè´ªå©ªé¢„è®­ç»ƒè·å¾—ç½‘ç»œè‰¯å¥½çš„åˆå§‹åŒ– ï¼‰</li><li>è‡ªé¡¶å‘ä¸‹çš„ç›‘ç£å­¦ä¹ <ul><li>é€šè¿‡å¸¦æ ‡ç­¾çš„æ•°æ®å»è®­ç»ƒï¼Œè¯¯å·®è‡ªé¡¶å‘ä¸‹ä¼ è¾“ï¼Œå¯¹ç½‘ç»œè¿›è¡Œå¾®è°ƒ</li><li>å¾®è°ƒç‰¹å¾ï¼ˆä¸­é—´å±‚ï¼‰ï¼Œä½¿å¾—ä¸é—®é¢˜æ›´ç›¸å…³</li></ul></li></ul><br><h2 id="Deep-Learning-çš„å¸¸ç”¨æ¨¡å‹"><a href="#Deep-Learning-çš„å¸¸ç”¨æ¨¡å‹" class="headerlink" title="Deep Learning çš„å¸¸ç”¨æ¨¡å‹"></a>Deep Learning çš„å¸¸ç”¨æ¨¡å‹</h2><h3 id="AutoEncoderè‡ªåŠ¨ç¼–ç å™¨"><a href="#AutoEncoderè‡ªåŠ¨ç¼–ç å™¨" class="headerlink" title="AutoEncoderè‡ªåŠ¨ç¼–ç å™¨"></a>AutoEncoderè‡ªåŠ¨ç¼–ç å™¨</h3><p>å­¦ä¹ è¿‡ç¨‹ï¼š</p><ul><li>æ— æ ‡ç­¾æ•°æ®ï¼Œç”¨éç›‘ç£å­¦ä¹ å­¦ä¹ ç‰¹å¾</li><li>ç›‘ç£å­¦ä¹ ï¼šDeepç»“æ„ï¼Œæœ‰ç›‘ç£å¾®è°ƒ</li></ul><p>ä¸‰å±‚ç»“æ„ï¼šè¾“å…¥å±‚ï¼Œéšè—å±‚ï¼Œè¾“å‡ºå±‚</p><img src="/.io//image-20211225011344712.png" alt="image-20211225011344712" style="zoom:33%;"><ul><li><p>è¾“å…¥å±‚ç¥ç»å…ƒæ•°=è¾“å‡ºå±‚ç¥ç»å…ƒæ•° </p></li><li><p>éšå±‚ç¥ç»å…ƒæ•°é‡&lt;è¾“å…¥å±‚ç¥ç»å…ƒæ•°é‡     æ„ä¹‰ï¼šè¿«ä½¿éšè—å±‚èŠ‚ç‚¹å­¦ä¹ å¾—åˆ°è¾“å…¥æ•°æ®çš„<strong>å‹ç¼©</strong>è¡¨ç¤ºæ–¹æ³•</p></li></ul><h4 id="ä¸¤éšå±‚è‡ªç¼–ç ç½‘ç»œMNISTæ‰‹å†™æ•°å­—è¯†åˆ«"><a href="#ä¸¤éšå±‚è‡ªç¼–ç ç½‘ç»œMNISTæ‰‹å†™æ•°å­—è¯†åˆ«" class="headerlink" title="ä¸¤éšå±‚è‡ªç¼–ç ç½‘ç»œMNISTæ‰‹å†™æ•°å­—è¯†åˆ«"></a>ä¸¤éšå±‚è‡ªç¼–ç ç½‘ç»œMNISTæ‰‹å†™æ•°å­—è¯†åˆ«</h4><ol><li>ç”¨åŸå§‹è¾“å…¥x(k)è®­ç»ƒç¬¬ä¸€ä¸ªè‡ªç¼–ç å™¨ï¼Œå­¦ä¹ å¾—åˆ°åŸå§‹è¾“å…¥çš„ä¸€é˜¶ç‰¹å¾è¡¨ç¤ºh(1)(k)</li><li>æŠŠä¸Šä¸€å±‚çš„ä¸€é˜¶ç‰¹å¾ä½œä¸ºå¦ä¸€ä¸ªç¨€ç–è‡ªç¼–ç å™¨çš„è¾“å…¥ï¼Œä½¿ç”¨å®ƒä»¬æ¥å­¦ä¹ äºŒé˜¶ç‰¹å¾h(2)(k)</li><li>å°†äºŒé˜¶ç‰¹å¾ä½œä¸ºsoftmaxåˆ†ç±»å™¨çš„è¾“å…¥ï¼Œè®­ç»ƒå¾—åˆ°ä¸€ä¸ªèƒ½å°†äºŒé˜¶ç‰¹å¾æ˜ å°„åˆ°æ•°å­—æ ‡ç­¾çš„æ¨¡å‹</li><li>å°†è¿™ä¸‰å±‚ç»“åˆèµ·æ¥æ„æˆä¸€ä¸ª<strong>æ ˆå¼è‡ªç¼–ç ç½‘ç»œ</strong>ï¼Œé€šè¿‡åå‘ä¼ æ’­ç®—æ³•(BP)åŒæ—¶è°ƒæ•´æ‰€æœ‰å±‚çš„å‚æ•°ä»¥æ”¹å–„å­¦ä¹ ç»“æœ(ç§°ä¸ºæ•´ä½“ç»†è°ƒfine- tuning)</li></ol><h4 id="æ ˆå¼è‡ªç¼–ç å™¨ç¥ç»ç½‘ç»œ"><a href="#æ ˆå¼è‡ªç¼–ç å™¨ç¥ç»ç½‘ç»œ" class="headerlink" title="æ ˆå¼è‡ªç¼–ç å™¨ç¥ç»ç½‘ç»œ"></a>æ ˆå¼è‡ªç¼–ç å™¨ç¥ç»ç½‘ç»œ</h4><img src="/.io//image-20211225140257874.png" alt="image-20211225140257874" style="zoom:50%;"><p><strong>å­¦ä¹ æ–¹å¼</strong>ï¼šå‰å±‚çš„è¾“å‡ºä½œä¸ºä¸‹ä¸€å±‚è¾“å…¥çš„æ–¹å¼ä¾æ¬¡è®­ç»ƒ</p><p>å¦‚æœç½‘ç»œçš„è¾“å…¥æ•°æ®æ˜¯å›¾åƒï¼Œç½‘ç»œçš„ç¬¬ä¸€å±‚ä¼šå­¦ä¹ å¦‚ä½•å»è¯†åˆ«è¾¹ï¼Œç¬¬äºŒå±‚ä¸€èˆ¬ä¼šå­¦ä¹ å¦‚ä½•å»ç»„åˆè¾¹ï¼Œä»è€Œæ„æˆè½®å»“ã€è§’ç­‰ã€‚æ›´é«˜å±‚ä¼šå­¦ä¹ å¦‚ä½•å»ç»„åˆæ›´å½¢è±¡ä¸”æœ‰æ„ä¹‰çš„ç‰¹å¾ã€‚</p><p>å¦‚æœè¾“å…¥æ•°æ®é›†åŒ…å«äººè„¸å›¾åƒï¼Œæ›´é«˜å±‚ä¼šå­¦ä¹ å¦‚ä½•è¯†åˆ«æˆ–ç»„åˆçœ¼ç›ã€é¼»å­ã€å˜´ç­‰äººè„¸å™¨å®˜ã€‚</p><br><h3 id="Hopfield-Network"><a href="#Hopfield-Network" class="headerlink" title="Hopfield Network"></a>Hopfield Network</h3><img src="/.io//image-20211225014201846.png" alt="image-20211225014201846" style="zoom: 33%;"><p>å•å±‚å…¨äº’è¿ã€å¯¹ç§°æƒå€¼çš„<strong>åé¦ˆ</strong>ç½‘ç»œ</p><p>ç½‘ç»œæ¼”åŒ–ï¼šä»åˆå§‹çŠ¶æ€æŒ‰èƒ½é‡å‡å°çš„æ–¹å‘è¿›è¡Œæ¼”åŒ–ï¼Œç›´åˆ°è¾¾åˆ°ç¨³å®šçŠ¶æ€ã€‚ç¨³å®šçŠ¶æ€å³ä¸ºç½‘ç»œçš„è¾“å‡º</p><br><h3 id="æ³¢å°”å…¹æ›¼æœº-Boltzmann-Machine"><a href="#æ³¢å°”å…¹æ›¼æœº-Boltzmann-Machine" class="headerlink" title="æ³¢å°”å…¹æ›¼æœº Boltzmann Machine"></a>æ³¢å°”å…¹æ›¼æœº Boltzmann Machine</h3><h5 id="å±äºåé¦ˆç¥ç»ç½‘ç»œ"><a href="#å±äºåé¦ˆç¥ç»ç½‘ç»œ" class="headerlink" title="å±äºåé¦ˆç¥ç»ç½‘ç»œ"></a>å±äºåé¦ˆç¥ç»ç½‘ç»œ</h5><img src="/.io//image-20211225014807818.png" alt="image-20211225014807818" style="zoom:50%;"><h5 id="BMåŸºæœ¬åŸç†ï¼š"><a href="#BMåŸºæœ¬åŸç†ï¼š" class="headerlink" title="BMåŸºæœ¬åŸç†ï¼š"></a>BMåŸºæœ¬åŸç†ï¼š</h5><ul><li>BMä¸­ä¸€éƒ¨åˆ†ç¥ç»å…ƒä¸å¤–éƒ¨ç›¸è¿ï¼Œå¯ä»¥èµ·åˆ°ç½‘ç»œçš„è¾“å…¥ã€è¾“å‡ºåŠŸèƒ½ï¼Œæˆ–è€…ä¸¥æ ¼åœ°è¯´å¯ä»¥å—åˆ°å¤–éƒ¨æ¡ä»¶çš„çº¦æŸã€‚å¦ä¸€éƒ¨åˆ†ç¥ç»å…ƒåˆ™ä¸ä¸å¤–éƒ¨ç›¸è¿ï¼Œå› è€Œå±äºéšå•å…ƒ</li><li>æ¯ä¸ªç¥ç»å…ƒåªå–1æˆ–0è¿™ä¸¤ç§çŠ¶æ€ï¼šçŠ¶æ€1ä»£è¡¨è¯¥ç¥ç»å…ƒå¤„äºæ¥é€šçŠ¶æ€ï¼ŒçŠ¶æ€0ä»£è¡¨è¯¥ç¥ç»å…ƒå¤„äºæ–­å¼€çŠ¶æ€</li></ul><br><h3 id="å—é™æ³¢å°”å…¹æ›¼æœº-Restricted-Boltzmann-Machinesï¼ˆRBMï¼‰"><a href="#å—é™æ³¢å°”å…¹æ›¼æœº-Restricted-Boltzmann-Machinesï¼ˆRBMï¼‰" class="headerlink" title="å—é™æ³¢å°”å…¹æ›¼æœº Restricted Boltzmann Machinesï¼ˆRBMï¼‰"></a>å—é™æ³¢å°”å…¹æ›¼æœº Restricted Boltzmann Machinesï¼ˆRBMï¼‰</h3><h5 id="å±äºåé¦ˆç¥ç»ç½‘ç»œ-1"><a href="#å±äºåé¦ˆç¥ç»ç½‘ç»œ-1" class="headerlink" title="å±äºåé¦ˆç¥ç»ç½‘ç»œ"></a>å±äºåé¦ˆç¥ç»ç½‘ç»œ</h5><img src="/.io//image-20211225015105785.png" alt="image-20211225015105785" style="zoom: 50%;"><ul><li>ä¸€ä¸ªå¯è§å±‚</li><li>ä¸€ä¸ªéšå±‚</li><li>å±‚å†…æ— è¿æ¥</li><li>å­¦ä¹ ç›®æ ‡ï¼šæå¤§ä¼¼ç„¶</li></ul><br><h3 id="Deep-Belief-Networks-DBN-æ·±åº¦ç½®ä¿¡ç½‘ç»œ"><a href="#Deep-Belief-Networks-DBN-æ·±åº¦ç½®ä¿¡ç½‘ç»œ" class="headerlink" title="Deep Belief Networks(DBN) æ·±åº¦ç½®ä¿¡ç½‘ç»œ"></a>Deep Belief Networks(DBN) æ·±åº¦ç½®ä¿¡ç½‘ç»œ</h3><p>æ¦‚ç‡ç”Ÿæˆæ¨¡å‹ï¼Œç”±å¤šä¸ªRBMå †ç§¯è€Œæˆï¼ˆæ ˆå¼å åŠ ï¼‰</p><p>æ·±å±‚ç»“æ„â€”â€”å¤šå±‚</p><p>éç›‘ç£çš„é¢„å­¦ä¹ æä¾›äº†ç½‘ç»œå¥½çš„åˆå§‹åŒ–</p><p>ç›‘ç£å¾®è°ƒ(fine-tuning)</p><h4 id="DBN-ç½‘ç»œç»“æ„ï¼š"><a href="#DBN-ç½‘ç»œç»“æ„ï¼š" class="headerlink" title="DBN ç½‘ç»œç»“æ„ï¼š"></a>DBN ç½‘ç»œç»“æ„ï¼š</h4><img src="/.io//image-20211225021303050.png" alt="image-20211225021303050" style="zoom:50%;"><img src="/.io//image-20211225021918911.png" alt="image-20211225021918911" style="zoom:50%;"><h4 id="DBN-å­¦ä¹ ç®—æ³•ï¼š"><a href="#DBN-å­¦ä¹ ç®—æ³•ï¼š" class="headerlink" title="DBN å­¦ä¹ ç®—æ³•ï¼š"></a>DBN å­¦ä¹ ç®—æ³•ï¼š</h4><ul><li>éç›‘ç£çš„é¢„å­¦ä¹ +ç›‘ç£å¾®è°ƒ</li><li>è®­ç»ƒçš„æ—¶å€™é‡‡ç”¨é€å±‚è´ªå©ªè®­ç»ƒä½¿å¾—ç½‘ç»œå±‚æ•°å †ç§¯</li></ul><br><h3 id="Deep-Boltzmann-Machines-æ·±åº¦ç»å°”å…¹æ›¼æœº"><a href="#Deep-Boltzmann-Machines-æ·±åº¦ç»å°”å…¹æ›¼æœº" class="headerlink" title="Deep Boltzmann Machines æ·±åº¦ç»å°”å…¹æ›¼æœº"></a>Deep Boltzmann Machines æ·±åº¦ç»å°”å…¹æ›¼æœº</h3><p>æ‰€æœ‰å±‚é—´æ— å‘è¿æ¥  ï¼ˆåŒå±‚ç¥ç»å…ƒé—´æ— è¿æ¥ï¼‰</p><p>é«˜å±‚è¡¨ç¤ºç”±æ— æ ‡æ³¨æ•°æ®å»ºç«‹</p><p>æ ‡æ³¨æ•°æ®ä»…ç”¨æ¥å¾®è°ƒç½‘ç»œ</p><h4 id="DBM-ç½‘ç»œç»“æ„ï¼š"><a href="#DBM-ç½‘ç»œç»“æ„ï¼š" class="headerlink" title="DBM ç½‘ç»œç»“æ„ï¼š"></a>DBM ç½‘ç»œç»“æ„ï¼š</h4><img src="/.io//image-20211225023720489.png" alt="image-20211225023720489" style="zoom:50%;"><h4 id="DBM-å­¦ä¹ ç®—æ³•ï¼š"><a href="#DBM-å­¦ä¹ ç®—æ³•ï¼š" class="headerlink" title="DBM å­¦ä¹ ç®—æ³•ï¼š"></a>DBM å­¦ä¹ ç®—æ³•ï¼š</h4><ul><li>éç›‘ç£çš„é¢„å­¦ä¹ +ç›‘ç£å¾®è°ƒ</li><li>è®­ç»ƒæ—¶é‡‡ç”¨åŒæ–¹å‘ï¼Œåœ¨è®­ç»ƒå•å±‚æ—¶éœ€è¦åŒæ—¶è€ƒè™‘ä¸¤ä¸ªæˆ–è€…å¤šä¸ªéšå±‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>é«˜çº§AIç¬”è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å¼‚æ­¥è¯·æ±‚å³æ—¶å“åº”</title>
    <link href="/2021/11/26/Vue.js/%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E5%8D%B3%E6%97%B6%E5%93%8D%E5%BA%94/"/>
    <url>/2021/11/26/Vue.js/%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E5%8D%B3%E6%97%B6%E5%93%8D%E5%BA%94/</url>
    
    <content type="html"><![CDATA[<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><p>å‘é€ axios AJAX è¯·æ±‚åï¼Œ.thenå›è°ƒå‡½æ•°çš„æ‰§è¡Œæœ‰æ—¶é—´é—´éš”ï¼ˆå¦ä¸€ä¸ªçº¿ç¨‹ï¼‰ï¼Œä¹‹åçš„ä»£ç å³æ—¶æ‰§è¡Œä¼šå‡ºBug</p><br><h3 id="Solve"><a href="#Solve" class="headerlink" title="Solve"></a>Solve</h3><p>å°†ä¹‹åçš„ä»£ç éƒ½æ”¾åˆ° .then =&gt; <strong>{}</strong> å†…æ‰§è¡Œå³å¯</p><br><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript">methods: &#123;<br>    <span class="hljs-attr">query</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>      <span class="hljs-keyword">var</span> that = <span class="hljs-built_in">this</span><br>      axios<br>        .get(<br>          <span class="hljs-string">&#x27;http://47.94.129.13:8081/college/&#x27;</span> + <span class="hljs-built_in">this</span>.button1 + <span class="hljs-string">&#x27;/&#x27;</span> + <span class="hljs-built_in">this</span>.currentPage<br>        )<br>        .then(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> &#123;<br>          that.info = response<br>          that.isShow = <span class="hljs-literal">true</span><br>          that.total = <span class="hljs-number">0</span><br>          that.data1 = []<br>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; that.info.data.data.length; i++) &#123;<br>            <span class="hljs-keyword">var</span> item = &#123;<span class="hljs-attr">name</span>: that.info.data.data[i].name,<br>              <span class="hljs-attr">icon</span>: that.info.data.data[i].icon,<br>              <span class="hljs-attr">city</span>: that.info.data.data[i].city,<br>              <span class="hljs-attr">department</span>: that.info.data.data[i].department,<br>              <span class="hljs-attr">charact</span>: that.info.data.data[i].charact,<br>              <span class="hljs-attr">url</span>: that.info.data.data[i].url&#125;<br>            that.data1.unshift(item)<br>          &#125;<br>          that.total = that.info.data.total<br>        &#125;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æµè§ˆå™¨ååŒå‰ç«¯å¼€å‘</title>
    <link href="/2021/11/20/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8D%8F%E5%90%8C%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"/>
    <url>/2021/11/20/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8D%8F%E5%90%8C%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/</url>
    
    <content type="html"><![CDATA[<p>æ‰“å¼€ç½‘é¡µï¼Œå³é”®é€‰ä¸­<strong>æ£€æŸ¥</strong>ï¼Œå³å¯åœ¨ Elements ä¸­æŸ¥çœ‹ç½‘é¡µå„ä¸ªç»„ä»¶æ‰€åœ¨çš„ HTML æ ‡ç­¾ã€‚</p><p>ä½¿ç”¨è¯¥æ–¹æ³•å¯è¿›è¡Œç²¾ç¡®å®šä½ï¼ˆé€‰ä¸­<strong>å·¦ä¸Šè§’é¼ æ ‡å®šä½åŠŸèƒ½</strong>ï¼‰ã€‚</p><p>ä¹Ÿå¯ä»¥çœ‹åˆ°è¯¥å…ƒç´ çš„ <strong>css æ ·å¼</strong></p><p>åŒæ—¶è¿˜å¯ä»¥<strong>åœ¨ç½‘é¡µä¸Šç›´æ¥ä¿®æ”¹ä»£ç è¿›è¡Œè°ƒè¯•</strong>ã€‚</p><img src="/images/image-20211123025537312.png" alt="image-20211123025537312" style="zoom: 33%;"><p>â†’ accelerate ç½‘é¡µå¼€å‘</p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>EChartsæ•°æ®å¯è§†åŒ–å›¾è¡¨åº“</title>
    <link href="/2021/11/17/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/ECharts/"/>
    <url>/2021/11/17/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/ECharts/</url>
    
    <content type="html"><![CDATA[<p>ECharts æ˜¯ä¸€ä¸ªä½¿ç”¨ JavaScript å®ç°çš„<strong>å¼€æºå¯è§†åŒ–åº“</strong>ï¼Œæ¶µç›–å„è¡Œä¸š<strong>å›¾è¡¨</strong>ï¼Œæ»¡è¶³å„ç§éœ€æ±‚ã€‚</p><p>ECharts éµå¾ª Apache-2.0 å¼€æºåè®®ï¼Œå…è´¹å•†ç”¨ã€‚</p><p>ECharts å…¼å®¹å½“å‰ç»å¤§éƒ¨åˆ†æµè§ˆå™¨ï¼ˆIE8/9/10/11ï¼ŒChromeï¼ŒFirefoxï¼ŒSafariç­‰ï¼‰åŠå…¼å®¹å¤šç§è®¾å¤‡ï¼Œå¯éšæ—¶éšåœ°ä»»æ€§å±•ç¤ºã€‚</p><h4 id="æ•™ç¨‹ï¼šhttps-www-runoob-com-echarts-echarts-tutorial-html"><a href="#æ•™ç¨‹ï¼šhttps-www-runoob-com-echarts-echarts-tutorial-html" class="headerlink" title="æ•™ç¨‹ï¼šhttps://www.runoob.com/echarts/echarts-tutorial.html"></a>æ•™ç¨‹ï¼š<a href="https://www.runoob.com/echarts/echarts-tutorial.html">https://www.runoob.com/echarts/echarts-tutorial.html</a></h4><h4 id="å®ä¾‹æ¼”ç¤ºï¼š"><a href="#å®ä¾‹æ¼”ç¤ºï¼š" class="headerlink" title="å®ä¾‹æ¼”ç¤ºï¼š"></a>å®ä¾‹æ¼”ç¤ºï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>ç¬¬ä¸€ä¸ª ECharts å®ä¾‹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼•å…¥ echarts.js --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/echarts/4.3.0/echarts.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ä¸ºEChartså‡†å¤‡ä¸€ä¸ªå…·å¤‡å¤§å°ï¼ˆå®½é«˜ï¼‰çš„Dom --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 600px;height:400px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">// åŸºäºå‡†å¤‡å¥½çš„domï¼Œåˆå§‹åŒ–echartså®ä¾‹</span></span><br><span class="javascript">        <span class="hljs-keyword">var</span> myChart = echarts.init(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;main&#x27;</span>));</span><br><span class="javascript"> </span><br><span class="javascript">        <span class="hljs-comment">// æŒ‡å®šå›¾è¡¨çš„é…ç½®é¡¹å’Œæ•°æ®</span></span><br><span class="javascript">        <span class="hljs-keyword">var</span> option = &#123;</span><br><span class="javascript">            <span class="hljs-attr">title</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">text</span>: <span class="hljs-string">&#x27;ç¬¬ä¸€ä¸ª ECharts å®ä¾‹&#x27;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">tooltip</span>: &#123;&#125;,</span><br><span class="javascript">            <span class="hljs-attr">legend</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">data</span>:[<span class="hljs-string">&#x27;é”€é‡&#x27;</span>]</span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">data</span>: [<span class="hljs-string">&quot;è¡¬è¡«&quot;</span>,<span class="hljs-string">&quot;ç¾Šæ¯›è¡«&quot;</span>,<span class="hljs-string">&quot;é›ªçººè¡«&quot;</span>,<span class="hljs-string">&quot;è£¤å­&quot;</span>,<span class="hljs-string">&quot;é«˜è·Ÿé‹&quot;</span>,<span class="hljs-string">&quot;è¢œå­&quot;</span>]</span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">yAxis</span>: &#123;&#125;,</span><br><span class="javascript">            <span class="hljs-attr">series</span>: [&#123;</span><br><span class="javascript">                <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;é”€é‡&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;bar&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">data</span>: [<span class="hljs-number">5</span>, <span class="hljs-number">20</span>, <span class="hljs-number">36</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">20</span>]</span><br><span class="javascript">            &#125;]</span><br><span class="javascript">        &#125;;</span><br><span class="javascript"> </span><br><span class="javascript">        <span class="hljs-comment">// ä½¿ç”¨åˆšæŒ‡å®šçš„é…ç½®é¡¹å’Œæ•°æ®æ˜¾ç¤ºå›¾è¡¨ã€‚</span></span><br><span class="javascript">        myChart.setOption(option);</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>CLI å¸¸ç”¨æŒ‡ä»¤</title>
    <link href="/2021/11/08/Vue.js/CLI%20%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/"/>
    <url>/2021/11/08/Vue.js/CLI%20%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h3 id="ViewUI-çš„å®‰è£…ä¸å¼•å…¥"><a href="#ViewUI-çš„å®‰è£…ä¸å¼•å…¥" class="headerlink" title="ViewUI çš„å®‰è£…ä¸å¼•å…¥"></a>ViewUI çš„å®‰è£…ä¸å¼•å…¥</h3><p><strong>å®‰è£…</strong></p><p>cnpm install view-design â€“save</p><p><strong>å¼•å…¥</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">import ViewUI from &#x27;view-design&#x27;;<br>import &#x27;view-design/dist/styles/iview.css&#x27;;<br>Vue.use(ViewUI);<br></code></pre></td></tr></table></figure><br><h3 id="ElementUI-çš„å®‰è£…ä¸å¼•å…¥"><a href="#ElementUI-çš„å®‰è£…ä¸å¼•å…¥" class="headerlink" title="ElementUI çš„å®‰è£…ä¸å¼•å…¥"></a>ElementUI çš„å®‰è£…ä¸å¼•å…¥</h3><p><strong>å®‰è£…</strong></p><p>cnpm i element-ui -S</p><p><strong>å¼•å…¥</strong></p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs clean"><span class="hljs-keyword">import</span> ElementUI <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-ui&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;<br>Vue.use(ElementUI);<br></code></pre></td></tr></table></figure><br><h3 id="less-or-sass-å®‰è£…"><a href="#less-or-sass-å®‰è£…" class="headerlink" title="less or sass å®‰è£…"></a>less or sass å®‰è£…</h3><p>è‹¥å®‰è£…äº†UIåº“åï¼ŒæŠ¥casså’Œlessé”™è¯¯ï¼Œåˆ™ä»¥ä¸‹å®‰è£… ( <strong>è§ less é‚£ç¯‡blog</strong> )<br>cnpm install â€“save sass-loader node-sass<br>cnpm install â€“save less-loader node-less</p><br><h3 id="vue-cliå®‰è£…ä¸æ–°å»º"><a href="#vue-cliå®‰è£…ä¸æ–°å»º" class="headerlink" title="vue-cliå®‰è£…ä¸æ–°å»º"></a>vue-cliå®‰è£…ä¸æ–°å»º</h3><p><strong>cliå®‰è£…</strong></p><p>cnpm install -g @vue/cli</p><p><strong>cliæŸ¥çœ‹ç‰ˆæœ¬</strong></p><p>vue â€“version</p><p><strong>cliåˆ›å»ºä¸€ä¸ªé¡¹ç›®</strong></p><p>vue create hello-world</p><br><h4 id="vue-routerå®‰è£…ä¸ä½¿ç”¨"><a href="#vue-routerå®‰è£…ä¸ä½¿ç”¨" class="headerlink" title="vue-routerå®‰è£…ä¸ä½¿ç”¨"></a>vue-routerå®‰è£…ä¸ä½¿ç”¨</h4><p><strong>vue-routerå®‰è£…</strong></p><p>cnpm install vue-router</p><p><strong>vue-routerä½¿ç”¨</strong></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs pgsql"><span class="hljs-keyword">import</span> VueRouter <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span><br>Vue.use(VueRouter)<br>&lt;router-<span class="hljs-keyword">view</span>&gt;&lt;/router-<span class="hljs-keyword">view</span>&gt;<br>&lt;router-link&gt;<br></code></pre></td></tr></table></figure><br><h3 id="Vue-é¡¹ç›®åˆ›å»º"><a href="#Vue-é¡¹ç›®åˆ›å»º" class="headerlink" title="Vue é¡¹ç›®åˆ›å»º"></a>Vue é¡¹ç›®åˆ›å»º</h3><p><strong>åˆ›å»ºé¡¹ç›®çš„æ–¹å¼ï¼š</strong></p><p>1ã€<code>vue create hello-world</code></p><p>2ã€<code>vue ui</code> è¿›è¡Œç½‘é¡µåœ¨çº¿é¡¹ç›®åˆ›å»º  ï¼ˆä»¥<strong>ç®¡ç†å‘˜</strong>èº«ä»½æ‰“å¼€cmd ï¼‰</p><br><p>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“é¡¹ç›®å®‰è£…â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“</p><h4 id="Project-setup"><a href="#Project-setup" class="headerlink" title="Project setup"></a>Project setup</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmake">cnpm <span class="hljs-keyword">install</span><br></code></pre></td></tr></table></figure><h4 id="Compiles-and-hot-reloads-for-development"><a href="#Compiles-and-hot-reloads-for-development" class="headerlink" title="Compiles and hot-reloads for development"></a>Compiles and hot-reloads for development</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">cnpm <span class="hljs-builtin-name">run</span> serve<br></code></pre></td></tr></table></figure><h4 id="Compiles-and-minifies-for-production"><a href="#Compiles-and-minifies-for-production" class="headerlink" title="Compiles and minifies for production"></a>Compiles and minifies for production</h4><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">cnpm <span class="hljs-builtin-name">run</span> build<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è¸©å‘æ±‡æ€»</title>
    <link href="/2021/11/08/Vue.js/%E8%B8%A9%E5%9D%91%E6%B1%87%E6%80%BB/"/>
    <url>/2021/11/08/Vue.js/%E8%B8%A9%E5%9D%91%E6%B1%87%E6%80%BB/</url>
    
    <content type="html"><![CDATA[<ul><li>æ³¨æ„ ElementUI or IView çš„ Vue ç‰ˆæœ¬ï¼ˆVue2.x / 3.xï¼‰ï¼Œå®åœ¨ä¸è¡Œå°±åœ¨æµè§ˆå™¨å®šä½æ¨¡æ¿ç»„ä»¶ï¼Œ</li></ul><p>â€‹       åœ¨ä½¿ç”¨è¯¥ç»„ä»¶çš„æ–‡ä»¶å†…é‡æ–°å†™ä¸€ä¸‹cssæ ·å¼è¿›è¡Œè¦†ç›–ã€‚</p><br><ul><li><p>POST è¯·æ±‚å‡ºç° <code>400 (BAD REQUEST)</code> æŠ¥é”™ä¿¡æ¯</p><p><strong>Solveï¼šè¯·æ±‚ä½“ data é‡Œé‡‡ç”¨ formData æ ¼å¼</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">methods: &#123;<br>  <span class="hljs-attr">query</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> formData = <span class="hljs-keyword">new</span> FormData()<br>    formData.append(<span class="hljs-string">&#x27;question&#x27;</span>, <span class="hljs-built_in">this</span>.ques)<br>    axios(&#123;<br>      <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>      <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://127.0.0.1:5000&#x27;</span>,<br>      <span class="hljs-attr">data</span>: formData<br>    &#125;).then(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> (<span class="hljs-built_in">this</span>.ans = response))<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p><strong>application/x-www-form-urlencoded</strong> ä»–èƒ½ç®€æ´çš„å°†keyï¼švalueçš„æ•°æ®è¿›è¡Œåˆ†å‰²ã€‚è¿™ä¸€ç‚¹ç›¸æ¯”form-dataä½¿ç”¨é•¿é•¿çš„å­—ç¬¦ä¸²ä½œä¸ºåˆ†å‰²ç¬¦ä¼˜åŠ¿å·¨å¤§ï¼Œè™½ç„¶å¯¹äºå¤šå­—èŠ‚çš„æ•°æ®ä¼šå› ä¸ºç¼–ç é€ æˆå­—èŠ‚é‡å‰§å¢(å¯ä»¥çœ‹åˆ°ä¸€ä¸ªä¸­æ–‡å­—ç¬¦å¢åŠ äº†2å€å­—èŠ‚é‡)ï¼Œä½†æ˜¯åœ¨å•å­—èŠ‚æˆ–è€…æ˜¯å°‘é‡çš„æ•°æ®æ—¶ï¼Œè¿™ç§æ–¹å¼æ˜¯åˆ’ç®—çš„ã€‚<br><strong>form-data</strong> æ˜¯ä¸€ç§é‡è§†æ•°æ®çš„æ–¹å¼ï¼Œé€šå¸¸æˆ‘ä»¬åœ¨valueå€¼ä¸­ä¼šå‘é€å¤§é‡çš„æ–‡æœ¬ä¿¡æ¯ï¼Œæˆ–è€…ç›´æ¥çš„ä¼ é€ä¸€ä¸ªæ–‡ä»¶ï¼Œæ•°æ®ç›´æ¥ç¼–ç ä¸ºäºŒè¿›åˆ¶å‘é€ï¼Œä¸ä¼šäº§ç”Ÿå¤šä½™çš„å­—èŠ‚ï¼Œé€‚åˆå¤§æ–‡æœ¬çš„ä¼ è¾“ã€‚</p><br><ul><li><p>éƒ¨ç½²åˆ°Nginxä¹‹åvueä¸­æ ·å¼è¢«è¦†ç›–</p><p>Solveï¼š<a href="https://www.cnblogs.com/Simple-and-complex/p/11573738.html">https://www.cnblogs.com/Simple-and-complex/p/11573738.html</a></p></li></ul><br><ul><li>æŠ¥é”™ä¿¡æ¯ï¼š</li></ul><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs smali">npm ERR! If you believe this might be a permissions issue,please<span class="hljs-built_in"> double-check </span>the<br>npm ERR! permissions of the file<span class="hljs-built_in"> and </span>its containing directories,<span class="hljs-built_in"> or </span>try running<br>npm ERR! the command again as root/Administrator.<br></code></pre></td></tr></table></figure><p>â€‹    try running the command again as root/Administrator</p><p>â€‹    <strong>Solveï¼šä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ cmd è¿›è¡Œæ“ä½œ</strong></p><br><ul><li><p>ä½¿ç”¨vue uiåˆ›å»ºæ–°é¡¹ç›®æ—¶å‡ºç°é—®é¢˜:</p><p><strong>Cannot read property â€˜indexOfâ€˜ of undefined</strong></p><p><strong>Solveï¼šä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ cmd è¿›è¡Œæ“ä½œ</strong></p></li></ul><br><ul><li><p>ä½¿ç”¨vue createåˆ›å»ºæ–°é¡¹ç›®å¤±è´¥:</p><p><strong>Solveï¼šä»¥ç®¡ç†å‘˜èº«ä»½æ‰“å¼€ cmd è¿›è¡Œæ“ä½œ</strong></p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>View UI</title>
    <link href="/2021/11/07/Vue.js/View%20UI/"/>
    <url>/2021/11/07/Vue.js/View%20UI/</url>
    
    <content type="html"><![CDATA[<p>View UI æ˜¯ä¸€å¥—åŸºäº Vue.js çš„<strong>å¼€æº UI ç»„ä»¶åº“</strong>ï¼Œä¸»è¦æœåŠ¡äº PC ç•Œé¢çš„ä¸­åå°äº§å“ã€‚</p><p>ç›¸æ¯”äº Element UIï¼ŒView UI ä¸€ç›´åœ¨æ›´æ–°å’Œç»´æŠ¤ã€‚</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="http://v1.iviewui.com/docs/introduce">http://v1.iviewui.com/docs/introduce</a></p><br><h3 id="åˆ†é¡µåŠŸèƒ½çš„å®ç°"><a href="#åˆ†é¡µåŠŸèƒ½çš„å®ç°" class="headerlink" title="åˆ†é¡µåŠŸèƒ½çš„å®ç°"></a>åˆ†é¡µåŠŸèƒ½çš„å®ç°</h3><p><a href="https://blog.csdn.net/j1231230/article/details/113242354?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.no_search_link&amp;spm=1001.2101.3001.4242.1">https://blog.csdn.net/j1231230/article/details/113242354?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-0.no_search_link&amp;spm=1001.2101.3001.4242.1</a></p><br><h3 id="åœ¨-View-UI-çš„è¡¨æ ¼-Table-å…ƒç´ ä¸­å±•ç¤ºå›¾ç‰‡-img-çš„æ–¹æ³•ï¼š"><a href="#åœ¨-View-UI-çš„è¡¨æ ¼-Table-å…ƒç´ ä¸­å±•ç¤ºå›¾ç‰‡-img-çš„æ–¹æ³•ï¼š" class="headerlink" title="åœ¨ View UI çš„è¡¨æ ¼ Table å…ƒç´ ä¸­å±•ç¤ºå›¾ç‰‡ img çš„æ–¹æ³•ï¼š"></a>åœ¨ View UI çš„è¡¨æ ¼ Table å…ƒç´ ä¸­å±•ç¤ºå›¾ç‰‡ img çš„æ–¹æ³•ï¼š</h3><p>åœ¨  <code>&lt;Table :columns=&#39;columns1&#39; :data=&#39;data1&#39; style=&quot;text-align: center;&quot;&gt;&lt;/Table&gt;</code></p><p>çš„åˆ—å±æ€§ columns1 ä¸­æ·»åŠ  <strong>render</strong> æ¸²æŸ“å‡½æ•°ï¼š</p><p>ï¼ˆå…¶ä¸­ icon ä¸ºå¾…æ¸²æŸ“ data1 æ•°ç»„é‡Œå›¾ç‰‡çš„ key å€¼ï¼Œè¦<strong>æ³¨æ„å›¾ç‰‡å¤§å°è®¾ç½®</strong>ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&#123;<br>    <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;å›¾æ ‡&#x27;</span>,<br>    <span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;icon&#x27;</span>,<br>    <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h, params</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">return</span> h(<span class="hljs-string">&#x27;img&#x27;</span>, &#123;<br>        <span class="hljs-attr">props</span>: &#123;<br>          <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;primary&#x27;</span>,<br>          <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span><br>        &#125;,<br>        <span class="hljs-attr">attrs</span>: &#123;<br>          <span class="hljs-attr">src</span>: params.row.icon, <span class="hljs-attr">style</span>: <span class="hljs-string">&#x27;width: 90px;height: 90px;border-radius: 2px;&#x27;</span><br>        &#125;,<br>        <span class="hljs-attr">style</span>: &#123;<br>        &#125;<br>      &#125;)<br>    &#125;<br>&#125;,<br></code></pre></td></tr></table></figure><p>å®Œæ•´Codeï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;template&gt;<br>    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;table&#x27;</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;select&#x27;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">RadioGroup</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&#x27;button1&#x27;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;button&#x27;</span> <span class="hljs-attr">size</span>=<span class="hljs-string">&#x27;large&#x27;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;RadioGroup&#x27;</span>&gt;</span></span><br><span class="xml">          <span class="hljs-tag">&lt;<span class="hljs-name">Radio</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&#x27;åŒ—äº¬&#x27;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;pro&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Radio</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">RadioGroup</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&#x27;select3&#x27;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&#x27;primary&#x27;</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">&#x27;ios-search&#x27;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&#x27;query()&#x27;</span>&gt;</span>æŸ¥è¯¢<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&#x27;isShow&#x27;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">Table</span> <span class="hljs-attr">:columns</span>=<span class="hljs-string">&#x27;columns1&#x27;</span> <span class="hljs-attr">:data</span>=<span class="hljs-string">&#x27;data1&#x27;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Table</span>&gt;</span></span><br><span class="xml">      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  &lt;/template&gt;<br>  &lt;script&gt;<br>  <span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;axios&#x27;</span>)<br>  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;table&#x27;</span>,<br>    <span class="hljs-attr">components</span>: &#123;&#125;,<br>    data () &#123;<br>      <span class="hljs-keyword">return</span> &#123;<br>        <span class="hljs-attr">isShow</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">button1</span>: <span class="hljs-string">&#x27;åŒ—äº¬&#x27;</span>,<br>        <span class="hljs-attr">info</span>: <span class="hljs-literal">null</span>,<br>        <span class="hljs-attr">columns1</span>: [<br>          &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;å­¦æ ¡&#x27;</span>,<br>            <span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;name&#x27;</span><br>          &#125;,<br>          &#123;<br>            <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;å›¾æ ‡&#x27;</span>,<br>            <span class="hljs-attr">key</span>: <span class="hljs-string">&#x27;icon&#x27;</span>,<br>            <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h, params</span>) =&gt;</span> &#123;<br>              <span class="hljs-keyword">return</span> h(<span class="hljs-string">&#x27;img&#x27;</span>, &#123;<br>                <span class="hljs-attr">props</span>: &#123;<br>                  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;primary&#x27;</span>,<br>                  <span class="hljs-attr">size</span>: <span class="hljs-string">&#x27;small&#x27;</span><br>                &#125;,<br>                <span class="hljs-attr">attrs</span>: &#123;<br>                  <span class="hljs-attr">src</span>: params.row.icon, <span class="hljs-attr">style</span>: <span class="hljs-string">&#x27;width: 90px;height: 90px;border-radius: 2px;&#x27;</span><br>                &#125;,<br>                <span class="hljs-attr">style</span>: &#123;<br>                &#125;<br>              &#125;)<br>            &#125;<br>          &#125;<br>        ],<br>        <span class="hljs-attr">data1</span>: []<br>      &#125;<br>    &#125;,<br>    <span class="hljs-attr">methods</span>: &#123;<br>      <span class="hljs-attr">query</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        axios<br>          .get(<br>            <span class="hljs-string">&#x27;http://47.94.129.13:8081/college/&#x27;</span> + <span class="hljs-built_in">this</span>.button1<br>          )<br>          .then(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> (<span class="hljs-built_in">this</span>.info = response))<br>        <span class="hljs-built_in">this</span>.isShow = <span class="hljs-literal">true</span><br>        <span class="hljs-built_in">this</span>.len = <span class="hljs-built_in">this</span>.info.data.data.length<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">this</span>.info.data.data.length; i++) &#123;<br>          <span class="hljs-keyword">var</span> item = &#123;<span class="hljs-attr">name</span>: <span class="hljs-built_in">this</span>.info.data.data[i].name,<br>            <span class="hljs-attr">icon</span>: <span class="hljs-built_in">this</span>.info.data.data[i].icon&#125;<br>          <span class="hljs-built_in">this</span>.data1.unshift(item)<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><br><p>åŒElement UIï¼Œä¸€ä¸ªé¡µé¢ä¸€å…±æœ‰24åˆ—</p><br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;Row type=&quot;flex&quot; justify=&quot;center&quot;&gt;<br>&lt;Col span=&quot;1&quot;&gt;&lt;h1&gt;666&lt;/h1&gt;&lt;/Col&gt;<br>&lt;/Row&gt;<br></code></pre></td></tr></table></figure><p>è®¾ç½® type=â€flexâ€ å’Œ justify=â€centerâ€ å¯ä»¥ä½¿å¾—å†…éƒ¨å…ƒç´ <strong>å±…ä¸­</strong>æ˜¾ç¤º</p><br><p><strong>main.js ä¸­çš„ render æ¸²æŸ“å‡½æ•°æŒ‡å®š import è¿›çš„å•æ–‡ä»¶ç»„ä»¶è¿›è¡Œæ¸²æŸ“å±•ç¤º</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> ViewUI <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;view-design&#x27;</span>;<br><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;view-design/dist/styles/iview.css&#x27;</span>;<br><br><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span><span class="hljs-string">&#x27;./app1.vue&#x27;</span><br><span class="hljs-comment">// import App from&#x27;./app2.vue&#x27;</span><br><span class="hljs-comment">// import App from&#x27;./app3.vue&#x27;</span><br><br>Vue.use(ViewUI);<br><br>Vue.config.productionTip = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App),<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br></code></pre></td></tr></table></figure><br><p>æ …æ ¼-å¸ƒå±€å®ä¾‹ï¼šapp1.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div style=&quot;background:#eeeeee;&quot;&gt;<br><br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot;&gt;<br>            &lt;Col span=&quot;1&quot;&gt;&lt;h1&gt;666&lt;/h1&gt;&lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>        &lt;!-- å¤´éƒ¨ç©ºä½ --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot; style=&quot;background:#ee66ee; padding: 10px 0 10px 0;&quot;&gt;<br>            &lt;Col span=&quot;8&quot; style=&quot;height:150px;background:orange;&quot; &gt;&lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>        &lt;!-- ä¸»ä½“éƒ¨åˆ† --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot; style=&quot;background:#7777ee; padding: 10px 0 10px 0;&quot;&gt;<br>            &lt;Col span=&quot;8&quot; &gt;<br>                &lt;Layout&gt;<br>                    &lt;Content style=&quot;display:flex; justify-content:center; background:#eeeeee; padding: 10px 0 10px 0;&quot;&gt;<br>                        &lt;Card class=&quot;Card&quot; style=&quot;border-radius:30px;&quot;&gt;<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                          &lt;br&gt;<br>                            ----------------------------------------------------------------------<br>                        &lt;/Card&gt;<br>                    &lt;/Content&gt;<br>                &lt;/Layout&gt;<br>            &lt;/Col&gt;<br>        &lt;/Row&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>    export default &#123;<br>        name:&#x27;App&#x27;,<br>        data () &#123;<br>            return &#123;<br>            <br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>          <br>        &#125;<br>    &#125;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><br><p>ç™»å½•ç•Œé¢å®ä¾‹ï¼šapp2.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div style=&quot;background:#eeeeee;&quot;&gt;<br>        &lt;!-- å¤´éƒ¨ç©ºä½ --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot;&gt;<br>            &lt;Col span=&quot;8&quot; style=&quot;height:150px;&quot;&gt;&lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>        &lt;!-- ä¸»ä½“éƒ¨åˆ† --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot;&gt;<br>            &lt;Col span=&quot;8&quot; style=&quot;height:600px;&quot;&gt;<br>                &lt;Layout&gt;<br>                    &lt;Content style=&quot;display:flex;justify-content:center;background:#eeeeee&quot;&gt;<br>                        &lt;Card class=&quot;Card&quot;&gt;<br>                            &lt;br&gt;<br>                            &lt;h1 style=&quot;text-align: center;font-size:32px;&quot;&gt;æ¬¢è¿ç™»é™†&lt;/h1&gt;<br>                            &lt;br&gt;<br>                            &lt;div style=&quot;background-color:#dddddd;height:2px;&quot;&gt;&lt;/div&gt;<br>                            &lt;br&gt;<br>                            &lt;Form class=&quot;Form&quot; ref=&quot;formValidate&quot; :model=&quot;formValidate&quot; :rules=&quot;ruleValidate&quot; :label-width=&quot;80&quot;&gt;<br>                                &lt;FormItem label=&quot;ç”¨æˆ·å&quot; prop=&quot;name&quot; &gt;<br>                                    &lt;Input v-model=&quot;formValidate.name&quot; placeholder=&quot;è¯·è¾“å…¥ç”¨æˆ·å&quot;&gt;&lt;/Input&gt;<br>                                &lt;/FormItem&gt;<br>                                &lt;FormItem label=&quot;å¯†ç &quot; prop=&quot;password&quot;&gt;<br>                                    &lt;Input type=&quot;password&quot; v-model=&quot;formValidate.password&quot; placeholder=&quot;è¯·è¾“å…¥å¯†ç &quot;&gt;&lt;/Input&gt;<br>                                &lt;/FormItem&gt;<br><br>                                &lt;FormItem prop=&quot;g&quot;&gt;<br>                                    &lt;RadioGroup v-model=&quot;formValidate.g&quot;&gt;<br>                                        &lt;Radio label=&#x27;a&#x27;&gt;ä»…å‰ç«¯&lt;/Radio&gt;<br>                                        &lt;Radio label=&#x27;b&#x27;&gt;å‘é€ç»™åç«¯&lt;/Radio&gt;<br>                                    &lt;/RadioGroup&gt;<br>                                &lt;/FormItem&gt;<br><br>                                &lt;FormItem v-show=&quot;formValidate.g===&#x27;b&#x27;&quot; label=&quot;IPåœ°å€&quot; prop=&quot;ip&quot;&gt;<br>                                    &lt;Input v-model=&quot;formValidate.ip&quot; &gt;&lt;/Input&gt;<br>                                &lt;/FormItem&gt;<br>                                &lt;FormItem&gt;<br>                                    &lt;Button type=&quot;primary&quot; @click=&quot;handleSubmit(&#x27;formValidate&#x27;)&quot;&gt;Submit&lt;/Button&gt;<br>                                    &lt;Button @click=&quot;handleReset(&#x27;formValidate&#x27;)&quot; style=&quot;margin-left: 8px&quot;&gt;Reset&lt;/Button&gt;<br>                                &lt;/FormItem&gt;<br>                            &lt;/Form&gt;<br>                        &lt;/Card&gt;<br>                    &lt;/Content&gt;<br>                &lt;/Layout&gt;<br>            &lt;/Col&gt;<br>        &lt;/Row&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>    export default &#123;<br>        name:&#x27;App&#x27;,<br>        data () &#123;<br>            return &#123;<br>                formValidate: &#123;<br>                    name: &#x27;&#x27;,<br>                    password: &#x27;&#x27;,<br>                    g: &#x27;a&#x27;,<br>                    ip: &#x27;http://192.168.101.55/&#x27;<br>                &#125;,<br>                ruleValidate: &#123;<br>                    name: [<br>                        &#123; required: true, message: &#x27;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;blur&#x27; &#125;<br>                    ],<br>                    password: [<br>                        &#123; required: true, message: &#x27;å¯†ç ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;blur&#x27; &#125;,<br>                    ],<br>                    ip: [<br>                        &#123; required: true, message: &#x27;åç«¯IPåœ°å€ä¸èƒ½ä¸ºç©º&#x27;, trigger: &#x27;blur&#x27; &#125;,<br>                    ],<br>                    g: [<br>                        &#123; required: true, message: &#x27;&#x27;, trigger: &#x27;change&#x27; &#125;<br>                    ],<br>                &#125;<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>            handleSubmit (name) &#123;<br>                this.$refs[name].validate((valid) =&gt; &#123;<br>                    if (valid) &#123;<br>                        this.$Message.success(`ç”¨æˆ·åï¼š$&#123;this.formValidate.name&#125;ï¼Œå¯†ç ï¼š$&#123;this.formValidate.password&#125;`);<br>                    &#125; else &#123;<br>                        this.$Message.error(&#x27;æ ¼å¼é”™è¯¯ï¼Œè¯·æ£€æŸ¥ï¼&#x27;);<br>                    &#125;<br>                &#125;)<br>            &#125;,<br>            handleReset (name) &#123;<br>                this.$refs[name].resetFields();<br>            &#125;<br>        &#125;<br>    &#125;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.Card&#123; // åŸç”Ÿcss<br>    border-radius:30px;<br>    width: 370px;<br>    // justify-content: center; // è¿™æ ·ä¼šä½¿å¾—Cardé‡Œé¢çš„å…ƒç´ å±…ä¸­<br>    box-shadow: 5px 5px 5px 5px #cccccc; <br>&#125;<br>.Form&#123;<br>    padding: 5%;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><br><p>ä¸»é¡µé¢å®ä¾‹ï¼šapp3.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div style=&quot;background:#eeeeee;font-size:20px;&quot;&gt;<br><br>        &lt;!-- -------------å¤´éƒ¨------------- --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot; style=&quot;background:#409eff; font-size:15px; padding: 8px 0 10px 0;&quot;&gt; <br>            &lt;Col span=&quot;15&quot;&gt;<br>                &lt;h1 style=&quot;color:#fff&quot;&gt;&#123;&#123; pj_name &#125;&#125;&lt;/h1&gt;<br>            &lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>        &lt;!-- -------------ç®€ä»‹------------- --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot; style=&quot;padding: 40px 0 40px 0;&quot;&gt;<br>            &lt;Col span=&quot;15&quot;&gt;<br>                &lt;br&gt;<br>                &lt;h1 style=&quot;font-size:50px&quot; &gt;Hello,&#123;&#123; welcome &#125;&#125;,...&lt;/h1&gt;<br>                &lt;p&gt;This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique.&lt;/p&gt;<br>                &lt;br&gt;<br>                &lt;Button size=&#x27;large&#x27; type=&quot;primary&quot;&gt;Learn more &gt;&gt;&lt;/Button&gt;<br><br>            &lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>        &lt;!-- -------------ä¸»ä½“------------- --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot; style=&quot;padding: 0px 0 30px 0;&quot;&gt;<br>            &lt;!-- &lt;Col span=&quot;15&quot; style=&quot;background:#409eff;&quot;&gt; --&gt;<br>            &lt;Col span=&quot;15&quot; &gt;<br>                &lt;Card class=&quot;Card&quot; v-for=&quot;heading in headings&quot; :key=heading&gt;<br>                    &lt;br&gt;<br>                    &lt;h2 &gt;&#123;&#123;heading&#125;&#125;&lt;/h2&gt;<br>                    &lt;br&gt;<br>                    &lt;p style=&quot;font-size:16px;&quot;&gt;Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.&lt;/p&gt;<br>                    &lt;Button size=&#x27;small&#x27; &gt;View details &gt;&gt;&lt;/Button&gt;<br>                    &lt;br&gt;<br>                    &lt;br&gt;<br>                &lt;/Card&gt;<br>            &lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>        &lt;!-- -------------ç»“å°¾------------- --&gt;<br>        &lt;Row type=&quot;flex&quot; justify=&quot;center&quot; style=&quot;padding: 20px 0 20px 0;&quot;&gt;<br>        &lt;!-- &lt;Col span=&quot;15&quot; style=&quot;background:#409eff;&quot;&gt; --&gt;<br>            &lt;Col span=&quot;15&quot; &gt;<br>                &lt;div style=&quot;background-color:#bbbbbb;height:2px;&quot;&gt;&lt;/div&gt;<br>                &lt;br&gt;<br>                &lt;p&gt;Â© 2021 UCAS, Inc.&lt;/p&gt;<br>            &lt;/Col&gt;<br>        &lt;/Row&gt;<br><br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>    export default &#123;<br>        name:&quot;App&quot;,<br>        data () &#123;<br>            return &#123;<br>                headings:[&#x27;1Heading&#x27;,&#x27;2Heading&#x27;,&#x27;3Heading&#x27;, &#x27;4Heading&#x27;,&#x27;5Heading&#x27;,&#x27;6Heading&#x27;],<br>                welcome: &#x27;Vue.js,Element-UI&#x27;,<br>                pj_name: &#x27;Project Name&#x27;<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>  <br>            &#125;,<br>    &#125;<br>&lt;/script&gt;<br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.Card&#123; // åŸç”Ÿcss<br>    background:#fbfbfb;<br>    width: 305px;<br>    // height: 300px;<br>    display: inline-block;<br>    margin: 0.3em;<br>    border-radius:20px;<br>    // justify-content: center; // è¿™æ ·ä¼šä½¿å¾—Cardé‡Œé¢çš„å…ƒç´ å±…ä¸­<br>    box-shadow: 5px 5px 5px 5px #cccccc; <br>&#125;<br>.Form&#123;<br>    padding: 5%;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Element UI</title>
    <link href="/2021/11/07/Vue.js/Element%20UI/"/>
    <url>/2021/11/07/Vue.js/Element%20UI/</url>
    
    <content type="html"><![CDATA[<p>Element UI æ˜¯ä¸€å¥—é‡‡ç”¨ Vue 2.0 ä½œä¸ºåŸºç¡€æ¡†æ¶å®ç°çš„<strong>ç»„ä»¶åº“</strong></p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://element.eleme.cn/#/zh-CN/component/installation">https://element.eleme.cn/#/zh-CN/component/installation</a></p><p>é¡¹ç›®æ¡ˆä¾‹ï¼š<a href="https://github.com/oinsd/Vue.js-Learning-Example">https://github.com/oinsd/Vue.js-Learning-Example</a> </p><p>â€‹                ï¼ˆNO.15_ç®€ä»‹_ç®€å•ç»„åˆæ•ˆæœ_å¸ƒå±€ä¸å®¹å™¨ï¼‰</p><p>ï¼ˆæ ·ä¾‹çš„é¡¹ç›®ä¸åŒ…å« node_modulesï¼Œéœ€è¦ <code>npm install</code> è¿›è¡Œå¯¼åŒ…ï¼‰</p><br><p>æ ·ä¾‹é¡¹ç›®ä¸­å‡ ä¸ªå•æ–‡ä»¶ç»„ä»¶çš„ä»‹ç»ï¼š</p><ul><li>App_Layout_Container.vueï¼šä¸€å…±24åˆ—ï¼Œåç§»4åˆ—å¼€å§‹ï¼Œä½¿ç”¨16åˆ—</li></ul><img src="/images/å¸ƒå±€_å®¹å™¨.png" alt="å¸ƒå±€_å®¹å™¨" style="zoom: 33%;"><img src="/images/å®¹å™¨.png" alt="å®¹å™¨" style="zoom: 33%;"><ul><li>App_form_2.vueï¼šä¸€å…±24åˆ—ï¼Œåç§»8åˆ—å¼€å§‹ï¼Œä½¿ç”¨8åˆ—</li></ul><p>æ³¨ï¼šæƒ³è¦åœ¨æŸä¸ªæ–¹æ³•é‡Œé€šè¿‡ this å¯»æ‰¾æŸä¸ª data å±æ€§å€¼ï¼Œå¯ä»¥å…ˆç”¨ <strong>console.log(this)</strong> åœ¨æ§åˆ¶å°è¾“å‡ºç»„ä»¶å¯¹è±¡ä¿¡æ¯ï¼Œå†å¯»æ‰¾è¯¥ data å±æ€§ï¼Œè¿›è€Œå®Œæˆ this çš„è®¿é—®</p><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vue-CLI</title>
    <link href="/2021/11/07/Vue.js/Vue-CLI/"/>
    <url>/2021/11/07/Vue.js/Vue-CLI/</url>
    
    <content type="html"><![CDATA[<p>Vue CLI æ˜¯ä¸€ä¸ªåŸºäº Vue.js è¿›è¡Œå¿«é€Ÿå¼€å‘çš„å®Œæ•´ç³»ç»Ÿï¼Œç®€å•æ¥è¯´å°±æ˜¯ Vue æ­å»ºçš„æ¶å­ã€‚</p><p>æ•™ç¨‹ï¼š<a href="https://cli.vuejs.org/zh/guide/">https://cli.vuejs.org/zh/guide/</a></p><p>é€šè¿‡ <code>vue create</code> åˆ›å»ºé¡¹ç›®åä¸è¦ä¿®æ”¹é‡Œé¢æ–‡ä»¶çš„åç§°ï¼Œä»¥å…ä¹‹åçš„è‡ªåŠ¨å¯¼åŒ…å‡ºé”™ã€‚</p><ul><li><p>æœ¬åœ°è¿è¡Œä½¿ç”¨ <code>npm run serve</code>  ï¼ˆè§<strong>README</strong>ï¼‰</p></li><li><p>å®‰è£…ä¾èµ–åŒ…ä½¿ç”¨ <code>npm install</code></p></li></ul><h3 id="é¡¹ç›®æ–‡ä»¶ä»‹ç»"><a href="#é¡¹ç›®æ–‡ä»¶ä»‹ç»" class="headerlink" title="é¡¹ç›®æ–‡ä»¶ä»‹ç»"></a>é¡¹ç›®æ–‡ä»¶ä»‹ç»</h3><ul><li><p>main.js æ˜¯ Vue é¡¹ç›®çš„<strong>å…¥å£æ–‡ä»¶</strong></p></li><li><p>App.vue æ˜¯ <strong>root æ ¹ç»„ä»¶</strong></p></li><li><p>components é‡Œçš„ vue æ˜¯<strong>å•æ–‡ä»¶ç»„ä»¶</strong></p></li><li><p>å•æ–‡ä»¶ç»„å»ºä¸­ç”¨ <strong>export default</strong> æš´éœ²è¯¥ç»„ä»¶çš„ nameï¼Œåœ¨å¦ä¸€ä¸ªç»„ä»¶æ–‡ä»¶ä¸­ç”¨ <strong>import</strong> è¿›è¡Œå¼•ç”¨</p><p>( æ³¨ï¼šå¦‚æœåªæœ‰ä¸€ä¸ªexport defaultï¼Œå°†é»˜è®¤è¢«è®¤ä¸ºä¸€ä¸ªåå­—ï¼Œåœ¨main.jsé‡Œé¢å¯¼å…¥æ— è®ºä»€ä¹ˆåå­—éƒ½è¡Œï¼‰</p></li></ul><p>main.js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">new</span> Vue(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App),<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¡¨ç¤º <strong>root æ ¹ç»„ä»¶ App</strong> æŒ‚è½½åˆ° app ä¸Š</p><br><h3 id="ä½¿ç”¨-vue-ui-åˆ›å»ºé¡¹ç›®"><a href="#ä½¿ç”¨-vue-ui-åˆ›å»ºé¡¹ç›®" class="headerlink" title="ä½¿ç”¨ vue-ui åˆ›å»ºé¡¹ç›®"></a>ä½¿ç”¨ vue-ui åˆ›å»ºé¡¹ç›®</h3><p><strong>åˆ›å»ºé¡¹ç›®çš„æ–¹å¼ï¼š</strong></p><p>1ã€<code>vue create hello-world</code></p><p>2ã€<code>vue ui</code> è¿›è¡Œç½‘é¡µåœ¨çº¿é¡¹ç›®åˆ›å»º  ï¼ˆä»¥<strong>ç®¡ç†å‘˜</strong>èº«ä»½æ‰“å¼€cmd ï¼‰</p><p>åˆ›å»ºå…·ä½“æ­¥éª¤è§ï¼š<a href="https://www.bilibili.com/video/BV1dk4y167bS?p=8">https://www.bilibili.com/video/BV1dk4y167bS?p=8</a></p><br><h3 id="é¡¹ç›®æ‰“åŒ…-amp-Nginx-å‘å¸ƒ"><a href="#é¡¹ç›®æ‰“åŒ…-amp-Nginx-å‘å¸ƒ" class="headerlink" title="é¡¹ç›®æ‰“åŒ… &amp; Nginx å‘å¸ƒ"></a>é¡¹ç›®æ‰“åŒ… &amp; Nginx å‘å¸ƒ</h3><p>åœ¨ VSCode ç»ˆç«¯é”®å…¥ <code>npm run build</code> è¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…</p><p>é…ç½® nginx.conf æ–‡ä»¶è¿›è¡Œ Nginx å‘å¸ƒ</p><p>å…·ä½“æ“ä½œè§ï¼š<a href="https://www.bilibili.com/video/BV1dk4y167bS?p=10">https://www.bilibili.com/video/BV1dk4y167bS?p=10</a></p><p>é¡¹ç›®ä»£ç è§ï¼š<a href="https://github.com/oinsd/Vue.js-Learning-Example">https://github.com/oinsd/Vue.js-Learning-Example</a> </p><p>ï¼ˆNO.14_vue-cli_vue-uiåˆ›å»ºé¡¹ç›®_å¤šä¸ªä½†ç»„ä»¶_less_é¡¹ç›®æ‰“åŒ…_nginxå‘å¸ƒï¼‰</p><p>ï¼ˆ<strong>ä¸åŒ…å« node_modulesï¼Œéœ€è¦ <code>npm install</code> è¿›è¡Œå¯¼åŒ…</strong>ï¼‰</p><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Less (ä¾èµ–åŒ…åŠ è½½)</title>
    <link href="/2021/11/07/Vue.js/Less/"/>
    <url>/2021/11/07/Vue.js/Less/</url>
    
    <content type="html"><![CDATA[<h4 id="Lessç®€ä»‹"><a href="#Lessç®€ä»‹" class="headerlink" title="Lessç®€ä»‹"></a>Lessç®€ä»‹</h4><p>Less æ˜¯ä¸€é—¨ CSS é¢„å¤„ç†è¯­è¨€ï¼Œå®ƒæ‰©å……äº† CSS è¯­è¨€ï¼Œå¢åŠ äº†è¯¸å¦‚å˜é‡ã€æ··åˆï¼ˆmixinï¼‰ã€å‡½æ•°ç­‰åŠŸèƒ½ï¼Œè®© CSS æ›´æ˜“ç»´æŠ¤ã€æ–¹ä¾¿åˆ¶ä½œä¸»é¢˜ã€æ‰©å……ã€‚Less å¯ä»¥è¿è¡Œåœ¨ Node æˆ–æµè§ˆå™¨ç«¯ã€‚</p><br><h4 id="LessåŠ è½½"><a href="#LessåŠ è½½" class="headerlink" title="LessåŠ è½½"></a>LessåŠ è½½</h4><p>æ³¨ï¼šå®‰è£…ä¾èµ–åŒ… less æ—¶éœ€è¦æ³¨æ„ less å’Œ less-loader çš„ç‰ˆæœ¬</p><p><strong><code>npm install less@3.0.4 less-loader@5.0.0 --save-dev</code></strong></p><p>â€“save-dev è¡¨ç¤ºä¼šæŠŠä¾èµ–åŒ…åç§°æ·»åŠ åˆ° package.json æ–‡ä»¶ devDependencies é”®ä¸‹ã€‚</p><p>å…¶ä¸­devDependenciesæ˜¯å¼€å‘æ—¶çš„ä¾èµ–ï¼Œå³devDependencies ä¸‹åˆ—å‡ºçš„æ¨¡å—ï¼Œæ˜¯æˆ‘ä»¬å¼€å‘æ—¶ç”¨çš„ã€‚</p><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vueçš„v-æŒ‡ä»¤</title>
    <link href="/2021/11/07/Vue.js/Vue%E7%9A%84v-%E6%8C%87%E4%BB%A4/"/>
    <url>/2021/11/07/Vue.js/Vue%E7%9A%84v-%E6%8C%87%E4%BB%A4/</url>
    
    <content type="html"><![CDATA[<h2 id="v-text-æŒ‡ä»¤"><a href="#v-text-æŒ‡ä»¤" class="headerlink" title="v-text æŒ‡ä»¤"></a>v-text æŒ‡ä»¤</h2><ul><li><p>v-text æŒ‡ä»¤çš„ä½œç”¨ï¼šè®¾ç½®æ ‡ç­¾çš„å†…å®¹ï¼ˆtextContentï¼‰</p></li><li><p>é»˜è®¤å†™æ³•ä¼šæ›¿æ¢æ ‡ç­¾å†…éƒ¨å†…å®¹ï¼Œä½¿ç”¨<strong>æ’å€¼è¡¨è¾¾å¼<code>&#123;&#123;&#125;&#125;</code>å¯ä»¥æ›¿æ¢æŒ‡å®šå†…å®¹</strong></p></li><li><p>å†…éƒ¨æ”¯æŒå†™è¡¨è¾¾å¼ï¼ˆå¦‚å­—ç¬¦ä¸²æ‹¼æ¥ï¼‰</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-tetxæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;message+&#x27;  !!  è¦†ç›–æ ‡ç­¾å†…éƒ¨å†…å®¹&#x27;&quot;</span>&gt;</span>Coding<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;&#123;message+&quot;  !!  &quot;&#125;&#125;Coding<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä½¿ç”¨å·®å€¼è¡¨è¾¾å¼&#123;&#123;&#125;&#125;å¯é¿å…è¦†ç›– --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  </span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">message</span>:<span class="hljs-string">&quot;ä¸‡äº‹ä¸‡ç‰©çš†å¯¹è±¡&quot;</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="v-html-æŒ‡ä»¤"><a href="#v-html-æŒ‡ä»¤" class="headerlink" title="v-html æŒ‡ä»¤"></a>v-html æŒ‡ä»¤</h2><ul><li><p>v-html æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼šè®¾ç½®å…ƒç´ çš„<strong>innerHTML</strong></p></li><li><p>å†…å®¹ä¸­æœ‰<strong>htmlç»“æ„ä¼šè¢«è§£æä¸ºæ ‡ç­¾</strong></p></li><li><p>v-textæŒ‡ä»¤æ— è®ºå†…å®¹æ˜¯ä»€ä¹ˆï¼Œåªä¼šè§£æä¸ºæ–‡æœ¬</p></li><li><p><strong>è§£ææ–‡æœ¬ä½¿ç”¨v-textï¼Œéœ€è¦è§£æhtmlç»“æ„ä½¿ç”¨v-html</strong></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-htmlæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h4</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-comment">//message:&quot;ç™¾åº¦ä¸€ä¸‹&quot;</span></span><br><span class="javascript">                <span class="hljs-attr">message</span>:<span class="hljs-string">&quot;&lt;a href=&#x27;https://www.baidu.com/&#x27;&gt;ç™¾åº¦ä¸€ä¸‹&lt;/a&gt;&quot;</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="v-on-æŒ‡ä»¤"><a href="#v-on-æŒ‡ä»¤" class="headerlink" title="v-on æŒ‡ä»¤"></a>v-on æŒ‡ä»¤</h2><ul><li><p>v-on æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼š<strong>ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶</strong></p></li><li><p>äº‹ä»¶åä¸éœ€è¦å†™on</p></li><li><p>æŒ‡ä»¤å¯ä»¥ç®€å†™ä¸º**@**</p></li><li><p>ç»‘å®šçš„æ–¹æ³•å®šä¹‰åœ¨ Vue å®ä¾‹çš„<strong>methods</strong>å±æ€§ä¸­</p></li><li><p>æ–¹æ³•å†…éƒ¨é€šè¿‡<strong>this</strong>å…³é”®å­—å¯ä»¥<strong>è®¿é—®å®šä¹‰åœ¨dataä¸­æ•°æ®</strong></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-onæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;v-onæŒ‡ä»¤&quot;</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;doIt&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;v-onç®€å†™&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;doIt&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;v-onåŒå‡»&quot;</span> @<span class="hljs-attr">dblclick</span>=<span class="hljs-string">&quot;doIt&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeFood&quot;</span>&gt;</span>&#123;&#123;food&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>     <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>     <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">// åˆ›å»ºVueå®ä¾‹</span></span><br><span class="javascript">        <span class="hljs-comment">//el(æŒ‚è½½ç‚¹),data(æ•°æ®),methods(æ–¹æ³•)</span></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">food</span>:<span class="hljs-string">&quot;çƒ­å¹²é¢&quot;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">doIt</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    alert(<span class="hljs-string">&quot;ç¯®ç½‘æ€»å† å†›ï¼&quot;</span>)</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">changeFood</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.food += <span class="hljs-string">&quot; çœŸé¦™ï¼&quot;</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¡¥å……:</p><ul><li><p>äº‹ä»¶ç»‘å®šçš„æ–¹æ³•å†™æˆ<strong>å‡½æ•°è°ƒç”¨</strong>çš„å½¢å¼ï¼Œå¯ä»¥ä¼ å…¥è‡ªå®šä¹‰å‚æ•°</p></li><li><p>å®šä¹‰æ–¹æ³•æ—¶éœ€è¦å®šä¹‰å½¢å‚æ¥æ¥æ”¶ä¼ å…¥çš„å®å‚</p></li><li><p>äº‹ä»¶çš„åé¢è·Ÿä¸Š . ä¿®é¥°ç¬¦å¯ä»¥å¯¹äº‹ä»¶è¿›è¡Œé™åˆ¶</p></li><li><p><strong>.enter</strong>å¯ä»¥é™åˆ¶è§¦å‘çš„æŒ‰é”®ä¸ºå›è½¦</p></li><li><p>äº‹ä»¶ä¿®é¥°ç¬¦æœ‰å¤šç§ï¼Œè§</p><p><a href="https://cn.vuejs.org/v2/api/#v-on">https://cn.vuejs.org/v2/api/#v-on</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-onæŒ‡ä»¤è¡¥å……<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;ç‚¹å‡»&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;doIt(&#x27;è€é“&#x27;,666)&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;sayHi&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">doIt</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p1,p2</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;ç‚¹å‡»ï¼ï¼ï¼&quot;</span>);</span><br><span class="javascript">                    <span class="hljs-built_in">console</span>.log(p1);</span><br><span class="javascript">                    alert(p2);</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">sayHi</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    alert(<span class="hljs-string">&quot;è¾“å…¥å®Œæ¯•ï¼ï¼ï¼&quot;</span>)</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><br><h2 id="v-show-æŒ‡ä»¤"><a href="#v-show-æŒ‡ä»¤" class="headerlink" title="v-show æŒ‡ä»¤"></a>v-show æŒ‡ä»¤</h2><ul><li><p>v-show æŒ‡ä»¤ â†’ <strong>æ ¹æ®çœŸå‡åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€</strong></p></li><li><p>åŸç†æ˜¯ä¿®æ”¹å…ƒç´ çš„<strong>display</strong>ï¼Œå®ç°å…ƒç´ çš„æ˜¾ç¤º or éšè—</p></li><li><p>æŒ‡ä»¤åé¢çš„å†…å®¹æœ€ç»ˆéƒ½ä¼šè§£æä¸º<strong>å¸ƒå°”å€¼</strong></p></li><li><p>å€¼ä¸ºtrueå…ƒç´ æ˜¾ç¤ºï¼Œå€¼ä¸ºfalseå…ƒç´ éšè—</p></li><li><p>æ”¹å˜ä¹‹åï¼Œå¯¹åº”å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€ä¼š<strong>åŒæ­¥æ›´æ–°</strong></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-showæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;isShow&quot;</span>&gt;</span>æµ‹è¯•æ˜¯å¦æ˜¾ç¤ºå†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeIsShow&quot;</span>&gt;</span>ç‚¹å‡»åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;age&gt;=18&quot;</span>&gt;</span>æµ‹è¯•æ˜¯å¦å¤§äºç­‰äº18<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeAge&quot;</span>&gt;</span>å¢åŠ å¹´é¾„è¿›è¡Œæ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeAge2&quot;</span>&gt;</span>å›åˆ°17<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">isShow</span>:<span class="hljs-literal">false</span>,</span><br><span class="javascript">                <span class="hljs-attr">age</span>:<span class="hljs-number">17</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">changeIsShow</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.isShow = !<span class="hljs-built_in">this</span>.isShow</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">changeAge</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.age++</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">changeAge2</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.age=<span class="hljs-number">17</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="v-ifã€v-else-ifã€v-else-æŒ‡ä»¤"><a href="#v-ifã€v-else-ifã€v-else-æŒ‡ä»¤" class="headerlink" title="v-ifã€v-else-ifã€v-else æŒ‡ä»¤"></a>v-ifã€v-else-ifã€v-else æŒ‡ä»¤</h2><ul><li><p>v-if æŒ‡ä»¤ â†’ <strong>æ ¹æ®è¡¨è¾¾å¼çš„çœŸå‡åˆ‡æ¢å…ƒç´ çš„æ˜¾ç¤ºçŠ¶æ€</strong></p></li><li><p>æœ¬è´¨æ˜¯é€šè¿‡æ“çºµ<strong>dom</strong>å…ƒç´ æ¥åˆ‡æ¢æ˜¾ç¤ºçŠ¶æ€</p></li><li><p><strong>è¡¨è¾¾å¼çš„å€¼ä¸ºtrue,å…ƒç´ å­˜åœ¨äºdomæ ‘ä¸­ï¼›ä¸ºfalse,ä»domæ ‘ä¸­ç§»é™¤</strong></p></li><li><p>éœ€è¦é¢‘ç¹çš„åˆ‡æ¢å°±ç”¨v-showï¼Œåä¹‹ä½¿ç”¨v-ifï¼Œ<strong>v-showçš„åˆ‡æ¢æ¶ˆè€—å°</strong></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-ifæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeIsShow&quot;</span>&gt;</span>ç‚¹å‡»åˆ‡æ¢æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;isShow&quot;</span>&gt;</span>å¤©ä¸‹æ­¦åŠŸï¼Œå”¯å¿«ä¸ç ´ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeTemperature&quot;</span>&gt;</span>ç‚¹å‡»éšè—æ¸©åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeTemperature2&quot;</span>&gt;</span>ç‚¹å‡»æ˜¾ç¤ºæ¸©åº¦<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;temperature&gt;30&quot;</span>&gt;</span>çƒ­æ­»äº†ï¼ï¼ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">isShow</span>:<span class="hljs-literal">false</span>,</span><br><span class="javascript">                <span class="hljs-attr">temperature</span>:<span class="hljs-number">20</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">changeIsShow</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.isShow = !<span class="hljs-built_in">this</span>.isShow</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">changeTemperature</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.temperature = <span class="hljs-number">20</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">changeTemperature2</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.temperature = <span class="hljs-number">35</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>æ³¨ï¼šv-else ã€v-else-if å¿…é¡»è·Ÿåœ¨ v-if æˆ–è€… v-else-ifä¹‹åã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-if/v-else<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;type === &#x27;A&#x27;&quot;</span>&gt;</span><br>            A<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">&quot;type === &#x27;B&#x27;&quot;</span>&gt;</span><br>            B<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else-if</span>=<span class="hljs-string">&quot;type === &#x27;C&#x27;&quot;</span>&gt;</span><br>            C<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-else</span>&gt;</span><br>            Not A/B/C<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;D&#x27;</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="v-bind-æŒ‡ä»¤"><a href="#v-bind-æŒ‡ä»¤" class="headerlink" title="v-bind æŒ‡ä»¤"></a>v-bind æŒ‡ä»¤</h2><ul><li><p>v-bind æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼š<strong>ä¸ºå…ƒç´ ç»‘å®šå±æ€§ / åŠ¨æ€ä¿®æ”¹å…ƒç´ å±æ€§</strong></p></li><li><p>å®Œæ•´å†™æ³•æ˜¯ v-bind: å±æ€§å = è¡¨è¾¾å¼</p></li><li><p>ç®€å†™çš„è¯å¯ä»¥ç›´æ¥çœç•¥v-bindï¼Œåªä¿ç•™ <strong>: å±æ€§å = è¡¨è¾¾å¼</strong></p></li><li><p>éœ€è¦<strong>åŠ¨æ€çš„å¢åˆ class</strong>å»ºè®®ä½¿ç”¨<strong>å¯¹è±¡</strong>çš„æ–¹å¼</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-bindæŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.active</span>&#123;</span><br><span class="css">            <span class="hljs-attribute">border</span>:<span class="hljs-number">5px</span>  solid orange;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span> ç¯®ç½‘æ€»å† å†›ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;isActive?&#x27;active&#x27;:&#x27;&#x27;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeActive&quot;</span>&gt;</span>ç¯®ç½‘æ€»å† å†›ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;&#123;active:isActive&#125;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeActive&quot;</span>&gt;</span>ç¯®ç½‘æ€»å† å†›ï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>  <span class="hljs-comment">&lt;!-- ä½¿ç”¨å¯¹è±¡æ–¹å¼ï¼Œçœç•¥v-bind --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">isActive</span>:<span class="hljs-literal">false</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">changeActive</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.isActive = !<span class="hljs-built_in">this</span>.isActive</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="v-for-æŒ‡ä»¤"><a href="#v-for-æŒ‡ä»¤" class="headerlink" title="v-for æŒ‡ä»¤"></a>v-for æŒ‡ä»¤</h2><ul><li><p>v-for æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼šæ ¹æ®æ•°æ®ç”Ÿæˆ<strong>åˆ—è¡¨ç»“æ„</strong></p></li><li><p><strong>æ•°ç»„</strong>ç»å¸¸å’Œ <strong>v-for</strong> ç»“åˆä½¿ç”¨</p></li><li><p>è¯­æ³•æ˜¯**( item,index ) in æ•°æ®**   </p><p>( <strong>item ä»£è¡¨æ¯ä¸€é¡¹ï¼Œindex ä»£è¡¨ç´¢å¼•</strong> )</p></li><li><p>itemå’Œindexå¯ä»¥ç»“åˆå…¶ä»–æŒ‡ä»¤ä¸€èµ·ä½¿ç”¨</p></li><li><p>æ•°ç»„é•¿åº¦çš„<strong>æ›´æ–°</strong>ä¼š<strong>åŒæ­¥</strong>åˆ°é¡µé¢ä¸Šï¼Œæ˜¯<strong>å“åº”å¼</strong>çš„</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>v-foræŒ‡ä»¤<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in arr&quot;</span>&gt;</span><br>                &#123;&#123;index+1&#125;&#125;å››å¤§ç¥å…½ï¼š&#123;&#123;item&#125;&#125;<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>æ·»åŠ è”¬èœ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;remove&quot;</span>&gt;</span>å‡å°‘è”¬èœ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in vegetables&quot;</span> <span class="hljs-attr">v-bind:title</span>=<span class="hljs-string">&quot;item.name&quot;</span>&gt;</span><br>            &#123;&#123;item.name&#125;&#125;<br>        <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">arr</span>: [<span class="hljs-string">&quot;é’é¾™&quot;</span>, <span class="hljs-string">&quot;ç™½è™&quot;</span>, <span class="hljs-string">&quot;æœ±é›€&quot;</span>, <span class="hljs-string">&quot;ç„æ­¦&quot;</span>],</span><br><span class="javascript">                <span class="hljs-attr">vegetables</span>: [</span><br><span class="javascript">                    &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;é’èœ&quot;</span> &#125;,</span><br><span class="javascript">                    &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç•ªèŒ„&quot;</span> &#125;</span><br><span class="javascript">                ]</span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.vegetables.push(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;ç”Ÿèœ&quot;</span> &#125;);</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.vegetables.shift();<span class="hljs-comment">//ç§»é™¤ç¬¬ä¸€é¡¹å†…å®¹</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="v-model"><a href="#v-model" class="headerlink" title="v-model"></a>v-model</h2><ul><li>v-model â†’ ä¾¿æ·çš„<strong>è·å–å’Œè®¾ç½®è¡¨å•å…ƒç´ çš„å€¼</strong></li><li>ç»‘å®šçš„ <strong>æ•°æ®</strong> ä¼šå’Œ <strong>è¡¨å•å…ƒç´ å€¼</strong> <strong>ç›¸å…³è”</strong></li><li>ç»‘å®šçš„æ•°æ®â†â†’è¡¨å•å…ƒç´ çš„å€¼ ( <strong>åŒå‘æ•°æ®ç»‘å®š</strong> )</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è®¾ç½®message&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;setMessage&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;getMessage&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>    <span class="hljs-comment">&lt;!-- åŒæ­¥æ˜¾ç¤º --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">message</span>:<span class="hljs-string">&quot;ä½ å¥½&quot;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">getMessage</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    alert(<span class="hljs-built_in">this</span>.message)</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">setMessage</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.message=<span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-comment">//æ–¹æ³•å†…éƒ¨é€šè¿‡thiså¯ä»¥è®¿é—®å®šä¹‰åœ¨dataä¸­çš„æ•°æ®</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vueç»„ä»¶</title>
    <link href="/2021/11/07/Vue.js/Vue%E7%BB%84%E4%BB%B6/"/>
    <url>/2021/11/07/Vue.js/Vue%E7%BB%84%E4%BB%B6/</url>
    
    <content type="html"><![CDATA[<h2 id="ç»„ä»¶åŸºç¡€"><a href="#ç»„ä»¶åŸºç¡€" class="headerlink" title="ç»„ä»¶åŸºç¡€"></a>ç»„ä»¶åŸºç¡€</h2><p>ç»„ä»¶æ˜¯å¯å¤ç”¨çš„ Vue å®ä¾‹ï¼Œä¸”å¸¦æœ‰ä¸€ä¸ªåå­—ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­å®šä¹‰äº†ä¸€ä¸ªç»„ä»¶ <code>&lt;button-counter&gt;</code>ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªé€šè¿‡ <code>new Vue</code> åˆ›å»ºçš„ **Vue æ ¹å®ä¾‹(æ ¹ç»„ä»¶)**ä¸­ï¼ŒæŠŠè¿™ä¸ªç»„ä»¶ä½œä¸ºè‡ªå®šä¹‰å…ƒç´ æ¥ä½¿ç”¨ã€‚</p><p><strong>ç»„ä»¶</strong>å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ–°çš„ <strong>å…ƒç´  / èŠ‚ç‚¹</strong>â€”â€”æé«˜ä»£ç å¤ç”¨ç‡ã€‚</p><p>åˆ©ç”¨ <strong>Vue.component</strong> æ–¹æ³•åˆ›å»ºç»„ä»¶ã€‚</p><p>è¯¦æƒ…è§ï¼š<a href="https://cn.vuejs.org/v2/guide/components.html">https://cn.vuejs.org/v2/guide/components.html</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;components-demo&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button-counter</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button-counter</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        </span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (</span><br><span class="javascript">            <span class="hljs-string">&#x27;button-counter&#x27;</span>, <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªåä¸º button-counter çš„æ–°ç»„ä»¶</span></span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-comment">// HTMLä»£ç </span></span><br><span class="javascript">                    <span class="hljs-string">&#x27;&lt;button v-on:click=&quot;count++&quot;&gt;You clicked me &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">data</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) // <span class="hljs-title">data</span>è¦å†™æˆå‡½æ•°è¿”å›å½¢å¼</span></span><br><span class="hljs-function"><span class="javascript">                </span>&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">new</span> Vue(&#123; <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#components-demo&#x27;</span> &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç»„ä»¶æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>å¿…é¡»æœ‰ä¸€ä¸ª<strong>æ ¹èŠ‚ç‚¹</strong>ï¼ˆ<strong>new Vue</strong>ï¼‰ï¼Œåªè¦ä¸å†…éƒ¨æ ‡ç­¾ä¸å†²çªã€‚</p></li><li><p>ç»„ä»¶é—´å¯é€šè¿‡ <strong>props</strong> è¿›è¡Œé€šè®¯</p></li><li><p>ç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªå±æ€§ï¼Œä½†æ˜¯ <strong>data <strong>å±æ€§çš„å†™æ³•å¿…é¡»æ˜¯</strong>æ–¹æ³•+è¿”å›å€¼</strong></p></li></ul><br><h2 id="å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶å®ä¾‹"><a href="#å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶å®ä¾‹" class="headerlink" title="å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶å®ä¾‹"></a>å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶å®ä¾‹</h2><ul><li><h3 id="new-Vue-æ˜¯-root-æ ¹ç»„ä»¶ï¼Œæ˜¯-abarã€bbar-çš„çˆ¶ç»„ä»¶"><a href="#new-Vue-æ˜¯-root-æ ¹ç»„ä»¶ï¼Œæ˜¯-abarã€bbar-çš„çˆ¶ç»„ä»¶" class="headerlink" title="new Vue æ˜¯ root æ ¹ç»„ä»¶ï¼Œæ˜¯ abarã€bbar çš„çˆ¶ç»„ä»¶"></a>new Vue æ˜¯ root æ ¹ç»„ä»¶ï¼Œæ˜¯ abarã€bbar çš„çˆ¶ç»„ä»¶</h3></li><li><strong>éå•ä¸€æ–‡ä»¶ç»„ä»¶</strong>çš„ CSS æ ·å¼åªèƒ½æ”¾åœ¨æ ‡ç­¾å±æ€§é‡Œ</li><li>child ä¸º<strong>å…¬å…±å­ç»„ä»¶</strong>ï¼Œä¸ abarã€bbar åŒçº§</li><li>abar é‡Œçš„ abar_child æ˜¯ abar <strong>ç§æœ‰çš„å­ç»„ä»¶</strong>ï¼Œåªèƒ½è¢« abar ä½¿ç”¨</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">abar</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">abar</span>&gt;</span> <br>        <span class="hljs-comment">&lt;!-- &lt;abar&gt;&lt;/abar&gt;æ”¾åœ¨æ ¹ç»„ä»¶çš„childä¸­ï¼Œå°±æ˜¯æ ¹ç»„ä»¶çš„child --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">// å…¨å±€å®šä¹‰ç»„ä»¶</span></span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;abar&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-comment">// éå•ä¸€æ–‡ä»¶ç»„ä»¶çš„CSSæ ·å¼åªèƒ½æ”¾åœ¨æ ‡ç­¾å±æ€§é‡Œ</span></span><br><span class="javascript">                <span class="hljs-comment">// divä¸ºæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªçš„æ ¹èŠ‚ç‚¹</span></span><br><span class="javascript">                <span class="hljs-attr">template</span>:<span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                    &lt;div style=&#x27;background:orange&#x27;&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        ã€å…¬å…±rootç»„ä»¶çš„childç»„ä»¶ï¼šabarç»„ä»¶ã€‘</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;button @click=&#x27;ccc&#x27;&gt;ç¡®å®š&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;child&gt;&lt;/child&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;abar_child&gt;&lt;/abar_child&gt;</span></span><br><span class="hljs-string"><span class="javascript">                    &lt;/div&gt;`</span>,</span><br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span></span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">abarname</span>:<span class="hljs-string">&quot;abarname&quot;</span>&#125;</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: </span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">ccc</span>(<span class="hljs-params"></span>)</span></span><br><span class="javascript">                    &#123;</span><br><span class="javascript">                        alert(<span class="hljs-string">&#x27;abar äº‹ä»¶&#x27;</span>);</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                </span><br><span class="javascript">                <span class="hljs-attr">components</span>: <span class="hljs-comment">// abarç§æœ‰çš„å­ç»„ä»¶ï¼Œåªèƒ½è¢«abarä½¿ç”¨</span></span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-attr">abar_child</span>:</span><br><span class="javascript">                    &#123;</span><br><span class="javascript">                        <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;div&gt;ã€abar_childç»„ä»¶ï¼Œåªèƒ½åœ¨abarç»„ä»¶ä¸­ä½¿ç”¨ã€‘&lt;/div&gt;&#x27;</span></span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        );</span><br><span class="javascript"></span><br><span class="javascript">        Vue.component <span class="hljs-comment">// å…¬å…±å„¿å­ç»„ä»¶ï¼Œä¸abarã€bbaråŒçº§</span></span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;child&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;div&gt;ã€å…¬å…±childç»„ä»¶ã€‘&lt;/div&gt;&#x27;</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">        );</span><br><span class="javascript"></span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;bbar&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            ã€ä¸abarçš„åŒçº§å…„å¼Ÿç»„ä»¶ï¼šbbarç»„ä»¶ã€‘</span></span><br><span class="hljs-string"><span class="javascript">                            &lt;child&gt;&lt;/child&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">        </span><br><span class="javascript">        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue <span class="hljs-comment">// è¿™é‡Œnewå®ä¾‹åï¼Œå°±è‡ªåŠ¨åˆ›å»ºrootç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰</span></span><br><span class="javascript">        (</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>, </span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="çˆ¶ä¼ å­"><a href="#çˆ¶ä¼ å­" class="headerlink" title="çˆ¶ä¼ å­"></a>çˆ¶ä¼ å­</h2><ul><li><p>é€šè¿‡ <strong>props</strong> è¿›è¡Œé€šè®¯</p></li><li><p>propsï¼šæ¥å—çˆ¶ç»„ä»¶ä¼ è¿›æ¥çš„å±æ€§</p></li><li><p>çˆ¶ç»„ä»¶ä¼ å‚ç»™å­ç»„ä»¶ä½¿ç”¨bindç»‘å®š</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span> <span class="hljs-attr">thename</span>=<span class="hljs-string">&#x27;ä¸»é¡µ&#x27;</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&#x27;false&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span> <span class="hljs-attr">thename</span>=<span class="hljs-string">&#x27;ç®€ä»‹&#x27;</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&#x27;true&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span> <span class="hljs-attr">thename</span>=<span class="hljs-string">&#x27;äº§å“&#x27;</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&#x27;true&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        ---------------------------<br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span> <span class="hljs-attr">:thename</span>=<span class="hljs-string">&#x27;p_name&#x27;</span> <span class="hljs-attr">:show</span>=<span class="hljs-string">&#x27;show&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;bbar&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            &lt;button v-show=&#x27;show&#x27; @click=&#x27;c&#x27;&gt;é¦–é¡µ&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            ã€rootçš„childç»„ä»¶ï¼šbbarç»„ä»¶ã€‘ã€&#123;&#123; thename &#125;&#125;ã€‘</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span>,</span><br><span class="javascript">                <span class="hljs-comment">// props: [&#x27;thename&#x27;,&#x27;show&#x27;]  // æ¥å—çˆ¶ç»„ä»¶ä¼ è¿›æ¥çš„å±æ€§</span></span><br><span class="javascript">                <span class="hljs-attr">props</span>: <span class="hljs-comment">// æ¥å—çˆ¶ç»„ä»¶ä¼ è¿›æ¥çš„å±æ€§</span></span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-attr">thename</span>:<span class="hljs-built_in">String</span>, <span class="hljs-comment">// å†™æˆå¯¹è±¡å½¢å¼å¯ä»¥è¿›è¡Œç±»å‹æ£€æŸ¥</span></span><br><span class="javascript">                    <span class="hljs-attr">show</span>:<span class="hljs-built_in">Boolean</span>,</span><br><span class="javascript">                    <span class="hljs-comment">// show:String, // è¿™æ ·ä¼šæœ‰é—®é¢˜</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">c</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                        alert(<span class="hljs-string">&#x27;é¦–é¡µ&#x27;</span>);</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">        </span><br><span class="javascript">        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue <span class="hljs-comment">// è¿™é‡Œnewå®ä¾‹åï¼Œå°±è‡ªåŠ¨åˆ›å»ºrootç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰</span></span><br><span class="javascript">        (</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">data</span>:</span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-comment">// å³çˆ¶ç»„ä»¶ä¼ å‚ç»™å­ç»„ä»¶ä½¿ç”¨bindç»‘å®š</span></span><br><span class="javascript">                    <span class="hljs-attr">p_name</span>: <span class="hljs-string">&#x27;rootç»„ä»¶çš„p_nameå±æ€§&#x27;</span>,</span><br><span class="javascript">                    <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span></span><br><span class="javascript">                    <span class="hljs-comment">// show: false</span></span><br><span class="javascript">                &#125; ,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="å­ä¼ çˆ¶"><a href="#å­ä¼ çˆ¶" class="headerlink" title="å­ä¼ çˆ¶"></a>å­ä¼ çˆ¶</h2><p>ä½¿ç”¨ <strong>this.$emit</strong> è¿›è¡Œå­ä¼ çˆ¶</p><p>æ³¨æ„å‡ ä¸ªä¼ é€’æ¥å£çš„ <strong>$</strong></p><p>å®ä¾‹ï¼šbbar ç»„ä»¶ä¼ ç»™ root ç»„ä»¶</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span> @<span class="hljs-attr">b_event</span>=<span class="hljs-string">&#x27;receive($event)&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>        &#123;&#123; show &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;bbar&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            ã€rootçš„childç»„ä»¶ï¼šbbarç»„ä»¶ã€‘</span></span><br><span class="hljs-string"><span class="javascript">                            &lt;button @click=&#x27;sendd()&#x27;&gt;ç‚¹è¿™å‘é€ç»™çˆ¶ç»„ä»¶&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span>,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: </span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">sendd</span>(<span class="hljs-params"></span>)</span></span><br><span class="javascript">                    &#123;</span><br><span class="javascript">                        <span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">&#x27;b_event&#x27;</span>,<span class="hljs-string">&#x27;666&#x27;</span>) <span class="hljs-comment">// å°†&#x27;666&#x27;ä¼ ç»™ b_event</span></span><br><span class="javascript">                        <span class="hljs-comment">// this.$emit(&#x27;b_event&#x27;,this.xxxxx) </span></span><br><span class="javascript">                        <span class="hljs-comment">// // è¿™é‡Œä¹Ÿå¯ä»¥ä¼ dataçš„å±æ€§</span></span><br><span class="javascript">                    &#125;  </span><br><span class="javascript">                &#125;,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue <span class="hljs-comment">// è¿™é‡Œnewå®ä¾‹åï¼Œå°±è‡ªåŠ¨åˆ›å»ºrootç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰</span></span><br><span class="javascript">        (</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">data</span>:</span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-attr">p_name</span>:<span class="hljs-string">&#x27;rootç»„ä»¶çš„p_nameå±æ€§ï¼ˆä½¿ç”¨bindç»‘å®šï¼‰&#x27;</span>,</span><br><span class="javascript">                    <span class="hljs-attr">show</span>: []</span><br><span class="javascript">                &#125; ,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: </span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">receive</span>(<span class="hljs-params">e</span>)</span>&#123;<span class="hljs-built_in">this</span>.show.push(<span class="hljs-string">`ã€çˆ¶ç»„ä»¶æ”¶åˆ°æ¶ˆæ¯ï¼š<span class="hljs-subst">$&#123;e&#125;</span>ã€‘`</span>)&#125;   </span><br><span class="javascript">                &#125;,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">        <span class="hljs-comment">// ä¸¾ä¾‹è¯´æ˜å­ä¼ çˆ¶çš„åº”ç”¨</span></span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="ref-æ³¨å†Œå¼•ç”¨ä¿¡æ¯"><a href="#ref-æ³¨å†Œå¼•ç”¨ä¿¡æ¯" class="headerlink" title="ref æ³¨å†Œå¼•ç”¨ä¿¡æ¯"></a>ref æ³¨å†Œå¼•ç”¨ä¿¡æ¯</h2><ul><li><p><strong>ref æ”¾æ ‡ç­¾ä¸Šï¼Œæ‹¿åˆ°åŸç”ŸèŠ‚ç‚¹ï¼ˆå…ƒç´ ï¼‰</strong></p></li><li><p><strong>ref æ”¾ç»„ä»¶ä¸Šï¼Œæ‹¿åˆ°ç»„ä»¶å¯¹è±¡</strong></p></li><li><p>é€šè¿‡ <strong>$refs</strong> è¿›è¡Œè®¿é—®</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#x27;input_ref&#x27;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&#x27;click_a&#x27;</span>&gt;</span>ç‚¹è¿™<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&#x27;bbar_ref&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;bbar&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            ã€rootçš„childç»„ä»¶ï¼šbbarç»„ä»¶ã€‘</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span>,</span><br><span class="javascript">                <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">return</span> &#123;<span class="hljs-attr">bbar_name</span>:<span class="hljs-string">&#x27;æˆ‘å«bbar&#x27;</span>&#125;</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: </span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">f</span>(<span class="hljs-params">data</span>)</span>&#123;</span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;è¿™æ˜¯bbarçš„æ–¹æ³•&#x27;</span>,data);</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                    </span><br><span class="javascript">                &#125;,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">        </span><br><span class="javascript">        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue <span class="hljs-comment">// è¿™é‡Œnewå®ä¾‹åï¼Œå°±è‡ªåŠ¨åˆ›å»ºrootç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰</span></span><br><span class="javascript">        (</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">data</span>:</span><br><span class="javascript">                &#123;</span><br><span class="javascript">                   </span><br><span class="javascript">                &#125; ,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: </span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">click_a</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.$refs.input_ref.value); <span class="hljs-comment">// é€šè¿‡ $refs è¿›è¡Œè®¿é—®</span></span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.$refs.bbar_ref.bbar_name); <span class="hljs-comment">//è®¿é—®æ•°æ®</span></span><br><span class="javascript">                        <span class="hljs-built_in">this</span>.$refs.bbar_ref.f(<span class="hljs-string">&#x27;&#x27;</span>); <span class="hljs-comment">//è°ƒç”¨æ–¹æ³•</span></span><br><span class="javascript">                        <span class="hljs-built_in">this</span>.$refs.bbar_ref.f(<span class="hljs-string">&#x27;çˆ¶ä¼ å­æ¶ˆæ¯&#x27;</span>);</span><br><span class="javascript">                        <span class="hljs-comment">// refæ”¾æ ‡ç­¾ä¸Šï¼Œæ‹¿åˆ°åŸç”ŸèŠ‚ç‚¹ï¼ˆå…ƒç´ ï¼‰</span></span><br><span class="javascript">                        <span class="hljs-comment">// refæ”¾ç»„ä»¶ä¸Šï¼Œæ‹¿åˆ°ç»„ä»¶å¯¹è±¡</span></span><br><span class="javascript">                    &#125;  </span><br><span class="javascript">                &#125;,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">        <span class="hljs-comment">// ä¸¾ä¾‹è¯´æ˜å­ä¼ çˆ¶çš„åº”ç”¨</span></span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="äº‹ä»¶æ€»çº¿"><a href="#äº‹ä»¶æ€»çº¿" class="headerlink" title="äº‹ä»¶æ€»çº¿"></a>äº‹ä»¶æ€»çº¿</h2><p>ä½¿ç”¨ <strong>$emit</strong> è¿›è¡Œå‘é€ï¼Œ**$on** è¿›è¡Œç›‘å¬</p><p><strong>ç©º Vue å®ä¾‹</strong>ï¼Œé»˜è®¤ä¸º<strong>ä¸­å¤®äº‹ä»¶æ€»çº¿</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è¿™æ˜¯View  ç°åœ¨å°±æ˜¯templetæ¨¡æ¿--&gt;</span><br>    <span class="hljs-comment">&lt;!-- æ³¨æ„ï¼šæœªæ¥å­¦ä¹ çš„çŠ¶æ€ç®¡ç†ï¼ˆvuexï¼‰å¯å®Œæˆæœ¬èŠ‚å†…å®¹ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">bbar</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">bbar</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cbar</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">cbar</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;bbar&#x27;</span>,</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            ã€bbarç»„ä»¶ å¸Œæœ›å‘é€ç»™cbarã€‘</span></span><br><span class="hljs-string"><span class="javascript">                            &lt;input type=&quot;text&quot; ref=&#x27;b_text&#x27; /&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            &lt;button @click=&#x27;send()&#x27;&gt;ç‚¹è¿™å‘é€cbar&lt;/button&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span>,</span><br><span class="javascript">                <span class="hljs-attr">methods</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-function"><span class="hljs-title">send</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                        bus.$emit(<span class="hljs-string">&#x27;c_message&#x27;</span>,<span class="hljs-built_in">this</span>.$refs.b_text.value)</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        );</span><br><span class="javascript">        Vue.component</span><br><span class="javascript">        (   </span><br><span class="javascript">            <span class="hljs-string">&#x27;cbar&#x27;</span>, <span class="hljs-comment">// è¿™ä¸ªè´Ÿè´£ç›‘å¬</span></span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            ã€æˆ‘æ˜¯cbarã€‘</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span>,</span><br><span class="javascript">                mounted() <span class="hljs-comment">// å½“å‰ç»„ä»¶DOMåˆ›å»ºåçš„é’©å­å‡½æ•°mountedï¼Œç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨</span></span><br><span class="javascript">                &#123;</span><br><span class="javascript">                    bus.$on(<span class="hljs-string">&#x27;c_message&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>&#123;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;å·²æ”¶åˆ°bbarçš„æ¶ˆæ¯&#x27;</span>,data);&#125;);<span class="hljs-comment">//é€šè¿‡å›è°ƒå‡½æ•°è¿›è¡Œç›‘å¬</span></span><br><span class="javascript">                &#125;,            </span><br><span class="javascript">            &#125;</span><br><span class="javascript">        );</span><br><span class="javascript">        <span class="hljs-keyword">var</span> bus = <span class="hljs-keyword">new</span> Vue(); <span class="hljs-comment">// ç©ºVueå®ä¾‹ï¼Œå³ä¸­å¤®äº‹ä»¶æ€»çº¿</span></span><br><span class="javascript">        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue <span class="hljs-comment">// è¿™é‡Œnewå®ä¾‹åï¼Œå°±è‡ªåŠ¨åˆ›å»ºrootç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰</span></span><br><span class="javascript">        (</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">                <span class="hljs-attr">data</span>:&#123;&#125; ,</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="åŠ¨æ€ç»„ä»¶"><a href="#åŠ¨æ€ç»„ä»¶" class="headerlink" title="åŠ¨æ€ç»„ä»¶"></a>åŠ¨æ€ç»„ä»¶</h2><p>åŠ¨æ€ç»„ä»¶å°±æ˜¯<strong>å‡ ä¸ªç»„ä»¶æ”¾åœ¨ä¸€ä¸ªæŒ‚è½½ç‚¹</strong>ä¸‹ï¼Œç„¶åæ ¹æ®çˆ¶ç»„ä»¶çš„æŸä¸ªå˜é‡æ¥å®ç°<strong>ç»„ä»¶çš„åŠ¨æ€åˆ‡æ¢</strong>ã€‚</p><p>å›ºå®šç”¨æ³•ï¼š<code>&lt;component :is=&quot;xxx&quot;&gt;&lt;/component&gt;</code> ( <strong>common</strong> å’Œ <strong>is</strong> éƒ½æ˜¯å®˜æ–¹å®šä¹‰ )</p><p>ä½¿ç”¨ <strong>keep-alive</strong> åŒ…è£¹å¯ä»¥<strong>ä¿æŒåˆ‡æ¢ä¹‹å‰çš„å„ç§çŠ¶æ€</strong>ï¼ˆåˆ‡æ¢ç»„ä»¶æ˜¯ç›´æ¥<strong>åˆ æ‰å’Œåˆ›å»º</strong>ï¼‰</p><p>æ ·ä¾‹ä¸­ï¼Œç”±äº components çš„çˆ¶ç»„ä»¶æ˜¯ rootï¼Œæ‰€ä»¥ç»‘å®šçš„ who å°±æ˜¯ root çš„ data é‡Œçš„ who</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span> <br>        <span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">component</span> <span class="hljs-attr">:is</span>=<span class="hljs-string">&quot;who&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">component</span>&gt;</span> <br>            <span class="hljs-comment">&lt;!-- æ³¨æ„è¿™é‡Œçš„åˆ‡æ¢ç»„ä»¶ï¼Œæ˜¯ç›´æ¥åˆ æ‰å’Œåˆ›å»º --&gt;</span><br>            <span class="hljs-comment">&lt;!-- å¦‚æœéœ€è¦ä¿æŒhomeç»„ä»¶çš„inputçŠ¶æ€ï¼Œéœ€è¦keep-aliveåŒ…è£¹ --&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;who=&#x27;home&#x27;&quot;</span>&gt;</span>é¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span> <span class="hljs-comment">&lt;!-- ä¸€è¡Œä»£ç å°±ä¸ç”¨methodså®ç°äº† --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;who=&#x27;news&#x27;&quot;</span>&gt;</span>æ–°é—»<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;who=&#x27;blog&#x27;&quot;</span>&gt;</span>åšå®¢<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue <span class="hljs-comment">// è¿™é‡Œnewå®ä¾‹åï¼Œå°±è‡ªåŠ¨åˆ›å»ºrootç»„ä»¶ï¼ˆæ ¹ç»„ä»¶ï¼‰</span></span><br><span class="javascript">        (</span><br><span class="javascript">            &#123;</span><br><span class="javascript">                <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>, </span><br><span class="javascript">                <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                    <span class="hljs-attr">who</span>:<span class="hljs-string">&#x27;home&#x27;</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">components</span>:&#123;</span><br><span class="javascript">                    <span class="hljs-string">&quot;home&quot;</span>:&#123;</span><br><span class="javascript">                        <span class="hljs-attr">template</span>:</span><br><span class="javascript">                        <span class="hljs-string">`&lt;div&gt;</span></span><br><span class="hljs-string"><span class="javascript">                            home</span></span><br><span class="hljs-string"><span class="javascript">                            &lt;input type=&quot;text&quot;&gt;</span></span><br><span class="hljs-string"><span class="javascript">                        &lt;/div&gt;`</span></span><br><span class="javascript">                    &#125;,</span><br><span class="javascript">                    <span class="hljs-string">&quot;news&quot;</span>:&#123;</span><br><span class="javascript">                        <span class="hljs-attr">template</span>:<span class="hljs-string">`&lt;div&gt;news&lt;/div&gt;`</span></span><br><span class="javascript">                    &#125;,</span><br><span class="javascript">                    <span class="hljs-string">&quot;blog&quot;</span>:&#123;</span><br><span class="javascript">                        <span class="hljs-attr">template</span>:<span class="hljs-string">`&lt;div&gt;blog&lt;/div&gt;`</span></span><br><span class="javascript">                    &#125;,</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        )</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>VueåŸºç¡€</title>
    <link href="/2021/11/07/Vue.js/Vue%E5%9F%BA%E7%A1%80/"/>
    <url>/2021/11/07/Vue.js/Vue%E5%9F%BA%E7%A1%80/</url>
    
    <content type="html"><![CDATA[<p>å¯ä»¥æ ¹æ®ç½‘é¡µæ¨¡æ¿ + F12 æŸ¥çœ‹ Elements ä¸­çš„ HTML æºç åˆ†ææ¨¡æ¿ä¸­å„ä¸ªç»„ä»¶çš„å¸ƒå±€æƒ…å†µï¼Œä»è€Œæ›´å¥½çš„è¿›è¡Œå‰ç«¯é¡µé¢å¼€å‘ã€‚</p><h2 id="ä¸€ã€Vueç®€ä»‹"><a href="#ä¸€ã€Vueç®€ä»‹" class="headerlink" title="ä¸€ã€Vueç®€ä»‹"></a>ä¸€ã€Vueç®€ä»‹</h2><ul><li>javascriptæ¡†æ¶</li><li>ç®€åŒ–Domæ“ä½œ</li><li>å“åº”å¼æ•°æ®é©±åŠ¨</li><li>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://cn.vuejs.org/v2/guide/">https://cn.vuejs.org/v2/guide/</a></li><li>å‚è€ƒæ•™ç¨‹ï¼š<a href="https://space.bilibili.com/396891097/channel/detail?cid=129772&amp;ctype=0">https://space.bilibili.com/396891097/channel/detail?cid=129772&amp;ctype=0</a></li></ul><br><h2 id="äºŒã€ç¬¬ä¸€ä¸ªç®€æ˜“çš„Vueç¨‹åº"><a href="#äºŒã€ç¬¬ä¸€ä¸ªç®€æ˜“çš„Vueç¨‹åº" class="headerlink" title="äºŒã€ç¬¬ä¸€ä¸ªç®€æ˜“çš„Vueç¨‹åº"></a>äºŒã€ç¬¬ä¸€ä¸ªç®€æ˜“çš„Vueç¨‹åº</h2><p>æ­¥éª¤ï¼š</p><p>ï¼ˆ1ï¼‰å¯¼å…¥å¼€å‘ç‰ˆæœ¬çš„Vue.jsï¼›</p><p>ï¼ˆ2ï¼‰åˆ›å»ºVueå®ä¾‹å¯¹è±¡ï¼Œè®¾ç½®elå±æ€§å’Œdataå±æ€§ï¼›</p><p>ï¼ˆ3ï¼‰ä½¿ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æŠŠæ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Š</p><p>Vue.js çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…è®¸é‡‡ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æ¥å£°æ˜å¼åœ°å°†æ•°æ®æ¸²æŸ“è¿› DOM çš„ç³»ç»Ÿã€‚</p><br><h2 id="ä¸‰ã€elæŒ‚è½½ç‚¹"><a href="#ä¸‰ã€elæŒ‚è½½ç‚¹" class="headerlink" title="ä¸‰ã€elæŒ‚è½½ç‚¹"></a>ä¸‰ã€elæŒ‚è½½ç‚¹</h2><ul><li><p>el â†’ è®¾ç½®Vueå®ä¾‹ æŒ‚è½½/ç®¡ç† çš„å…ƒç´ </p></li><li><p>Vueå®ä¾‹çš„ä½œç”¨èŒƒå›´ï¼šVueä¼šç®¡ç†elé€‰é¡¹<strong>å‘½ä¸­çš„å…ƒç´ </strong>åŠå…¶**<u>å†…éƒ¨çš„åä»£å…ƒç´ </u>**</p></li><li><p>å¯ä»¥ä½¿ç”¨å…¶ä»–çš„é€‰æ‹©å™¨ï¼Œä½†æ˜¯<strong>å»ºè®®ä½¿ç”¨IDé€‰æ‹©å™¨</strong>ï¼ˆIDå”¯ä¸€ï¼Œé¿å…è¯­ä¹‰ä¸æ¸…æ™°ï¼‰</p></li><li><p>å¯ä»¥ä½¿ç”¨å…¶ä»–çš„<strong>åŒæ ‡ç­¾</strong>ï¼ˆå¦‚pã€hæ ‡ç­¾ç­‰ï¼‰ï¼Œä½†æ˜¯<strong>ä¸èƒ½ä½¿ç”¨HTMLå’ŒBODY</strong></p></li></ul><p>egï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>elæŒ‚è½½ç‚¹<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    &#123;&#123;message&#125;&#125;<br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        &#123;&#123;message&#125;&#125;<br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,<span class="hljs-comment">//IDé€‰æ‹©å™¨</span></span><br><span class="javascript">            <span class="hljs-comment">// el:&quot;.app&quot;,</span></span><br><span class="javascript">            <span class="hljs-comment">// el:&quot;div&quot;,</span></span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">message</span>:<span class="hljs-string">&quot;ç¯®ç½‘æ€»å† å†›ï¼&quot;</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="å››ã€dataæ•°æ®å¯¹è±¡"><a href="#å››ã€dataæ•°æ®å¯¹è±¡" class="headerlink" title="å››ã€dataæ•°æ®å¯¹è±¡"></a>å››ã€dataæ•°æ®å¯¹è±¡</h2><p>1.Vueä¸­ç”¨åˆ°çš„æ•°æ®å®šä¹‰åœ¨<strong>data</strong>ä¸­</p><p>2.dataä¸­å¯ä»¥å®šä¹‰<strong>å¤æ‚ç±»å‹</strong>çš„æ•°æ®</p><p>3.<strong>æ–¹æ³•å†…éƒ¨</strong>é€šè¿‡ <strong>this</strong> å…³é”®å­—å¯ä»¥<strong>è®¿é—®å®šä¹‰åœ¨ data ä¸­çš„æ•°æ®</strong></p><p>ï¼ˆ<strong>methods</strong>ä¸­å®šä¹‰çš„<strong>æ–¹æ³•å†…éƒ¨</strong>ï¼Œå¯ä»¥é€šè¿‡<strong>thiså…³é”®å­—ç‚¹å‡ºå…¶ä»–çš„æ–¹æ³•</strong>ï¼‰</p><p>4.æ¸²æŸ“å¤æ‚ç±»å‹æ•°æ®æ—¶ï¼Œéµå¾ªjsçš„è¯­æ³•å³å¯(å¦‚å¯¹è±¡çš„ . è¯­æ³•ï¼›æ•°ç»„çš„ç´¢å¼•è¯­æ³•)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>dataæ•°æ®å¯¹è±¡<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123;player.age&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>&#123;&#123;player.name&#125;&#125;  &#123;&#123;player.final&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;&#123;num[0]&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>&#123;&#123;num[1]&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>é•¿å¤§äº†ä¸€å²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">  </span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">message</span>:<span class="hljs-string">&quot;ç¯®ç½‘æ€»å† å†›&quot;</span>,</span><br><span class="javascript">                <span class="hljs-attr">player</span>:&#123;</span><br><span class="javascript">                    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;kd&quot;</span>,</span><br><span class="javascript">                    <span class="hljs-attr">final</span>:<span class="hljs-string">&quot;MVP&quot;</span>,</span><br><span class="javascript">                    <span class="hljs-attr">age</span>:<span class="hljs-number">18</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">num</span>:[<span class="hljs-string">&quot;one&quot;</span>,<span class="hljs-string">&quot;two&quot;</span>,<span class="hljs-string">&quot;three&quot;</span>,<span class="hljs-string">&quot;four&quot;</span>]</span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">add</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.player.age+=<span class="hljs-number">1</span>;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="äº”ã€å‡½æ•°çš„-return-åº”ç”¨"><a href="#äº”ã€å‡½æ•°çš„-return-åº”ç”¨" class="headerlink" title="äº”ã€å‡½æ•°çš„ return åº”ç”¨"></a>äº”ã€å‡½æ•°çš„ return åº”ç”¨</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueå‡½æ•°çš„ return åº”ç”¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åŸå§‹å­—ç¬¦ä¸²: &#123;&#123; message &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ä½¿ç”¨æ–¹æ³•ååè½¬å­—ç¬¦ä¸²: &#123;&#123; reversedMessage2() &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">  <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">    <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;123456789&#x27;</span></span><br><span class="javascript">  &#125;,</span><br><span class="javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="javascript">    <span class="hljs-attr">reversedMessage2</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.message.split(<span class="hljs-string">&#x27;&#x27;</span>).reverse().join(<span class="hljs-string">&#x27;&#x27;</span>)</span><br><span class="javascript">    &#125;</span><br><span class="javascript">  &#125;</span><br><span class="javascript">&#125;)</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="å…­ã€è¿‡æ»¤å™¨"><a href="#å…­ã€è¿‡æ»¤å™¨" class="headerlink" title="å…­ã€è¿‡æ»¤å™¨"></a>å…­ã€è¿‡æ»¤å™¨</h2><p>Vue.js å…è®¸ä½ è‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œè¢«ç”¨ä½œä¸€äº›å¸¸è§çš„<strong>æ–‡æœ¬æ ¼å¼åŒ–</strong>ã€‚</p><p>è¿‡æ»¤å™¨å‡½æ•°æ¥å—è¡¨è¾¾å¼çš„å€¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p><p>ä»¥ä¸‹å®ä¾‹å¯¹è¾“å…¥çš„å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—æ¯è½¬ä¸ºå¤§å†™ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueè¿‡æ»¤å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        &#123;&#123; message | capitalize &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;abcdef&#x27;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">filters</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">capitalize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span> (!value) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="javascript">                    value = value.toString()</span><br><span class="javascript">                    <span class="hljs-keyword">return</span> value.charAt(<span class="hljs-number">0</span>).toUpperCase() + value.slice(<span class="hljs-number">1</span>)</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥åˆ©ç”¨<strong>å‡½æ•° methods</strong> å®ç°ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueè¿‡æ»¤å™¨<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.staticfile.org/vue/2.2.2/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        &#123;&#123; capitalize() &#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;abcdef&#x27;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">capitalize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                    value = <span class="hljs-built_in">this</span>.message;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span> (!value) </span><br><span class="javascript">                        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span>;</span><br><span class="javascript">                    value = value.toString();</span><br><span class="javascript">                    <span class="hljs-keyword">return</span> value.charAt(<span class="hljs-number">0</span>).toUpperCase() + value.slice(<span class="hljs-number">1</span>);</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vueç®€å•ç½‘ç»œåº”ç”¨--axios</title>
    <link href="/2021/11/07/Vue.js/Vue%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8--axios/"/>
    <url>/2021/11/07/Vue.js/Vue%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E5%BA%94%E7%94%A8--axios/</url>
    
    <content type="html"><![CDATA[<h2 id="axiosåŸºæœ¬ä½¿ç”¨"><a href="#axiosåŸºæœ¬ä½¿ç”¨" class="headerlink" title="axiosåŸºæœ¬ä½¿ç”¨"></a>axiosåŸºæœ¬ä½¿ç”¨</h2><ul><li>axiosï¼šåŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œè¯·æ±‚åº“ï¼ˆAJAXï¼‰</li><li>axios å¿…é¡»å…ˆå¯¼å…¥æ‰å¯ä»¥ä½¿ç”¨</li><li>ä½¿ç”¨ get æˆ– post æ–¹æ³•å³å¯å‘é€å¯¹åº”çš„è¯·æ±‚</li><li><strong>then æ–¹æ³•ä¸­çš„å›è°ƒå‡½æ•°ä¼šåœ¨è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶è§¦å‘</strong></li><li>é€šè¿‡å›è°ƒå‡½æ•°çš„å½¢å‚å¯ä»¥è·å–<strong>å“åº”å†…å®¹</strong>æˆ–<strong>é”™è¯¯ä¿¡æ¯</strong></li></ul><p>axiosè¯·æ±‚æ¨¡æ¿ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">axios.get(åœ°å€?key=value&amp;key2=values).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)</span>&#123;&#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;&#125;)<br>axios.post(åœ°å€,&#123;<span class="hljs-attr">key</span>:value&#125;).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)</span>&#123;&#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;&#125;)<br></code></pre></td></tr></table></figure><p>å®ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;axios:getè¯·æ±‚&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;get&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;axios:postè¯·æ±‚&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;post&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="javascript">            æµ‹è¯•æ¥å£1:éšæœºç¬‘è¯</span></span><br><span class="hljs-comment"><span class="javascript">            è¯·æ±‚åœ°å€:https://autumnfish.cn/api/joke/list</span></span><br><span class="hljs-comment"><span class="javascript">            è¯·æ±‚æ–¹æ³•:get</span></span><br><span class="hljs-comment"><span class="javascript">            è¯·æ±‚å‚æ•°:num(ç¬‘è¯æ¡æ•°,æ•°å­—)</span></span><br><span class="hljs-comment"><span class="javascript">            å“åº”å†…å®¹:éšæœºç¬‘è¯</span></span><br><span class="hljs-comment"><span class="javascript">        */</span></span><br><span class="javascript">        <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.get&quot;</span>).onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            axios.get(<span class="hljs-string">&quot;https://autumnfish.cn/api/joke/list?num=4&quot;</span>)</span><br><span class="javascript">            .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response);</span><br><span class="javascript">              &#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;</span><br><span class="javascript">                  <span class="hljs-built_in">console</span>.log(err);</span><br><span class="javascript">              &#125;)</span><br><span class="javascript">        &#125;</span><br><span class="javascript">        <span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="javascript">             æµ‹è¯•æ¥å£2:ç”¨æˆ·æ³¨å†Œ</span></span><br><span class="hljs-comment"><span class="javascript">             è¯·æ±‚åœ°å€:https://autumnfish.cn/api/user/reg</span></span><br><span class="hljs-comment"><span class="javascript">             è¯·æ±‚æ–¹æ³•:post</span></span><br><span class="hljs-comment"><span class="javascript">             è¯·æ±‚å‚æ•°:username(ç”¨æˆ·å,å­—ç¬¦ä¸²)</span></span><br><span class="hljs-comment"><span class="javascript">             å“åº”å†…å®¹:æ³¨å†ŒæˆåŠŸæˆ–å¤±è´¥</span></span><br><span class="hljs-comment"><span class="javascript">         */</span></span><br><span class="javascript">         <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&quot;.post&quot;</span>).onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            axios.post(<span class="hljs-string">&quot;https://autumnfish.cn/api/user/reg&quot;</span>,&#123;<span class="hljs-attr">username</span>:<span class="hljs-string">&quot;asgdyufgq&quot;</span>&#125;)</span><br><span class="javascript">            .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response);</span><br><span class="javascript">            &#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(err);</span><br><span class="javascript">            &#125;)</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="axiosä¸Vueç»“åˆä½¿ç”¨"><a href="#axiosä¸Vueç»“åˆä½¿ç”¨" class="headerlink" title="axiosä¸Vueç»“åˆä½¿ç”¨"></a>axiosä¸Vueç»“åˆä½¿ç”¨</h2><ul><li><p>axios å›è°ƒå‡½æ•°ä¸­çš„ this å·²ç»æ”¹å˜ï¼Œæ— æ³•è®¿é—®åˆ° data ä¸­æ•°æ®</p></li><li><p><strong>æŠŠ this ä¿å­˜èµ·æ¥ï¼Œå›è°ƒå‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨ä¿å­˜çš„ this å³å¯</strong></p></li><li><p>å’Œæœ¬åœ°åº”ç”¨çš„æœ€å¤§åŒºåˆ«å°±æ˜¯æ”¹å˜äº†æ•°æ®æ¥æº</p></li></ul><p>å®ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vueç»“åˆaxios<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;è·å–ç¬‘è¯&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getJoke&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;joke&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">/*</span></span><br><span class="hljs-comment"><span class="javascript">            æµ‹è¯•æ¥å£:éšæœºè·å–ä¸€æ¡ç¬‘è¯</span></span><br><span class="hljs-comment"><span class="javascript">            è¯·æ±‚åœ°å€:https://autumnfish.cn/api/joke</span></span><br><span class="hljs-comment"><span class="javascript">            è¯·æ±‚æ–¹æ³•:get</span></span><br><span class="hljs-comment"><span class="javascript">            è¯·æ±‚å‚æ•°:æ— </span></span><br><span class="hljs-comment"><span class="javascript">            å“åº”å†…å®¹:éšæœºç¬‘è¯</span></span><br><span class="hljs-comment"><span class="javascript">        */</span></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">joke</span>:<span class="hljs-string">&quot;ç¬‘è¯çœŸå¥½ç¬‘hhh&quot;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>:&#123;</span><br><span class="javascript">                <span class="hljs-attr">getJoke</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">var</span> that = <span class="hljs-built_in">this</span>; <span class="hljs-comment">// ä¿å­˜thisé¿å…æ— æ³•è®¿é—®</span></span><br><span class="javascript">                    axios.get(<span class="hljs-string">&quot;https://autumnfish.cn/api/joke&quot;</span>).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)</span>&#123;</span><br><span class="javascript">                        that.joke = response.data</span><br><span class="javascript">                    &#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;&#125;)</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h2 id="ç½‘ç»œåº”ç”¨å®ä¾‹"><a href="#ç½‘ç»œåº”ç”¨å®ä¾‹" class="headerlink" title="ç½‘ç»œåº”ç”¨å®ä¾‹"></a>ç½‘ç»œåº”ç”¨å®ä¾‹</h2><p>åº”ç”¨çš„é€»è¾‘ä»£ç å»ºè®®å’Œé¡µé¢åˆ†ç¦»ï¼Œä½¿ç”¨å•ç‹¬çš„jsæ–‡ä»¶ç¼–å†™</p><p>HTMLé¡µé¢éƒ¨åˆ†ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¤©çŸ¥é“<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/reset.css&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/index.css&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;wrap&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;search_form&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;logo&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;img/logo.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;logo&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form_group&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input_txt&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥æŸ¥è¯¢çš„å¤©æ°”&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;city&quot;</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;getWeather&quot;</span>/&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;input_sub&quot;</span>&gt;</span><br>            æœ ç´¢<br>          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;hotkey&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;queryWeather(&#x27;åŒ—äº¬&#x27;)&quot;</span>&gt;</span>åŒ—äº¬<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;queryWeather(&#x27;ä¸Šæµ·&#x27;)&quot;</span>&gt;</span>ä¸Šæµ·<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;queryWeather(&#x27;å¹¿å·&#x27;)&quot;</span>&gt;</span>å¹¿å·<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;queryWeather(&#x27;æ·±åœ³&#x27;)&quot;</span>&gt;</span>æ·±åœ³<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;weather_list&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in weatherList&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;info_type&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;iconfont&quot;</span>&gt;</span>&#123;&#123;item.type&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;info_temp&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>&#123;&#123;item.low&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><br>            ~<br>            <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>&#123;&#123;item.high&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;info_date&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;item.date&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å®˜ç½‘æä¾›çš„ axios åœ¨çº¿åœ°å€ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- è‡ªå·±çš„js --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/main.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>JSä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;<br>    <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,<br>    <span class="hljs-attr">data</span>:&#123;<br>        <span class="hljs-attr">city</span>:<span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-attr">weatherList</span>:[]<br>    &#125;,<br>    <span class="hljs-attr">methods</span>:&#123;<br>        <span class="hljs-attr">getWeather</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;<br>            <span class="hljs-keyword">var</span> that = <span class="hljs-built_in">this</span>;<br>            axios.get(<span class="hljs-string">&quot;http://wthrcdn.etouch.cn/weather_mini?city=&quot;</span>+<span class="hljs-built_in">this</span>.city)<br>            .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)</span>&#123;<br>                that.weatherList = response.data.data.forecast;<br>            &#125;,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>)</span>&#123;&#125;)<br>        &#125;,<br>        <span class="hljs-attr">queryWeather</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">city</span>)</span>&#123;<br>            <span class="hljs-built_in">this</span>.city = city;<br>            <span class="hljs-built_in">this</span>.getWeather();<br>        &#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vueç®€å•æœ¬åœ°åº”ç”¨--è®°äº‹æœ¬</title>
    <link href="/2021/11/07/Vue.js/Vue%E7%AE%80%E5%8D%95%E6%9C%AC%E5%9C%B0%E5%BA%94%E7%94%A8--%E8%AE%B0%E4%BA%8B%E6%9C%AC/"/>
    <url>/2021/11/07/Vue.js/Vue%E7%AE%80%E5%8D%95%E6%9C%AC%E5%9C%B0%E5%BA%94%E7%94%A8--%E8%AE%B0%E4%BA%8B%E6%9C%AC/</url>
    
    <content type="html"><![CDATA[<p>å¯ä»¥æ ¹æ®ç½‘é¡µæ¨¡æ¿ + F12 æŸ¥çœ‹ Elements ä¸­çš„ HTML æºç åˆ†ææ¨¡æ¿ä¸­å„ä¸ªç»„ä»¶çš„å¸ƒå±€æƒ…å†µï¼Œä»è€Œæ›´å¥½çš„è¿›è¡Œå‰ç«¯é¡µé¢å¼€å‘ã€‚</p><p><strong>Summarize</strong></p><ul><li><p>åˆ—è¡¨ç»“æ„å¯ä»¥é€šè¿‡ v-for æŒ‡ä»¤ç»“åˆæ•°æ®ç”Ÿæˆ</p></li><li><p>v-on ç»“åˆäº‹ä»¶ä¿®é¥°ç¬¦å¯ä»¥å¯¹äº‹ä»¶è¿›è¡Œé™åˆ¶,æ¯”å¦‚ .enter</p></li><li><p>v-on åœ¨ç»‘å®šäº‹ä»¶æ—¶å¯ä»¥ä¼ é€’è‡ªå®šä¹‰å‚æ•°</p></li><li><p>é€šè¿‡ v-model å¯ä»¥å¿«é€Ÿçš„è®¾ç½®å’Œè·å–è¡¨å•å…ƒç´ çš„å€¼</p></li><li><p>åŸºäºæ•°æ®çš„å¼€å‘æ–¹å¼</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Miniè®°äº‹æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;content-type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;robots&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;noindex, nofollow&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;googlebot&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;noindex, nofollow&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- ä¸»ä½“åŒºåŸŸ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;todoapp&quot;</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- è¾“å…¥æ¡† --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">header</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Miniè®°äº‹æœ¬<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">autofocus</span>=<span class="hljs-string">&quot;autofocus&quot;</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">&quot;off&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;è¯·è¾“å…¥ä»»åŠ¡&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;new-todo&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;addValue&quot;</span></span><br><span class="hljs-tag">                @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;add()&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- åˆ—è¡¨åŒºåŸŸ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;main&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-list&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in list&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;view&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span>&#123;&#123;index+1&#125;&#125;.<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;destroy&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;remove(index)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- ç»Ÿè®¡å’Œæ¸…ç©º --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">footer</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;footer&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-count&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;list.length!=0&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>&#123;&#123;list.length&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span> items left <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;clear-completed&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;clear&quot;</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;list.length!=0&quot;</span>&gt;</span><br>                Clear<br>            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- å¼€å‘ç¯å¢ƒç‰ˆæœ¬ï¼ŒåŒ…å«äº†æœ‰å¸®åŠ©çš„å‘½ä»¤è¡Œè­¦å‘Š --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#todoapp&quot;</span>,</span><br><span class="javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">list</span>: [<span class="hljs-string">&quot;åƒé¥­&quot;</span>, <span class="hljs-string">&quot;ç¡è§‰&quot;</span>, <span class="hljs-string">&quot;å­¦ä¹ &quot;</span>],</span><br><span class="javascript">                <span class="hljs-attr">addValue</span>: <span class="hljs-string">&quot;æ‰“ç¯®çƒ&quot;</span></span><br><span class="javascript">            &#125;,</span><br><span class="javascript">            <span class="hljs-attr">methods</span>: &#123;</span><br><span class="javascript">                <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.list.push(<span class="hljs-built_in">this</span>.addValue)</span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) </span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.list.splice(index, <span class="hljs-number">1</span>)<span class="hljs-comment">// æ ¹æ®ç´¢å¼•åˆ é™¤å¯¹åº”å…ƒç´ </span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript">                <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.list = []</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Vue Router</title>
    <link href="/2021/10/31/Vue.js/Vue_Router/"/>
    <url>/2021/10/31/Vue.js/Vue_Router/</url>
    
    <content type="html"><![CDATA[<h2 id="Vue-Router-é¡¹ç›®åº”ç”¨å®ä¾‹ï¼š"><a href="#Vue-Router-é¡¹ç›®åº”ç”¨å®ä¾‹ï¼š" class="headerlink" title="Vue Router é¡¹ç›®åº”ç”¨å®ä¾‹ï¼š"></a>Vue Router é¡¹ç›®åº”ç”¨å®ä¾‹ï¼š</h2><p><strong>æºç åœ°å€</strong>ï¼š<a href="https://github.com/oinsd/Vue.js-Learning-Example">https://github.com/oinsd/Vue.js-Learning-Example</a></p><h3 id="å®ä¾‹â‘ -NO-27-29-é¡¹ç›®å®‰è£…ä¸ä½¿ç”¨-Cliè„šæ‰‹æ¶é¡¹ç›®è·¯ç”±"><a href="#å®ä¾‹â‘ -NO-27-29-é¡¹ç›®å®‰è£…ä¸ä½¿ç”¨-Cliè„šæ‰‹æ¶é¡¹ç›®è·¯ç”±" class="headerlink" title="å®ä¾‹â‘  NO.27-29 é¡¹ç›®å®‰è£…ä¸ä½¿ç”¨ + Cliè„šæ‰‹æ¶é¡¹ç›®è·¯ç”±"></a>å®ä¾‹â‘  NO.27-29 é¡¹ç›®å®‰è£…ä¸ä½¿ç”¨ + Cliè„šæ‰‹æ¶é¡¹ç›®è·¯ç”±</h3><ul><li><p>view æ–‡ä»¶å¤¹ä¸‹å­˜æ”¾å•é¡µé¢åº”ç”¨</p></li><li><p>components æ–‡ä»¶å¤¹ä¸‹å­˜æ”¾å…±ç”¨æ€§ç»„ä»¶</p></li><li><p>router.js é‡Œå®šä¹‰è·¯ç”±ä¹‹åè¦è¿›è¡Œ export å¯¼å‡º <code>export default router</code></p></li></ul><p>æ³¨ï¼šè·¯ç”±å¯¹åº”çš„<strong>ç»„ä»¶æœ€ç»ˆæ¸²æŸ“çš„ä½ç½®ï¼š<code>&lt;router-view&gt;&lt;/router-view&gt;</code></strong></p><p>egï¼šä¸‹è¿°æ ·ä¾‹ä¸­ï¼Œè¿›å…¥æŒ‡å®šè·¯ç”±æ˜¾ç¤ºç»„ä»¶åï¼Œ<u>h1æ ‡ç­¾çš„å†…å®¹ï¼ˆ666ï¼‰ä»ä¼šæ˜¾ç¤º</u></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;App&quot;&gt;<br>    &lt;h1&gt;666&lt;/h1&gt;<br>    &lt;router-view&gt;&lt;/router-view&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure><p><strong>è·¯ç”±è·³è½¬çš„å®ç°ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">this.$router.push(&quot;/elm_index&quot;)<br></code></pre></td></tr></table></figure><p><u>å¯»æ‰¾ router.js é‡Œçš„åŒ¹é…é¡¹å¹¶è¿›è¡Œä¸»åŠ¨è·³è½¬</u></p><br><p>å¯ä»¥é€šè¿‡ <code>this.$route</code> è®¿é—®å½“å‰è·¯ç”±</p><p>å¦‚ï¼š<strong>é€€å›</strong>ä¸Šä¸€ä¸ªè·¯ç”±</p><p><code>window.history.length &gt; 1 ? this.$router.go(-1) : this.$router.push(&#39;/&#39;)</code></p><br><h3 id="å®ä¾‹â‘¡-NO-30-32-ç¼–ç¨‹å¼å¯¼èˆª-åŠ¨æ€è·¯ç”±-åµŒå¥—è·¯ç”±-è·¯ç”±é‡å®šå‘"><a href="#å®ä¾‹â‘¡-NO-30-32-ç¼–ç¨‹å¼å¯¼èˆª-åŠ¨æ€è·¯ç”±-åµŒå¥—è·¯ç”±-è·¯ç”±é‡å®šå‘" class="headerlink" title="å®ä¾‹â‘¡ NO.30-32 ç¼–ç¨‹å¼å¯¼èˆª + åŠ¨æ€è·¯ç”± + åµŒå¥—è·¯ç”± + è·¯ç”±é‡å®šå‘"></a>å®ä¾‹â‘¡ NO.30-32 ç¼–ç¨‹å¼å¯¼èˆª + åŠ¨æ€è·¯ç”± + åµŒå¥—è·¯ç”± + è·¯ç”±é‡å®šå‘</h3><h4 id="åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š"><a href="#åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š" class="headerlink" title="åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š"></a>åŠ¨æ€è·¯ç”±åŒ¹é…ï¼š</h4><p>æˆ‘ä»¬ç»å¸¸éœ€è¦æŠŠæŸç§æ¨¡å¼åŒ¹é…åˆ°çš„æ‰€æœ‰è·¯ç”±ï¼Œå…¨éƒ½æ˜ å°„åˆ°åŒä¸€ä¸ªç»„ä»¶ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª <code>User</code> ç»„ä»¶ï¼Œå¯¹äºæ‰€æœ‰ ID å„ä¸ç›¸åŒçš„ç”¨æˆ·ï¼Œéƒ½è¦ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ¥æ¸²æŸ“ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>vue-router</code> çš„è·¯ç”±è·¯å¾„ä¸­ä½¿ç”¨ <strong>åŠ¨æ€è·¯å¾„å‚æ•°</strong> æ¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> User = &#123;<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;div&gt;User&lt;/div&gt;&#x27;</span><br>&#125;<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123;<br>  <span class="hljs-attr">routes</span>: [<br>    <span class="hljs-comment">// åŠ¨æ€è·¯å¾„å‚æ•° ä»¥å†’å·å¼€å¤´</span><br>    &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/user/:id&#x27;</span>, <span class="hljs-attr">component</span>: User &#125;<br>  ]<br>&#125;)<br></code></pre></td></tr></table></figure><p><u>æ­¤æ—¶ï¼Œå½¢å¦‚ <code>/user/foo</code> å’Œ <code>/user/bar</code> éƒ½å°†æ˜ å°„åˆ°ç›¸åŒçš„è·¯ç”±ï¼Œéƒ½ä½¿ç”¨ <code>User</code> ç»„ä»¶è¿›è¡Œæ¸²æŸ“ã€‚</u></p><ul><li>é€šè¿‡ <code>$route.params.id</code> èƒ½è·å– path å‚æ•°</li><li>æœ€ç†æƒ³çš„è·¯ç”±ç›‘å¬æ–¹æ³•ï¼š<strong>watch</strong> â€”â€” å¯å¯¹è·¯ç”±å˜åŒ–ä½œå‡ºå“åº”</li></ul><p>è¯¦æƒ…è§ï¼š<a href="https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html">https://router.vuejs.org/zh/guide/essentials/dynamic-matching.html</a></p><h4 id="ç¼–ç¨‹å¼å¯¼èˆªï¼š"><a href="#ç¼–ç¨‹å¼å¯¼èˆªï¼š" class="headerlink" title="ç¼–ç¨‹å¼å¯¼èˆªï¼š"></a>ç¼–ç¨‹å¼å¯¼èˆªï¼š</h4><p><code>this.$router.push(&quot;/elm_index&quot;)</code> â€”â€” è·¯ç”±è·³è½¬</p><p>å¯»æ‰¾ router.js é‡Œçš„åŒ¹é…é¡¹å¹¶è¿›è¡Œä¸»åŠ¨è·³è½¬</p><p>è¯¦æƒ…è§ï¼š<a href="https://router.vuejs.org/zh/guide/essentials/navigation.html">https://router.vuejs.org/zh/guide/essentials/navigation.html</a></p><h4 id="åµŒå¥—è·¯ç”±ï¼š"><a href="#åµŒå¥—è·¯ç”±ï¼š" class="headerlink" title="åµŒå¥—è·¯ç”±ï¼š"></a>åµŒå¥—è·¯ç”±ï¼š</h4><p>åµŒå¥—è·¯ç”±å°±æ˜¯åœ¨ä¸€ä¸ªè¢«è·¯ç”±è¿‡æ¥çš„é¡µé¢ä¸‹å¯ä»¥ç»§ç»­ä½¿ç”¨è·¯ç”±ï¼ŒåµŒå¥—ä¹Ÿå°±æ˜¯è·¯ç”±ä¸­çš„è·¯ç”±çš„æ„æ€ã€‚</p><p>ä½¿ç”¨æ–¹æ³•è§æ–‡æ¡£ï¼š<a href="https://router.vuejs.org/zh/guide/essentials/nested-routes.html">https://router.vuejs.org/zh/guide/essentials/nested-routes.html</a></p><h4 id="è·¯ç”±é‡å®šå‘ï¼š"><a href="#è·¯ç”±é‡å®šå‘ï¼š" class="headerlink" title="è·¯ç”±é‡å®šå‘ï¼š"></a>è·¯ç”±é‡å®šå‘ï¼š</h4><p>è¾“å…¥æœªçŸ¥è·¯ç”±ï¼Œè‡ªåŠ¨åŒ¹é…è¿›è¡Œè·¯ç”±è·³è½¬</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//router.jsçš„new Router()çš„routes:[]å†…</span><br>&#123;<br><span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;*&#x27;</span>,<br><span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;any&#x27;</span>,  <span class="hljs-comment">// åå­—åœ¨â€œå‘½åè·¯ç”±â€ä¸­ä½¿ç”¨ï¼Œä½†æ˜¯ä¸ä»‹ç»</span><br><span class="hljs-attr">redirect</span>: <span class="hljs-string">&#x27;/iview_login&#x27;</span> <span class="hljs-comment">//è·¯ç”±é‡å®šå‘åˆ°/iview_loginä½ç½®</span><br>&#125;,<br></code></pre></td></tr></table></figure><br><h3 id="å®ä¾‹â‘¢-NO-33-36-å‚æ•°ä¼ é€’-è·¯ç”±å¯¼èˆªå®ˆå«-è·å–æ•°æ®"><a href="#å®ä¾‹â‘¢-NO-33-36-å‚æ•°ä¼ é€’-è·¯ç”±å¯¼èˆªå®ˆå«-è·å–æ•°æ®" class="headerlink" title="å®ä¾‹â‘¢ NO.33-36 å‚æ•°ä¼ é€’ + è·¯ç”±å¯¼èˆªå®ˆå« + è·å–æ•°æ®"></a>å®ä¾‹â‘¢ NO.33-36 å‚æ•°ä¼ é€’ + è·¯ç”±å¯¼èˆªå®ˆå« + è·å–æ•°æ®</h3><h4 id="å‚æ•°ä¼ é€’ï¼š"><a href="#å‚æ•°ä¼ é€’ï¼š" class="headerlink" title="å‚æ•°ä¼ é€’ï¼š"></a>å‚æ•°ä¼ é€’ï¼š</h4><ul><li>æ–¹å¼1ï¼š$route.params.xx</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//router.js:</span><br>&#123; <br><span class="hljs-attr">path</span>: <span class="hljs-string">&#x27;/contentBar/:id&#x27;</span>, <br><span class="hljs-attr">component</span>: contentBar,<br>&#125;,<br><br><span class="hljs-comment">//contentBar.vueç»„ä»¶å†…â€”â€”æ˜¾ç¤ºurlé‡Œçš„idå†…å®¹</span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123; $route.params.id &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br></code></pre></td></tr></table></figure><ul><li>æ–¹å¼2ï¼šé€šè¿‡ props è¿›è¡Œä¼ é€’</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//router.js:</span><br>&#123;<br><span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/iview_router/:name&#x27;</span>,<br><span class="hljs-attr">component</span>:Iview_router_1,<br><span class="hljs-attr">props</span>:&#123;<span class="hljs-attr">news</span>:<span class="hljs-string">&#x27;NEWS&#x27;</span>&#125;,<br>&#125;,<br><br><span class="hljs-comment">//Iview_router_1.vue çš„ export default å†…</span><br><span class="hljs-attr">props</span>:[<span class="hljs-string">&#x27;news&#x27;</span>],<br></code></pre></td></tr></table></figure><br><h4 id="è·¯ç”±å¯¼èˆªå®ˆå«ï¼š"><a href="#è·¯ç”±å¯¼èˆªå®ˆå«ï¼š" class="headerlink" title="è·¯ç”±å¯¼èˆªå®ˆå«ï¼š"></a>è·¯ç”±å¯¼èˆªå®ˆå«ï¼š</h4><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html">https://router.vuejs.org/zh/guide/advanced/navigation-guards.html</a></p><p>å¯¼èˆªï¼šè¡¨ç¤ºè·¯ç”±æ­£åœ¨å‘ç”Ÿæ”¹å˜ã€‚</p><p><code>vue-router</code> æä¾›çš„å¯¼èˆªå®ˆå«ä¸»è¦ç”¨æ¥é€šè¿‡<u>è·³è½¬æˆ–å–æ¶ˆ</u>çš„æ–¹å¼å®ˆå«å¯¼èˆªã€‚</p><p>æœ‰å¤šç§æœºä¼šæ¤å…¥è·¯ç”±å¯¼èˆªè¿‡ç¨‹ä¸­ï¼šå…¨å±€çš„, å•ä¸ªè·¯ç”±ç‹¬äº«çš„, æˆ–è€…ç»„ä»¶çº§çš„ã€‚</p><ul><li><strong>å…¨å±€å‰ç½®å®ˆå«</strong></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> VueRouter(&#123; ... &#125;)<br><br>router.beforeEach(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (to.name !== <span class="hljs-string">&#x27;Login&#x27;</span> &amp;&amp; !isAuthenticated) next(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Login&#x27;</span> &#125;)<br>  <span class="hljs-keyword">else</span> next()<br>&#125;)<br></code></pre></td></tr></table></figure><ul><li><p><strong>å…¨å±€è§£æå®ˆå«</strong></p></li><li><p><strong>è·¯ç”±ç‹¬äº«çš„å®ˆå«</strong></p></li><li><p><strong>ç»„ä»¶å†…çš„å®ˆå«</strong></p></li><li><p><em>å®Œæ•´çš„å¯¼èˆªè§£ææµç¨‹</em>*:</p></li></ul><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm"><span class="hljs-number">1</span>.å¯¼èˆªè¢«è§¦å‘ã€‚<br><span class="hljs-number">2</span>.åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <span class="hljs-keyword">beforeRouteLeave </span>å®ˆå«ã€‚<br><span class="hljs-number">3</span>.è°ƒç”¨å…¨å±€çš„ <span class="hljs-keyword">beforeEach </span>å®ˆå«ã€‚<br><span class="hljs-number">4</span>.åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ <span class="hljs-keyword">beforeRouteUpdate </span>å®ˆå« (<span class="hljs-number">2</span>.<span class="hljs-number">2</span>+)ã€‚<br><span class="hljs-number">5</span>.åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ <span class="hljs-keyword">beforeEnterã€‚</span><br><span class="hljs-keyword"></span><span class="hljs-number">6</span>.è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚<br><span class="hljs-number">7</span>.åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ <span class="hljs-keyword">beforeRouteEnterã€‚</span><br><span class="hljs-keyword"></span><span class="hljs-number">8</span>.è°ƒç”¨å…¨å±€çš„ <span class="hljs-keyword">beforeResolve </span>å®ˆå« (<span class="hljs-number">2</span>.<span class="hljs-number">5</span>+)ã€‚<br><span class="hljs-number">9</span>.å¯¼èˆªè¢«ç¡®è®¤ã€‚<br><span class="hljs-number">10</span>.è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚<br><span class="hljs-number">11</span>.è§¦å‘ DOM æ›´æ–°ã€‚<br><span class="hljs-number">12</span>.è°ƒç”¨ <span class="hljs-keyword">beforeRouteEnter </span>å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚<br></code></pre></td></tr></table></figure><br><h4 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®:"></a>è·å–æ•°æ®:</h4><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://router.vuejs.org/zh/guide/advanced/data-fetching.html">https://router.vuejs.org/zh/guide/advanced/data-fetching.html</a></p>]]></content>
    
    
    <categories>
      
      <category>Vue.js</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>JavaScriptä¸HTML-DOM</title>
    <link href="/2021/10/26/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/JavaScript%E4%B8%8EHTML-DOM/"/>
    <url>/2021/10/26/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/JavaScript%E4%B8%8EHTML-DOM/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€JavaScript-HTML-DOMæ¦‚è¿°"><a href="#ä¸€ã€JavaScript-HTML-DOMæ¦‚è¿°" class="headerlink" title="ä¸€ã€JavaScript HTML DOMæ¦‚è¿°"></a>ä¸€ã€JavaScript HTML DOMæ¦‚è¿°</h1><p>é€šè¿‡ HTML DOMï¼Œ JavaScriptå¯è®¿é—® HTML æ–‡æ¡£çš„æ‰€æœ‰å…ƒç´ ã€‚</p><br><h3 id="HTML-DOM-æ–‡æ¡£å¯¹è±¡æ¨¡å‹"><a href="#HTML-DOM-æ–‡æ¡£å¯¹è±¡æ¨¡å‹" class="headerlink" title="HTML DOM (æ–‡æ¡£å¯¹è±¡æ¨¡å‹)"></a>HTML DOM (æ–‡æ¡£å¯¹è±¡æ¨¡å‹)</h3><p>å½“ç½‘é¡µè¢«åŠ è½½æ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºé¡µé¢çš„æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDocument Object Modelï¼‰ã€‚</p><p><strong>HTML DOM</strong> æ¨¡å‹è¢«æ„é€ ä¸º<strong>å¯¹è±¡</strong>çš„æ ‘ï¼š</p><img src="/images/image-20211026180200651.png" alt="image-20211026180200651" style="zoom:33%;"><p>é€šè¿‡å¯ç¼–ç¨‹çš„å¯¹è±¡æ¨¡å‹ï¼ŒJavaScript è·å¾—äº†è¶³å¤Ÿçš„èƒ½åŠ›æ¥åˆ›å»ºåŠ¨æ€çš„ HTMLã€‚</p><ul><li><p>JavaScript èƒ½å¤Ÿæ”¹å˜é¡µé¢ä¸­çš„æ‰€æœ‰ HTML å…ƒç´ </p></li><li><p>JavaScript èƒ½å¤Ÿæ”¹å˜é¡µé¢ä¸­çš„æ‰€æœ‰ HTML å±æ€§</p></li><li><p>JavaScript èƒ½å¤Ÿæ”¹å˜é¡µé¢ä¸­çš„æ‰€æœ‰ CSS æ ·å¼</p></li><li><p>JavaScript èƒ½å¤Ÿå¯¹é¡µé¢ä¸­çš„æ‰€æœ‰äº‹ä»¶åšå‡ºååº”</p><br></li></ul><h3 id="æŸ¥æ‰¾-HTML-å…ƒç´ "><a href="#æŸ¥æ‰¾-HTML-å…ƒç´ " class="headerlink" title="æŸ¥æ‰¾ HTML å…ƒç´ "></a>æŸ¥æ‰¾ HTML å…ƒç´ </h3><h4 id="ï¼ˆ1ï¼‰é€šè¿‡-id-æŸ¥æ‰¾-HTML-å…ƒç´ "><a href="#ï¼ˆ1ï¼‰é€šè¿‡-id-æŸ¥æ‰¾-HTML-å…ƒç´ " class="headerlink" title="ï¼ˆ1ï¼‰é€šè¿‡ id æŸ¥æ‰¾ HTML å…ƒç´ "></a>ï¼ˆ1ï¼‰é€šè¿‡ id æŸ¥æ‰¾ HTML å…ƒç´ </h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">x=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;intro&quot;</span>);<br></code></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾-HTML-å…ƒç´ "><a href="#ï¼ˆ2ï¼‰é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾-HTML-å…ƒç´ " class="headerlink" title="ï¼ˆ2ï¼‰é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾ HTML å…ƒç´ "></a>ï¼ˆ2ï¼‰é€šè¿‡æ ‡ç­¾åæŸ¥æ‰¾ HTML å…ƒç´ </h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> y=x.getElementsByTagName(<span class="hljs-string">&quot;p&quot;</span>);<br></code></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰é€šè¿‡ç±»åæ‰¾åˆ°-HTML-å…ƒç´ "><a href="#ï¼ˆ3ï¼‰é€šè¿‡ç±»åæ‰¾åˆ°-HTML-å…ƒç´ " class="headerlink" title="ï¼ˆ3ï¼‰é€šè¿‡ç±»åæ‰¾åˆ° HTML å…ƒç´ "></a>ï¼ˆ3ï¼‰é€šè¿‡ç±»åæ‰¾åˆ° HTML å…ƒç´ </h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> x=<span class="hljs-built_in">document</span>.getElementsByClassName(<span class="hljs-string">&quot;intro&quot;</span>);<br></code></pre></td></tr></table></figure><p>æ³¨ï¼šgetElementsByTagName å’Œ getElementsByClassName è¿™ä¸¤ä¸ªæ–¹æ³•æŸ¥æ‰¾å¤šä¸ª dom å…ƒç´ ï¼Œè¿”å›çš„æ˜¯ htmlcollection ç±»å‹ï¼Œ<strong>æ˜¯ä¼ªæ•°ç»„è€Œä¸æ˜¯çœŸæ•°ç»„</strong>ï¼Œæ•…ä¸èƒ½ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ•°ç»„åŸå‹é…åˆ slice æ–¹æ³•ï¼Œåˆ©ç”¨ <strong>callï¼Œapplyï¼Œbind æ–¹æ³•å°†ä¼ªæ•°ç»„è½¬ä¸ºçœŸæ•°ç»„</strong>ã€‚</p><p>ï¼ˆè§ç¬¬7éƒ¨åˆ†ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> x=<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;main&quot;</span>);<br><span class="hljs-keyword">var</span> y=x.getElementsByTagName(<span class="hljs-string">&quot;p&quot;</span>);<br><span class="hljs-built_in">console</span>.log(y)<span class="hljs-comment">//åœ¨æ§åˆ¶å°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŸå‹protoä¸ºhtmlcollectionï¼Œæ˜¯ä¼ªæ•°ç»„</span><br><br><span class="hljs-comment">//ä¼ªæ•°ç»„è½¬ä¸ºçœŸæ•°ç»„æ–¹æ³•1</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Array</span>.prototype.slice.call(y))<span class="hljs-comment">//åœ¨æ§åˆ¶å°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŸå‹protoä¸ºArray(0)ï¼Œæ˜¯çœŸæ•°ç»„</span><br><br><span class="hljs-comment">//ä¼ªæ•°ç»„è½¬ä¸ºçœŸæ•°ç»„æ–¹æ³•2</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Array</span>.prototype.slice.apply(y))<span class="hljs-comment">//åœ¨æ§åˆ¶å°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŸå‹protoä¸ºArray(0)ï¼Œæ˜¯çœŸæ•°ç»„</span><br><br><span class="hljs-comment">//ä¼ªæ•°ç»„è½¬ä¸ºçœŸæ•°ç»„æ–¹æ³•3</span><br><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Array</span>.prototype.slice.bind(y)())<span class="hljs-comment">//åœ¨æ§åˆ¶å°æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŸå‹protoä¸ºArray(0)ï¼Œæ˜¯çœŸæ•°ç»„</span><br></code></pre></td></tr></table></figure><br><h2 id="äºŒã€JavaScript-HTML-DOM-æ”¹å˜-HTML"><a href="#äºŒã€JavaScript-HTML-DOM-æ”¹å˜-HTML" class="headerlink" title="äºŒã€JavaScript HTML DOM - æ”¹å˜ HTML"></a>äºŒã€JavaScript HTML DOM - æ”¹å˜ HTML</h2><h4 id="ï¼ˆ1ï¼‰æ”¹å˜-HTML-è¾“å‡ºæµ"><a href="#ï¼ˆ1ï¼‰æ”¹å˜-HTML-è¾“å‡ºæµ" class="headerlink" title="ï¼ˆ1ï¼‰æ”¹å˜ HTML è¾“å‡ºæµ"></a>ï¼ˆ1ï¼‰æ”¹å˜ HTML è¾“å‡ºæµ</h4><p><strong>document.write()</strong> å¯ç”¨äºç›´æ¥å‘ HTML è¾“å‡ºæµå†™å†…å®¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">document</span>.write(<span class="hljs-built_in">Date</span>());<br></code></pre></td></tr></table></figure><p>æ³¨ï¼šä¸è¦åœ¨æ–‡æ¡£(DOM)åŠ è½½å®Œæˆä¹‹åä½¿ç”¨ document.write()ï¼Œè¿™ä¼š<strong>è¦†ç›–</strong>è¯¥æ–‡æ¡£ã€‚</p><h4 id="ï¼ˆ2ï¼‰æ”¹å˜-HTML-å†…å®¹"><a href="#ï¼ˆ2ï¼‰æ”¹å˜-HTML-å†…å®¹" class="headerlink" title="ï¼ˆ2ï¼‰æ”¹å˜ HTML å†…å®¹"></a>ï¼ˆ2ï¼‰æ”¹å˜ HTML å†…å®¹</h4><p>ä½¿ç”¨ <strong>innerHTML</strong> å±æ€§è¿›è¡Œä¿®æ”¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;p1&quot;</span>).innerHTML=<span class="hljs-string">&quot;æ–°æ–‡æœ¬!&quot;</span>;<br></code></pre></td></tr></table></figure><h4 id="ï¼ˆ3ï¼‰æ”¹å˜-HTML-å±æ€§"><a href="#ï¼ˆ3ï¼‰æ”¹å˜-HTML-å±æ€§" class="headerlink" title="ï¼ˆ3ï¼‰æ”¹å˜ HTML å±æ€§"></a>ï¼ˆ3ï¼‰æ”¹å˜ HTML å±æ€§</h4><p>è¯­æ³•ï¼šdocument.getElementById(<em>id</em>).<em>attribute=æ–°å±æ€§å€¼</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;image&quot;</span>).src=<span class="hljs-string">&quot;landscape.jpg&quot;</span>;<br><span class="hljs-comment">//æ”¹å˜äº†&lt;img&gt;å…ƒç´ çš„ src å±æ€§</span><br></code></pre></td></tr></table></figure><br><h1 id="ä¸‰ã€JavaScript-HTML-DOM-æ”¹å˜CSS"><a href="#ä¸‰ã€JavaScript-HTML-DOM-æ”¹å˜CSS" class="headerlink" title="ä¸‰ã€JavaScript HTML DOM - æ”¹å˜CSS"></a>ä¸‰ã€JavaScript HTML DOM - æ”¹å˜CSS</h1><h4 id="ï¼ˆ1ï¼‰æ”¹å˜-HTML-æ ·å¼"><a href="#ï¼ˆ1ï¼‰æ”¹å˜-HTML-æ ·å¼" class="headerlink" title="ï¼ˆ1ï¼‰æ”¹å˜ HTML æ ·å¼"></a>ï¼ˆ1ï¼‰æ”¹å˜ HTML æ ·å¼</h4><p>è¯­æ³•ï¼šdocument.getElementById(<em>id</em>).style.<em>property</em>=<em>æ–°æ ·å¼</em></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;p2&quot;</span>).style.color=<span class="hljs-string">&quot;orange&quot;</span>;<br></code></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰ä½¿ç”¨äº‹ä»¶"><a href="#ï¼ˆ2ï¼‰ä½¿ç”¨äº‹ä»¶" class="headerlink" title="ï¼ˆ2ï¼‰ä½¿ç”¨äº‹ä»¶"></a>ï¼ˆ2ï¼‰ä½¿ç”¨äº‹ä»¶</h4><p>HTML DOM å…è®¸æˆ‘ä»¬é€šè¿‡è§¦å‘äº‹ä»¶æ¥æ‰§è¡Œä»£ç ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;button type=<span class="hljs-string">&quot;button&quot;</span> onclick=<span class="hljs-string">&quot;document.getElementById(&#x27;id1&#x27;).style.color=&#x27;red&#x27;&quot;</span>&gt;<br>ç‚¹æˆ‘!&lt;/button&gt;<br><span class="hljs-comment">//ä¹Ÿå¯å¦å†™å‡½æ•°å®ç°</span><br></code></pre></td></tr></table></figure><br><h1 id="å››ã€JavaScript-HTML-DOM-äº‹ä»¶"><a href="#å››ã€JavaScript-HTML-DOM-äº‹ä»¶" class="headerlink" title="å››ã€JavaScript HTML DOM äº‹ä»¶"></a>å››ã€JavaScript HTML DOM äº‹ä»¶</h1><p>HTML DOM ä½¿ JavaScript æœ‰èƒ½åŠ›å¯¹ HTML äº‹ä»¶åšå‡ºååº”ã€‚</p><p>HTML äº‹ä»¶çš„ä¾‹å­ï¼š</p><ul><li><p>å½“ç”¨æˆ·è§¦å‘æŒ‰é”®æ—¶â€”â€”<code>&lt;h1 onclick=&quot;this.innerHTML=&#39;Ooops!&#39;&quot;&gt;ç‚¹å‡»æ–‡æœ¬!&lt;/h1&gt; </code></p></li><li><p>å½“ç½‘é¡µå·²åŠ è½½æ—¶â€”â€”<code>&lt;body onload=&quot;checkCookies()&quot;&gt;</code></p></li><li><p>å½“é¼ æ ‡ç§»åŠ¨åˆ°å…ƒç´ ä¸Šæ—¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;div onmouseover=<span class="hljs-string">&quot;mOver(this)&quot;</span> onmouseout=<span class="hljs-string">&quot;mOut(this)&quot;</span>&gt;Mouse Over Me&lt;/div&gt;<br></code></pre></td></tr></table></figure></li><li><p>å½“è¾“å…¥å­—æ®µè¢«æ”¹å˜æ—¶</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">è¾“å…¥ä½ çš„åå­—: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fname&quot;</span> <span class="hljs-attr">onchange</span>=<span class="hljs-string">&quot;myFunction()&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“ä½ ç¦»å¼€è¾“å…¥æ¡†åï¼Œå‡½æ•°å°†è¢«è§¦å‘ï¼Œå°†å°å†™å­—æ¯è½¬ä¸ºå¤§å†™å­—æ¯ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br></code></pre></td></tr></table></figure></li><li><p>å½“æäº¤ HTML è¡¨å•æ—¶</p></li><li><p>å½“ç”¨æˆ·ç‚¹å‡»é¼ æ ‡æ—¶</p></li></ul><br><h1 id="äº”ã€JavaScript-HTML-DOM-EventListener"><a href="#äº”ã€JavaScript-HTML-DOM-EventListener" class="headerlink" title="äº”ã€JavaScript HTML DOM EventListener"></a>äº”ã€JavaScript HTML DOM EventListener</h1><h4 id="addEventListener-æ–¹æ³•ï¼šå‘æŒ‡å®šå…ƒç´ æ·»åŠ äº‹ä»¶å¥æŸ„"><a href="#addEventListener-æ–¹æ³•ï¼šå‘æŒ‡å®šå…ƒç´ æ·»åŠ äº‹ä»¶å¥æŸ„" class="headerlink" title="addEventListener()æ–¹æ³•ï¼šå‘æŒ‡å®šå…ƒç´ æ·»åŠ äº‹ä»¶å¥æŸ„"></a>addEventListener()æ–¹æ³•ï¼šå‘æŒ‡å®šå…ƒç´ æ·»åŠ äº‹ä»¶å¥æŸ„</h4><p><strong>è¯­æ³•:</strong></p><p><code>element.addEventListener(event, function, useCapture);</code></p><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯äº‹ä»¶çš„ç±»å‹ (å¦‚ â€œclickâ€ æˆ– â€œmousedownâ€).</p><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯äº‹ä»¶è§¦å‘åè°ƒç”¨çš„å‡½æ•°ã€‚</p><p>ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ä¸ªå¸ƒå°”å€¼ç”¨äºæè¿°äº‹ä»¶æ˜¯å†’æ³¡è¿˜æ˜¯æ•è·ã€‚è¯¥å‚æ•°æ˜¯å¯é€‰çš„ã€‚</p><p>eg:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;body&gt;<br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¯¥å®ä¾‹ä½¿ç”¨ addEventListener() æ–¹æ³•åœ¨æŒ‰é’®ä¸­æ·»åŠ ç‚¹å‡»äº‹ä»¶ã€‚ <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myBtn&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="javascript"><span class="xml"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;myBtn&quot;</span>).addEventListener(<span class="hljs-string">&quot;click&quot;</span>, displayDate);</span></span><br><span class="javascript"><span class="xml"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayDate</span>(<span class="hljs-params"></span>) </span>&#123;</span></span><br><span class="javascript"><span class="xml">    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;demo&quot;</span>).innerHTML = <span class="hljs-string">&quot;å½“å‰æ—¶é—´ï¼š&quot;</span> + <span class="hljs-built_in">Date</span>();</span></span><br><span class="javascript"><span class="xml">&#125;</span></span><br><span class="javascript"><span class="xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br>&lt;/body&gt;<br></code></pre></td></tr></table></figure><h4 id="removeEventListener-æ–¹æ³•ï¼šç§»é™¤ç”±-addEventListener-æ–¹æ³•æ·»åŠ çš„äº‹ä»¶å¥æŸ„"><a href="#removeEventListener-æ–¹æ³•ï¼šç§»é™¤ç”±-addEventListener-æ–¹æ³•æ·»åŠ çš„äº‹ä»¶å¥æŸ„" class="headerlink" title="removeEventListener() æ–¹æ³•ï¼šç§»é™¤ç”± addEventListener() æ–¹æ³•æ·»åŠ çš„äº‹ä»¶å¥æŸ„"></a>removeEventListener() æ–¹æ³•ï¼šç§»é™¤ç”± addEventListener() æ–¹æ³•æ·»åŠ çš„äº‹ä»¶å¥æŸ„</h4><p>eg:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">element.removeEventListener(<span class="hljs-string">&quot;mousemove&quot;</span>, myFunction);<br></code></pre></td></tr></table></figure><br><h1 id="å…­ã€JavaScript-HTML-DOM-å…ƒç´ -èŠ‚ç‚¹"><a href="#å…­ã€JavaScript-HTML-DOM-å…ƒç´ -èŠ‚ç‚¹" class="headerlink" title="å…­ã€JavaScript HTML DOM å…ƒç´  (èŠ‚ç‚¹)"></a>å…­ã€JavaScript HTML DOM å…ƒç´  (èŠ‚ç‚¹)</h1><h3 id="åˆ›å»ºæ–°çš„-HTML-å…ƒç´ -èŠ‚ç‚¹"><a href="#åˆ›å»ºæ–°çš„-HTML-å…ƒç´ -èŠ‚ç‚¹" class="headerlink" title="åˆ›å»ºæ–°çš„ HTML å…ƒç´  (èŠ‚ç‚¹)"></a>åˆ›å»ºæ–°çš„ HTML å…ƒç´  (èŠ‚ç‚¹)</h3><h4 id="ï¼ˆ1ï¼‰appendChild-æ·»åŠ æ–°å…ƒç´ åˆ°å°¾éƒ¨"><a href="#ï¼ˆ1ï¼‰appendChild-æ·»åŠ æ–°å…ƒç´ åˆ°å°¾éƒ¨" class="headerlink" title="ï¼ˆ1ï¼‰appendChild() æ·»åŠ æ–°å…ƒç´ åˆ°å°¾éƒ¨"></a>ï¼ˆ1ï¼‰appendChild() æ·»åŠ æ–°å…ƒç´ åˆ°å°¾éƒ¨</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>111<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>222<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-keyword">var</span> para = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;p&quot;</span>);<span class="hljs-comment">//åˆ›å»º &lt;p&gt; å…ƒç´ </span></span><br><span class="javascript"><span class="hljs-keyword">var</span> node = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">&quot;666&quot;</span>);<span class="hljs-comment">//ä¸º&lt;p&gt;å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡æœ¬èŠ‚ç‚¹</span></span><br><span class="javascript">para.appendChild(node);<span class="hljs-comment">//å°†æ–‡æœ¬èŠ‚ç‚¹æ·»åŠ åˆ° &lt;p&gt; å…ƒç´ ä¸­ï¼š</span></span><br><span class="javascript"><span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;div1&quot;</span>);<span class="hljs-comment">//åœ¨ä¸€ä¸ªå·²å­˜åœ¨çš„å…ƒç´ ä¸­æ·»åŠ  p å…ƒç´ </span></span><br><span class="javascript">element.appendChild(para);<span class="hljs-comment">//æ·»åŠ åˆ°å·²å­˜åœ¨çš„å…ƒç´ ä¸­</span></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰insertBefore-å°†æ–°å…ƒç´ æ·»åŠ åˆ°å¼€å§‹ä½ç½®"><a href="#ï¼ˆ2ï¼‰insertBefore-å°†æ–°å…ƒç´ æ·»åŠ åˆ°å¼€å§‹ä½ç½®" class="headerlink" title="ï¼ˆ2ï¼‰insertBefore() å°†æ–°å…ƒç´ æ·»åŠ åˆ°å¼€å§‹ä½ç½®"></a>ï¼ˆ2ï¼‰insertBefore() å°†æ–°å…ƒç´ æ·»åŠ åˆ°å¼€å§‹ä½ç½®</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>222<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>333<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-keyword">var</span> para = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;p&quot;</span>);</span><br><span class="javascript"><span class="hljs-keyword">var</span> node = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">&quot;000&quot;</span>);</span><br><span class="javascript">para.appendChild(node);</span><br><span class="javascript"> </span><br><span class="javascript"><span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;div1&quot;</span>);</span><br><span class="javascript"><span class="hljs-keyword">var</span> child = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;p1&quot;</span>);</span><br><span class="javascript">element.insertBefore(para, child);</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="ç§»é™¤å·²å­˜åœ¨çš„å…ƒç´ "><a href="#ç§»é™¤å·²å­˜åœ¨çš„å…ƒç´ " class="headerlink" title="ç§»é™¤å·²å­˜åœ¨çš„å…ƒç´ "></a>ç§»é™¤å·²å­˜åœ¨çš„å…ƒç´ </h3><p>æ³¨ï¼šè¦ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼Œä½ éœ€è¦çŸ¥é“è¯¥å…ƒç´ çš„çˆ¶å…ƒç´ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>è¿™æ˜¯å¦å¤–ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-keyword">var</span> parent = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;div1&quot;</span>);</span><br><span class="javascript"><span class="hljs-keyword">var</span> child = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;p1&quot;</span>);</span><br><span class="javascript">parent.removeChild(child);<span class="hljs-comment">//è¦ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼Œä½ éœ€è¦çŸ¥é“è¯¥å…ƒç´ çš„çˆ¶å…ƒç´ ã€‚</span></span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="æ›¿æ¢-HTML-å…ƒç´ -replaceChild"><a href="#æ›¿æ¢-HTML-å…ƒç´ -replaceChild" class="headerlink" title="æ›¿æ¢ HTML å…ƒç´  - replaceChild()"></a>æ›¿æ¢ HTML å…ƒç´  - replaceChild()</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªæ®µè½<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>è¿™æ˜¯å¦å¤–ä¸€ä¸ªæ®µè½<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br> <br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-keyword">var</span> para = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&quot;p&quot;</span>);</span><br><span class="javascript"><span class="hljs-keyword">var</span> node = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">&quot;666&quot;</span>);<span class="hljs-comment">//æ›¿æ¢ p1 æ ‡ç­¾</span></span><br><span class="javascript">para.appendChild(node);</span><br><span class="javascript"> </span><br><span class="javascript"><span class="hljs-keyword">var</span> parent = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;div1&quot;</span>);</span><br><span class="javascript"><span class="hljs-keyword">var</span> child = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;p1&quot;</span>);</span><br><span class="javascript">parent.replaceChild(para, child);</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h1 id="ä¸ƒã€JavaScript-HTMLCollection-å¯¹è±¡"><a href="#ä¸ƒã€JavaScript-HTMLCollection-å¯¹è±¡" class="headerlink" title="ä¸ƒã€JavaScript  HTMLCollection å¯¹è±¡"></a>ä¸ƒã€JavaScript  HTMLCollection å¯¹è±¡</h1><p><strong>HTMLCollection</strong> è¡¨ç¤º HTML å…ƒç´ çš„é›†åˆã€‚</p><p>getElementsByTagName() æ–¹æ³•è¿”å› HTMLCollection å¯¹è±¡ã€‚ </p><p>HTMLCollection å¯¹è±¡ç±»ä¼¼äºä¸€ä¸ªåŒ…å« HTML å…ƒç´ çš„ï¼ˆä¼ªï¼‰æ•°ç»„ã€‚</p><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>HTMLCollection<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>JavaScript HTML DOM<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello World!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello Runoob!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç‚¹å‡»æŒ‰é’®ä¿®æ”¹ p å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span>&gt;</span>ä¿®æ”¹é¢œè‰²<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-keyword">var</span> myCollection = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&quot;p&quot;</span>);</span><br><span class="javascript">    <span class="hljs-keyword">var</span> i;</span><br><span class="javascript">    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; myCollection.length; i++) &#123;</span><br><span class="javascript">        myCollection[i].style.color = <span class="hljs-string">&quot;orange&quot;</span>;</span><br><span class="javascript">    &#125;</span><br><span class="javascript">&#125;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong></p><ul><li><p><strong>HTMLCollection ä¸æ˜¯çœŸæ­£çš„æ•°ç»„ï¼</strong></p></li><li><p>HTMLCollection çœ‹èµ·æ¥å¯èƒ½æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä½†å…¶å®ä¸æ˜¯ã€‚</p></li><li><p>ä½ å¯ä»¥åƒæ•°ç»„ä¸€æ ·ï¼Œä½¿ç”¨<strong>ç´¢å¼•</strong>(ä»¥0ä¸ºèµ·å§‹)æ¥è·å–å…ƒç´ ã€‚</p></li><li><p>HTMLCollection æ— æ³•ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼š valueOf(), pop(), push(), æˆ– join() ã€‚</p></li></ul><br><h1 id="å…«ã€JavaScript-NodeList-å¯¹è±¡"><a href="#å…«ã€JavaScript-NodeList-å¯¹è±¡" class="headerlink" title="å…«ã€JavaScript NodeList å¯¹è±¡"></a>å…«ã€JavaScript <strong>NodeList</strong> å¯¹è±¡</h1><p><strong>NodeList</strong> å¯¹è±¡æ˜¯ä¸€ä¸ªä»æ–‡æ¡£ä¸­è·å–çš„èŠ‚ç‚¹åˆ—è¡¨ (é›†åˆ) ã€‚</p><p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> myNodelist = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&quot;p&quot;</span>);<br><span class="hljs-keyword">var</span> i;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; myNodelist.length; i++) &#123;<br>    myNodelist[i].style.backgroundColor = <span class="hljs-string">&quot;red&quot;</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="HTMLCollection-ä¸-NodeList-çš„å¯¹æ¯”"><a href="#HTMLCollection-ä¸-NodeList-çš„å¯¹æ¯”" class="headerlink" title="HTMLCollection ä¸ NodeList çš„å¯¹æ¯”"></a>HTMLCollection ä¸ NodeList çš„å¯¹æ¯”</h4><p>HTMLCollectionæ˜¯ HTML å…ƒç´ çš„é›†åˆã€‚</p><p>NodeList æ˜¯ä¸€ä¸ªæ–‡æ¡£èŠ‚ç‚¹çš„é›†åˆï¼ˆéæ•°ç»„ï¼‰ã€‚</p><p>NodeList ä¸ HTMLCollection æœ‰å¾ˆå¤šç±»ä¼¼çš„åœ°æ–¹ã€‚</p><p>NodeList ä¸ HTMLCollection éƒ½ä¸æ•°ç»„å¯¹è±¡æœ‰ç‚¹ç±»ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨ç´¢å¼• (0, 1, 2, 3, 4, â€¦) æ¥è·å–å…ƒç´ ã€‚</p><p>NodeList ä¸ HTMLCollection éƒ½æœ‰ length å±æ€§ã€‚</p><p>HTMLCollection å…ƒç´ å¯ä»¥é€šè¿‡ nameï¼Œid æˆ–ç´¢å¼•æ¥è·å–ã€‚</p><p>NodeList åªèƒ½é€šè¿‡ç´¢å¼•æ¥è·å–ã€‚</p><p>åªæœ‰ NodeList å¯¹è±¡æœ‰åŒ…å«å±æ€§èŠ‚ç‚¹å’Œæ–‡æœ¬èŠ‚ç‚¹ã€‚</p><p>éƒ½æ— æ³•ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•ï¼š valueOf(), pop(), push(), æˆ– join() ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>JavaScript å¼‚æ­¥ç¼–ç¨‹</title>
    <link href="/2021/10/26/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/JavaScript%20%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/"/>
    <url>/2021/10/26/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/JavaScript%20%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="JavaScript-å¼‚æ­¥ç¼–ç¨‹"><a href="#JavaScript-å¼‚æ­¥ç¼–ç¨‹" class="headerlink" title="JavaScript å¼‚æ­¥ç¼–ç¨‹"></a>JavaScript å¼‚æ­¥ç¼–ç¨‹</h1><p>åŒæ­¥æŒ‰ä½ çš„ä»£ç é¡ºåºæ‰§è¡Œï¼Œå¼‚æ­¥ä¸æŒ‰ç…§ä»£ç é¡ºåºæ‰§è¡Œï¼Œå¼‚æ­¥çš„æ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</p><p>å¼‚æ­¥å°±æ˜¯ä»ä¸»çº¿ç¨‹å‘å°„ä¸€ä¸ª<strong>å­çº¿ç¨‹</strong>æ¥å®Œæˆä»»åŠ¡ã€‚</p><img src="/images/image-20211026103149833.png" alt="image-20211026103149833" style="zoom:33%;"><p>å¼‚æ­¥ç¼–ç¨‹ï¼š</p><p>æˆ‘ä»¬å¸¸å¸¸ç”¨å­çº¿ç¨‹æ¥å®Œæˆä¸€äº›å¯èƒ½æ¶ˆè€—æ—¶é—´è¶³å¤Ÿé•¿ä»¥è‡³äºè¢«ç”¨æˆ·å¯Ÿè§‰çš„äº‹æƒ…ï¼Œæ¯”å¦‚è¯»å–ä¸€ä¸ªå¤§æ–‡ä»¶æˆ–è€…å‘å‡ºä¸€ä¸ªç½‘ç»œè¯·æ±‚ã€‚å› ä¸ºå­çº¿ç¨‹ç‹¬ç«‹äºä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥å³ä½¿å‡ºç°é˜»å¡ä¹Ÿä¸ä¼šå½±å“ä¸»çº¿ç¨‹çš„è¿è¡Œã€‚ä½†æ˜¯å­çº¿ç¨‹æœ‰ä¸€ä¸ªå±€é™ï¼šä¸€æ—¦å‘å°„äº†ä»¥åå°±ä¼šä¸ä¸»çº¿ç¨‹å¤±å»åŒæ­¥ï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šå®ƒçš„ç»“æŸï¼Œå¦‚æœç»“æŸä¹‹åéœ€è¦å¤„ç†ä¸€äº›äº‹æƒ…ï¼Œæ¯”å¦‚å¤„ç†æ¥è‡ªæœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•å°†å®ƒåˆå¹¶åˆ°ä¸»çº¿ç¨‹ä¸­å»çš„ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavaScript ä¸­çš„å¼‚æ­¥æ“ä½œå‡½æ•°å¾€å¾€é€šè¿‡<strong>å›è°ƒå‡½æ•°</strong>æ¥å®ç°<strong>å¼‚æ­¥ä»»åŠ¡çš„ç»“æœå¤„ç†</strong>ã€‚</p><h3 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h3><p>å›è°ƒå‡½æ•°å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ˜¯åœ¨æˆ‘ä»¬å¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡çš„æ—¶å€™å°±å‘Šè¯‰å®ƒï¼šç­‰ä½ å®Œæˆäº†è¿™ä¸ªä»»åŠ¡ä¹‹åè¦å¹²ä»€ä¹ˆã€‚è¿™æ ·ä¸€æ¥ä¸»çº¿ç¨‹å‡ ä¹ä¸ç”¨å…³å¿ƒå¼‚æ­¥ä»»åŠ¡çš„çŠ¶æ€äº†ï¼Œä»–è‡ªå·±ä¼šå–„å§‹å–„ç»ˆã€‚</p><br><p>eg1: è¿™æ®µç¨‹åºä¸­çš„ setTimeout å°±æ˜¯ä¸€ä¸ªæ¶ˆè€—æ—¶é—´è¾ƒé•¿ï¼ˆ3 ç§’ï¼‰çš„è¿‡ç¨‹ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªå›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¯«ç§’æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ‰§è¡Œä¹‹åä¼šäº§ç”Ÿä¸€ä¸ªå­çº¿ç¨‹ï¼Œå­çº¿ç¨‹ä¼šç­‰å¾… 3 ç§’ï¼Œç„¶åæ‰§è¡Œå›è°ƒå‡½æ•° â€œprintâ€ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å›è°ƒå‡½æ•°ç­‰å¾… 3 ç§’åæ‰§è¡Œã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">print</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;demo&quot;</span>).innerHTML=<span class="hljs-string">&quot;RUNOOB!&quot;</span>;</span><br><span class="javascript">&#125;</span><br><span class="javascript"><span class="hljs-built_in">setTimeout</span>(print, <span class="hljs-number">3000</span>);</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><p>eg2: setTimeout ä¼šåœ¨å­çº¿ç¨‹ä¸­ç­‰å¾… 3 ç§’ï¼Œåœ¨ setTimeout å‡½æ•°æ‰§è¡Œä¹‹åä¸»çº¿ç¨‹å¹¶æ²¡æœ‰åœæ­¢ï¼Œæ‰€ä»¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å›è°ƒå‡½æ•°ç­‰å¾… 3 ç§’åæ‰§è¡Œã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;demo1&quot;</span>).innerHTML=<span class="hljs-string">&quot;RUNOOB-1!&quot;</span>;</span><br><span class="javascript">&#125;, <span class="hljs-number">3000</span>);</span><br><span class="javascript"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;demo2&quot;</span>).innerHTML=<span class="hljs-string">&quot;RUNOOB-2!&quot;</span>;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¾“å‡ºæƒ…å†µï¼š</p><p>å…ˆå‡ºç°ï¼š<img src="/images/image-20211026104045507.png" alt="image-20211026104045507" style="zoom:33%;"></p><p>ç»è¿‡3ç§’ï¼š<img src="/images/image-20211026104105754.png" alt="image-20211026104105754" style="zoom:33%;"></p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>document.writeè¦†ç›–é—®é¢˜</title>
    <link href="/2021/10/23/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/document.write%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98/"/>
    <url>/2021/10/23/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/document.write%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>å»ºè®®ä½¿ç”¨ document.write() ä»…ä»…å‘æ–‡æ¡£è¾“å‡ºå†™å†…å®¹ã€‚</p><p>å¦‚æœåœ¨<strong>æ–‡æ¡£å·²å®ŒæˆåŠ è½½</strong>åæ‰§è¡Œ document.writeï¼ˆå¦‚<u>å‡½æ•°è°ƒç”¨</u>ï¼‰ï¼Œ<strong>æ•´ä¸ª HTML é¡µé¢å°†è¢«è¦†ç›–</strong>ã€‚</p><p>egï¼š</p><p>æ— è¦†ç›–çš„æƒ…å†µï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ª Web é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-built_in">document</span>.write(<span class="hljs-built_in">Date</span>());</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><p>å‘ç”Ÿè¦†ç›–çš„æƒ…å†µï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ª Web é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span>(<span class="hljs-params"></span>) </span></span><br><span class="hljs-function"><span class="javascript"></span>&#123;</span><br><span class="javascript">    <span class="hljs-built_in">document</span>.write(<span class="hljs-built_in">Date</span>());</span><br><span class="javascript">&#125;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><p>è§£å†³è¦†ç›–é—®é¢˜â€”â€”åˆ©ç”¨innerHTMLä¿®æ”¹å…ƒç´ çš„ HTML å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span> <br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>èœé¸Ÿæ•™ç¨‹(runoob.com)<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> <br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ª Web é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;data&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-comment">&lt;!--æ—¥æœŸ--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;myFunction()&quot;</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span>(<span class="hljs-params"></span>) </span></span><br><span class="hljs-function"><span class="javascript"></span>&#123;</span><br><span class="javascript"><span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;data&quot;</span>).innerHTML = <span class="hljs-built_in">Date</span>();</span><br><span class="javascript">&#125;</span><br><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å“åº”å¼Webè®¾è®¡æ¡†æ¶-Minimalist-Bootstrap</title>
    <link href="/2021/10/22/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/%E5%93%8D%E5%BA%94%E5%BC%8FWeb%E8%AE%BE%E8%AE%A1%E6%A1%86%E6%9E%B6-Minimalist-Bootstrap/"/>
    <url>/2021/10/22/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/%E5%93%8D%E5%BA%94%E5%BC%8FWeb%E8%AE%BE%E8%AE%A1%E6%A1%86%E6%9E%B6-Minimalist-Bootstrap/</url>
    
    <content type="html"><![CDATA[<h3 id="å“åº”å¼ç½‘é¡µè®¾è®¡"><a href="#å“åº”å¼ç½‘é¡µè®¾è®¡" class="headerlink" title="å“åº”å¼ç½‘é¡µè®¾è®¡"></a><strong>å“åº”å¼ç½‘é¡µè®¾è®¡</strong></h3><p>é¡µé¢çš„è®¾è®¡ä¸å¼€å‘æ ¹æ®ç”¨æˆ·è¡Œä¸ºä»¥åŠè®¾å¤‡ç¯å¢ƒ(ç³»ç»Ÿå¹³å°ã€å±å¹•å°ºå¯¸ã€å±å¹•å®šå‘ç­‰)è¿›è¡Œç›¸åº”çš„å“åº”å’Œè°ƒæ•´ç§°ä¹‹ä¸ºå“åº”å¼ Web è®¾è®¡ã€‚</p><ul><li><p>å“åº”å¼ Web è®¾è®¡è®©ä½ çš„ç½‘é¡µèƒ½åœ¨æ‰€æœ‰è®¾å¤‡ä¸Šæœ‰å¥½æ˜¾ç¤ºã€‚</p></li><li><p>å“åº”å¼ Web è®¾è®¡åªä½¿ç”¨ HTML å’Œ CSSã€‚</p></li><li><p>å“åº”å¼ Web è®¾è®¡ä¸æ˜¯ä¸€ä¸ªç¨‹åºæˆ–Javascriptè„šæœ¬ã€‚</p></li><li><p>å‹å¥½çš„ç”¨æˆ·ä½“éªŒæ˜¯ç½‘é¡µå¯ä»¥åœ¨ä»»ä½•è®¾å¤‡ä¸Šå±•ç¤ºå’Œæ“ä½œï¼Œè®¾å¤‡åŒ…æ‹¬æ¡Œé¢ç³»ç»Ÿè®¾å¤‡ï¼Œå¹³æ¿ç”µè„‘ï¼ŒiPhoneç­‰æ‰‹æœºç­‰ã€‚ç½‘é¡µåº”è¯¥æ ¹æ®è®¾å¤‡çš„å¤§å°è‡ªåŠ¨è°ƒæ•´å†…å®¹ã€‚</p><p>å‚è€ƒç½‘å€</p><p><a href="https://www.runoob.com/css/css-rwd-intro.html">https://www.runoob.com/css/css-rwd-intro.html</a></p></li></ul><img src="/images/image-20211022022029729.png" alt="image-20211022022029729" style="zoom: 50%;"><br><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Bootstrap Example<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;jumbotron&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘çš„ç¬¬ä¸€ä¸ª Bootstrap é¡µé¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-sm-4&quot;</span>&gt;</span><br>      ç¬¬ä¸€åˆ—<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-sm-4&quot;</span>&gt;</span><br>      ç¬¬äºŒåˆ—<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-sm-4&quot;</span>&gt;</span><br>      ç¬¬ä¸‰åˆ—<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>HTTP è¯·æ±‚ï¼šGET å¯¹æ¯” POST</title>
    <link href="/2021/10/18/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/HTTP%20%E6%96%B9%E6%B3%95%EF%BC%9AGET%20%E5%AF%B9%E6%AF%94%20POST/"/>
    <url>/2021/10/18/%E5%89%8D%E7%AB%AF%E6%9D%82%E8%AE%B0/HTTP%20%E6%96%B9%E6%B3%95%EF%BC%9AGET%20%E5%AF%B9%E6%AF%94%20POST/</url>
    
    <content type="html"><![CDATA[<h1 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h1><p>è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTPï¼‰=&gt; ä¿è¯å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚</p><p>web æµè§ˆå™¨å¯èƒ½æ˜¯å®¢æˆ·ç«¯ï¼Œè€Œè®¡ç®—æœºä¸Šçš„ç½‘ç»œåº”ç”¨ç¨‹åºä¹Ÿå¯èƒ½ä½œä¸ºæœåŠ¡å™¨ç«¯ã€‚</p><p>egï¼šå®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘æœåŠ¡å™¨æäº¤ HTTP è¯·æ±‚ï¼›æœåŠ¡å™¨å‘å®¢æˆ·ç«¯è¿”å›å“åº”ã€‚å“åº”åŒ…å«å…³äºè¯·æ±‚çš„çŠ¶æ€ä¿¡æ¯ä»¥åŠå¯èƒ½è¢«è¯·æ±‚çš„å†…å®¹ã€‚</p><h2 id="ä¸¤ç§-HTTP-è¯·æ±‚æ–¹æ³•ï¼šGET-å’Œ-POST"><a href="#ä¸¤ç§-HTTP-è¯·æ±‚æ–¹æ³•ï¼šGET-å’Œ-POST" class="headerlink" title="ä¸¤ç§ HTTP è¯·æ±‚æ–¹æ³•ï¼šGET å’Œ POST"></a>ä¸¤ç§ HTTP è¯·æ±‚æ–¹æ³•ï¼šGET å’Œ POST</h2><p>åœ¨å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œè¯·æ±‚-å“åº”æ—¶ï¼Œä¸¤ç§æœ€å¸¸è¢«ç”¨åˆ°çš„æ–¹æ³•æ˜¯ï¼šGET å’Œ POSTã€‚</p><ul><li><strong>GET</strong> - ä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚</li><li><strong>POST</strong> - å‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®ã€‚</li></ul><h2 id="GET-æ–¹æ³•"><a href="#GET-æ–¹æ³•" class="headerlink" title="GET æ–¹æ³•"></a>GET æ–¹æ³•</h2><p><strong>è¯·æ³¨æ„ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆé”®å€¼å¯¹ï¼‰æ˜¯åœ¨ GET è¯·æ±‚çš„ URL ä¸­å‘é€çš„ï¼š</strong></p><p>/test/demo_form.php**?name1=value1&amp;name2=value2**</p><ul><li>GET è¯·æ±‚å¯è¢«ç¼“å­˜</li><li>GET è¯·æ±‚ä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•ä¸­</li><li>GET è¯·æ±‚å¯è¢«æ”¶è—ä¸ºä¹¦ç­¾</li><li>GET è¯·æ±‚ä¸åº”åœ¨å¤„ç†æ•æ„Ÿæ•°æ®æ—¶ä½¿ç”¨</li><li>GET è¯·æ±‚æœ‰é•¿åº¦é™åˆ¶</li><li>GET è¯·æ±‚åªåº”å½“ç”¨äºå–å›æ•°æ®</li></ul><h2 id="POST-æ–¹æ³•"><a href="#POST-æ–¹æ³•" class="headerlink" title="POST æ–¹æ³•"></a>POST æ–¹æ³•</h2><p><strong>è¯·æ³¨æ„ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆé”®å€¼å¯¹ï¼‰æ˜¯åœ¨ POST è¯·æ±‚çš„ HTTP æ¶ˆæ¯ä¸»ä½“ä¸­å‘é€çš„ï¼š</strong></p><p>POST /test/demo_form.php HTTP/1.1<br>Host: runoob.com<br><strong>name1=value1&amp;name2=value2</strong></p><ul><li>POST è¯·æ±‚ä¸ä¼šè¢«ç¼“å­˜</li><li>POST è¯·æ±‚ä¸ä¼šä¿ç•™åœ¨æµè§ˆå™¨å†å²è®°å½•ä¸­</li><li>POST ä¸èƒ½è¢«æ”¶è—ä¸ºä¹¦ç­¾</li><li>POST è¯·æ±‚å¯¹æ•°æ®é•¿åº¦æ²¡æœ‰è¦æ±‚</li></ul><br><p>Form ä¸­çš„ get å’Œ post æ–¹æ³•ï¼Œåœ¨æ•°æ®ä¼ è¾“è¿‡ç¨‹ä¸­åˆ†åˆ«å¯¹åº”äº† HTTP åè®®ä¸­çš„ GET å’Œ POST æ–¹æ³•ã€‚äºŒè€…ä¸»è¦åŒºåˆ«å¦‚ä¸‹ï¼š</p><p>1ã€Get æ˜¯ç”¨æ¥ä»æœåŠ¡å™¨ä¸Šè·å¾—æ•°æ®ï¼Œè€Œ Post æ˜¯ç”¨æ¥å‘æœåŠ¡å™¨ä¸Šä¼ é€’æ•°æ®ã€‚</p><h4 id="2ã€Get-å°†è¡¨å•ä¸­æ•°æ®çš„æŒ‰ç…§-variable-value-çš„å½¢å¼ï¼Œæ·»åŠ åˆ°-action-æ‰€æŒ‡å‘çš„-URL-åé¢ï¼Œå¹¶ä¸”ä¸¤è€…ä½¿ç”¨â€œ-â€è¿æ¥ï¼Œè€Œå„ä¸ªå˜é‡ä¹‹é—´ä½¿ç”¨â€œ-amp-â€è¿æ¥ï¼›Post-æ˜¯å°†è¡¨å•ä¸­çš„æ•°æ®æ”¾åœ¨-form-çš„æ•°æ®ä½“ä¸­ï¼ŒæŒ‰ç…§å˜é‡å’Œå€¼ç›¸å¯¹åº”çš„æ–¹å¼ï¼Œä¼ é€’åˆ°-action-æ‰€æŒ‡å‘-URLã€‚"><a href="#2ã€Get-å°†è¡¨å•ä¸­æ•°æ®çš„æŒ‰ç…§-variable-value-çš„å½¢å¼ï¼Œæ·»åŠ åˆ°-action-æ‰€æŒ‡å‘çš„-URL-åé¢ï¼Œå¹¶ä¸”ä¸¤è€…ä½¿ç”¨â€œ-â€è¿æ¥ï¼Œè€Œå„ä¸ªå˜é‡ä¹‹é—´ä½¿ç”¨â€œ-amp-â€è¿æ¥ï¼›Post-æ˜¯å°†è¡¨å•ä¸­çš„æ•°æ®æ”¾åœ¨-form-çš„æ•°æ®ä½“ä¸­ï¼ŒæŒ‰ç…§å˜é‡å’Œå€¼ç›¸å¯¹åº”çš„æ–¹å¼ï¼Œä¼ é€’åˆ°-action-æ‰€æŒ‡å‘-URLã€‚" class="headerlink" title="2ã€Get å°†è¡¨å•ä¸­æ•°æ®çš„æŒ‰ç…§ variable=value çš„å½¢å¼ï¼Œæ·»åŠ åˆ° action æ‰€æŒ‡å‘çš„ URL åé¢ï¼Œå¹¶ä¸”ä¸¤è€…ä½¿ç”¨â€œ?â€è¿æ¥ï¼Œè€Œå„ä¸ªå˜é‡ä¹‹é—´ä½¿ç”¨â€œ&amp;â€è¿æ¥ï¼›Post æ˜¯å°†è¡¨å•ä¸­çš„æ•°æ®æ”¾åœ¨ form çš„æ•°æ®ä½“ä¸­ï¼ŒæŒ‰ç…§å˜é‡å’Œå€¼ç›¸å¯¹åº”çš„æ–¹å¼ï¼Œä¼ é€’åˆ° action æ‰€æŒ‡å‘ URLã€‚"></a>2ã€Get å°†è¡¨å•ä¸­æ•°æ®çš„æŒ‰ç…§ variable=value çš„å½¢å¼ï¼Œæ·»åŠ åˆ° action æ‰€æŒ‡å‘çš„ <strong>URL</strong> åé¢ï¼Œå¹¶ä¸”ä¸¤è€…ä½¿ç”¨â€œ?â€è¿æ¥ï¼Œè€Œå„ä¸ªå˜é‡ä¹‹é—´ä½¿ç”¨â€œ&amp;â€è¿æ¥ï¼›Post æ˜¯å°†è¡¨å•ä¸­çš„æ•°æ®æ”¾åœ¨ <strong>form</strong> çš„æ•°æ®ä½“ä¸­ï¼ŒæŒ‰ç…§å˜é‡å’Œå€¼ç›¸å¯¹åº”çš„æ–¹å¼ï¼Œä¼ é€’åˆ° action æ‰€æŒ‡å‘ URLã€‚</h4><p>3ã€Get æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºåœ¨ä¼ è¾“è¿‡ç¨‹ï¼Œæ•°æ®è¢«æ”¾åœ¨è¯·æ±‚çš„ URL ä¸­ï¼Œè€Œå¦‚ä»Šç°æœ‰çš„å¾ˆå¤šæœåŠ¡å™¨ã€ä»£ç†æœåŠ¡å™¨æˆ–è€…ç”¨æˆ·ä»£ç†éƒ½ä¼šå°†è¯·æ±‚URLè®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œç„¶åæ”¾åœ¨æŸä¸ªåœ°æ–¹ï¼Œè¿™æ ·å°±å¯èƒ½ä¼šæœ‰ä¸€äº›éšç§çš„ä¿¡æ¯è¢«ç¬¬ä¸‰æ–¹çœ‹åˆ°ã€‚å¦å¤–ï¼Œç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨æµè§ˆå™¨ä¸Šç›´æ¥çœ‹åˆ°æäº¤çš„æ•°æ®ï¼Œä¸€äº›ç³»ç»Ÿå†…éƒ¨æ¶ˆæ¯å°†ä¼šä¸€åŒæ˜¾ç¤ºåœ¨ç”¨æˆ·é¢å‰ã€‚Post çš„æ‰€æœ‰æ“ä½œå¯¹ç”¨æˆ·æ¥è¯´éƒ½æ˜¯ä¸å¯è§çš„ã€‚</p><p>4ã€Get ä¼ è¾“çš„æ•°æ®é‡å°ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºå— URL é•¿åº¦é™åˆ¶ï¼›è€Œ Post å¯ä»¥ä¼ è¾“å¤§é‡çš„æ•°æ®ï¼Œæ‰€ä»¥åœ¨ä¸Šä¼ æ–‡ä»¶åªèƒ½ä½¿ç”¨ Postï¼ˆå½“ç„¶è¿˜æœ‰ä¸€ä¸ªåŸå› ï¼Œå°†åœ¨åé¢çš„æåˆ°ï¼‰ã€‚</p><p>5ã€Get æ˜¯ Form çš„é»˜è®¤æ–¹æ³•ã€‚</p><br><table><thead><tr><th align="center"></th><th align="left">GET</th><th align="left">POST</th></tr></thead><tbody><tr><td align="center">åé€€æŒ‰é’®/åˆ·æ–°</td><td align="left">æ— å®³</td><td align="left">æ•°æ®ä¼šè¢«é‡æ–°æäº¤ï¼ˆæµè§ˆå™¨åº”è¯¥å‘ŠçŸ¥ç”¨æˆ·æ•°æ®ä¼šè¢«é‡æ–°æäº¤ï¼‰ã€‚</td></tr><tr><td align="center">ä¹¦ç­¾</td><td align="left">å¯æ”¶è—ä¸ºä¹¦ç­¾</td><td align="left">ä¸å¯æ”¶è—ä¸ºä¹¦ç­¾</td></tr><tr><td align="center">ç¼“å­˜</td><td align="left">èƒ½è¢«ç¼“å­˜</td><td align="left">ä¸èƒ½ç¼“å­˜</td></tr><tr><td align="center">å†å²</td><td align="left">å‚æ•°ä¿ç•™åœ¨æµè§ˆå™¨å†å²ä¸­ã€‚</td><td align="left">å‚æ•°ä¸ä¼šä¿å­˜åœ¨æµè§ˆå™¨å†å²ä¸­ã€‚</td></tr><tr><td align="center">å¯¹æ•°æ®é•¿åº¦çš„é™åˆ¶</td><td align="left">æ˜¯çš„ã€‚å½“å‘é€æ•°æ®æ—¶ï¼ŒGET æ–¹æ³•å‘ URL æ·»åŠ æ•°æ®ï¼›URL çš„é•¿åº¦æ˜¯å—é™åˆ¶çš„ï¼ˆURL çš„æœ€å¤§é•¿åº¦æ˜¯ 2048 ä¸ªå­—ç¬¦ï¼‰ã€‚</td><td align="left">æ— é™åˆ¶ã€‚</td></tr><tr><td align="center">å¯¹æ•°æ®ç±»å‹çš„é™åˆ¶</td><td align="left">åªå…è®¸ ASCII å­—ç¬¦ã€‚</td><td align="left">æ²¡æœ‰é™åˆ¶ã€‚ä¹Ÿå…è®¸äºŒè¿›åˆ¶æ•°æ®ã€‚</td></tr><tr><td align="center">å®‰å…¨æ€§</td><td align="left">ä¸ POST ç›¸æ¯”ï¼ŒGET çš„å®‰å…¨æ€§è¾ƒå·®ï¼Œå› ä¸ºæ‰€å‘é€çš„æ•°æ®æ˜¯ URL çš„ä¸€éƒ¨åˆ†ã€‚  åœ¨å‘é€å¯†ç æˆ–å…¶ä»–æ•æ„Ÿä¿¡æ¯æ—¶ç»ä¸è¦ä½¿ç”¨ GET ï¼</td><td align="left">POST æ¯” GET æ›´å®‰å…¨ï¼Œå› ä¸ºå‚æ•°ä¸ä¼šè¢«ä¿å­˜åœ¨æµè§ˆå™¨å†å²æˆ– web æœåŠ¡å™¨æ—¥å¿—ä¸­ã€‚</td></tr><tr><td align="center">å¯è§æ€§</td><td align="left">æ•°æ®åœ¨ URL ä¸­å¯¹æ‰€æœ‰äººéƒ½æ˜¯å¯è§çš„ã€‚</td><td align="left">æ•°æ®ä¸ä¼šæ˜¾ç¤ºåœ¨ URL ä¸­ã€‚</td></tr></tbody></table><h2 id="å…¶ä»–-HTTP-è¯·æ±‚æ–¹æ³•"><a href="#å…¶ä»–-HTTP-è¯·æ±‚æ–¹æ³•" class="headerlink" title="å…¶ä»– HTTP è¯·æ±‚æ–¹æ³•"></a>å…¶ä»– HTTP è¯·æ±‚æ–¹æ³•</h2><p>ä¸‹é¢çš„è¡¨æ ¼åˆ—å‡ºäº†å…¶ä»–ä¸€äº› HTTP è¯·æ±‚æ–¹æ³•ï¼š</p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">HEAD</td><td align="left">ä¸ GET ç›¸åŒï¼Œä½†åªè¿”å› HTTP æŠ¥å¤´ï¼Œä¸è¿”å›æ–‡æ¡£ä¸»ä½“ã€‚</td></tr><tr><td align="left">PUT</td><td align="left">ä¸Šä¼ æŒ‡å®šçš„ URI è¡¨ç¤ºã€‚</td></tr><tr><td align="left">DELETE</td><td align="left">åˆ é™¤æŒ‡å®šèµ„æºã€‚</td></tr><tr><td align="left">OPTIONS</td><td align="left">è¿”å›æœåŠ¡å™¨æ”¯æŒçš„ HTTP æ–¹æ³•ã€‚</td></tr><tr><td align="left">CONNECT</td><td align="left">æŠŠè¯·æ±‚è¿æ¥è½¬æ¢åˆ°é€æ˜çš„ TCP/IP é€šé“ã€‚</td></tr></tbody></table><p>æºè‡ªï¼š<a href="https://www.runoob.com/tags/html-httpmethods.html">https://www.runoob.com/tags/html-httpmethods.html</a></p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯æ‚è®°</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åŒæºç­–ç•¥ä»¥åŠå®ç°è·¨åŸŸ-AJAX</title>
    <link href="/2021/10/12/AJAX/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E4%BB%A5%E5%8F%8A%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F-AJAX/"/>
    <url>/2021/10/12/AJAX/%E5%90%8C%E6%BA%90%E7%AD%96%E7%95%A5%E4%BB%A5%E5%8F%8A%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%9F%9F-AJAX/</url>
    
    <content type="html"><![CDATA[<h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><ul><li>åŒæºç­–ç•¥(Same-Origin Policy)æœ€æ—©ç”±Netscape å…¬å¸æå‡ºï¼Œæ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨ç­–ç•¥</li><li>åŒæºï¼š åè®®ã€åŸŸåã€ç«¯å£å·å¿…é¡»å®Œå…¨ç›¸åŒ</li><li>è·¨åŸŸï¼š è¿èƒŒåŒæºç­–ç•¥å°±æ˜¯<strong>è·¨åŸŸ</strong></li></ul><h2 id="å¦‚ä½•è§£å†³è·¨åŸŸ"><a href="#å¦‚ä½•è§£å†³è·¨åŸŸ" class="headerlink" title="å¦‚ä½•è§£å†³è·¨åŸŸ"></a>å¦‚ä½•è§£å†³è·¨åŸŸ</h2><h2 id="1ã€JSONP"><a href="#1ã€JSONP" class="headerlink" title="1ã€JSONP"></a>1ã€JSONP</h2><p>JSONP (JSON with Padding)ï¼Œæ˜¯ä¸€ä¸ªéå®˜æ–¹çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œçº¯ç²¹å‡­å€Ÿç¨‹åºå‘˜çš„èªæ˜æ‰æ™ºå¼€å‘å‡ºæ¥ï¼Œ<strong>åªæ”¯æŒget è¯·æ±‚</strong>ã€‚</p><p>åœ¨ç½‘é¡µæœ‰ä¸€äº›æ ‡ç­¾å¤©ç”Ÿå…·æœ‰è·¨åŸŸèƒ½åŠ›ï¼Œæ¯”å¦‚ï¼šimg link iframe scriptã€‚<br>JSONP å°±æ˜¯åˆ©ç”¨<u>script æ ‡ç­¾çš„è·¨åŸŸèƒ½åŠ›</u>æ¥å‘é€è¯·æ±‚çš„ã€‚</p><p><strong>JSONP çš„ä½¿ç”¨</strong></p><p> <a href="https://blog.csdn.net/inite/article/details/80333130">https://blog.csdn.net/inite/article/details/80333130</a></p><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h4 id="å‰ç«¯ï¼ˆ-jQuery-ä¸­çš„JSONPï¼‰ï¼š"><a href="#å‰ç«¯ï¼ˆ-jQuery-ä¸­çš„JSONPï¼‰ï¼š" class="headerlink" title="å‰ç«¯ï¼ˆ jQuery ä¸­çš„JSONPï¼‰ï¼š"></a>å‰ç«¯ï¼ˆ jQuery ä¸­çš„JSONPï¼‰ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>jQuery-jsonp<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span>&#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>:<span class="hljs-number">300px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>:<span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>:solid <span class="hljs-number">1px</span> <span class="hljs-number">#089</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#x27;https://cdn.bootcss.com/jquery/3.5.0/jquery.min.js&#x27;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å‘é€ jsonp è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        $(<span class="hljs-string">&#x27;button&#x27;</span>).eq(<span class="hljs-number">0</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            $.getJSON(<span class="hljs-string">&#x27;http://127.0.0.1:8000/jquery-jsonp?callback=?&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;</span><br><span class="javascript">                $(<span class="hljs-string">&#x27;#result&#x27;</span>).html(<span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="javascript">                    åç§°: <span class="hljs-subst">$&#123;data.name&#125;</span>&lt;br&gt;</span></span><br><span class="hljs-string"><span class="javascript">                    æ ¡åŒº: <span class="hljs-subst">$&#123;data.city&#125;</span></span></span><br><span class="hljs-string"><span class="javascript">                `</span>)</span><br><span class="javascript">            &#125;);</span><br><span class="javascript">        &#125;);</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨åç«¯ï¼š"><a href="#æœåŠ¡å™¨åç«¯ï¼š" class="headerlink" title="æœåŠ¡å™¨åç«¯ï¼š"></a>æœåŠ¡å™¨åç«¯ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1. å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2. åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3. åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">//jsonpæœåŠ¡</span><br>app.all(<span class="hljs-string">&#x27;/jsonp-server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// response.send(&#x27;console.log(&quot;hello jsonp&quot;)&#x27;);</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;anhui&#x27;</span><br>    &#125;;<br>    <span class="hljs-comment">//å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br>    <span class="hljs-comment">//è¿”å›ç»“æœ</span><br>    response.end(<span class="hljs-string">`handle(<span class="hljs-subst">$&#123;str&#125;</span>)`</span>);<br>&#125;);<br><span class="hljs-comment">//ç”¨æˆ·åæ£€æµ‹æ˜¯å¦å­˜åœ¨</span><br>app.all(<span class="hljs-string">&#x27;/check&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>&#125;);<br><br>app.all(<span class="hljs-string">&#x27;/jquery-jsonp&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// response.send(&#x27;console.log(&quot;hello jsonp&quot;)&#x27;);</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;anhui&#x27;</span>,<br>        <span class="hljs-attr">city</span>: [<span class="hljs-string">&#x27;åŒ—äº¬&#x27;</span>,<span class="hljs-string">&#x27;ä¸Šæµ·&#x27;</span>,<span class="hljs-string">&#x27;æ·±åœ³&#x27;</span>]<br>    &#125;;<br>    <span class="hljs-comment">//å°†æ•°æ®è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br>    <span class="hljs-comment">//æ¥æ”¶ callback å‚æ•°</span><br>    <span class="hljs-keyword">let</span> cb = request.query.callback;<br><br>    <span class="hljs-comment">//è¿”å›ç»“æœ</span><br>    response.end(<span class="hljs-string">`<span class="hljs-subst">$&#123;cb&#125;</span>(<span class="hljs-subst">$&#123;str&#125;</span>)`</span>);<br>&#125;);<br><br><br><span class="hljs-comment">//4. ç›‘å¬ç«¯å£å¯åŠ¨æœåŠ¡</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å·²ç»å¯åŠ¨, 8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><br><h2 id="2ã€CORS"><a href="#2ã€CORS" class="headerlink" title="2ã€CORS"></a>2ã€CORS</h2><p>CORSï¼Œè·¨åŸŸèµ„æºå…±äº«ã€‚CORSæ˜¯å®˜æ–¹çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„ç‰¹ç‚¹æ˜¯ä¸éœ€è¦åœ¨å®¢æˆ·ç«¯åšä»»ä½•ç‰¹æ®Šçš„æ“ä½œï¼Œå®Œå…¨åœ¨æœåŠ¡å™¨ä¸­è¿›è¡Œå¤„ç†ï¼Œ<strong>æ”¯æŒgetå’Œpostè¯·æ±‚</strong>ã€‚è·¨åŸŸèµ„æºå…±äº«æ ‡å‡†æ–°å¢äº†ä¸€ç»„HTTPé¦–éƒ¨å­—æ®µï¼Œå…è®¸æœåŠ¡å™¨å£°æ˜å“ªäº›æºç«™é€šè¿‡æµè§ˆå™¨æœ‰æƒé™è®¿é—®å“ªäº›èµ„æºã€‚</p><p>CORSæ˜¯é€šè¿‡è®¾ç½®ä¸€ä¸ª<strong>å“åº”å¤´</strong>æ¥å‘Šè¯‰æµè§ˆå™¨ï¼Œè¯¥è¯·æ±‚å…è®¸è·¨åŸŸï¼Œæµè§ˆå™¨æ”¶åˆ°è¯¥å“åº”ä»¥åå°±ä¼šå¯¹å“åº”æ‰§è¡Œã€‚</p><p><strong>CORSçš„ä½¿ç”¨ï¼š</strong></p><p><a href="https://blog.csdn.net/qq22692150/article/details/99011726?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control">https://blog.csdn.net/qq22692150/article/details/99011726?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.control</a></p><h4 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><h4 id="å‰ç«¯ï¼š"><a href="#å‰ç«¯ï¼š" class="headerlink" title="å‰ç«¯ï¼š"></a>å‰ç«¯ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>CORS<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.19.2/axios.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span>&#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>:<span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>:<span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>:solid <span class="hljs-number">1px</span> <span class="hljs-number">#90b</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>å‘é€è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btn = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;button&#x27;</span>);</span><br><span class="javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;result&#x27;</span>);</span><br><span class="javascript">        btn.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">           axios(&#123;</span><br><span class="javascript">               <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,</span><br><span class="javascript">               <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://localhost:8000/cors-server&#x27;</span>,</span><br><span class="javascript">           &#125;).then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span>&#123;</span><br><span class="javascript">                result.innerHTML = response.data;</span><br><span class="javascript">           &#125;)</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><h4 id="æœåŠ¡å™¨åç«¯ï¼š-1"><a href="#æœåŠ¡å™¨åç«¯ï¼š-1" class="headerlink" title="æœåŠ¡å™¨åç«¯ï¼š"></a>æœåŠ¡å™¨åç«¯ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1. å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2. åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3. åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br><br>app.all(<span class="hljs-string">&#x27;/cors-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>); <span class="hljs-comment">// Origin è¡¨ç¤ºè®¾ç½®è®¿é—®æº</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="hljs-string">&#x27;*&#x27;</span>);<span class="hljs-comment">// * è¡¨ç¤ºå…è®¸æ‰€æœ‰åŸŸåè®¿é—®</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Method&quot;</span>, <span class="hljs-string">&#x27;*&#x27;</span>);<br>    <span class="hljs-comment">// response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;http://127.0.0.1:5500&quot;);</span><br>    response.send(<span class="hljs-string">&#x27;hello CORS&#x27;</span>);<br>&#125;);<br><br><br><span class="hljs-comment">//4. ç›‘å¬ç«¯å£å¯åŠ¨æœåŠ¡</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å·²ç»å¯åŠ¨, 8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Axios-AJAX</title>
    <link href="/2021/10/12/AJAX/Axios-AJAX/"/>
    <url>/2021/10/12/AJAX/Axios-AJAX/</url>
    
    <content type="html"><![CDATA[<h3 id="ä»€ä¹ˆæ˜¯-axiosï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-axiosï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ axiosï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ axiosï¼Ÿ</h3><p>Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚</p><h4 id="ç‰¹æ€§ï¼š"><a href="#ç‰¹æ€§ï¼š" class="headerlink" title="ç‰¹æ€§ï¼š"></a>ç‰¹æ€§ï¼š</h4><ul><li>ä»æµè§ˆå™¨ä¸­åˆ›å»º <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest">XMLHttpRequests</a></li><li>ä» node.js åˆ›å»º <a href="http://nodejs.org/api/http.html">http</a> è¯·æ±‚</li><li>æ”¯æŒ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> API</li><li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</li><li>å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">XSRF</a></li></ul><h4 id="ä½¿ç”¨æ–¹æ³•ï¼š"><a href="#ä½¿ç”¨æ–¹æ³•ï¼š" class="headerlink" title="ä½¿ç”¨æ–¹æ³•ï¼š"></a>ä½¿ç”¨æ–¹æ³•ï¼š</h4><p>â‘ npmå®‰è£…</p><p>â‘¡ä½¿ç”¨CDNé“¾æ¥ï¼ˆæ³¨ï¼šä½¿ç”¨å›½å†…çš„bootcdnï¼‰</p><br><h3 id="Axioså‘é€-AJAX-è¯·æ±‚"><a href="#Axioså‘é€-AJAX-è¯·æ±‚" class="headerlink" title="Axioså‘é€ AJAX è¯·æ±‚"></a>Axioså‘é€ AJAX è¯·æ±‚</h3><p><strong>ä¸‰ç§æ–¹å¼ï¼šaxios.getã€axios.postã€axios()</strong></p><p>(psï¼šaxiosé€šç”¨æ–¹å¼axios()æœ€å¥½ç”¨)</p><h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a>å‰ç«¯ä»£ç ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Axios å‘é€ AJAX è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">crossorigin</span>=<span class="hljs-string">&quot;anonymous&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.btn-btn-primary</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4CAF50</span>;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">            <span class="hljs-attribute">color</span>: white;</span><br><span class="css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="css">        &#125;</span><br><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.btn-btn-danger</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">            <span class="hljs-attribute">color</span>: white;</span><br><span class="css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="css">        &#125;</span><br><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.btn-btn-info</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: blue;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">180px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">            <span class="hljs-attribute">color</span>: white;</span><br><span class="css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;</span>Axioså‘é€AJAXè¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-btn-primary&quot;</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-btn-danger&quot;</span>&gt;</span>POST<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-btn-info&quot;</span>&gt;</span>AJAXé€šç”¨æ–¹å¼å‘é€è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//åˆ©ç”¨ Axios å‘é€ AJAX è¯·æ±‚</span></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btns = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;button&#x27;</span>);</span><br><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//é…ç½®baseURL</span></span><br><span class="javascript">        axios.defaults.baseURL = <span class="hljs-string">&#x27;http://127.0.0.1:8000&#x27;</span>;</span><br><span class="javascript"></span><br><span class="javascript">        btns[<span class="hljs-number">0</span>].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-comment">//GETè¯·æ±‚</span></span><br><span class="javascript">            axios.get(<span class="hljs-string">&#x27;/axios-server&#x27;</span>, &#123;</span><br><span class="javascript">                <span class="hljs-comment">//urlå‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">params</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">id</span>: <span class="hljs-number">100</span>,</span><br><span class="javascript">                    <span class="hljs-attr">vip</span>: <span class="hljs-number">7</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="javascript">                <span class="hljs-attr">headers</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang321&#x27;</span>,</span><br><span class="javascript">                    <span class="hljs-attr">age</span>: <span class="hljs-number">20</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;).then(<span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> &#123; <span class="hljs-comment">//then å›è°ƒï¼ŒæŸ¥çœ‹å¤„ç†åçš„å“åº”ç»“æœ</span></span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(value);</span><br><span class="javascript">            &#125;);</span><br><span class="javascript">        &#125;</span><br><span class="javascript"></span><br><span class="javascript">        btns[<span class="hljs-number">1</span>].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-comment">//POSTè¯·æ±‚</span></span><br><span class="javascript">            <span class="hljs-comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯urlï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯·æ±‚ä½“ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å…¶ä»–é…ç½®</span></span><br><span class="javascript">            axios.post(<span class="hljs-string">&#x27;/axios-server&#x27;</span>, &#123;</span><br><span class="javascript">                <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;wangkkkk&#x27;</span>, <span class="hljs-comment">//è¯·æ±‚ä½“</span></span><br><span class="javascript">                <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;123456&#x27;</span></span><br><span class="javascript">            &#125;, &#123;</span><br><span class="javascript">                <span class="hljs-comment">//å…¶ä»–é…ç½®</span></span><br><span class="javascript">                <span class="hljs-comment">//urlå‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">params</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">id</span>: <span class="hljs-number">100</span>,</span><br><span class="javascript">                    <span class="hljs-attr">vip</span>: <span class="hljs-number">9</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//è¯·æ±‚å¤´å‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">headers</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">height</span>: <span class="hljs-number">185</span>,</span><br><span class="javascript">                    <span class="hljs-attr">weight</span>: <span class="hljs-number">140</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;)</span><br><span class="javascript">        &#125;</span><br><span class="javascript"></span><br><span class="javascript">        btns[<span class="hljs-number">2</span>].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-comment">//AJAXé€šç”¨æ–¹å¼å‘é€è¯·æ±‚</span></span><br><span class="javascript">            axios(&#123;</span><br><span class="javascript">                <span class="hljs-comment">//è¯·æ±‚æ–¹æ³•</span></span><br><span class="javascript">                <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//url</span></span><br><span class="javascript">                <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/axios-server&#x27;</span>,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//urlå‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">params</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">id</span>: <span class="hljs-number">20</span>,</span><br><span class="javascript">                    <span class="hljs-attr">vip</span>: <span class="hljs-number">12</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//å¤´ä¿¡æ¯å‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">headers</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">a</span>: <span class="hljs-number">222</span>,</span><br><span class="javascript">                    <span class="hljs-attr">b</span>: <span class="hljs-number">111</span></span><br><span class="javascript">                &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//è¯·æ±‚ä½“å‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">data</span>: &#123;</span><br><span class="javascript">                    <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;wang777&#x27;</span>,</span><br><span class="javascript">                    <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;91203&#x27;</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;).then(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123; <span class="hljs-comment">//æŸ¥çœ‹è¿”å›ç»“æœ</span></span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response);</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response.status);<span class="hljs-comment">//å“åº”çŠ¶æ€ç </span></span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response.statusText);<span class="hljs-comment">//å“åº”çŠ¶æ€å­—ç¬¦ä¸²</span></span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response.headers);<span class="hljs-comment">//å“åº”å¤´ä¿¡æ¯</span></span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(response.data);<span class="hljs-comment">//å“åº”ä½“</span></span><br><span class="javascript">            &#125;)</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br><br><span class="hljs-comment">//axiosæœåŠ¡</span><br>app.all(<span class="hljs-string">&#x27;/axios-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<span class="hljs-comment">//å…è®¸è‡ªå®šä¹‰å“åº”å¤´ /éœ€ä¸ºallæ–¹æ³•</span><br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    <span class="hljs-keyword">const</span> data = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;wang&#x27;</span>&#125;;<br>    <span class="hljs-comment">// response.send(&quot;Hello axios AJAX&quot;);</span><br>    response.send(<span class="hljs-built_in">JSON</span>.stringify(data));<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/ie&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello IE&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//å»¶æ—¶å“åº”</span><br>app.get(<span class="hljs-string">&#x27;/delay&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®ä¸‰ç§’é’Ÿçš„å»¶æ—¶å“åº”</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>        response.send(<span class="hljs-string">&quot;å»¶æ—¶å“åº”&quot;</span>);<br>    &#125;, <span class="hljs-number">3000</span>);<br><br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>jQuery-AJAX</title>
    <link href="/2021/10/11/AJAX/jQuery-AJAX/"/>
    <url>/2021/10/11/AJAX/jQuery-AJAX/</url>
    
    <content type="html"><![CDATA[<h3 id="jQuery-ç®€ä»‹"><a href="#jQuery-ç®€ä»‹" class="headerlink" title="jQuery ç®€ä»‹"></a>jQuery ç®€ä»‹</h3><p>jQuery æ˜¯ä¸€ä¸ª <strong>JavaScript å‡½æ•°åº“</strong>ã€‚</p><p>jQuery æ˜¯ä¸€ä¸ªè½»é‡çº§çš„â€å†™çš„å°‘ï¼Œåšçš„å¤šâ€çš„ JavaScript åº“ã€‚</p><p>jQuery åº“åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ul><li>HTML å…ƒç´ é€‰å–</li><li>HTML å…ƒç´ æ“ä½œ</li><li>CSS æ“ä½œ</li><li>HTML äº‹ä»¶å‡½æ•°</li><li>JavaScript ç‰¹æ•ˆå’ŒåŠ¨ç”»</li><li>HTML DOM éå†å’Œä¿®æ”¹</li><li>AJAX</li><li>Utilities</li></ul><p>tipsï¼šé™¤æ­¤ä¹‹å¤–ï¼ŒjQuery è¿˜æä¾›äº†å¤§é‡çš„æ’ä»¶ã€‚</p><p>ç›®å‰ç½‘ç»œä¸Šæœ‰å¤§é‡å¼€æºçš„ JS ä»£ç åº“, ä½†æ˜¯ jQuery æ˜¯ç›®å‰æœ€æµè¡Œçš„ JS ä»£ç åº“ï¼Œè€Œä¸”æä¾›äº†å¤§é‡çš„æ‰©å±•ã€‚</p><p>å¾ˆå¤šå¤§å…¬å¸éƒ½åœ¨ä½¿ç”¨ jQueryï¼Œ ä¾‹å¦‚:</p><ul><li>Google</li><li>Microsoft</li><li>IBM</li><li>Netflix</li></ul><br><h4 id="æ·»åŠ jQuery"><a href="#æ·»åŠ jQuery" class="headerlink" title="æ·»åŠ jQuery"></a>æ·»åŠ jQuery</h4><p>è¿›å…¥<a href="https://www.bootcdn.cn/jquery/">https://www.bootcdn.cn/jquery/</a></p><p>å¤åˆ¶é“¾æ¥ç²˜è´´è¿›ä»£ç ä¸­å³å¯ã€‚</p><br><h3 id="jQuery-å‘é€-AJAX-è¯·æ±‚"><a href="#jQuery-å‘é€-AJAX-è¯·æ±‚" class="headerlink" title="jQuery å‘é€ AJAX è¯·æ±‚"></a>jQuery å‘é€ AJAX è¯·æ±‚</h3><p>ä¼˜ç‚¹ï¼šä½¿ç”¨å°è£…å¥½çš„å‡½æ•°ï¼Œä¸éœ€è¦ä½¿ç”¨XMLHttpRequestå¯¹è±¡è¿›è¡Œä¸€ç³»åˆ—çš„æ“ä½œã€‚</p><p><strong>ä¸‰ç§æ–¹å¼ï¼š$.getã€$.postã€$.ajax</strong></p><p>åŒºåˆ«ï¼š</p><p>â‘ ä¼ é€’çš„å‚æ•°ä¸åŒï¼Œ$.ajaxå¯é€‰æ‹©å‚æ•°æ›´å¤šã€‚</p><p>â‘¡$.ajax æ˜¯ jQuery åº•å±‚ AJAX å®ç°ï¼Œæ˜¯ä¸€ç§é€šç”¨çš„åº•å±‚å°è£…ï¼Œè€Œ$.get $.postæ˜¯ç®€å•æ˜“ç”¨çš„é«˜å±‚å®ç°ï¼Œæˆ‘ä»¬ä½¿ç”¨$.get $.postæ–¹æ³•ï¼ŒjQueryä¼šè‡ªåŠ¨å°è£…è°ƒç”¨åº•å±‚çš„$.ajaxã€‚</p><p>â‘¢$.ajaxçš„è‡ªå®šä¹‰ç¨‹åº¦æ›´å¼ºã€‚</p><h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a>å‰ç«¯ä»£ç ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>jQuery å‘é€ AJAX è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.btn-btn-primary</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4CAF50</span>;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">            <span class="hljs-attribute">color</span>: white;</span><br><span class="css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="css">        &#125;</span><br><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.btn-btn-danger</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: purple;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">60px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">            <span class="hljs-attribute">color</span>: white;</span><br><span class="css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="css">        &#125;</span><br><span class="css"></span><br><span class="css">        <span class="hljs-selector-class">.btn-btn-info</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">background-color</span>: blue;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;</span><br><span class="css">            <span class="hljs-attribute">color</span>: white;</span><br><span class="css">            <span class="hljs-attribute">border</span>: none;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;page-header&quot;</span>&gt;</span>jQueryå‘é€AJAXè¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-btn-primary&quot;</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-btn-danger&quot;</span>&gt;</span>POST<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-btn-info&quot;</span>&gt;</span>é€šç”¨å‹æ–¹æ³•ajax<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//åˆ©ç”¨ jQuery å‘é€ AJAX è¯·æ±‚</span></span><br><span class="javascript">        $(<span class="hljs-string">&#x27;button&#x27;</span>).eq(<span class="hljs-number">0</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            $.get(<span class="hljs-string">&#x27;http://127.0.0.1:8000/jQuery-server&#x27;</span>, &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">200</span> &#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(data); <span class="hljs-comment">//data ä¸ºå›è°ƒæ•°æ®</span></span><br><span class="javascript">            &#125;, <span class="hljs-string">&#x27;json&#x27;</span>); <span class="hljs-comment">// json è¾“å‡ºå¯¹è±¡; æ—  json åˆ™è¾“å‡ºå­—ç¬¦ä¸²</span></span><br><span class="javascript">        &#125;);</span><br><span class="javascript"></span><br><span class="javascript">        $(<span class="hljs-string">&#x27;button&#x27;</span>).eq(<span class="hljs-number">1</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            $.post(<span class="hljs-string">&#x27;http://127.0.0.1:8000/jQuery-server&#x27;</span>, &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">200</span> &#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(data); <span class="hljs-comment">//data ä¸ºå›è°ƒæ•°æ®</span></span><br><span class="javascript">            &#125;);</span><br><span class="javascript">        &#125;);</span><br><span class="javascript"></span><br><span class="javascript">        $(<span class="hljs-string">&#x27;button&#x27;</span>).eq(<span class="hljs-number">2</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            $.ajax(&#123;</span><br><span class="javascript">                <span class="hljs-comment">//url</span></span><br><span class="javascript">                <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://127.0.0.1:8000/jQuery-server&#x27;</span>,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//å‚æ•°</span></span><br><span class="javascript">                <span class="hljs-attr">data</span>: &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">200</span> &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//è¯·æ±‚ç±»å‹</span></span><br><span class="javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//è®¾ç½®å“åº”ä½“ç»“æœ</span></span><br><span class="javascript">                <span class="hljs-attr">dataType</span>: <span class="hljs-string">&#x27;json&#x27;</span>,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//æˆåŠŸçš„å›è°ƒ</span></span><br><span class="javascript">                <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">console</span>.log(data);</span><br><span class="javascript">                &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//è¶…æ—¶æ—¶é—´</span></span><br><span class="javascript">                <span class="hljs-attr">timeout</span>: <span class="hljs-number">2000</span>,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//å¤±è´¥çš„å›è°ƒ</span></span><br><span class="javascript">                <span class="hljs-attr">error</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;å‡ºé”™å•¦ï¼ï¼&#x27;</span>);</span><br><span class="javascript">                &#125;,</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//å¤´ä¿¡æ¯è®¾ç½®</span></span><br><span class="javascript">                <span class="hljs-attr">headers</span>: &#123;  <span class="hljs-comment">//è‡ªå®šä¹‰å“åº”å¤´</span></span><br><span class="javascript">                    <span class="hljs-attr">c</span>: <span class="hljs-number">300</span>,</span><br><span class="javascript">                    <span class="hljs-attr">d</span>: <span class="hljs-number">400</span></span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;);</span><br><span class="javascript">        &#125;);</span><br><span class="javascript"></span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br><br><span class="hljs-comment">//jQueryæœåŠ¡</span><br>app.all(<span class="hljs-string">&#x27;/jQuery-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<span class="hljs-comment">//å…è®¸è‡ªå®šä¹‰å“åº”å¤´ /éœ€ä¸ºallæ–¹æ³•</span><br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    <span class="hljs-keyword">const</span> data = &#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;wang&#x27;</span>&#125;;<br>    <span class="hljs-comment">// response.send(&quot;Hello jQUery AJAX&quot;);</span><br>    response.send(<span class="hljs-built_in">JSON</span>.stringify(data));<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/ie&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello IE&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//å»¶æ—¶å“åº”</span><br>app.get(<span class="hljs-string">&#x27;/delay&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®ä¸‰ç§’é’Ÿçš„å»¶æ—¶å“åº”</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>        response.send(<span class="hljs-string">&quot;å»¶æ—¶å“åº”&quot;</span>);<br>    &#125;, <span class="hljs-number">3000</span>);<br><br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è§£å†³é‡å¤å‘é€AJAXè¯·æ±‚é—®é¢˜</title>
    <link href="/2021/10/10/AJAX/%E8%A7%A3%E5%86%B3%E9%87%8D%E5%A4%8D%E5%8F%91%E9%80%81AJAX%E8%AF%B7%E6%B1%82%E9%97%AE%E9%A2%98/"/>
    <url>/2021/10/10/AJAX/%E8%A7%A3%E5%86%B3%E9%87%8D%E5%A4%8D%E5%8F%91%E9%80%81AJAX%E8%AF%B7%E6%B1%82%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<p>é—®é¢˜èµ·å› ï¼š</p><p>ç”¨æˆ·è¿ç»­ç‚¹å‡»å‘é€æŒ‰é’®ï¼Œè¿™ä¸ªæŒ‰é’®ç”¨äºå‘é€å¤šæ¡<strong>ç›¸åŒ</strong>çš„ajaxè¯·æ±‚ï¼Œ<u>å¯¼è‡´æœåŠ¡å™¨å¤„ç†æ•°æ®çš„è´Ÿæ‹…å¤ªå¤§</u>ï¼Œæ‰€ä»¥éœ€è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>æ€è·¯ï¼š<strong>æ— è®ºç”¨æˆ·é‡å¤å‘é€å¤šå°‘æ¬¡è¯·æ±‚ï¼Œéƒ½æŠŠä¸Šä¸€æ¬¡æœªå®Œæˆçš„è¯·æ±‚å–æ¶ˆï¼Œç›¸åŒè¯·æ±‚åªå‘é€ä¸€æ¬¡</strong></p><p>Solveï¼šé€šè¿‡ä¸€ä¸ªå˜é‡ isSending æ¥æ ‡è¯†æ˜¯å¦æ­£åœ¨å‘é€è¯·æ±‚ã€‚</p><h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a>å‰ç«¯ä»£ç ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è§£å†³é‡å¤å‘é€AJAXè¯·æ±‚é—®é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//è·å–å…ƒç´ å¯¹è±¡</span></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btns = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;button&#x27;</span>);</span><br><span class="javascript">                     <span class="hljs-comment">//const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</span></span><br><span class="javascript">        <span class="hljs-keyword">let</span> x = <span class="hljs-literal">null</span>;<span class="hljs-comment">// let å£°æ˜çš„å˜é‡åªåœ¨ let å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</span></span><br><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//æ ‡è¯†å˜é‡</span></span><br><span class="javascript">        <span class="hljs-keyword">let</span> isSending = <span class="hljs-literal">false</span>;<span class="hljs-comment">// æ˜¯å¦æ­£åœ¨å‘é€AJAXè¯·æ±‚</span></span><br><span class="javascript"></span><br><span class="javascript">        btns[<span class="hljs-number">0</span>].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">// å…ˆè¿›è¡Œæ ‡è¯†å˜é‡çš„åˆ¤æ–­</span></span><br><span class="javascript">            <span class="hljs-keyword">if</span>(isSending === <span class="hljs-literal">true</span>)&#123;</span><br><span class="javascript">                x.abort();<span class="hljs-comment">// æ­£åœ¨å‘é€åˆ™å–æ¶ˆå½“å‰è¯·æ±‚ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„è¯·æ±‚</span></span><br><span class="javascript">            &#125;</span><br><span class="javascript"></span><br><span class="javascript"></span><br><span class="javascript">            x = <span class="hljs-keyword">new</span> XMLHttpRequest();</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">// ä¿®æ”¹æ ‡è¯†å˜é‡</span></span><br><span class="javascript">            isSending = <span class="hljs-literal">true</span>;</span><br><span class="javascript"></span><br><span class="javascript">            x.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:8000/delay&#x27;</span>);</span><br><span class="javascript">            x.send();</span><br><span class="javascript"></span><br><span class="javascript">            x.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-keyword">if</span>(x.readyState === <span class="hljs-number">4</span>)&#123;</span><br><span class="javascript">                    <span class="hljs-comment">// ä¿®æ”¹æ ‡è¯†å˜é‡</span></span><br><span class="javascript">                    <span class="hljs-comment">// ä¸Šæ¬¡è¯·æ±‚å·²æˆåŠŸç»“æŸ</span></span><br><span class="javascript">                    isSending = <span class="hljs-literal">false</span>;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ï¼ˆåç«¯ï¼‰ä»£ç ï¼š"><a href="#æœåŠ¡å™¨ç«¯ï¼ˆåç«¯ï¼‰ä»£ç ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ï¼ˆåç«¯ï¼‰ä»£ç ï¼š"></a>æœåŠ¡å™¨ç«¯ï¼ˆåç«¯ï¼‰ä»£ç ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/ie&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello IE&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//å»¶æ—¶å“åº”</span><br>app.get(<span class="hljs-string">&#x27;/delay&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®ä¸‰ç§’é’Ÿçš„å»¶æ—¶å“åº”</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>        response.send(<span class="hljs-string">&quot;å»¶æ—¶å“åº”&quot;</span>);<br>    &#125;, <span class="hljs-number">3000</span>);<br><br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å–æ¶ˆè¯·æ±‚</title>
    <link href="/2021/10/10/AJAX/%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82/"/>
    <url>/2021/10/10/AJAX/%E5%8F%96%E6%B6%88%E8%AF%B7%E6%B1%82/</url>
    
    <content type="html"><![CDATA[<p>å¯ä»¥åˆ©ç”¨xhr.timeoutè®¾ç½®è¯·æ±‚çš„<u>è¶…æ—¶è‡ªåŠ¨å–æ¶ˆ</u>ï¼Œä¹Ÿå¯ä»¥<strong>æ‰‹åŠ¨å–æ¶ˆè¯·æ±‚</strong>ã€‚</p><p>åˆ©ç”¨**abort()**æ–¹æ³•å–æ¶ˆè¯·æ±‚</p><p>æ³¨ï¼šï¼ˆ1ï¼‰const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</p><p>â€‹        ï¼ˆ2ï¼‰let å£°æ˜çš„å˜é‡åªåœ¨ let å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</p><h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a>å‰ç«¯ä»£ç ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å–æ¶ˆè¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å–æ¶ˆ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//è·å–å…ƒç´ å¯¹è±¡</span></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btns = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">&#x27;button&#x27;</span>);</span><br><span class="javascript">                     <span class="hljs-comment">//const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜</span></span><br><span class="javascript">        <span class="hljs-keyword">let</span> x = <span class="hljs-literal">null</span>;<span class="hljs-comment">// let å£°æ˜çš„å˜é‡åªåœ¨ let å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</span></span><br><span class="javascript"></span><br><span class="javascript">        btns[<span class="hljs-number">0</span>].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            x = <span class="hljs-keyword">new</span> XMLHttpRequest();</span><br><span class="javascript">            x.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:8000/delay&#x27;</span>);</span><br><span class="javascript">            x.send();</span><br><span class="javascript">        &#125;</span><br><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">// åˆ©ç”¨abort()æ–¹æ³•å–æ¶ˆè¯·æ±‚</span></span><br><span class="javascript">        btns[<span class="hljs-number">1</span>].onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            x.abort();</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/ie&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello IE&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//å»¶æ—¶å“åº”</span><br>app.get(<span class="hljs-string">&#x27;/delay&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®ä¸‰ç§’é’Ÿçš„å»¶æ—¶å“åº”</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>        response.send(<span class="hljs-string">&quot;å»¶æ—¶å“åº”&quot;</span>);<br>    &#125;, <span class="hljs-number">3000</span>);<br><br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è¯·æ±‚è¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸</title>
    <link href="/2021/10/10/AJAX/%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6%E4%B8%8E%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8/"/>
    <url>/2021/10/10/AJAX/%E8%AF%B7%E6%B1%82%E8%B6%85%E6%97%B6%E4%B8%8E%E7%BD%91%E7%BB%9C%E5%BC%82%E5%B8%B8/</url>
    
    <content type="html"><![CDATA[<h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a>å‰ç«¯ä»£ç ï¼š</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>è¯·æ±‚è¶…æ—¶ä¸ç½‘ç»œå¼‚å¸¸<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> <span class="hljs-number">#90B</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å‘é€è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btn = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&#x27;button&#x27;</span>)[<span class="hljs-number">0</span>];</span><br><span class="javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;#result&#x27;</span>);</span><br><span class="javascript"></span><br><span class="javascript">        btn.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;test&#x27;</span>);</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();<span class="hljs-comment">//Ajax çš„æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//è¶…æ—¶è®¾ç½®----è¶…è¿‡2sæœªå¾—åˆ°ç»“æœå°±å–æ¶ˆè¯·æ±‚</span></span><br><span class="javascript">            xhr.timeout = <span class="hljs-number">2000</span>;</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//è¶…æ—¶å›è°ƒ</span></span><br><span class="javascript">            xhr.ontimeout = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                alert(<span class="hljs-string">&quot;è¯·æ±‚è¶…æ—¶ï¼Œè¯·ç¨åé‡è¯•ï¼&quot;</span>)</span><br><span class="javascript">            &#125;</span><br><span class="javascript">            </span><br><span class="javascript">            <span class="hljs-comment">//ç½‘ç»œå¼‚å¸¸å›è°ƒ</span></span><br><span class="javascript">            xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                alert(<span class="hljs-string">&quot;ç½‘ç»œå¼‚å¸¸ï¼Œè¯·ç¨åé‡è¯•ï¼&quot;</span>)</span><br><span class="javascript">            &#125;</span><br><span class="javascript"></span><br><span class="javascript">            xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:8000/delay&#x27;</span>);</span><br><span class="javascript">            <span class="hljs-comment">//Date.now() è·å–å½“å‰çš„æ—¶é—´æˆ³ï¼Œå‘æµè§ˆå™¨è¡¨æ˜æ¯æ¬¡éƒ½æ˜¯ä¸åŒçš„è¯·æ±‚(ä¸åŒçš„url)</span></span><br><span class="javascript"></span><br><span class="javascript">            xhr.send();</span><br><span class="javascript">            xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;</span><br><span class="javascript">                        result.innerHTML = xhr.response;</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/ie&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello IE&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//å»¶æ—¶å“åº”</span><br>app.get(<span class="hljs-string">&#x27;/delay&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®ä¸‰ç§’é’Ÿçš„å»¶æ—¶å“åº”</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>        response.send(<span class="hljs-string">&quot;å»¶æ—¶å“åº”&quot;</span>);<br>    &#125;, <span class="hljs-number">3000</span>);<br><br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">request, response</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è§£å†³IEç¼“å­˜é—®é¢˜</title>
    <link href="/2021/10/10/AJAX/IE%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/"/>
    <url>/2021/10/10/AJAX/IE%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3/</url>
    
    <content type="html"><![CDATA[<h4 id="IE-ajaxç¼“å­˜é—®é¢˜ï¼š"><a href="#IE-ajaxç¼“å­˜é—®é¢˜ï¼š" class="headerlink" title="IE ajaxç¼“å­˜é—®é¢˜ï¼š"></a>IE ajaxç¼“å­˜é—®é¢˜ï¼š</h4><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒIEä¼šç¼“å­˜ç›¸åŒåœ°å€ajaxè¯·æ±‚çš„ç»“æœã€‚IEçš„ç¬¬ä¸€æ¬¡ajaxè¯·æ±‚ä¼šå‘é€åˆ°æœåŠ¡å™¨ç«¯å¤„ç†ï¼Œå¦‚æœåç»­çš„è¯·æ±‚çš„å‚æ•°ä¸ç¬¬ä¸€æ¬¡çš„ä¸€æ ·ï¼ŒIEæµè§ˆå™¨ä¼š<strong>ç›´æ¥è¿”å›ç¼“å­˜çš„ç»“æœè€Œä¸æ˜¯å»æœåŠ¡å™¨è·å–</strong>ã€‚</p><p>â˜å¯¼è‡´å®æ—¶çš„æ•°æ®ä¸èƒ½åŠæ—¶å‘ˆç°</p><p><strong>æ³¨ï¼šCHromeè°·æ­Œæµè§ˆå™¨ä¸å­˜åœ¨æ­¤é—®é¢˜</strong></p><h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a>å‰ç«¯ä»£ç ï¼š</h4><p>Solveï¼šåˆ©ç”¨Date.now() è·å–å½“å‰çš„æ—¶é—´æˆ³ï¼Œå‘æµè§ˆå™¨è¡¨æ˜æ¯æ¬¡éƒ½æ˜¯ä¸åŒçš„è¯·æ±‚(ä¸åŒçš„url)ï¼Œä»è€Œè·³è¿‡IEçš„ç¼“å­˜ï¼Œæ¯æ¬¡éƒ½å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>IEç¼“å­˜é—®é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span> &#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> <span class="hljs-number">#258</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å‘é€è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btn = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&#x27;button&#x27;</span>)[<span class="hljs-number">0</span>];</span><br><span class="javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">&#x27;#result&#x27;</span>);<span class="hljs-comment">//Document å¯¹è±¡ä½¿æˆ‘ä»¬å¯ä»¥ä»è„šæœ¬ä¸­å¯¹ HTML é¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œè®¿é—®</span></span><br><span class="javascript"></span><br><span class="javascript">        btn.addEventListener(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;test&#x27;</span>);</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();<span class="hljs-comment">//Ajax çš„æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡</span></span><br><span class="javascript"></span><br><span class="javascript">            xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:8000/ie?t=&#x27;</span>+<span class="hljs-built_in">Date</span>.now());</span><br><span class="javascript">            <span class="hljs-comment">//Date.now() è·å–å½“å‰çš„æ—¶é—´æˆ³ï¼Œå‘æµè§ˆå™¨è¡¨æ˜æ¯æ¬¡éƒ½æ˜¯ä¸åŒçš„è¯·æ±‚(ä¸åŒçš„url)</span></span><br><span class="javascript"></span><br><span class="javascript">            xhr.send();</span><br><span class="javascript">            xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">                <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) &#123;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span> (xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) &#123;</span><br><span class="javascript">                        result.innerHTML = xhr.response;</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript"></span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.get(<span class="hljs-string">&#x27;/ie&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello IE&quot;</span>);<br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æœåŠ¡ç«¯å“åº”JSONæ•°æ®</title>
    <link href="/2021/10/10/AJAX/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%93%8D%E5%BA%94JSON%E6%95%B0%E6%8D%AE/"/>
    <url>/2021/10/10/AJAX/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%93%8D%E5%BA%94JSON%E6%95%B0%E6%8D%AE/</url>
    
    <content type="html"><![CDATA[<p>JSONç®€ä»‹ï¼šJSON(JavaScript Object Notation) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚JSONé‡‡ç”¨å®Œå…¨ç‹¬ç«‹äºè¯­è¨€çš„æ–‡æœ¬æ ¼å¼ï¼Œè¿™äº›ç‰¹æ€§ä½¿JSONæˆä¸ºç†æƒ³çš„æ•°æ®äº¤æ¢è¯­è¨€ã€‚æ˜“äºäººé˜…è¯»å’Œç¼–å†™ï¼ŒåŒæ—¶ä¹Ÿæ˜“äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚</p><p>JSONçš„ä¸¤ç§åŸºæœ¬ç»“æ„ï¼š</p><ol><li><p>é”®å€¼å¯¹çš„é›†åˆï¼ˆA collection of name/value pairsï¼‰ã€‚ä¸åŒçš„è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºå¯¹è±¡ï¼ˆobjectï¼‰ï¼Œè®°å½•ï¼ˆrecordï¼‰ï¼Œç»“æ„ï¼ˆstructï¼‰ï¼Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œå“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰ï¼Œæœ‰é”®åˆ—è¡¨ï¼ˆkeyed listï¼‰ï¼Œæˆ–è€…å…³è”æ•°ç»„ ï¼ˆassociative arrayï¼‰ã€‚</p></li><li><p>å€¼çš„æœ‰åºåˆ—è¡¨ï¼ˆAn ordered list of valuesï¼‰ã€‚åœ¨å¤§éƒ¨åˆ†è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºæ•°ç»„ï¼ˆarrayï¼‰ã€‚</p></li></ol><p>ç®€å•åœ°è¯´ï¼ŒJSON å¯ä»¥å°† JavaScript å¯¹è±¡ä¸­è¡¨ç¤ºçš„ä¸€ç»„æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œç„¶åå°±å¯ä»¥åœ¨å‡½æ•°ä¹‹é—´è½»æ¾åœ°ä¼ é€’è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ–è€…åœ¨å¼‚æ­¥åº”ç”¨ç¨‹åºä¸­å°†å­—ç¬¦ä¸²ä» Web å®¢æˆ·æœºä¼ é€’ç»™æœåŠ¡å™¨ç«¯ç¨‹åºã€‚è¿™ä¸ªå­—ç¬¦ä¸²çœ‹èµ·æ¥æœ‰ç‚¹å„¿å¤æ€ªï¼Œä½†æ˜¯ JavaScript å¾ˆå®¹æ˜“è§£é‡Šå®ƒï¼Œè€Œä¸” JSON å¯ä»¥è¡¨ç¤ºæ¯”â€åç§° / å€¼å¯¹â€æ›´å¤æ‚çš„ç»“æ„ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥è¡¨ç¤ºæ•°ç»„å’Œå¤æ‚çš„å¯¹è±¡ï¼Œè€Œä¸ä»…ä»…æ˜¯é”®å’Œå€¼çš„ç®€å•åˆ—è¡¨ã€‚</p><p>jsonç¤ºä¾‹æ•°æ®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs json"> &#123;<br>            <span class="hljs-attr">&quot;test1&quot;</span>: <span class="hljs-string">&quot;wx9fdb8ble7ce3c68f&quot;</span>,<br>            <span class="hljs-attr">&quot;test2&quot;</span>: <span class="hljs-string">&quot;123456789&quot;</span>,<br>            <span class="hljs-attr">&quot;testData1&quot;</span>: &#123;   <br>                <span class="hljs-attr">&quot;testdatason1&quot;</span>: <span class="hljs-string">&quot;97895455&quot;</span><br>                <span class="hljs-string">&quot;testdatason2&quot;</span>:<span class="hljs-number">3</span>,<br>                <span class="hljs-attr">&quot;testData2&quot;</span>: [<br>                    &#123;<br>                        <span class="hljs-attr">&quot;testshuzu1&quot;</span>:<span class="hljs-string">&quot;12&quot;</span><br>                        <span class="hljs-string">&quot;testshuzu1&quot;</span>:<span class="hljs-string">&quot;11&quot;</span><br>                    &#125;,<br>                     &#123;<br>                        <span class="hljs-attr">&quot;testshuzu2&quot;</span>:<span class="hljs-string">&quot;13&quot;</span><br>                        <span class="hljs-string">&quot;testshuzu2&quot;</span>:<span class="hljs-string">&quot;14&quot;</span><br>                    &#125;,<br>                    ,<br>                    &#123;<br>                         <span class="hljs-attr">&quot;testshuzu3&quot;</span>:<span class="hljs-string">&quot;15&quot;</span><br>                        <span class="hljs-string">&quot;testshuzu3&quot;</span>:<span class="hljs-string">&quot;16&quot;</span><br>                    &#125;<br>                ]<br>          &#125;<br>&#125;<br></code></pre></td></tr></table></figure><br><h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a><strong>å‰ç«¯ä»£ç ï¼š</strong></h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>JSONå“åº”<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span>&#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> <span class="hljs-number">#89b</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;result&#x27;</span>);<span class="hljs-comment">//Document å¯¹è±¡ä½¿æˆ‘ä»¬å¯ä»¥ä»è„šæœ¬ä¸­å¯¹ HTML é¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œè®¿é—®</span></span><br><span class="javascript">        <span class="hljs-comment">//ç»‘å®šé”®ç›˜æŒ‰ä¸‹äº‹ä»¶</span></span><br><span class="javascript">        <span class="hljs-built_in">window</span>.onkeydown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            <span class="hljs-comment">//å‘é€è¯·æ±‚</span></span><br><span class="javascript">            <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//è®¾ç½®å“åº”ä½“æ•°æ®çš„ç±»å‹</span></span><br><span class="javascript">            xhr.responseType = <span class="hljs-string">&#x27;json&#x27;</span>;</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//åˆå§‹åŒ–</span></span><br><span class="javascript">            xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>,<span class="hljs-string">&#x27;http://127.0.0.1:8000/json-server&#x27;</span>);</span><br><span class="javascript">            <span class="hljs-comment">//å‘é€</span></span><br><span class="javascript">            xhr.send();</span><br><span class="javascript">            <span class="hljs-comment">//äº‹ä»¶ç»‘å®š</span></span><br><span class="javascript">            xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-keyword">if</span>(xhr.readyState === <span class="hljs-number">4</span>)&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span>(xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>)&#123;</span><br><span class="javascript">                        <span class="hljs-comment">//å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ</span></span><br><span class="javascript"></span><br><span class="javascript">                        <span class="hljs-comment">// //æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å¯¹æ•°æ®è¿›è¡Œè½¬åŒ–</span></span><br><span class="javascript">                        <span class="hljs-comment">// let data = JSON.parse(xhr.response);</span></span><br><span class="javascript">                        <span class="hljs-comment">// console.log(data);</span></span><br><span class="javascript">                        <span class="hljs-comment">// result.innerHTML = data.name;</span></span><br><span class="javascript"></span><br><span class="javascript">                        <span class="hljs-comment">//æ–¹å¼äºŒï¼šè‡ªåŠ¨å¯¹æ•°æ®è¿›è¡Œè½¬åŒ–</span></span><br><span class="javascript">                        <span class="hljs-comment">//éœ€æå‰è®¾ç½® å“åº”ä½“æ•°æ®çš„ç±»å‹</span></span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(xhr.response);</span><br><span class="javascript">                        result.innerHTML = xhr.response.name;</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><p><strong>åˆ©ç”¨expressæ¡†æ¶æ„å»ºæœåŠ¡ç«¯</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//app.all()å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„HTTPè¯·æ±‚</span><br>app.all(<span class="hljs-string">&#x27;/json-server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br><br>    <span class="hljs-comment">//å“åº”ä¸€ä¸ªæ•°æ®</span><br>    <span class="hljs-keyword">const</span> data = &#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;wang&#x27;</span><br>    &#125;<br>    <span class="hljs-comment">//å¯¹å¯¹è±¡è¿›è¡Œå­—ç¬¦ä¸²è½¬æ¢</span><br>    <span class="hljs-keyword">let</span> str = <span class="hljs-built_in">JSON</span>.stringify(data);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(str);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>AJAX POST è¯·æ±‚</title>
    <link href="/2021/10/10/AJAX/AJAX%20POST%20%E8%AF%B7%E6%B1%82/"/>
    <url>/2021/10/10/AJAX/AJAX%20POST%20%E8%AF%B7%E6%B1%82/</url>
    
    <content type="html"><![CDATA[<h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a><strong>å‰ç«¯ä»£ç ï¼š</strong></h4><p><strong>AJAX çš„æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡</strong></p><p><strong>AJAXå‘é€POSTè¯·æ±‚å¹¶è®¾ç½®è¯·æ±‚ä½“ä¿¡æ¯</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>AJAX POST è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span>&#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> <span class="hljs-number">#903</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//è·å–å…ƒç´ å¯¹è±¡</span></span><br><span class="javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result&quot;</span>);<span class="hljs-comment">//Document å¯¹è±¡ä½¿æˆ‘ä»¬å¯ä»¥ä»è„šæœ¬ä¸­å¯¹ HTML é¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ è¿›è¡Œè®¿é—®</span></span><br><span class="javascript">        <span class="hljs-comment">//ç»‘å®šäº‹ä»¶</span></span><br><span class="javascript">        result.addEventListener(<span class="hljs-string">&quot;mouseover&quot;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            <span class="hljs-comment">// console.log(&#x27;è°ƒè¯•&#x27;);</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//AJAX å‘é€ POST è¯·æ±‚</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//1.åˆ›å»ºå¯¹è±¡</span></span><br><span class="javascript">            <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();<span class="hljs-comment">//Ajax çš„æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡</span></span><br><span class="javascript">            </span><br><span class="javascript">            <span class="hljs-comment">//2.åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œurl</span></span><br><span class="javascript">            xhr.open(<span class="hljs-string">&#x27;POST&#x27;</span>,<span class="hljs-string">&#x27;http://127.0.0.1:8000/server&#x27;</span>); </span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//è®¾ç½®è¯·æ±‚å¤´----ä¸€èˆ¬å­˜æ”¾èº«ä»½æ ¡éªŒä¿¡æ¯ï¼Œç”±æœåŠ¡å™¨è¿›è¡Œèº«ä»½æ ¡éªŒ</span></span><br><span class="javascript">            xhr.setRequestHeader(<span class="hljs-string">&#x27;Content-Type&#x27;</span>,<span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>);<span class="hljs-comment">// Content-Type è®¾ç½®è¯·æ±‚ä½“å†…å®¹çš„ç±»å‹</span></span><br><span class="javascript"></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//3.å‘é€</span></span><br><span class="javascript">            xhr.send(<span class="hljs-string">&#x27;a=200&amp;b=100&#x27;</span>);<span class="hljs-comment">// POST è®¾ç½®è¯·æ±‚ä½“</span></span><br><span class="javascript">            <span class="hljs-comment">// xhr.send(&#x27;a:200&amp;b:100&#x27;);</span></span><br><span class="javascript">            <span class="hljs-comment">// xhr.send(&#x27;077&#x27;);</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//4.äº‹ä»¶ç»‘å®š</span></span><br><span class="javascript">            xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-comment">//åˆ¤æ–­</span></span><br><span class="javascript">                <span class="hljs-keyword">if</span>(xhr.readyState === <span class="hljs-number">4</span>)&#123;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span>(xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>)&#123;</span><br><span class="javascript">                        <span class="hljs-comment">//å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ</span></span><br><span class="javascript">                        result.innerHTML = xhr.response;</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;)</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯ä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><p><strong>åˆ©ç”¨expressæ¡†æ¶æ„å»ºæœåŠ¡ç«¯</strong></p><p><strong>æ·»åŠ app.post()æ–¹æ³•æ¥æ”¶POSTè¯·æ±‚</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// expressæ¡†æ¶ æœåŠ¡ç«¯</span><br><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br>app.post(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-built_in">console</span>.log(request.headers);<span class="hljs-comment">//åœ¨ç»ˆç«¯è¾“å‡ºè¯·æ±‚å¤´ä¿¡æ¯</span><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX POST&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><br><p>è¿è¡Œï¼š</p><p>åœ¨é›†æˆç»ˆç«¯ä¸­æ‰§è¡Œ node server.jsï¼Œå†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€htmlå³å¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>AJAXç®€ä»‹</title>
    <link href="/2021/10/09/AJAX/AJAX%E7%AE%80%E4%BB%8B/"/>
    <url>/2021/10/09/AJAX/AJAX%E7%AE%80%E4%BB%8B/</url>
    
    <content type="html"><![CDATA[<h4 id="1ã€ä»€ä¹ˆæ˜¯AJAXï¼Ÿ"><a href="#1ã€ä»€ä¹ˆæ˜¯AJAXï¼Ÿ" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯AJAXï¼Ÿ"></a>1ã€ä»€ä¹ˆæ˜¯AJAXï¼Ÿ</h4><p>AJAXå…¨ç§°ä¸ºâ€œAsynchronous JavaScript and XMLâ€ï¼ˆå¼‚æ­¥JavaScriptå’ŒXMLï¼‰ï¼Œæ˜¯ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ï¼Œé€šè¿‡åœ¨åå°ä¸æœåŠ¡å™¨è¿›è¡Œå°‘é‡æ•°æ®äº¤æ¢ï¼ŒAJAX å¯ä»¥ä½¿ç½‘é¡µå®ç°å¼‚æ­¥æ›´æ–°ã€‚è¿™æ„å‘³ç€å¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯¹ç½‘é¡µçš„æŸéƒ¨åˆ†è¿›è¡Œæ›´æ–°ã€‚ </p><h4 id="2ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨AJAX"><a href="#2ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨AJAX" class="headerlink" title="2ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨AJAX?"></a><strong>2ã€ä¸ºä»€ä¹ˆè¦ä½¿ç”¨AJAX?</strong></h4><p><strong>è¿™å„¿æˆ‘ä»¬å¯ä»¥è¯´åˆ°Ajaxçš„ä¼˜ç‚¹ä¹‹ä¸€ï¼š</strong>å®ƒå¯ä»¥åœ¨ä¸åˆ·æ–°æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œä¿æŒåŸæœ‰é¡µé¢çŠ¶æ€ã€‚ä¸¾ä¸ªä¾‹å­ï¼šåœ¨æˆ‘ä»¬æµè§ˆç½‘é¡µçš„æ—¶å€™ä¼šæœ‰ä¸¤ç§æƒ…å†µ</p><p>1.ç‚¹å‡»é“¾æ¥ï¼Œé¡µé¢ç™½å±ï¼Œç­‰å¾…è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ã€‚</p><p>2.é¡µé¢ä¸åˆ·æ–°ï¼Œå±€éƒ¨å‡ºç°æ–°å†…å®¹è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚â€”â€”  AJAX</p><h4 id="3ã€AJAXçš„ä¼˜ç¼ºç‚¹"><a href="#3ã€AJAXçš„ä¼˜ç¼ºç‚¹" class="headerlink" title="3ã€AJAXçš„ä¼˜ç¼ºç‚¹"></a>3ã€AJAXçš„ä¼˜ç¼ºç‚¹</h4><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><p>1.æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯é¡µé¢æ— éœ€åˆ·æ–°ï¼Œåœ¨é¡µé¢å†…ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œéå¸¸å¥½çš„ç”¨æˆ·ä½“éªŒã€‚<br>2.ä½¿ç”¨å¼‚æ­¥çš„æ–¹å¼ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œä¸éœ€è¦ä¸­æ–­æ“ä½œã€‚<br>3.å¯ä»¥æŠŠä»¥å‰æœåŠ¡å™¨è´Ÿæ‹…çš„å·¥ä½œè½¬å«ç»™å®¢æˆ·ç«¯ï¼Œå‡è½»æœåŠ¡å™¨å’Œå¸¦å®½ï¼Œå¯ä»¥æœ€å¤§ç¨‹åº¦å‡å°‘å†—ä½™è¯·æ±‚ã€‚<br>4.åŸºäºæ ‡å‡†åŒ–çš„å¹¶è¢«å¹¿æ³›æ”¯æŒçš„æŠ€æœ¯ï¼Œä¸éœ€è¦ä¸‹è½½æ’ä»¶æˆ–è€…å°ç¨‹åºã€‚</p><p><strong>ç¼ºç‚¹</strong>ï¼š</p><p>1.AJAXå¹²æ‰äº†Backå’ŒHistoryåŠŸèƒ½ï¼Œå³å¯¹æµè§ˆå™¨æœºåˆ¶çš„ç ´åã€‚<br>åœ¨åŠ¨æ€æ›´æ–°é¡µé¢çš„æƒ…å†µä¸‹ï¼Œ<strong>ç”¨æˆ·æ— æ³•å›åˆ°å‰ä¸€ä¸ªé¡µé¢çŠ¶æ€</strong>ï¼ˆæ— å†å²è®°å½•ï¼‰ï¼Œå› ä¸ºæµè§ˆå™¨ä»…èƒ½è®°å¿†å†å²è®°å½•ä¸­çš„é™æ€é¡µé¢ã€‚ä¸€ä¸ªè¢«å®Œæ•´è¯»å…¥çš„é¡µé¢ä¸ä¸€ä¸ªå·²ç»è¢«åŠ¨æ€ä¿®æ”¹è¿‡çš„é¡µé¢ä¹‹é—´çš„å·®åˆ«éå¸¸å¾®å¦™ï¼›ç”¨æˆ·é€šå¸¸ä¼šå¸Œæœ›å•å‡»åé€€æŒ‰é’®èƒ½å¤Ÿå–æ¶ˆä»–ä»¬çš„å‰ä¸€æ¬¡æ“ä½œï¼Œä½†æ˜¯åœ¨Ajaxåº”ç”¨ç¨‹åºä¸­ï¼Œè¿™å°†æ— æ³•å®ç°ã€‚<br>2.å®‰å…¨é—®é¢˜æŠ€æœ¯åŒæ—¶ä¹Ÿå¯¹ITä¼ä¸šå¸¦æ¥äº†æ–°çš„å®‰å…¨å¨èƒï¼ŒajaxæŠ€æœ¯å°±å¦‚åŒå¯¹ä¼ä¸šæ•°æ®å»ºç«‹äº†ä¸€ä¸ªç›´æ¥é€šé“ã€‚è¿™ä½¿å¾—å¼€å‘è€…åœ¨ä¸ç»æ„é—´ä¼šæš´éœ²æ¯”ä»¥å‰æ›´å¤šçš„æ•°æ®å’ŒæœåŠ¡å™¨é€»è¾‘ã€‚ajaxçš„é€»è¾‘å¯ä»¥å¯¹å®¢æˆ·ç«¯çš„å®‰å…¨æ‰«ææŠ€æœ¯éšè—èµ·æ¥ï¼Œå…è®¸é»‘å®¢ä»è¿œç«¯æœåŠ¡å™¨ä¸Šå»ºç«‹æ–°çš„æ”»å‡»ã€‚è¿˜æœ‰ajaxä¹Ÿéš¾ä»¥é¿å…ä¸€äº›å·²çŸ¥çš„å®‰å…¨å¼±ç‚¹ï¼Œè¯¸å¦‚è·¨ç«™ç‚¹è„šæ­¥æ”»å‡»ã€SQLæ³¨å…¥æ”»å‡»å’ŒåŸºäºcredentialsçš„å®‰å…¨æ¼æ´ç­‰ã€‚<br>3.å¯¹æœç´¢å¼•æ“çš„æ”¯æŒæ¯”è¾ƒå¼±ã€‚å¦‚æœä½¿ç”¨ä¸å½“ï¼ŒAJAXä¼šå¢å¤§ç½‘ç»œæ•°æ®çš„æµé‡ï¼Œä»è€Œé™ä½æ•´ä¸ªç³»ç»Ÿçš„æ€§èƒ½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>AJAX GET è¯·æ±‚</title>
    <link href="/2021/10/09/AJAX/AJAX%20GET%20%E8%AF%B7%E6%B1%82/"/>
    <url>/2021/10/09/AJAX/AJAX%20GET%20%E8%AF%B7%E6%B1%82/</url>
    
    <content type="html"><![CDATA[<h4 id="å‰ç«¯ä»£ç ï¼š"><a href="#å‰ç«¯ä»£ç ï¼š" class="headerlink" title="å‰ç«¯ä»£ç ï¼š"></a><strong>å‰ç«¯ä»£ç ï¼š</strong></h4><p><strong>AJAX çš„æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>AJAX GET è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"></span><br><span class="css">        <span class="hljs-selector-id">#result</span>&#123;</span><br><span class="css">            <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;</span><br><span class="css">            <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;</span><br><span class="css">            <span class="hljs-attribute">border</span>: solid <span class="hljs-number">1px</span> <span class="hljs-number">#90b</span>;</span><br><span class="css">        &#125;</span><br><span class="css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>ç‚¹å‡»å‘é€è¯·æ±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;result&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript"></span><br><span class="javascript">        <span class="hljs-comment">//è·å–buttonå…ƒç´ </span></span><br><span class="javascript">        <span class="hljs-keyword">const</span> btn = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">&#x27;button&#x27;</span>)[<span class="hljs-number">0</span>];</span><br><span class="javascript">        <span class="hljs-keyword">const</span> result = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&quot;result&quot;</span>)</span><br><span class="javascript">        <span class="hljs-comment">//ç»‘å®šäº‹ä»¶</span></span><br><span class="javascript">        btn.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">            <span class="hljs-comment">// å‘é€ AJAX è¯·æ±‚çš„æ­¥éª¤:</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//1.åˆ›å»ºå¯¹è±¡</span></span><br><span class="javascript">            <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest(); <span class="hljs-comment">//Ajax çš„æ ¸å¿ƒæ˜¯ XMLHttpRequest å¯¹è±¡</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//2.åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œurl</span></span><br><span class="javascript">            xhr.open(<span class="hljs-string">&#x27;GET&#x27;</span>,<span class="hljs-string">&#x27;http://127.0.0.1:8000/server?a=200&amp;b=100&#x27;</span>); <span class="hljs-comment">//æ·»åŠ è¯·æ±‚å‚æ•°</span></span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//3.å‘é€</span></span><br><span class="javascript">            xhr.send();</span><br><span class="javascript"></span><br><span class="javascript">            <span class="hljs-comment">//4.äº‹ä»¶ç»‘å®š å¤„ç†æœåŠ¡ç«¯è¿”å›çš„ç»“æœ</span></span><br><span class="javascript">            <span class="hljs-comment">//readystate æ˜¯ xhr å¯¹è±¡ä¸­çš„å±æ€§ï¼Œæœ‰0,1,2,3,4</span></span><br><span class="javascript">            <span class="hljs-comment">//ä¸º4æ—¶æ˜¯xhrçš„æœ€ç»ˆç»“æœ</span></span><br><span class="javascript">            xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript"></span><br><span class="javascript">                <span class="hljs-comment">//åˆ¤æ–­ï¼ˆæœåŠ¡ç«¯è¿”å›äº†æ‰€æœ‰çš„ç»“æœï¼‰</span></span><br><span class="javascript">                <span class="hljs-keyword">if</span>(xhr.readyState === <span class="hljs-number">4</span>)&#123;</span><br><span class="javascript"></span><br><span class="javascript">                    <span class="hljs-comment">//åˆ¤æ–­å“åº”çŠ¶æ€ç  200 404 403 401 500</span></span><br><span class="javascript">                    <span class="hljs-comment">// 2xx éƒ½æ˜¯æˆåŠŸ</span></span><br><span class="javascript">                    <span class="hljs-keyword">if</span>(xhr.status &gt;= <span class="hljs-number">200</span> &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>)&#123;</span><br><span class="javascript">                        <span class="hljs-comment">//å¤„ç†ç»“æœ è¡Œ å¤´ ç©ºè¡Œ ä½“</span></span><br><span class="javascript">                        <span class="hljs-comment">//å“åº”</span></span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(xhr.status);<span class="hljs-comment">//çŠ¶æ€ç </span></span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(xhr.statusText);<span class="hljs-comment">//çŠ¶æ€å­—ç¬¦ä¸²</span></span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(xhr.getAllResponseHeaders);<span class="hljs-comment">//æ‰€æœ‰å“åº”å¤´</span></span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(xhr.response);<span class="hljs-comment">//å“åº”ä½“â€”â€”HTMLä»£ç </span></span><br><span class="javascript"></span><br><span class="javascript">                        <span class="hljs-comment">//è®¾ç½® result çš„æ–‡æœ¬</span></span><br><span class="javascript">                        result.innerHTML = xhr.response;</span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                    <span class="hljs-keyword">else</span>&#123;</span><br><span class="javascript">                        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;è®¿é—®å¤±è´¥&quot;</span>);<span class="hljs-comment">//åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸Šè¾“å‡º</span></span><br><span class="javascript">                    &#125;</span><br><span class="javascript">                &#125;</span><br><span class="javascript">            &#125;</span><br><span class="javascript">        &#125;</span><br><span class="javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure><br><h4 id="æœåŠ¡å™¨ç«¯JSä»£ç ï¼ˆåç«¯ï¼‰ï¼š"><a href="#æœåŠ¡å™¨ç«¯JSä»£ç ï¼ˆåç«¯ï¼‰ï¼š" class="headerlink" title="æœåŠ¡å™¨ç«¯JSä»£ç ï¼ˆåç«¯ï¼‰ï¼š"></a>æœåŠ¡å™¨ç«¯JSä»£ç ï¼ˆåç«¯ï¼‰ï¼š</h4><p><strong>åˆ©ç”¨expressæ¡†æ¶æ„å»ºæœåŠ¡ç«¯</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//1.å¼•å…¥express</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-comment">//2.åˆ›å»ºåº”ç”¨å¯¹è±¡</span><br><span class="hljs-keyword">const</span> app = express();<br><br><span class="hljs-comment">//3.åˆ›å»ºè·¯ç”±è§„åˆ™</span><br><span class="hljs-comment">// request æ˜¯å¯¹è¯·æ±‚æŠ¥æ–‡çš„å°è£…</span><br><span class="hljs-comment">// response æ˜¯å¯¹å“åº”æŠ¥æ–‡çš„å°è£…</span><br>app.get(<span class="hljs-string">&#x27;/server&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">request, response</span>)=&gt;</span>&#123;<br>    <span class="hljs-comment">//è®¾ç½®å“åº”å¤´ è®¾ç½®å…è®¸è·¨åŸŸ</span><br>    response.setHeader(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>,<span class="hljs-string">&quot;*&quot;</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®å“åº”ä½“</span><br>    response.send(<span class="hljs-string">&quot;Hello AJAX&quot;</span>);<br>&#125;)<br><br><span class="hljs-comment">//4.ç›‘å¬ç«¯å£</span><br>app.listen(<span class="hljs-number">8000</span>,<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œ8000 ç«¯å£ç›‘å¬ä¸­....&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure><br><p>è¿è¡Œï¼š</p><p>åœ¨é›†æˆç»ˆç«¯ä¸­æ‰§è¡Œ node server.jsï¼Œå†åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€htmlå³å¯ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>AJAX</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Typoraä½¿ç”¨</title>
    <link href="/2021/09/06/Typora%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
    <url>/2021/09/06/Typora%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="Typoraå¿«æ·é”®æ•´åˆ"><a href="#Typoraå¿«æ·é”®æ•´åˆ" class="headerlink" title="Typoraå¿«æ·é”®æ•´åˆ"></a>Typoraå¿«æ·é”®æ•´åˆ</h2><p>Ctrl+1  ä¸€é˜¶æ ‡é¢˜&ensp;&ensp;&ensp;&ensp; Ctrl+2  äºŒé˜¶æ ‡é¢˜&ensp;&ensp;&ensp;&ensp;Ctrl+3  ä¸‰é˜¶æ ‡é¢˜&ensp;&ensp;&ensp;&ensp; Ctrl+4  å››é˜¶æ ‡é¢˜</p><br><p>Ctrl+B  <strong>å­—ä½“åŠ ç²—</strong> &ensp;&ensp;&ensp;&ensp;Ctrl+I  å­—ä½“å€¾æ–œ &ensp;&ensp;&ensp;&ensp;Ctrl+U  <u>ä¸‹åˆ’çº¿</u> </p><br><p>Ctrl+T  åˆ›å»ºè¡¨æ ¼&ensp;&ensp;&ensp;&ensp;Ctrl+K  åˆ›å»ºè¶…é“¾æ¥&ensp;&ensp;&ensp;&ensp;Alt+Shift+5 åˆ é™¤çº¿&ensp;&ensp;&ensp;&ensp;Ctrl+Shift+I    æ’å…¥å›¾ç‰‡        </p><p>Ctrl+Shift+M    å…¬å¼å—&ensp;&ensp;&ensp;&ensp;Ctrl+Shift+Q    å¼•ç”¨ </p><br><p>Ctrl+L  é€‰ä¸­æŸå¥è¯&ensp;&ensp;&ensp;&ensp;Ctrl+D  é€‰ä¸­æŸä¸ªå•è¯&ensp;&ensp;&ensp;&ensp;Ctrl+E  é€‰ä¸­ç›¸åŒæ ¼å¼çš„æ–‡å­—</p><p>Ctrl+F  æœç´¢&ensp;&ensp;&ensp;&ensp;Ctrl+H  æœç´¢å¹¶æ›¿æ¢</p><br><p><strong>æ’å…¥ä»£ç å—</strong></p><p>è¾“å…¥3ä¸ªåå¼•å·ï¼ˆ`ï¼‰(~ é”®) + å›è½¦ï¼Œå¹¶åœ¨åé¢é€‰æ‹©ä¸€ä¸ªè¯­è¨€åç§°å³å¯å®ç°è¯­æ³•é«˜äº®ã€‚</p><br><h5 id="ä½¿ç”¨-1-2-3-åˆ›å»ºæœ‰åºåˆ—è¡¨"><a href="#ä½¿ç”¨-1-2-3-åˆ›å»ºæœ‰åºåˆ—è¡¨" class="headerlink" title="ä½¿ç”¨ 1. 2. 3. åˆ›å»ºæœ‰åºåˆ—è¡¨"></a>ä½¿ç”¨ 1. 2. 3. åˆ›å»ºæœ‰åºåˆ—è¡¨</h5><ol><li>AAA</li><li>BBB</li><li>CCC</li></ol><br><h5 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h5><p><a href="https://www.simon96.online/2018/10/18/Typora%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%AD%E6%96%87%E7%89%88%EF%BC%89/">Typoraå…¥é—¨ï¼ˆä¸­æ–‡ç‰ˆï¼‰</a></p><p><a href="https://www.cnblogs.com/hider/p/11614688.html">Typoraå…¥é—¨ï¼šå…¨ç½‘æœ€å…¨æ•™ç¨‹</a></p>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
